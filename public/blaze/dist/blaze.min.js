var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Blaze;!function(t){var e;!function(t){function e(t){for(var e=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=0;r<i.length;++r){try{e=t.getContext(i[r])}catch(n){}if(e)break}return null===e?(alert("Could not initialise WebGL"),null):(e.viewportWidth=t.width,e.viewportHeight=t.height,e)}function i(e,i,r,n){var o=e.createBuffer();switch(e.bindBuffer(e.ARRAY_BUFFER,o),n){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ARRAY_BUFFER,null),r?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function r(e,i,r){var n=e.createBuffer(e.ELEMENT_ARRAY_BUFFER);switch(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),r){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),n.itemSize=1,n.numItems=i.length,n}function n(t,e){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),i}function o(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)}function a(t,e){var i=o(t,t.FRAGMENT_SHADER,e.fragment),r=o(t,t.VERTEX_SHADER,e.vertex),n=t.createProgram();return t.attachShader(n,r),t.attachShader(n,i),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||console.log(t.getProgramInfoLog(n)),t.useProgram(n),n}t.getGLContext=e,function(t){t[t.STATIC=0]="STATIC",t[t.STREAM=1]="STREAM",t[t.DYNAMIC=2]="DYNAMIC"}(t.BUFFER_DRAW||(t.BUFFER_DRAW={}));t.BUFFER_DRAW;t.createBuffer=i,t.createIndexBuffer=r,t.createTexture=n,t.createShader=o,t.createProgram=a}(e=t.WebGLUtils||(t.WebGLUtils={}));var i;!function(t){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(t){var i=e()+e();return t?t+i:i}function r(t){return t.map(function(t){return Number.isNaN(t)&&(t=0),t})}function n(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",function(){e(i.responseText)}),i.send()}function o(t){var e=t.split(".");return e[e.length-1]}function a(){return(new Date).getTime()}function s(t){return t*Math.PI/180}function u(t,e){for(var i=0,r=1,n=2,o=[],a=0;a<t.length;a++)o[a]=0;for(var a=0;a<e.length;a+=3){var s=[],u=[],f=[];s[i]=t[3*e[a+1]+i]-t[3*e[a]+i],s[r]=t[3*e[a+1]+r]-t[3*e[a]+r],s[n]=t[3*e[a+1]+n]-t[3*e[a]+n],u[i]=t[3*e[a+2]+i]-t[3*e[a+1]+i],u[r]=t[3*e[a+2]+r]-t[3*e[a+1]+r],u[n]=t[3*e[a+2]+n]-t[3*e[a+1]+n],f[i]=s[r]*u[n]-s[n]*u[r],f[r]=s[n]*u[i]-s[i]*u[n],f[n]=s[i]*u[r]-s[r]*u[i];for(var c=0;3>c;c++)o[3*e[a+c]+i]=o[3*e[a+c]+i]+f[i],o[3*e[a+c]+r]=o[3*e[a+c]+r]+f[r],o[3*e[a+c]+n]=o[3*e[a+c]+n]+f[n]}for(var a=0;a<t.length;a+=3){var l=[];l[i]=o[a+i],l[r]=o[a+r],l[n]=o[a+n];var h=Math.sqrt(l[i]*l[i]+l[r]*l[r]+l[n]*l[n]);0==h&&(h=1e-5),l[i]=l[i]/h,l[r]=l[r]/h,l[n]=l[n]/h,o[a+i]=l[i],o[a+r]=l[r],o[a+n]=l[n]}return o}t.s4=e,t.uuid=i,t.normalizeNaN=r,t.load=n,t.getExtension=o,t.nowInMilliseconds=a,t.degToRad=s,t.calculateNormals=u}(i=t.utils||(t.utils={})),function(t){t[t.ORBITING=0]="ORBITING",t[t.TRACKING=1]="TRACKING"}(t.CAMERA_TYPE||(t.CAMERA_TYPE={}));var r=t.CAMERA_TYPE,n=function(){function t(){}return t.setCanvasToContext=function(i,r){var n=e.getGLContext(r);t.setContext(i,n)},t.setContext=function(e,i){t._views[e].context=i},t.getContext=function(e){return t._views[e].context},t.createProgram=function(i,r){var n=t.getContext(i),o=e.createProgram(n,r);t.setProgram(i,o)},t.setProgram=function(e,i){t._views[e].program=i},t.getProgram=function(e){return t._views[e].program},t.createView=function(e){t._views[e]={}},t.setAttributeLocations=function(e,i){var r=t._views[e],n=r.context,o=r.program;r.attribs=i.reduce(function(t,e){return t[e]=n.getAttribLocation(o,e),t},{})},t.getAttrib=function(e,i){return t._views[e].attribs[i]},t.getUniform=function(e,i){return t._views[e].uniforms[i]},t.setUniformLocations=function(e,i){var r=t._views[e],n=r.context,o=r.program;r.uniforms=i.reduce(function(t,e){return t[e]=n.getUniformLocation(o,e),t},{})},t.enableAttrib=function(e,i,r){var n=t.getAttrib(e,i),o=t.getContext(e);o.enableVertexAttribArray(n),r?o.vertexAttribPointer(n,r.size||3,o.FLOAT,r.normalized||!1,r.stride||0,r.offset||0):o.vertexAttribPointer(n,3,o.FLOAT,!1,0,0)},t.disableAttrib=function(e,i){var r=t.getAttrib(e,i),n=t.getContext(e);n.disableVertexAttribArray(r)},t.renderLoop=function(t){setInterval(t,30)},t.addTexture=function(e,i){var r=t._views[e];r.textures=r.textures||[],r.textures.push(i)},t.removeTexture=function(e,i){var r=t._views[e];r.textures=r.textures||[];var n=r.textures.indexOf(i);r.textures.splice(n,1),console.log(r.textures)},t.activeTexture=function(e,i,r){var n=t._views[e],o=n.context,a=(n.program,n.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,r);var s=t.getUniform(e,"uSampler");o.uniform1i(s,a)}},t.isOffScreen=function(e){return t._views[e].offscreen},t.enableOffScreen=function(e){t._views[e].offscreen=!0},t.disableOffScreen=function(e){t._views[e].offscreen=!0},t.fillSelectorBuffer=function(e,i){var r=t._views[e];r.selectObjects=r.selectObjects||[],r.selectObjects.push(i)},t.clearSelectorBuffer=function(e){var i=t._views[e];i.selectObjects=[]},t.getSelectByColor=function(e,i){var r=t._views[e];return r.selectObjects=r.selectObjects||[],_.find(r.selectObjects,function(t){return _.isEqual(t.color,i)})},t._views={},t}();t.Ketch=n;var o=function(){function t(t){this._graph_id=t}return Object.defineProperty(t.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return n.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"program",{get:function(){return n.getProgram(this.graphID)},enumerable:!0,configurable:!0}),t.prototype.getUniform=function(t){return n.getUniform(this.graphID,t)},t}();t.Renderable=o;var a=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.beginDraw=function(t){},e.prototype.endDraw=function(t){},e}(o);t.Entity=a;var s=function(t){function e(e){t.call(this,e),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(e,t),e.prototype.push=function(){var t=mat4.create();mat4.set(this._mvMatrix,t),this._stack.push(t)},e.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},e.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(e.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._camera=t},enumerable:!0,configurable:!0}),e.prototype.Perspective=function(){var t=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,t.viewportWidth/t.viewportHeight,.1,1e3,this._pMatrix)},e.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},e.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},e.prototype.setUp=function(){var t=this.gl;this.Normal();var e=this.getUniform("uMVMatrix");e&&t.uniformMatrix4fv(e,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&t.uniformMatrix4fv(i,!1,this._pMatrix);var r=this.getUniform("uNMatrix");r&&t.uniformMatrix4fv(r,!1,this._nMatrix)},e}(o);t.MatrixStack=s;var u;!function(t){var r=function(t){function r(e){t.call(this,e)}return __extends(r,t),Object.defineProperty(r.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"src",{set:function(t){var e=this,r=this,n=i.getExtension(t);i.load(t,function(t){var i;switch(n){case"obj":i=r.parseOBJ(t);break;case"json":i=r.parseJSON(t)}r.createBuffers(i),e._onload&&e._onload()})},enumerable:!0,configurable:!0}),r.prototype.parseJSON=function(t){var e={};try{e=JSON.parse(t)}catch(i){console.log(i)}return e},r.prototype.parseOBJ=function(t){var e={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=t.split("\n"),r=i.filter(function(t){return"v"===t[0]}),n=i.filter(function(t){return"f"===t[0]});r.forEach(function(t){var i=t.replace("\r","").split(" "),r=i[0];e[r]=e[r].concat(i.slice(1).filter(function(t){return""!==t}))});var o=[];return n.forEach(function(t){var e=t.replace("\r","").replace("f","").split(" ");o=o.concat(e.slice(1).filter(function(t){return""!==t}))}),o.forEach(function(t){var i=t.split("/");e.iv.push(parseInt(i[0])-1),e["in"].push(parseInt(i[1])-1),e.it.push(parseInt(i[2])-1)}),e},r.prototype.createBuffers=function(t){function r(t){return e.createBuffer(o,t)}function n(t){return e.createIndexBuffer(o,t)}var o=this.gl;_.defaults(t,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),t.v.length>0&&(this._vbo=r(t.v)),t.v.length>0&&t.iv.length>0&&(this._nbo=r(i.calculateNormals(t.v,t.iv))),t.vt.length>0&&(this._tbo=e.createBuffer(o,t.vt,!0)),t.iv.length>0&&(this._ivbo=n(t.iv)),t["in"].length>0&&(this._inbo=n(t["in"])),t.it.length>0&&(this._itbo=n(t.it))},Object.defineProperty(r.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),r}(o);t.MeshBuffers=r;var a=function(t){function r(e){t.call(this,e),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(r,t),Object.defineProperty(r.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"src",{set:function(t){this._image.onload=this.loadTextureImage(this._onload),this._image.src=t},enumerable:!0,configurable:!0}),r.prototype.loadTextureImage=function(t){var i=this,r=this;return function(){i._texture=e.createTexture(r.gl,r._image),n.addTexture(r.graphID,r._oid),t&&t()}},Object.defineProperty(r.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),r}(o);t.MeshTexture=a;var s=function(t){function e(e,i,r,n,o){t.call(this,e),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=r?vec4.create(r):void 0,this._specular=n?vec4.create(n):vec4.create(),this._shininess=o||200}return __extends(e,t),Object.defineProperty(e.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{set:function(t){var e=this,r=this;i.load(t,function(t){var i=r.parse(t);e._ambient=i.Ka,e._diffuse=i.Kd,e._specular=i.Ks,e.shininess=i.Ns,e._onload&&e._onload()})},enumerable:!0,configurable:!0}),e.prototype.parse=function(t){var e={},i=["Ka","Kd","Ks","Ns"],r=t.split("\n");return r.forEach(function(t){var r=t.split(" "),n=r[0];if(i.indexOf(n)>-1)switch(n){case"Ns":e.Ns=Number(r[1]);break;default:var o=r.slice(1).map(function(t){return Number(t)});o.push(1),e[n]=o}}),e},Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shininess",{get:function(){return this._shininess},set:function(t){this._shininess=t},enumerable:!0,configurable:!0}),e}(o);t.MeshMaterial=s}(u=t.Resources||(t.Resources={}));var f;!function(t){var e=function(){function t(){}return t.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform bool uWireframe;\n\nuniform sampler2D uSampler;\n\nvarying vec4 vColor;\n\n\nbool isBlack(vec4 color){\nreturn color.r==0.0 &&color.g==0.0&&color.b==0.0;\n}\nvoid main(void) { \n     if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n    gl_FragColor = texture2D(uSampler, gl_PointCoord);\n    if(gl_FragColor.a < 0.5 || isBlack(gl_FragColor)) discard;\n    }\n}",t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",t}();t.Fragment=e;var i=function(){function t(){}return t.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec3 a_position;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform float uPointSize;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec4 vColor;\n\nvoid main(void) {\n\n if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }\n    \n    gl_Position = uPMatrix * uMVMatrix * vec4(a_position.xyz, 1.0);\n    gl_PointSize = uPointSize;\n}",t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",t}();t.Vertex=i}(f=t.Shaders||(t.Shaders={}));var c=function(t){function e(e,i,r,n){t.call(this,e),this._frequency=i,this._interval_id=null,this._callback=n}return __extends(e,t),e.prototype.onFrame=function(){if(e.ElapseTime=i.nowInMilliseconds(),!(e.ElapseTime<5)){for(var t=Math.floor(e.ElapseTime/this._frequency);t>0&&e.Count!=this._times;)this._callback(),t--,e.Count++;e.Count===this._times&&this.stop()}},e.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},e.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},e.prototype.beginDraw=function(){},e.prototype.endDraw=function(){},e.Count=0,e}(a);t.AnimationEntity=c;var l=function(t){function e(e,i,r,n){t.call(this,e),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=r||null,this._texturefile=n||null}return __extends(e,t),e.prototype.loadBuffers=function(t,e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=e,this._buffers.src=t},e.prototype.loadTexture=function(t,e){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=e,this._texture.src=t},Object.defineProperty(e.prototype,"material",{set:function(t){this._material=t},enumerable:!0,configurable:!0}),e.prototype.loadMaterial=function(t,e){this._material=new u.MeshMaterial(this.graphID),this._material.onload=e,this._material.src=t},e.prototype.loadMesh=function(t){var e=this,i=this;async.waterfall([function(t){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),t()})):t()},function(t){return e._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),t()})):t()},function(t){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),t()})):t()}],function(e){return e?console.log(e):void(t&&t())})},e.prototype.loadMeshByObject=function(t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(t)},e.prototype.loadMaterialByObject=function(t){this._material=new u.MeshMaterial(this.graphID),t.ambient&&(this._material.ambient=t.ambient),t.specular&&(this._material.specular=t.specular),t.diffuse&&(this._material.diffuse=t.diffuse),t.shininess&&(this._material.shininess=t.shininess)},e.prototype.setMaterialUniforms=function(){if(this._material){var t=this.gl;if(this._material.ambient){var e=this.getUniform("uMaterialAmbient");e&&t.uniform4fv(e,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var r=this.getUniform("uMaterialSpecular");r&&t.uniform4fv(r,this._material.specular)}if(this._material.shininess){var n=this.getUniform("uShininess");n&&t.uniform1f(n,this._material.shininess)}}},e.prototype.beginDraw=function(){var t=this.gl;this.setMaterialUniforms(),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.vbo),n.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.nbo),n.enableAttrib(this.graphID,"a_normal");var e=this._buffers.ivbo;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.drawElements(t.TRIANGLES,e.numItems,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl;n.disableAttrib(this.graphID,"a_position"),n.disableAttrib(this.graphID,"a_normal"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.MeshEntity=l;var h=function(t){function e(e,i,r,n){t.call(this,e),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=r||vec3.create([1,1,1]),this._rotation=n||{angle:0,axis:vec3.create()}}return __extends(e,t),e.prototype.identity=function(){mat4.identity(this._matrix)},e.prototype.setMatrix=function(t){this._matrix=t},e.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),e.prototype.setAbsolutePosition=function(t,e,i){this._position=[t,e,i]},e.prototype.translate=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._position,n=vec3.create([t,e,i]);vec3.add(r,n,this._position)},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),e.prototype.setSize=function(t,e,i){this._size=[t,e,i]},e.prototype.scale=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._size,n=vec3.create([t,e,i]);vec3.add(r,n,this._size)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t},enumerable:!0,configurable:!0}),e.prototype.setRotation=function(t,e){t&&(this._rotation.angle=t),e&&(this._rotation.axis=e)},e.prototype.setAngle=function(t){this._rotation.angle=t},e.prototype.setAxis=function(t){this._rotation.axis=t},e.prototype.rotateAngle=function(t){void 0===t&&(t=0),this._rotation.angle+=t},e.prototype.moveAxis=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._rotation.axis,n=vec3.create([t,e,i]);vec3.add(r,n,this._rotation.axis)},e.prototype.beginDraw=function(t){if(t.push(),t.ModelView(),this._matrix=t.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var e=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,e,this._rotation.axis)}t.setUp()},e.prototype.endDraw=function(t){t.pop()},e}(a);t.TransformEntity=h;var p=function(t){function e(e,i,r,n,o,a,s){t.call(this,e),this._ambient=i?vec4.create(i):null,this._diffuse=r?vec4.create(r):null,this._position=n?vec4.create(n):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(e,t),Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._diffuse},set:function(t){this._position=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutOff",{get:function(){return this._cutoff},set:function(t){this._cutoff=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl;if(this._ambient){var e=this.getUniform("uLightAmbient");e&&t.uniform4fv(e,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&t.uniform4fv(i,this._diffuse)}if(this._specular){var r=this.getUniform("uLightSpecular");r&&t.uniform4fv(r,this._specular)}if(this._position){var n=this.getUniform("uLightPosition");n&&t.uniform3fv(n,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&t.uniform3fv(o,this._direction)}},e.prototype.endDraw=function(){},e}(a);t.LightEntity=p;var d=function(t){function e(e,i){t.call(this,e),this._value=i}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uMaterialDiffuse");e&&t.uniform4fv(e,this._value)},e.prototype.endDraw=function(){},e}(a);t.DiffuseEntity=d;var m=function(t){function r(e,i){t.call(this,e),this._pointSize=i||1,this._buffer=null,this._texture_id=""}return __extends(r,t),r.prototype.configure=function(t,r){var o=this.gl;this._buffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this._numItems=t.length,this._texture_id=i.uuid("Texture"),this._texture=e.createTexture(o,r),n.addTexture(this.graphID,this._texture_id)},r.prototype.update=function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this._buffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._numItems=t.length},Object.defineProperty(r.prototype,"textureID",{get:function(){return this._texture_id},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pointSize",{set:function(t){this._pointSize=t},enumerable:!0,configurable:!0}),r.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uPointSize");e&&t.uniform1f(e,this._pointSize),t.bindBuffer(t.ARRAY_BUFFER,this._buffer),n.enableAttrib(this.graphID,"a_position"),n.activeTexture(this.graphID,this._texture_id,this._texture),t.drawArrays(t.POINTS,0,this._numItems/3)},r.prototype.endDraw=function(){var t=this.gl;n.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null)},r}(a);t.ParticleEntity=m;var b=function(t){function e(e,i){t.call(this,e),this._type=i||r.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(e,t),Object.defineProperty(e.prototype,"type",{set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"azimuth",{get:function(){return this._azimuth},set:function(t){var e=t-this._azimuth;this.changeAzimuth(e)},enumerable:!0,configurable:!0}),e.prototype.changeAzimuth=function(t){this._azimuth+=t,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(e.prototype,"elevation",{get:function(){return this._elevation},set:function(t){var e=t-this._elevation;this.changeElevation(e)},enumerable:!0,configurable:!0}),e.prototype.changeElevation=function(t){this._elevation+=t,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(e.prototype,"zoom",{get:function(){return this._steps},set:function(t){var e=vec3.create(),i=vec3.create();e=this.position;var n=t-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===r.TRACKING?(o[0]=e[0]-n*i[0],o[1]=e[1]-n*i[1],o[2]=e[2]-n*i[2]):(o[0]=e[0],o[1]=e[1],o[2]=e[2]-n),this.position=o,this._steps=t},enumerable:!0,configurable:!0}),e.prototype.calculateOrientation=function(){var t=this._cmatrix;mat4.multiplyVec4(t,[1,0,0,0],this._right),mat4.multiplyVec4(t,[0,1,0,0],this._up),mat4.multiplyVec4(t,[0,0,1,0],this._normal)},e.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===r.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===r.TRACKING&&mat4.multiplyVec4(this._cmatrix,[0,0,0,1],this._position)},Object.defineProperty(e.prototype,"modelView",{get:function(){var t=mat4.create();return mat4.inverse(this._cmatrix,t),t},enumerable:!0,configurable:!0}),e.prototype.endDraw=function(){},e}(a);t.CameraEntity=b;var v=function(t){function e(e,i){t.call(this,e),i=i||100,this._vertices=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],this._indices=[0,1,2,3,4,5],this._colors=[1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1]}return __extends(e,t),e.prototype.init=function(){var t=this.gl;this._vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._vertices),t.STATIC_DRAW),this._ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),t.STATIC_DRAW),this._cbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._cbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._colors),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!0);var i=this.getUniform("uPerVertexColor");i&&t.uniform1i(i,!0),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),n.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._cbo),n.enableAttrib(this.graphID,"a_color",{size:4}),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.drawElements(t.LINES,this._indices.length,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!1);var i=this.getUniform("uPerVertexColor");i&&t.uniform1i(i,!1),n.disableAttrib(this.graphID,"a_position"),n.disableAttrib(this.graphID,"a_color"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.AxisEntity=v;var g=function(t){function e(e,i,r){t.call(this,e),this._dimesions={dim:i||50,lines:r||50}}return __extends(e,t),e.prototype.init=function(){var t=this.gl;this.build(),this._vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._vertices),t.STATIC_DRAW),this._ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e.prototype.build=function(){for(var t=2*this._dimesions.dim/this._dimesions.lines,e=[],i=[],r=0;r<=this._dimesions.lines;r++)e[6*r]=-this._dimesions.dim,e[6*r+1]=-.5,e[6*r+2]=-this._dimesions.dim+r*t,e[6*r+3]=this._dimesions.dim,e[6*r+4]=-.5,e[6*r+5]=-this._dimesions.dim+r*t,e[6*(this._dimesions.lines+1)+6*r]=-this._dimesions.dim+r*t,e[6*(this._dimesions.lines+1)+6*r+1]=-.5,e[6*(this._dimesions.lines+1)+6*r+2]=-this._dimesions.dim,e[6*(this._dimesions.lines+1)+6*r+3]=-this._dimesions.dim+r*t,e[6*(this._dimesions.lines+1)+6*r+4]=-.5,e[6*(this._dimesions.lines+1)+6*r+5]=this._dimesions.dim,i[2*r]=2*r,i[2*r+1]=2*r+1,i[2*(this._dimesions.lines+1)+2*r]=2*(this._dimesions.lines+1)+2*r,i[2*(this._dimesions.lines+1)+2*r+1]=2*(this._dimesions.lines+1)+2*r+1;this._vertices=e,this._indices=i},e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!0);var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,[.7,.7,.7,1]),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),n.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.drawElements(t.LINES,this._indices.length,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!1),n.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.GridEntity=g;var y=function(t){function e(e,i){t.call(this,e),
this._color=this.generateUniqueColor(),this._data=i}return __extends(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),e.prototype.generateUniqueColor=function(){for(var t,e=function(t){return void 0!=n.getSelectByColor(this.graphID,t)}.bind(this),i=!0;i;)t=[Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),1],i=e(t);return t},e.prototype.beginDraw=function(){if(n.isOffScreen(this.graphID)){var t=this.gl,e=this.getUniform("uSelectColor");e&&t.uniform4fv(e,this._color)}},e.prototype.endDraw=function(){},e}(a);t.SelectEntity=y;var R=function(t){function e(e,i){t.call(this,e),this._dimensions=i,this._framebuffer=null,this._renderbuffer=null,this._texture=null,this.configure()}return __extends(e,t),e.prototype.configure=function(){var t=this.gl;this._texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this._texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this._dimensions.width,this._dimensions.height,0,t.RGBA,t.UNSIGNED_BYTE,null),this._renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this._renderbuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this._dimensions.width,this._dimensions.height),this._framebuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._texture,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this._renderbuffer),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null)},e.prototype.fill=function(t){n.fillSelectorBuffer(this.graphID,t)},e.prototype.clear=function(){n.clearSelectorBuffer(this.graphID)},e.prototype.find=function(t){var e=this.gl,i=new Uint8Array(4);e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.readPixels(t.x,t.y,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.bindFramebuffer(e.FRAMEBUFFER,null);var r=[].slice.call(i).map(function(t){return parseFloat((t/255).toFixed(2))});return n.getSelectByColor(this.graphID,r)},e.prototype.render=function(t){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer);var i=this.getUniform("uOffscreen");e.uniform1i(i,!0),n.enableOffScreen(this.graphID),t(),e.uniform1i(i,!1),n.disableOffScreen(this.graphID),e.bindFramebuffer(e.FRAMEBUFFER,null)},e}(o);t.Selector=R;var E=function(){function t(t,e,r){this._parentNode=t,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=e,this._oid=i.uuid(this._type||this.constructor.name),this._entity=r}return Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"entity",{get:function(){return this._entity},set:function(t){this._entity=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),t.prototype.addChildNode=function(t){this._childNodes.push(t)},t.prototype.removeChildNode=function(t){var e=this.indexOf(t);e>-1&&this._childNodes.splice(e,1)},t.prototype.getChildNodeByIndex=function(t){return this._childNodes[t]||void 0},t.prototype.existsChildNode=function(t){return void 0!==this._childNodes[t]},t.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},t.prototype.createChildNode=function(e,i){return new t(this,e,i)},t.prototype.isRoot=function(){return void 0===this._parentNode},t.prototype.indexOf=function(t){var e=t.oid;return _.findIndex(this._childNodes,function(t){return t.oid===e})},t.prototype.indexInParent=function(){var t=-1;return this.isRoot()||(t=this._parentNode.indexOf(this)),t},t.prototype.hasSibling=function(t){var e=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(t?this._parentNode.getChildNodeByIndex(i-1)&&(e=!0):this._parentNode.getChildNodeByIndex(i+1)&&(e=!0))}return e},t.prototype.nextSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling()){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e+1)}return t},t.prototype.previousSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling(!0)){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e-1)}return t},t.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},t.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},t.prototype.removeChildNodes=function(){this._childNodes=[]},t.prototype.draw=function(t){this._entity&&this._entity.beginDraw(t);for(var e=0;e<this._childNodes.length;e++){var i=this._childNodes[e];i.draw(t)}this._entity&&this._entity.endDraw(t)},t}();t.NodeElement=E;var A=function(t){function e(){var e=i.uuid();t.call(this,e),this._oid=e,this._scene=new E(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],n.createView(this._oid),this._selector=null}return __extends(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype.Environment=function(t){var e=this.gl;t=t||[],e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.clearColor(t[0]||0,t[1]||0,t[2]||0,1),e.clearDepth(1)},e.prototype.render=function(){var t=this.gl;t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var e=function(){this._scene.draw(this._matrixStack)}.bind(this);this._selector&&this._selector.render(e),e()},e.prototype.createMainChildNode=function(t,e){return this._scene.createChildNode(t,e)},e.prototype.removeMainChildNode=function(t){this._scene.removeChildNode(t)},Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),e.prototype.setContext=function(t){n.setCanvasToContext(this.oid,t)},e.prototype.Program=function(t){t=t||"Phong",n.createProgram(this._oid,{fragment:f.Fragment[t],vertex:f.Vertex[t]})},e.prototype.createMesh=function(t){var e=new l(this.oid);return t.mesh&&e.loadMeshByObject(t.mesh),t.material&&e.loadMaterialByObject(t.material),e},e.prototype.createDiffuse=function(t){return new d(this.oid,t)},e.prototype.createMeshByLoader=function(t){var e=new l(this.oid,t.mesh,t.material,t.texture);return this._loaderBuffer.push(e),e},e.prototype.createTransform=function(t,e,i){return new h(this.oid,t,e,i)},e.prototype.createLight=function(t){return new p(this.oid,t.ambient,t.diffuse,t.position,t.specular,t.direction,t.cutoff)},e.prototype.createCamera=function(t){return new b(this.oid,t)},e.prototype.createParticle=function(t){return new m(this.oid,t)},e.prototype.createAxis=function(t){return new v(this.oid,t)},e.prototype.createGrid=function(t,e){return new g(this.oid,t,e)},e.prototype.createSelect=function(t){return new y(this.oid,t)},e.prototype.createSelector=function(t){this._selector=new R(this.oid,t)},e.prototype.fillSelector=function(t){this._selector&&this._selector.fill(t)},e.prototype.clearSelector=function(t){this._selector&&this._selector.clear()},e.prototype.select=function(t){return this._selector?this._selector.find(t):void 0},Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._matrixStack.MainCamera=t},enumerable:!0,configurable:!0}),e.prototype.removeTexture=function(t){n.removeTexture(this.oid,t)},e.prototype.startLoader=function(t){async.eachSeries(this._loaderBuffer,function(t,e){t.loadMesh(function(){console.log(t),e()})},t)},e.prototype.configure=function(t){var i=this;t=t||{},i.Environment(t.background),i.Program(t.typeShader),n.setAttributeLocations(i._oid,e.ATTRIBUTES),n.setUniformLocations(i._oid,e.UNIFORMS),this._matrixStack.init()},e.prototype.configureWithLoader=function(t){var e=this;e.configure(),e.startLoader(t)},e.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightDirection","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uPointSize","uSampler","uWireframe","uPerVertexColor","uSelectColor","uOffscreen"],e.ATTRIBUTES=["a_position","a_normal","a_color"],e}(o);t.SceneGraph=A}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiY3JlYXRlU2hhZGVyIiwidHlwZSIsInNoYWRlclNvdXJjZSIsInNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiY3JlYXRlUHJvZ3JhbSIsInNoYWRlcnMiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImZyYWdtZW50IiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsInZlcnRleCIsInByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwidXNlUHJvZ3JhbSIsInV0aWxzIiwiczQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInV1aWQiLCJuYW1lIiwiaWQiLCJub3JtYWxpemVOYU4iLCJ2ZWMiLCJtYXAiLCJhIiwiTnVtYmVyIiwiaXNOYU4iLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJnZXRFeHRlbnNpb24iLCJzdHIiLCJlbGVtcyIsInNwbGl0Iiwibm93SW5NaWxsaXNlY29uZHMiLCJEYXRlIiwiZ2V0VGltZSIsImRlZ1RvUmFkIiwiUEkiLCJjYWxjdWxhdGVOb3JtYWxzIiwidnMiLCJpbmQiLCJ4IiwieSIsInoiLCJucyIsInYxIiwidjIiLCJub3JtYWwiLCJqIiwibm4iLCJsZW4iLCJzcXJ0IiwiQ0FNRVJBX1RZUEUiLCJLZXRjaCIsInNldENhbnZhc1RvQ29udGV4dCIsImtleSIsImNvbnRleHQiLCJzZXRDb250ZXh0IiwiX3ZpZXdzIiwic2V0UHJvZ3JhbSIsImdldFByb2dyYW0iLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsInZpZXciLCJwcmciLCJhdHRyaWJzIiwicmVkdWNlIiwicHJldiIsImF0dHIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImdldEF0dHJpYiIsInZpZXdfa2V5IiwiYXR0cl9rZXkiLCJnZXRVbmlmb3JtIiwidW5pZm9ybV9rZXkiLCJ1bmlmb3JtcyIsInNldFVuaWZvcm1Mb2NhdGlvbnMiLCJ1bmlmb3JtX25hbWVzIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZW5hYmxlQXR0cmliIiwicG9pbnRlciIsImluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwic2l6ZSIsIkZMT0FUIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIm9mZnNldCIsImRpc2FibGVBdHRyaWIiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJyZW5kZXJMb29wIiwiY2IiLCJzZXRJbnRlcnZhbCIsImFkZFRleHR1cmUiLCJ0ZXh0dXJlX2lkIiwidGV4dHVyZXMiLCJwdXNoIiwicmVtb3ZlVGV4dHVyZSIsImluZGV4T2YiLCJzcGxpY2UiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1U2FtcGxlciIsInVuaWZvcm0xaSIsImlzT2ZmU2NyZWVuIiwib2Zmc2NyZWVuIiwiZW5hYmxlT2ZmU2NyZWVuIiwiZGlzYWJsZU9mZlNjcmVlbiIsImZpbGxTZWxlY3RvckJ1ZmZlciIsIm9iaiIsInNlbGVjdE9iamVjdHMiLCJjbGVhclNlbGVjdG9yQnVmZmVyIiwiZ2V0U2VsZWN0QnlDb2xvciIsImNvbG9yIiwiXyIsImZpbmQiLCJvIiwiaXNFcXVhbCIsIlJlbmRlcmFibGUiLCJncmFwaF9pZCIsIl9ncmFwaF9pZCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdyYXBoSUQiLCJFbnRpdHkiLCJfc3VwZXIiLCJjYWxsIiwiYmVnaW5EcmF3IiwibWF0cml4U3RhY2siLCJlbmREcmF3IiwiTWF0cml4U3RhY2siLCJfc3RhY2siLCJfbXZNYXRyaXgiLCJtYXQ0IiwiX3BNYXRyaXgiLCJfbk1hdHJpeCIsImNvcHkiLCJzZXQiLCJwb3AiLCJNb2RlbFZpZXciLCJfY2FtZXJhIiwibW9kZWxWaWV3IiwiaWRlbnRpdHkiLCJjYW1lcmEiLCJQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwiTm9ybWFsIiwiaW52ZXJzZSIsInRyYW5zcG9zZSIsImluaXQiLCJzZXRVcCIsIm12TWF0cml4IiwidW5pZm9ybU1hdHJpeDRmdiIsInBNYXRyaXgiLCJuTWF0cml4IiwiUmVzb3VyY2VzIiwiTWVzaEJ1ZmZlcnMiLCJfb25sb2FkIiwic3JjIiwiX3RoaXMiLCJzZWxmIiwiZXh0IiwicGFyc2VPQkoiLCJwYXJzZUpTT04iLCJjcmVhdGVCdWZmZXJzIiwiSlNPTiIsInBhcnNlIiwidiIsInZuIiwidnQiLCJpdiIsImluIiwiaXQiLCJsaW5lcyIsImZpbHRlciIsImZvckVhY2giLCJpdGVtIiwicmVwbGFjZSIsImNvbmNhdCIsInNsaWNlIiwidGVtcEluZGV4IiwicGFyc2VJbnQiLCJkZWZhdWx0cyIsIl92Ym8iLCJfbmJvIiwiX3RibyIsIl9pdmJvIiwiX2luYm8iLCJfaXRibyIsIk1lc2hUZXh0dXJlIiwiX2ltYWdlIiwiSW1hZ2UiLCJfb2lkIiwiZmlsZW5hbWUiLCJvbmxvYWQiLCJsb2FkVGV4dHVyZUltYWdlIiwiX3RleHR1cmUiLCJNZXNoTWF0ZXJpYWwiLCJhbWJpZW50IiwiZGlmZnVzZSIsInNwZWN1bGFyIiwic2hpbmluZXNzIiwiX2FtYmllbnQiLCJ2ZWM0IiwiX2RpZmZ1c2UiLCJfc3BlY3VsYXIiLCJfc2hpbmluZXNzIiwidGVtcCIsIkthIiwiS2QiLCJLcyIsIk5zIiwia2V5cyIsImxpbmUiLCJTaGFkZXJzIiwiRnJhZ21lbnQiLCJQYXJ0aWNsZSIsIlBob25nIiwiVmVydGV4IiwiQW5pbWF0aW9uRW50aXR5IiwiZnJlcXVlbmN5IiwidGltZXMiLCJfZnJlcXVlbmN5IiwiX2ludGVydmFsX2lkIiwiX2NhbGxiYWNrIiwib25GcmFtZSIsIkVsYXBzZVRpbWUiLCJzdGVwcyIsIkNvdW50IiwiX3RpbWVzIiwic3RvcCIsInN0YXJ0IiwiX2ludGltZSIsImNsZWFySW50ZXJ2YWwiLCJNZXNoRW50aXR5IiwibWVzaGZpbGUiLCJtYXRlcmlhbGZpbGUiLCJ0ZXh0dXJlZmlsZSIsIl9tYXRlcmlhbCIsIl9idWZmZXJzIiwiX21lc2hmaWxlIiwiX21hdGVyaWFsZmlsZSIsIl90ZXh0dXJlZmlsZSIsImxvYWRCdWZmZXJzIiwibG9hZFRleHR1cmUiLCJsb2FkTWF0ZXJpYWwiLCJsb2FkTWVzaCIsImFzeW5jIiwid2F0ZXJmYWxsIiwibmV4dCIsImVyciIsImxvYWRNZXNoQnlPYmplY3QiLCJsb2FkTWF0ZXJpYWxCeU9iamVjdCIsInNldE1hdGVyaWFsVW5pZm9ybXMiLCJ1TWF0ZXJpYWxBbWJpZW50IiwidW5pZm9ybTRmdiIsInVNYXRlcmlhbERpZmZ1c2UiLCJ1TWF0ZXJpYWxTcGVjdWxhciIsInVTaGluaW5lc3MiLCJ1bmlmb3JtMWYiLCJ2Ym8iLCJuYm8iLCJpdmJvIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwiVU5TSUdORURfU0hPUlQiLCJUcmFuc2Zvcm1FbnRpdHkiLCJwb3NpdGlvbiIsInJvdGF0aW9uIiwiX21hdHJpeCIsIl9wb3NpdGlvbiIsInZlYzMiLCJfc2l6ZSIsIl9yb3RhdGlvbiIsImFuZ2xlIiwiYXhpcyIsInNldE1hdHJpeCIsIm5ld19tYXRyaXgiLCJzZXRBYnNvbHV0ZVBvc2l0aW9uIiwidHJhbnNsYXRlIiwib3BlcmFuZDEiLCJvcGVyYW5kMiIsImFkZCIsInNldFNpemUiLCJzY2FsZSIsInNldFJvdGF0aW9uIiwic2V0QW5nbGUiLCJzZXRBeGlzIiwicm90YXRlQW5nbGUiLCJtb3ZlQXhpcyIsInJhZCIsInJvdGF0ZSIsIkxpZ2h0RW50aXR5IiwiZGlyZWN0aW9uIiwiY3V0b2ZmIiwiX2RpcmVjdGlvbiIsIl9jdXRvZmYiLCJ1TGlnaHRBbWJpZW50IiwidUxpZ2h0RGlmZnVzZSIsInVMaWdodFNwZWN1bGFyIiwidUxpZ2h0UG9zaXRpb24iLCJ1bmlmb3JtM2Z2IiwidURpcmVjdGlvbiIsIkRpZmZ1c2VFbnRpdHkiLCJfdmFsdWUiLCJQYXJ0aWNsZUVudGl0eSIsInBvaW50U2l6ZSIsIl9wb2ludFNpemUiLCJfYnVmZmVyIiwiX3RleHR1cmVfaWQiLCJjb25maWd1cmUiLCJkYXRhX21lc2giLCJkYXRhX3RleHR1cmUiLCJfbnVtSXRlbXMiLCJ1cGRhdGUiLCJ1UG9pbnRTaXplIiwiZHJhd0FycmF5cyIsIlBPSU5UUyIsIkNhbWVyYUVudGl0eSIsIl90eXBlIiwiT1JCSVRJTkciLCJfY21hdHJpeCIsIl91cCIsIl9yaWdodCIsIl9ub3JtYWwiLCJfYXppbXV0aCIsIl9lbGV2YXRpb24iLCJfc3RlcHMiLCJwb3MiLCJheiIsInRlbXBfYXoiLCJjaGFuZ2VBemltdXRoIiwiZWwiLCJ0ZW1wX2VsIiwiY2hhbmdlRWxldmF0aW9uIiwibiIsInN0ZXAiLCJub3JtYWxpemUiLCJuZXdfcG9zaXRpb24iLCJUUkFDS0lORyIsImNhbGN1bGF0ZU9yaWVudGF0aW9uIiwibSIsIm11bHRpcGx5VmVjNCIsInJvdGF0ZVkiLCJyb3RhdGVYIiwiQXhpc0VudGl0eSIsIl92ZXJ0aWNlcyIsIl9pbmRpY2VzIiwiX2NvbG9ycyIsIl9pYm8iLCJfY2JvIiwidVdpcmVmcmFtZSIsInVQZXJWZXJ0ZXhDb2xvciIsIkxJTkVTIiwiR3JpZEVudGl0eSIsIl9kaW1lc2lvbnMiLCJkaW0iLCJidWlsZCIsImluYyIsImwiLCJTZWxlY3RFbnRpdHkiLCJfY29sb3IiLCJnZW5lcmF0ZVVuaXF1ZUNvbG9yIiwiX2RhdGEiLCJjb250YWlucyIsImJpbmQiLCJmb3VuZCIsInRvRml4ZWQiLCJ1U2VsZWN0Q29sb3IiLCJTZWxlY3RvciIsImRpbWVuc2lvbnMiLCJfZGltZW5zaW9ucyIsIl9mcmFtZWJ1ZmZlciIsIl9yZW5kZXJidWZmZXIiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX0FUVEFDSE1FTlQiLCJmaWxsIiwiY2xlYXIiLCJyZWFkb3V0IiwiVWludDhBcnJheSIsInJlYWRQaXhlbHMiLCJmaXhlZCIsInBhcnNlRmxvYXQiLCJyZW5kZXIiLCJkcmF3IiwidU9mZnNjcmVlbiIsIk5vZGVFbGVtZW50IiwicGFyZW50IiwiZW50aXR5IiwiX3BhcmVudE5vZGUiLCJhZGRDaGlsZE5vZGUiLCJfY2hpbGROb2RlcyIsIl9lbnRpdHkiLCJjaGlsZCIsInJlbW92ZUNoaWxkTm9kZSIsImdldENoaWxkTm9kZUJ5SW5kZXgiLCJleGlzdHNDaGlsZE5vZGUiLCJjcmVhdGVDaGlsZE5vZGUiLCJpc1Jvb3QiLCJvaWQiLCJmaW5kSW5kZXgiLCJzIiwiaW5kZXhJblBhcmVudCIsImhhc1NpYmxpbmciLCJfaGF2ZSIsIm5leHRTaWJsaW5nIiwic2libGluZyIsInByZXZpb3VzU2libGluZyIsImZpcnN0Q2hpbGQiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZE5vZGVzIiwiU2NlbmVHcmFwaCIsIl9zY2VuZSIsIl9tYXRyaXhTdGFjayIsIl9sb2FkZXJCdWZmZXIiLCJfc2VsZWN0b3IiLCJFbnZpcm9ubWVudCIsImVuYWJsZSIsIkRFUFRIX1RFU1QiLCJkZXB0aEZ1bmMiLCJMRVFVQUwiLCJCTEVORCIsImJsZW5kRnVuYyIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJjbGVhckNvbG9yIiwiY2xlYXJEZXB0aCIsInZpZXdwb3J0IiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJjcmVhdGVNYWluQ2hpbGROb2RlIiwicmVtb3ZlTWFpbkNoaWxkTm9kZSIsIm5vZGUiLCJQcm9ncmFtIiwiY3JlYXRlTWVzaCIsImNvbmZpZyIsIm1lc2hFbnRpdHkiLCJtZXNoIiwibWF0ZXJpYWwiLCJjcmVhdGVEaWZmdXNlIiwiY3JlYXRlTWVzaEJ5TG9hZGVyIiwiY3JlYXRlVHJhbnNmb3JtIiwiY3JlYXRlTGlnaHQiLCJjcmVhdGVDYW1lcmEiLCJjcmVhdGVQYXJ0aWNsZSIsImNyZWF0ZUF4aXMiLCJjcmVhdGVHcmlkIiwiY3JlYXRlU2VsZWN0IiwiY3JlYXRlU2VsZWN0b3IiLCJmaWxsU2VsZWN0b3IiLCJjbGVhclNlbGVjdG9yIiwic2VsZWN0IiwiTWFpbkNhbWVyYSIsInN0YXJ0TG9hZGVyIiwiZWFjaFNlcmllcyIsImJhY2tncm91bmQiLCJ0eXBlU2hhZGVyIiwiQVRUUklCVVRFUyIsIlVOSUZPUk1TIiwiY29uZmlndXJlV2l0aExvYWRlciJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsV0FBYUMsTUFBUUEsS0FBS0QsV0FBYyxTQUFVRSxFQUFHQyxHQUVyRCxRQUFTQyxLQUFPSCxLQUFLSSxZQUFjSCxFQURuQyxJQUFLLEdBQUlJLEtBQUtILEdBQU9BLEVBQUVJLGVBQWVELEtBQUlKLEVBQUVJLEdBQUtILEVBQUVHLEdBRW5ESixHQUFFTSxVQUFrQixPQUFOTCxFQUFhTSxPQUFPQyxPQUFPUCxJQUFNQyxFQUFHSSxVQUFZTCxFQUFFSyxVQUFXLEdBQUlKLEtBRS9FTyxPQUNKLFNBQVdBLEdBQ1AsR0FBSUMsSUFDSixTQUFXQSxHQUNQLFFBQVNDLEdBQWFDLEdBR2xCLElBQUssR0FGREMsR0FBTSxLQUNOQyxHQUFTLFFBQVMscUJBQXNCLFlBQWEsYUFDaERDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsU0FBVUQsRUFBRyxDQUNuQyxJQUNJRixFQUFNRCxFQUFPSyxXQUFXSCxFQUFNQyxJQUVsQyxNQUFPRyxJQUNQLEdBQUlMLEVBQ0EsTUFHUixNQUFZLFFBQVJBLEdBQ0FNLE1BQU0sOEJBQ0MsT0FHUE4sRUFBSU8sY0FBZ0JSLEVBQU9TLE1BQzNCUixFQUFJUyxlQUFpQlYsRUFBT1csT0FDckJWLEdBVWYsUUFBU1csR0FBYUMsRUFBSUMsRUFBTUMsRUFBTUMsR0FDbEMsR0FBSUMsR0FBU0osRUFBR0QsY0FFaEIsUUFEQUMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY0YsR0FDdkJELEdBQ0osSUFBS2xC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TSxHQUNYbk8sS0FBSzJmLGFBQWF5QyxXQUFhalUsR0FFbkN0QixZQUFZLEVBQ1pDLGNBQWMsSUFFbEIyUyxFQUFXbGYsVUFBVTRLLGNBQWdCLFNBQVV0RixHQUMzQ3dDLEVBQU04QyxjQUFjbkwsS0FBSzZlLElBQUtoWixJQUVsQzRaLEVBQVdsZixVQUFVOGhCLFlBQWMsU0FBVXhYLEdBQ3pDOEosTUFBTTJOLFdBQVd0aUIsS0FBSzRmLGNBQWUsU0FBVXhQLEVBQU15RSxHQUNqRHpFLEVBQUtzRSxTQUFTLFdBQ1Z4USxRQUFRQyxJQUFJaU0sR0FDWnlFLE9BRUxoSyxJQUVQNFUsRUFBV2xmLFVBQVVtWSxVQUFZLFNBQVV5SSxHQUN2QyxHQUFJL1IsR0FBT3BQLElBQ1htaEIsR0FBU0EsTUFDVC9SLEVBQUswUSxZQUFZcUIsRUFBT29CLFlBQ3hCblQsRUFBSzZSLFFBQVFFLEVBQU9xQixZQUNwQm5hLEVBQU1TLHNCQUFzQnNHLEVBQUtnQyxLQUFNcU8sRUFBV2dELFlBQ2xEcGEsRUFBTXdCLG9CQUFvQnVGLEVBQUtnQyxLQUFNcU8sRUFBV2lELFVBQ2hEMWlCLEtBQUsyZixhQUFhbFIsUUFFdEJnUixFQUFXbGYsVUFBVW9pQixvQkFBc0IsU0FBVTlYLEdBQ2pELEdBQUl1RSxHQUFPcFAsSUFDWG9QLEdBQUtzSixZQUNMdEosRUFBS2lULFlBQVl4WCxJQUVyQjRVLEVBQVdpRCxVQUNQLFdBQ0EsWUFDQSxXQUNBLGtCQUNBLGdCQUNBLG1CQUNBLGdCQUNBLG1CQUNBLGlCQUNBLG9CQUNBLGFBQ0EsYUFDQSxXQUNBLGFBQ0Esa0JBQ0EsZUFDQSxjQUVKakQsRUFBV2dELFlBQWMsYUFBYyxXQUFZLFdBQzVDaEQsR0FDVGpULEVBQ0Y5TCxHQUFNK2UsV0FBYUEsR0FDcEIvZSxRQUFVQSIsImZpbGUiOiJibGF6ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBCbGF6ZTtcclxuKGZ1bmN0aW9uIChCbGF6ZSkge1xyXG4gICAgdmFyIFdlYkdMVXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKFdlYkdMVXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBnZXRHTENvbnRleHQoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBbXCJ3ZWJnbFwiLCBcImV4cGVyaW1lbnRhbC13ZWJnbFwiLCBcIndlYmtpdC0zZFwiLCBcIm1vei13ZWJnbFwiXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN0eCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgaW5pdGlhbGlzZSBXZWJHTFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0V2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjdHgudmlld3BvcnRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmdldEdMQ29udGV4dCA9IGdldEdMQ29udGV4dDtcclxuICAgICAgICAoZnVuY3Rpb24gKEJVRkZFUl9EUkFXKSB7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiU1RBVElDXCJdID0gMF0gPSBcIlNUQVRJQ1wiO1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUUkVBTVwiXSA9IDFdID0gXCJTVFJFQU1cIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJEWU5BTUlDXCJdID0gMl0gPSBcIkRZTkFNSUNcIjtcclxuICAgICAgICB9KShXZWJHTFV0aWxzLkJVRkZFUl9EUkFXIHx8IChXZWJHTFV0aWxzLkJVRkZFUl9EUkFXID0ge30pKTtcclxuICAgICAgICB2YXIgQlVGRkVSX0RSQVcgPSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihnbCwgZGF0YSwgaXMyRCwgdHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuRFlOQU1JQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpZiAoaXMyRCkge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLml0ZW1TaXplID0gMjtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDM7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIgPSBjcmVhdGVCdWZmZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUUkVBTTpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5pdGVtU2l6ZSA9IDE7XHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleEJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVJbmRleEJ1ZmZlciA9IGNyZWF0ZUluZGV4QnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGRhdGEpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlID0gY3JlYXRlVGV4dHVyZTtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTaGFkZXIoZ2wsIHR5cGUsIHNoYWRlclNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gICAgICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xyXG4gICAgICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVTaGFkZXIgPSBjcmVhdGVTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgc2hhZGVycy5mcmFnbWVudCk7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHNoYWRlcnMudmVydGV4KTtcclxuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW07XHJcbiAgICB9KShXZWJHTFV0aWxzID0gQmxhemUuV2ViR0xVdGlscyB8fCAoQmxhemUuV2ViR0xVdGlscyA9IHt9KSk7XHJcbiAgICB2YXIgdXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKHV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gczQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuczQgPSBzNDtcclxuICAgICAgICBmdW5jdGlvbiB1dWlkKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gczQoKSArIHM0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lID8gbmFtZSArIGlkIDogaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnV1aWQgPSB1dWlkO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hTih2ZWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlYy5tYXAoZnVuY3Rpb24gKGEpIHsgaWYgKE51bWJlci5pc05hTihhKSlcclxuICAgICAgICAgICAgICAgIGEgPSAwOyByZXR1cm4gYTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vcm1hbGl6ZU5hTiA9IG5vcm1hbGl6ZU5hTjtcclxuICAgICAgICBmdW5jdGlvbiBsb2FkKHVybCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubG9hZCA9IGxvYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKHN0cikge1xyXG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBzdHIuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbXNbZWxlbXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmdldEV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbjtcclxuICAgICAgICBmdW5jdGlvbiBub3dJbk1pbGxpc2Vjb25kcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzID0gbm93SW5NaWxsaXNlY29uZHM7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVnVG9SYWQoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmRlZ1RvUmFkID0gZGVnVG9SYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFscyh2cywgaW5kKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICAgICAgdmFyIHkgPSAxO1xyXG4gICAgICAgICAgICB2YXIgeiA9IDI7XHJcbiAgICAgICAgICAgIHZhciBucyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuc1tpXSA9IDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZC5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYxID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgdjIgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWwgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vcDEgLSBwMFxyXG4gICAgICAgICAgICAgICAgdjFbeF0gPSB2c1szICogaW5kW2kgKyAxXSArIHhdIC0gdnNbMyAqIGluZFtpXSArIHhdO1xyXG4gICAgICAgICAgICAgICAgdjFbeV0gPSB2c1szICogaW5kW2kgKyAxXSArIHldIC0gdnNbMyAqIGluZFtpXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjFbel0gPSB2c1szICogaW5kW2kgKyAxXSArIHpdIC0gdnNbMyAqIGluZFtpXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgdjJbeF0gPSB2c1szICogaW5kW2kgKyAyXSArIHhdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYyW3ldID0gdnNbMyAqIGluZFtpICsgMl0gKyB5XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeV07XHJcbiAgICAgICAgICAgICAgICB2Mlt6XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgel0gLSB2c1szICogaW5kW2kgKyAxXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy9wMiAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2MVt4XSA9IHZzWzMqaW5kW2krMl0reF0gLSB2c1szKmluZFtpKzFdK3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gdjFbeV0gPSB2c1szKmluZFtpKzJdK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3pdID0gdnNbMyppbmRbaSsyXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvLyBwMCAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt4XSA9IHZzWzMqaW5kW2ldK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3ldID0gdnNbMyppbmRbaV0reV0gLSB2c1szKmluZFtpKzFdK3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gdjJbel0gPSB2c1szKmluZFtpXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvL2Nyb3NzIHByb2R1Y3QgYnkgU2FycnVzIFJ1bGVcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt4XSA9IHYxW3ldICogdjJbel0gLSB2MVt6XSAqIHYyW3ldO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3ldID0gdjFbel0gKiB2Mlt4XSAtIHYxW3hdICogdjJbel07XHJcbiAgICAgICAgICAgICAgICBub3JtYWxbel0gPSB2MVt4XSAqIHYyW3ldIC0gdjFbeV0gKiB2Mlt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3hdICs9IG5vcm1hbFt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3ldICs9IG5vcm1hbFt5XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3pdICs9IG5vcm1hbFt6XTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB4XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeF0gKyBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB5XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeV0gKyBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB6XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgel0gKyBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9ub3JtYWxpemUgdGhlIHJlc3VsdFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm4gPSBbXTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbnNbaSArIHhdO1xyXG4gICAgICAgICAgICAgICAgbm5beV0gPSBuc1tpICsgeV07XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5zW2kgKyB6XTtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLnNxcnQoKG5uW3hdICogbm5beF0pICsgKG5uW3ldICogbm5beV0pICsgKG5uW3pdICogbm5bel0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMClcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSAwLjAwMDAxO1xyXG4gICAgICAgICAgICAgICAgbm5beF0gPSBublt4XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbm5beV0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5uW3pdIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHhdID0gbm5beF07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgeV0gPSBublt5XTtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB6XSA9IG5uW3pdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBucztcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuY2FsY3VsYXRlTm9ybWFscyA9IGNhbGN1bGF0ZU5vcm1hbHM7XHJcbiAgICB9KSh1dGlscyA9IEJsYXplLnV0aWxzIHx8IChCbGF6ZS51dGlscyA9IHt9KSk7XHJcbiAgICAoZnVuY3Rpb24gKENBTUVSQV9UWVBFKSB7XHJcbiAgICAgICAgQ0FNRVJBX1RZUEVbQ0FNRVJBX1RZUEVbXCJPUkJJVElOR1wiXSA9IDBdID0gXCJPUkJJVElOR1wiO1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiVFJBQ0tJTkdcIl0gPSAxXSA9IFwiVFJBQ0tJTkdcIjtcclxuICAgIH0pKEJsYXplLkNBTUVSQV9UWVBFIHx8IChCbGF6ZS5DQU1FUkFfVFlQRSA9IHt9KSk7XHJcbiAgICB2YXIgQ0FNRVJBX1RZUEUgPSBCbGF6ZS5DQU1FUkFfVFlQRTtcclxuICAgIHZhciBLZXRjaCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gS2V0Y2goKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCA9IGZ1bmN0aW9uIChrZXksIGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IFdlYkdMVXRpbHMuZ2V0R0xDb250ZXh0KGNhbnZhcyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENvbnRleHQoa2V5LCBjb250ZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtID0gZnVuY3Rpb24gKGtleSwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KGtleSk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gV2ViR0xVdGlscy5jcmVhdGVQcm9ncmFtKGdsLCBzaGFkZXJzKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbShrZXksIHByb2dyYW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHByb2dyYW0pIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbSA9IHByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRQcm9ncmFtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmNyZWF0ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldID0ge307XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJzX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmlldy5hdHRyaWJzID0gYXR0cmlic19uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHByZXZbYXR0cl0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcmcsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldEF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0uYXR0cmlic1thdHRyX2tleV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRVbmlmb3JtID0gZnVuY3Rpb24gKHZpZXdfa2V5LCB1bmlmb3JtX2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS51bmlmb3Jtc1t1bmlmb3JtX2tleV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zID0gZnVuY3Rpb24gKGtleSwgdW5pZm9ybV9uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZpZXcudW5pZm9ybXMgPSB1bmlmb3JtX25hbWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgcHJldlthdHRyXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXksIHBvaW50ZXIpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gS2V0Y2guZ2V0QXR0cmliKHZpZXdfa2V5LCBhdHRyX2tleSk7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQodmlld19rZXkpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGluZGV4LCBwb2ludGVyLnNpemUgfHwgMywgZ2wuRkxPQVQsIHBvaW50ZXIubm9ybWFsaXplZCB8fCBmYWxzZSwgcG9pbnRlci5zdHJpZGUgfHwgMCwgcG9pbnRlci5vZmZzZXQgfHwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGluZGV4LCAzLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBLZXRjaC5nZXRBdHRyaWIodmlld19rZXksIGF0dHJfa2V5KTtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dCh2aWV3X2tleSk7XHJcbiAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5yZW5kZXJMb29wID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHNldEludGVydmFsKGNiLCAzMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5hZGRUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzID0gdmlldy50ZXh0dXJlcyB8fCBbXTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcy5wdXNoKHRleHR1cmVfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2gucmVtb3ZlVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcyA9IHZpZXcudGV4dHVyZXMgfHwgW107XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZpZXcudGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlX2lkKTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh2aWV3LnRleHR1cmVzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFjdGl2ZVRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkLCB0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShpbmRleCA9PT0gMCA/IGdsLlRFWFRVUkUwIDogZ2wuVEVYVFVSRTAgKyBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIHZhciB1U2FtcGxlciA9IEtldGNoLmdldFVuaWZvcm0oa2V5LCBcInVTYW1wbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVTYW1wbGVyLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmlzT2ZmU2NyZWVuID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLm9mZnNjcmVlbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmVuYWJsZU9mZlNjcmVlbiA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nbdmlld19rZXldLm9mZnNjcmVlbiA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5kaXNhYmxlT2ZmU2NyZWVuID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1t2aWV3X2tleV0ub2Zmc2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmZpbGxTZWxlY3RvckJ1ZmZlciA9IGZ1bmN0aW9uICh2aWV3X2tleSwgb2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XTtcclxuICAgICAgICAgICAgdmlldy5zZWxlY3RPYmplY3RzID0gdmlldy5zZWxlY3RPYmplY3RzIHx8IFtdO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMucHVzaChvYmopO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY2xlYXJTZWxlY3RvckJ1ZmZlciA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1t2aWV3X2tleV07XHJcbiAgICAgICAgICAgIHZpZXcuc2VsZWN0T2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0U2VsZWN0QnlDb2xvciA9IGZ1bmN0aW9uICh2aWV3X2tleSwgY29sb3IpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nbdmlld19rZXldO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMgPSB2aWV3LnNlbGVjdE9iamVjdHMgfHwgW107XHJcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmQodmlldy5zZWxlY3RPYmplY3RzLCBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uaXNFcXVhbChvLmNvbG9yLCBjb2xvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guX3ZpZXdzID0ge307XHJcbiAgICAgICAgcmV0dXJuIEtldGNoO1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLktldGNoID0gS2V0Y2g7XHJcbiAgICB2YXIgUmVuZGVyYWJsZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gUmVuZGVyYWJsZShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ncmFwaF9pZCA9IGdyYXBoX2lkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwiZ3JhcGhJRFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dyYXBoX2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwiZ2xcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRDb250ZXh0KHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJhYmxlLnByb3RvdHlwZSwgXCJwcm9ncmFtXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0UHJvZ3JhbSh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBSZW5kZXJhYmxlLnByb3RvdHlwZS5nZXRVbmlmb3JtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0VW5pZm9ybSh0aGlzLmdyYXBoSUQsIGtleSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVuZGVyYWJsZTtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5SZW5kZXJhYmxlID0gUmVuZGVyYWJsZTtcclxuICAgIHZhciBFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gRW50aXR5KGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEVudGl0eTtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuRW50aXR5ID0gRW50aXR5O1xyXG4gICAgdmFyIE1hdHJpeFN0YWNrID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTWF0cml4U3RhY2ssIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTWF0cml4U3RhY2soZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFjayA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9tdk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9uTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3B5ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIGNvcHkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFjay5wdXNoKGNvcHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YWNrLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJpbnZhbGlkIHBvcE1hdHJpeFwiO1xyXG4gICAgICAgICAgICB0aGlzLl9tdk1hdHJpeCA9IHRoaXMuX3N0YWNrLnBvcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk1vZGVsVmlldyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9jYW1lcmEubW9kZWxWaWV3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9tdk1hdHJpeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibXZNYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tdk1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJwTWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcE1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJuTWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbk1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5QZXJzcGVjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9wTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5wZXJzcGVjdGl2ZSg0NSwgZ2wudmlld3BvcnRXaWR0aCAvIGdsLnZpZXdwb3J0SGVpZ2h0LCAwLjEsIDEwMDAuMCwgdGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuTm9ybWFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LnNldCh0aGlzLl9tdk1hdHJpeCwgdGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQuaW52ZXJzZSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC50cmFuc3Bvc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5Nb2RlbFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5QZXJzcGVjdGl2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLk5vcm1hbCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnNldFVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLk5vcm1hbCgpO1xyXG4gICAgICAgICAgICB2YXIgbXZNYXRyaXggPSB0aGlzLmdldFVuaWZvcm0oXCJ1TVZNYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChtdk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobXZNYXRyaXgsIGZhbHNlLCB0aGlzLl9tdk1hdHJpeCk7XHJcbiAgICAgICAgICAgIHZhciBwTWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidVBNYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChwTWF0cml4KVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwTWF0cml4LCBmYWxzZSwgdGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIHZhciBuTWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU5NYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChuTWF0cml4KVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihuTWF0cml4LCBmYWxzZSwgdGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTWF0cml4U3RhY2s7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLk1hdHJpeFN0YWNrID0gTWF0cml4U3RhY2s7XHJcbiAgICB2YXIgUmVzb3VyY2VzO1xyXG4gICAgKGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcclxuICAgICAgICB2YXIgTWVzaEJ1ZmZlcnMgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICBfX2V4dGVuZHMoTWVzaEJ1ZmZlcnMsIF9zdXBlcik7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1lc2hCdWZmZXJzKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0ID0gdXRpbHMuZ2V0RXh0ZW5zaW9uKHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbHMubG9hZChzcmMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2JqXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gc2VsZi5wYXJzZU9CSihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJqc29uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gc2VsZi5wYXJzZUpTT04oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVCdWZmZXJzKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25sb2FkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hCdWZmZXJzLnByb3RvdHlwZS5wYXJzZUpTT04gPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE1lc2hCdWZmZXJzLnByb3RvdHlwZS5wYXJzZU9CSiA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZuOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2dDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGluOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdDogW11cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSBkYXRhLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleCA9IGxpbmVzLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhWzBdID09PSAndic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGxpbmVzLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhWzBdID09PSAnZic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZlcnRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gaXRlbS5yZXBsYWNlKFwiXFxyXCIsIFwiXCIpLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZWxlbXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSBvYmpba2V5XS5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBJbmRleCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaW5kZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5yZXBsYWNlKFwiZlwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcEluZGV4ID0gdGVtcEluZGV4LmNvbmNhdChlbGVtcy5zbGljZSgxKS5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgIT09IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0ZW1wSW5kZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0uc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pdi5wdXNoKHBhcnNlSW50KGVsZW1zWzBdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pbi5wdXNoKHBhcnNlSW50KGVsZW1zWzFdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pdC5wdXNoKHBhcnNlSW50KGVsZW1zWzJdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUuY3JlYXRlQnVmZmVycyA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgICAgICBfLmRlZmF1bHRzKG9iaiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZuOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2dDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGluOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdDogW11cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnVmZmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIoZ2wsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai52Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmJvID0gY3JlYXRlQnVmZmVyKG9iai52KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwICYmIG9iai5pdi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmJvID0gY3JlYXRlQnVmZmVyKHV0aWxzLmNhbGN1bGF0ZU5vcm1hbHMob2JqLnYsIG9iai5pdikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai52dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGJvID0gV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIoZ2wsIG9iai52dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbmRleEJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pdi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l2Ym8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaXYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pbi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luYm8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaW4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pdC5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0Ym8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaXQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcInZib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwibmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYm87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l2Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpbmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaXRib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXRibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gTWVzaEJ1ZmZlcnM7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hCdWZmZXJzID0gTWVzaEJ1ZmZlcnM7XHJcbiAgICAgICAgdmFyIE1lc2hUZXh0dXJlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hUZXh0dXJlLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoVGV4dHVyZShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29pZCA9IHV0aWxzLnV1aWQodGhpcy5jb25zdHJ1Y3Rvci5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcIm9ubG9hZFwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoVGV4dHVyZS5wcm90b3R5cGUsIFwic3JjXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGVuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1hZ2Uub25sb2FkID0gdGhpcy5sb2FkVGV4dHVyZUltYWdlKHRoaXMuX29ubG9hZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTWVzaFRleHR1cmUucHJvdG90eXBlLmxvYWRUZXh0dXJlSW1hZ2UgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90ZXh0dXJlID0gV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlKHNlbGYuZ2wsIHNlbGYuX2ltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBLZXRjaC5hZGRUZXh0dXJlKHNlbGYuZ3JhcGhJRCwgc2VsZi5fb2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcImNvbnRlbnRcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hUZXh0dXJlO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoVGV4dHVyZSA9IE1lc2hUZXh0dXJlO1xyXG4gICAgICAgIHZhciBNZXNoTWF0ZXJpYWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICBfX2V4dGVuZHMoTWVzaE1hdGVyaWFsLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoTWF0ZXJpYWwoZ3JhcGhfaWQsIGFtYmllbnQsIGRpZmZ1c2UsIHNwZWN1bGFyLCBzaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSBhbWJpZW50ID8gdmVjNC5jcmVhdGUoYW1iaWVudCkgOiB2ZWM0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IGRpZmZ1c2UgPyB2ZWM0LmNyZWF0ZShkaWZmdXNlKSA6IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gc3BlY3VsYXIgPyB2ZWM0LmNyZWF0ZShzcGVjdWxhcikgOiB2ZWM0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hpbmluZXNzID0gc2hpbmluZXNzIHx8IDIwMC4wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcIm9ubG9hZFwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB1dGlscy5sb2FkKHNyYywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBzZWxmLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYW1iaWVudCA9IHRlbXAuS2E7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kaWZmdXNlID0gdGVtcC5LZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NwZWN1bGFyID0gdGVtcC5LcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hpbmluZXNzID0gdGVtcC5OcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vbmxvYWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb25sb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTWVzaE1hdGVyaWFsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtcIkthXCIsIFwiS2RcIiwgXCJLc1wiLCBcIk5zXCJdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBsaW5lLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZWxlbXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMuaW5kZXhPZihrZXkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtcIk5zXCJdID0gTnVtYmVyKGVsZW1zWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGVsZW1zLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gTnVtYmVyKGEpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goMS4wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcImFtYmllbnRcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FtYmllbnQ7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoYW1iaWVudCkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcImRpZmZ1c2VcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoZGlmZnVzZSkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNwZWN1bGFyXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zcGVjdWxhcjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKHNwZWN1bGFyKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic2hpbmluZXNzXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGluaW5lc3M7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoaW5pbmVzcyA9IHY7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hNYXRlcmlhbDtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsID0gTWVzaE1hdGVyaWFsO1xyXG4gICAgfSkoUmVzb3VyY2VzID0gQmxhemUuUmVzb3VyY2VzIHx8IChCbGF6ZS5SZXNvdXJjZXMgPSB7fSkpO1xyXG4gICAgdmFyIFNoYWRlcnM7XHJcbiAgICAoZnVuY3Rpb24gKFNoYWRlcnMpIHtcclxuICAgICAgICB2YXIgRnJhZ21lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBGcmFnbWVudCgpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBGcmFnbWVudC5QYXJ0aWNsZSA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG5cXG5ib29sIGlzQmxhY2sodmVjNCBjb2xvcil7XFxucmV0dXJuIGNvbG9yLnI9PTAuMCAmJmNvbG9yLmc9PTAuMCYmY29sb3IuYj09MC4wO1xcbn1cXG52b2lkIG1haW4odm9pZCkgeyBcXG4gICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgIH1lbHNle1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGdsX1BvaW50Q29vcmQpO1xcbiAgICBpZihnbF9GcmFnQ29sb3IuYSA8IDAuNSB8fCBpc0JsYWNrKGdsX0ZyYWdDb2xvcikpIGRpc2NhcmQ7XFxuICAgIH1cXG59XCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlBob25nID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxudW5pZm9ybSB2ZWMzIHVMaWdodERpcmVjdGlvbjtcXG5cXG51bmlmb3JtIHZlYzQgdUxpZ2h0QW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0RGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0U3BlY3VsYXI7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBib29sIHVPZmZzY3JlZW47XFxudW5pZm9ybSB2ZWM0IHVTZWxlY3RDb2xvcjtcXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsU3BlY3VsYXI7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuICAgICAgXFxuXFxuICAgICAgICBpZih1T2Zmc2NyZWVuKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3I9dVNlbGVjdENvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgXFxuICAgICAgICB2ZWMzIEw9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb24pO1xcbiAgICAgICAgdmVjMyBOPSBub3JtYWxpemUodk5vcm1hbCk7XFxuICAgICAgICBmbG9hdCBsYW1iZXJ0VGVybT1kb3QoTiwgLUwpO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElhPSB1TGlnaHRBbWJpZW50KnVNYXRlcmlhbEFtYmllbnQ7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWQ9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElzPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYobGFtYmVydFRlcm0+MC4wKVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIElkPXVMaWdodERpZmZ1c2UqdU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHRTcGVjdWxhcip1TWF0ZXJpYWxTcGVjdWxhcipzcGVjdWxhcjtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBmaW5hbENvbG9yPUlhK0lkK0lzO1xcbiAgICAgICAgZmluYWxDb2xvci5hPTEuMDtcXG4gICAgXFxuICAgICAgICBnbF9GcmFnQ29sb3IgPWZpbmFsQ29sb3I7XFxuICAgICAgICBcXG4gICAgICAgIFxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgcmV0dXJuIEZyYWdtZW50O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5GcmFnbWVudCA9IEZyYWdtZW50O1xyXG4gICAgICAgIHZhciBWZXJ0ZXggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBWZXJ0ZXgoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVmVydGV4LlBhcnRpY2xlID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBmbG9hdCB1UG9pbnRTaXplO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcbnVuaWZvcm0gYm9vbCB1UGVyVmVydGV4Q29sb3I7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxuXFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiBpZih1V2lyZWZyYW1lKXtcXG5cXHQgXFxuXFx0IFxcdGlmKHVQZXJWZXJ0ZXhDb2xvcil7XFxuXFx0IFxcdFxcdCB2Q29sb3I9YV9jb2xvcjtcXG5cXHQgXFx0fWVsc2V7XFxuXFx0IFxcdFxcdHZDb2xvcj11TWF0ZXJpYWxEaWZmdXNlO1xcblxcdCBcXHR9XFxuXFx0IFxcblxcdFxcblxcdCB9XFxuICAgIFxcbiAgICBnbF9Qb3NpdGlvbiA9IHVQTWF0cml4ICogdU1WTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLnh5eiwgMS4wKTtcXG4gICAgZ2xfUG9pbnRTaXplID0gdVBvaW50U2l6ZTtcXG59XCI7XHJcbiAgICAgICAgICAgIFZlcnRleC5QaG9uZyA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Tk1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgIHZlYzQgdmVydGV4ID0gdU1WTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApO1xcblxcdFxcblxcdFxcblxcdCBpZih1V2lyZWZyYW1lKXtcXG5cXHQgXFxuXFx0IFxcdGlmKHVQZXJWZXJ0ZXhDb2xvcil7XFxuXFx0IFxcdFxcdCB2Q29sb3I9YV9jb2xvcjtcXG5cXHQgXFx0fWVsc2V7XFxuXFx0IFxcdFxcdHZDb2xvcj11TWF0ZXJpYWxEaWZmdXNlO1xcblxcdCBcXHR9XFxuXFx0IFxcblxcdFxcblxcdCB9ZWxzZXtcXG5cXHRcXG5cXHR2Tm9ybWFsID0gdmVjMyh1Tk1hdHJpeCAqIHZlYzQoYV9ub3JtYWwsIDEuMCkpO1xcblxcdHZFeWVWZWM9LXZlYzModmVydGV4Lnh5eik7ICBcXG5cXHRcXG5cXHR9XFxuXFx0IFxcblxcdGdsX1Bvc2l0aW9uID11UE1hdHJpeCAqIHZlcnRleDtcXG5cXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBWZXJ0ZXg7XHJcbiAgICAgICAgfSgpKTtcclxuICAgICAgICBTaGFkZXJzLlZlcnRleCA9IFZlcnRleDtcclxuICAgIH0pKFNoYWRlcnMgPSBCbGF6ZS5TaGFkZXJzIHx8IChCbGF6ZS5TaGFkZXJzID0ge30pKTtcclxuICAgIHZhciBBbmltYXRpb25FbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhBbmltYXRpb25FbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uRW50aXR5KGdyYXBoX2lkLCBmcmVxdWVuY3ksIHRpbWVzLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTtcclxuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLm9uRnJhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lID0gdXRpbHMubm93SW5NaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgaWYgKEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lIDwgNSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIHN0ZXBzID0gTWF0aC5mbG9vcihBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSAvIHRoaXMuX2ZyZXF1ZW5jeSk7XHJcbiAgICAgICAgICAgIHdoaWxlICgoc3RlcHMgPiAwKSAmJiAoQW5pbWF0aW9uRW50aXR5LkNvdW50ICE9IHRoaXMuX3RpbWVzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIHN0ZXBzLS07XHJcbiAgICAgICAgICAgICAgICBBbmltYXRpb25FbnRpdHkuQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoQW5pbWF0aW9uRW50aXR5LkNvdW50ID09PSB0aGlzLl90aW1lcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGltZSA9IHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsX2lkID0gc2V0SW50ZXJ2YWwodGhpcy5vbkZyYW1lLCB0aGlzLl9mcmVxdWVuY3kgLyAxMDAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsX2lkKVxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbF9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5Db3VudCA9IDA7XHJcbiAgICAgICAgcmV0dXJuIEFuaW1hdGlvbkVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5BbmltYXRpb25FbnRpdHkgPSBBbmltYXRpb25FbnRpdHk7XHJcbiAgICB2YXIgTWVzaEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1lc2hFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTWVzaEVudGl0eShncmFwaF9pZCwgbWVzaGZpbGUsIG1hdGVyaWFsZmlsZSwgdGV4dHVyZWZpbGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbWVzaGZpbGUgPSBtZXNoZmlsZSB8fCBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbGZpbGUgPSBtYXRlcmlhbGZpbGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZWZpbGUgPSB0ZXh0dXJlZmlsZSB8fCBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkQnVmZmVycyA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnModGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRUZXh0dXJlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbmV3IFJlc291cmNlcy5NZXNoVGV4dHVyZSh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hFbnRpdHkucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWF0ZXJpYWwgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbmV3IFJlc291cmNlcy5NZXNoTWF0ZXJpYWwodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1lc2ggPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBhc3luYy53YXRlcmZhbGwoW1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuX21lc2hmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBCdWZmZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZEJ1ZmZlcnMoc2VsZi5fbWVzaGZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgQnVmZmVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fdGV4dHVyZWZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIFRleHR1cmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkVGV4dHVyZShzZWxmLl90ZXh0dXJlZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuX21hdGVyaWFsZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgTWF0ZXJpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkTWF0ZXJpYWwoc2VsZi5fbWF0ZXJpYWxmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIE1hdGVyaWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2IpXHJcbiAgICAgICAgICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWVzaEJ5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbmV3IFJlc291cmNlcy5NZXNoQnVmZmVycyh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLmNyZWF0ZUJ1ZmZlcnMob2JqKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNYXRlcmlhbEJ5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIGlmIChvYmouYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuYW1iaWVudCA9IG9iai5hbWJpZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyID0gb2JqLnNwZWN1bGFyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSA9IG9iai5kaWZmdXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MgPSBvYmouc2hpbmluZXNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5zZXRNYXRlcmlhbFVuaWZvcm1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxBbWJpZW50ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsQW1iaWVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsQW1iaWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxBbWJpZW50LCB0aGlzLl9tYXRlcmlhbC5hbWJpZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbFNwZWN1bGFyID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsU3BlY3VsYXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbFNwZWN1bGFyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbFNwZWN1bGFyLCB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVTaGluaW5lc3MgPSB0aGlzLmdldFVuaWZvcm0oXCJ1U2hpbmluZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1U2hpbmluZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodVNoaW5pbmVzcywgdGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLnNldE1hdGVyaWFsVW5pZm9ybXMoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMudmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVycy5uYm8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfbm9ybWFsXCIpO1xyXG4gICAgICAgICAgICB2YXIgaXZibyA9IHRoaXMuX2J1ZmZlcnMuaXZibztcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaXZibyk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGl2Ym8ubnVtSXRlbXMsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfbm9ybWFsXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1lc2hFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuTWVzaEVudGl0eSA9IE1lc2hFbnRpdHk7XHJcbiAgICB2YXIgVHJhbnNmb3JtRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoVHJhbnNmb3JtRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFRyYW5zZm9ybUVudGl0eShncmFwaF9pZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbiB8fCB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZSB8fCB2ZWMzLmNyZWF0ZShbMSwgMSwgMV0pO1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uIHx8IHsgYW5nbGU6IDAsIGF4aXM6IHZlYzMuY3JlYXRlKCkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5pZGVudGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9tYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRNYXRyaXggPSBmdW5jdGlvbiAobmV3X21hdHJpeCkge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBuZXdfbWF0cml4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS50cmFuc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX21hdHJpeCwgdGhpcy5fbWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEFic29sdXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IFt4LCB5LCB6XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNpemUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gW3gsIHksIHpdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3NpemU7XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyb3RhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRSb3RhdGlvbiA9IGZ1bmN0aW9uIChhbmdsZSwgYXhpcykge1xyXG4gICAgICAgICAgICBpZiAoYW5nbGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgICAgICBpZiAoYXhpcylcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmF4aXMgPSBheGlzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBbmdsZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBeGlzID0gZnVuY3Rpb24gKGF4aXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYXhpcyA9IGF4aXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnJvdGF0ZUFuZ2xlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSArPSBhbmdsZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUubW92ZUF4aXMgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9yb3RhdGlvbi5heGlzO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3JvdGF0aW9uLmF4aXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2sucHVzaCgpO1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5Nb2RlbFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4U3RhY2subXZNYXRyaXg7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb3NpdGlvbiAhPSB2b2lkIDApXHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9tYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NpemUgIT0gdm9pZCAwKVxyXG4gICAgICAgICAgICAgICAgbWF0NC5zY2FsZSh0aGlzLl9tYXRyaXgsIHRoaXMuX3NpemUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcm90YXRpb24gIT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkID0gdGhpcy5fcm90YXRpb24uYW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGUodGhpcy5fbWF0cml4LCByYWQsIHRoaXMuX3JvdGF0aW9uLmF4aXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnNldFVwKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2sucG9wKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVHJhbnNmb3JtRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLlRyYW5zZm9ybUVudGl0eSA9IFRyYW5zZm9ybUVudGl0eTtcclxuICAgIHZhciBMaWdodEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKExpZ2h0RW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIExpZ2h0RW50aXR5KGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBwb3NpdGlvbiwgc3BlY3VsYXIsIGRpcmVjdGlvbiwgY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IGFtYmllbnQgPyB2ZWM0LmNyZWF0ZShhbWJpZW50KSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uID8gdmVjNC5jcmVhdGUocG9zaXRpb24pIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSBzcGVjdWxhciA/IHZlYzQuY3JlYXRlKHNwZWN1bGFyKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGRpcmVjdGlvbiA/IHZlYzMuY3JlYXRlKGRpcmVjdGlvbikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXRvZmYgPSBjdXRvZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiYW1iaWVudFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FtYmllbnQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoYW1iaWVudCkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImRpZmZ1c2VcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWN1bGFyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoc3BlY3VsYXIpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWMzLmNyZWF0ZShwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImRpcmVjdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSB1dGlscy5ub3JtYWxpemVOYU4odmVjMy5jcmVhdGUoZGlyZWN0aW9uKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiY3V0T2ZmXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3V0b2ZmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjdXRvZmYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1dG9mZiA9IGN1dG9mZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTGlnaHRFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2FtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRBbWJpZW50ID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0QW1iaWVudFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRBbWJpZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0QW1iaWVudCwgdGhpcy5fYW1iaWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHREaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0RGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHREaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0RGlmZnVzZSwgdGhpcy5fZGlmZnVzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0U3BlY3VsYXIgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRTcGVjdWxhclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodFNwZWN1bGFyLCB0aGlzLl9zcGVjdWxhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0UG9zaXRpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRQb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRQb3NpdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVMaWdodFBvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVEaXJlY3Rpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaXJlY3Rpb25cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodURpcmVjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVEaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaWYgKHRoaXMuX2N1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgIHZhciB1Q3V0T2ZmID0gdGhpcy5nZXRVbmlmb3JtKFwidUN1dE9mZlwiKTtcclxuICAgICAgICAgICAgICAgICBpZiAodUN1dE9mZilcclxuICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVDdXRPZmYsIHRoaXMuX2N1dG9mZik7XHJcbiAgICAgICAgICAgICB9Ki9cclxuICAgICAgICB9O1xyXG4gICAgICAgIExpZ2h0RW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIExpZ2h0RW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkxpZ2h0RW50aXR5ID0gTGlnaHRFbnRpdHk7XHJcbiAgICB2YXIgRGlmZnVzZUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKERpZmZ1c2VFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gRGlmZnVzZUVudGl0eShncmFwaF9pZCwgdikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgRGlmZnVzZUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCB0aGlzLl92YWx1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEaWZmdXNlRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIERpZmZ1c2VFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuRGlmZnVzZUVudGl0eSA9IERpZmZ1c2VFbnRpdHk7XHJcbiAgICB2YXIgUGFydGljbGVFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhQYXJ0aWNsZUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBQYXJ0aWNsZUVudGl0eShncmFwaF9pZCwgcG9pbnRTaXplKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9pbnRTaXplID0gcG9pbnRTaXplIHx8IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVfaWQgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKGRhdGFfbWVzaCwgZGF0YV90ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YV9tZXNoKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX251bUl0ZW1zID0gZGF0YV9tZXNoLmxlbmd0aDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZV9pZCA9IHV0aWxzLnV1aWQoXCJUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlKGdsLCBkYXRhX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBLZXRjaC5hZGRUZXh0dXJlKHRoaXMuZ3JhcGhJRCwgdGhpcy5fdGV4dHVyZV9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fbnVtSXRlbXMgPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUsIFwidGV4dHVyZUlEXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZV9pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZSwgXCJwb2ludFNpemVcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb2ludFNpemUgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVBvaW50U2l6ZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVQb2ludFNpemVcIik7XHJcbiAgICAgICAgICAgIGlmICh1UG9pbnRTaXplKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVQb2ludFNpemUsIHRoaXMuX3BvaW50U2l6ZSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIEtldGNoLmFjdGl2ZVRleHR1cmUodGhpcy5ncmFwaElELCB0aGlzLl90ZXh0dXJlX2lkLCB0aGlzLl90ZXh0dXJlKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5QT0lOVFMsIDAsIHRoaXMuX251bUl0ZW1zIC8gMyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFBhcnRpY2xlRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLlBhcnRpY2xlRW50aXR5ID0gUGFydGljbGVFbnRpdHk7XHJcbiAgICB2YXIgQ2FtZXJhRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQ2FtZXJhRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIENhbWVyYUVudGl0eShncmFwaF9pZCwgdHlwZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlIHx8IENBTUVSQV9UWVBFLk9SQklUSU5HO1xyXG4gICAgICAgICAgICB0aGlzLl9jbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9jbWF0cml4KTtcclxuICAgICAgICAgICAgdGhpcy5fdXAgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9yaWdodCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fYXppbXV0aCA9IDAuMDtcclxuICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVwcyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInR5cGVcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiYXppbXV0aFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F6aW11dGg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGF6KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcF9heiA9IGF6IC0gdGhpcy5fYXppbXV0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQXppbXV0aCh0ZW1wX2F6KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jaGFuZ2VBemltdXRoID0gZnVuY3Rpb24gKGF6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F6aW11dGggKz0gYXo7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hemltdXRoID4gMzYwIHx8IHRoaXMuX2F6aW11dGggPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hemltdXRoID0gdGhpcy5fYXppbXV0aCAlIDM2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiZWxldmF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxldmF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBfZWwgPSBlbCAtIHRoaXMuX2VsZXZhdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRWxldmF0aW9uKHRlbXBfZWwpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNoYW5nZUVsZXZhdGlvbiA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gKz0gZWw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGV2YXRpb24gPiAzNjAgfHwgdGhpcy5fZWxldmF0aW9uIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uID0gdGhpcy5fZWxldmF0aW9uICUgMzYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJ6b29tXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RlcHM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG4gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcCA9IHRoaXMucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IG9mZnNldCAtIHRoaXMuX3N0ZXBzO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLCBuKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdfcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzBdID0gcFswXSAtIHN0ZXAgKiBuWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsxXSA9IHBbMV0gLSBzdGVwICogblsxXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMl0gPSBwWzJdIC0gc3RlcCAqIG5bMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMF0gPSBwWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsxXSA9IHBbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzJdID0gcFsyXSAtIHN0ZXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3X3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RlcHMgPSBvZmZzZXQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2FsY3VsYXRlT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtID0gdGhpcy5fY21hdHJpeDtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzEsIDAsIDAsIDBdLCB0aGlzLl9yaWdodCk7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAxLCAwLCAwXSwgdGhpcy5fdXApO1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMCwgMSwgMF0sIHRoaXMuX25vcm1hbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9jbWF0cml4KTtcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX2NtYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWSh0aGlzLl9jbWF0cml4LCB0aGlzLl9hemltdXRoICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVgodGhpcy5fY21hdHJpeCwgdGhpcy5fZWxldmF0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVkodGhpcy5fY21hdHJpeCwgdGhpcy5fYXppbXV0aCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVYKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2VsZXZhdGlvbiAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fY21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlT3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNCh0aGlzLl9jbWF0cml4LCBbMCwgMCwgMCwgMV0sIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwibW9kZWxWaWV3XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fY21hdHJpeCwgbSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENhbWVyYUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5DYW1lcmFFbnRpdHkgPSBDYW1lcmFFbnRpdHk7XHJcbiAgICB2YXIgQXhpc0VudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEF4aXNFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQXhpc0VudGl0eShncmFwaF9pZCwgZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIGQgPSBkIHx8IDEwMDtcclxuICAgICAgICAgICAgdGhpcy5fdmVydGljZXMgPSBbMC4wLCAwLjAsIDAuMCwgZCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgZCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgZF07XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSBbMCwgMSwgMiwgMywgNCwgNV07XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbG9ycyA9IFsxLCAxLCAwLCAxLCAxLCAxLCAwLCAxLCAwLCAxLCAwLCAxLCAwLCAxLCAwLCAxLCAwLCAwLCAxLCAxLCAwLCAwLCAxLCAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQXhpc0VudGl0eS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fdmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLl92ZXJ0aWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5faWJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheSh0aGlzLl9pbmRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl9jYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2Nibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX2NvbG9ycyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEF4aXNFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIHVQZXJWZXJ0ZXhDb2xvciA9IHRoaXMuZ2V0VW5pZm9ybShcInVQZXJWZXJ0ZXhDb2xvclwiKTtcclxuICAgICAgICAgICAgaWYgKHVQZXJWZXJ0ZXhDb2xvcilcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1UGVyVmVydGV4Q29sb3IsIHRydWUpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fY2JvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX2NvbG9yXCIsIHsgc2l6ZTogNCB9KTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLkxJTkVTLCB0aGlzLl9pbmRpY2VzLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXhpc0VudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHZhciB1UGVyVmVydGV4Q29sb3IgPSB0aGlzLmdldFVuaWZvcm0oXCJ1UGVyVmVydGV4Q29sb3JcIik7XHJcbiAgICAgICAgICAgIGlmICh1UGVyVmVydGV4Q29sb3IpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVBlclZlcnRleENvbG9yLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfY29sb3JcIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQXhpc0VudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5BeGlzRW50aXR5ID0gQXhpc0VudGl0eTtcclxuICAgIHZhciBHcmlkRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoR3JpZEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBHcmlkRW50aXR5KGdyYXBoX2lkLCBkLCBlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fZGltZXNpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZGltOiBkIHx8IDUwLCBsaW5lczogZSB8fCA1MFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdmVydGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2libyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkodGhpcy5faW5kaWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5jID0gMiAqIHRoaXMuX2RpbWVzaW9ucy5kaW0gLyB0aGlzLl9kaW1lc2lvbnMubGluZXM7XHJcbiAgICAgICAgICAgIHZhciB2ID0gW107XHJcbiAgICAgICAgICAgIHZhciBpID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDw9IHRoaXMuX2RpbWVzaW9ucy5saW5lczsgbCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDFdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyAyXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDNdID0gdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyA0XSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgNV0gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyAxXSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDJdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDNdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDRdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgNV0gPSB0aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgaVsyICogbF0gPSAyICogbDtcclxuICAgICAgICAgICAgICAgIGlbMiAqIGwgKyAxXSA9IDIgKiBsICsgMTtcclxuICAgICAgICAgICAgICAgIGlbMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsXSA9IDIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbDtcclxuICAgICAgICAgICAgICAgIGlbMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsICsgMV0gPSAyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGwgKyAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gdjtcclxuICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIFswLjcsIDAuNywgMC43LCAxXSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FUywgdGhpcy5faW5kaWNlcy5sZW5ndGgsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEdyaWRFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuR3JpZEVudGl0eSA9IEdyaWRFbnRpdHk7XHJcbiAgICB2YXIgU2VsZWN0RW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2VsZWN0RW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNlbGVjdEVudGl0eShncmFwaF9pZCwgZGF0YSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbG9yID0gdGhpcy5nZW5lcmF0ZVVuaXF1ZUNvbG9yKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VsZWN0RW50aXR5LnByb3RvdHlwZSwgXCJkYXRhXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlbGVjdEVudGl0eS5wcm90b3R5cGUsIFwiY29sb3JcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xvcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2VsZWN0RW50aXR5LnByb3RvdHlwZS5nZW5lcmF0ZVVuaXF1ZUNvbG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29sb3I7XHJcbiAgICAgICAgICAgIHZhciBjb250YWlucyA9IChmdW5jdGlvbiAoY29sb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRTZWxlY3RCeUNvbG9yKHRoaXMuZ3JhcGhJRCwgY29sb3IpICE9IHZvaWQgMDtcclxuICAgICAgICAgICAgfSkuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgd2hpbGUgKGZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IFtOdW1iZXIoTWF0aC5yYW5kb20oKS50b0ZpeGVkKDIpKSwgTnVtYmVyKE1hdGgucmFuZG9tKCkudG9GaXhlZCgyKSksIE51bWJlcihNYXRoLnJhbmRvbSgpLnRvRml4ZWQoMikpLCAxLjBdO1xyXG4gICAgICAgICAgICAgICAgZm91bmQgPSBjb250YWlucyhjb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0RW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChLZXRjaC5pc09mZlNjcmVlbih0aGlzLmdyYXBoSUQpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVTZWxlY3RDb2xvciA9IHRoaXMuZ2V0VW5pZm9ybShcInVTZWxlY3RDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1U2VsZWN0Q29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1U2VsZWN0Q29sb3IsIHRoaXMuX2NvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0RW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5TZWxlY3RFbnRpdHkgPSBTZWxlY3RFbnRpdHk7XHJcbiAgICB2YXIgU2VsZWN0b3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTZWxlY3RvciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTZWxlY3RvcihncmFwaF9pZCwgZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpbWVuc2lvbnMgPSBkaW1lbnNpb25zO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmJ1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLl90ZXh0dXJlKTtcclxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB0aGlzLl9kaW1lbnNpb25zLndpZHRoLCB0aGlzLl9kaW1lbnNpb25zLmhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5fcmVuZGVyYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB0aGlzLl9kaW1lbnNpb25zLndpZHRoLCB0aGlzLl9kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZWJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSwgMCk7XHJcbiAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBnbC5ERVBUSF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIHRoaXMuX3JlbmRlcmJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgS2V0Y2guZmlsbFNlbGVjdG9yQnVmZmVyKHRoaXMuZ3JhcGhJRCwgb2JqKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgS2V0Y2guY2xlYXJTZWxlY3RvckJ1ZmZlcih0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciByZWFkb3V0ID0gbmV3IFVpbnQ4QXJyYXkoMSAqIDEgKiA0KTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZWJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLnJlYWRQaXhlbHMocG9zLngsIHBvcy55LCAxLCAxLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCByZWFkb3V0KTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgdmFyIGZpeGVkID0gW10uc2xpY2UuY2FsbChyZWFkb3V0KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KChpdGVtIC8gMjU1KS50b0ZpeGVkKDIpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRTZWxlY3RCeUNvbG9yKHRoaXMuZ3JhcGhJRCwgZml4ZWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChkcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIpO1xyXG4gICAgICAgICAgICB2YXIgdU9mZnNjcmVlbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVPZmZzY3JlZW5cIik7XHJcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1T2Zmc2NyZWVuLCB0cnVlKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlT2ZmU2NyZWVuKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIGRyYXcoKTtcclxuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVPZmZzY3JlZW4sIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZU9mZlNjcmVlbih0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdG9yO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5TZWxlY3RvciA9IFNlbGVjdG9yO1xyXG4gICAgO1xyXG4gICAgdmFyIE5vZGVFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBOb2RlRWxlbWVudChwYXJlbnQsIHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlID0gcGFyZW50O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUuYWRkQ2hpbGROb2RlKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuX3R5cGUgfHwgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcIm9pZFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJwYXJlbnRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcImVudGl0eVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0eTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwiY2hpbGROb2Rlc1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5hZGRDaGlsZE5vZGUgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2Rlcy5wdXNoKGNoaWxkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZE5vZGUgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZ2V0Q2hpbGROb2RlQnlJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2Rlc1tpbmRleF0gfHwgdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmV4aXN0c0NoaWxkTm9kZSA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2Rlc1tpbmRleF0gIT09IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUucmVtb3ZlQ2hpbGROb2RlKHRoaXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNoaWxkTm9kZSA9IGZ1bmN0aW9uICh0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlRWxlbWVudCh0aGlzLCB0eXBlLCBlbnRpdHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmlzUm9vdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudE5vZGUgPT09IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHZhciBvaWQgPSBjaGlsZC5vaWQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmRJbmRleCh0aGlzLl9jaGlsZE5vZGVzLCBmdW5jdGlvbiAocykgeyByZXR1cm4gcy5vaWQgPT09IG9pZDsgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaW5kZXhJblBhcmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSlcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaGFzU2libGluZyA9IGZ1bmN0aW9uIChwcmV2KSB7XHJcbiAgICAgICAgICAgIHZhciBfaGF2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCAtIDEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCArIDEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gX2hhdmU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUubmV4dFNpYmxpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpICYmIHRoaXMuaGFzU2libGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5nID0gdGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucHJldmlvdXNTaWJsaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2libGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSAmJiB0aGlzLmhhc1NpYmxpbmcodHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIHNpYmxpbmcgPSB0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2libGluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5maXJzdENoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZE5vZGVCeUluZGV4KDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmxhc3RDaGlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGROb2RlQnlJbmRleCh0aGlzLl9jaGlsZE5vZGVzLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkTm9kZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMgPSBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuYmVnaW5EcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLl9jaGlsZE5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuZHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0eSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5lbmREcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBOb2RlRWxlbWVudDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5Ob2RlRWxlbWVudCA9IE5vZGVFbGVtZW50O1xyXG4gICAgdmFyIFNjZW5lR3JhcGggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTY2VuZUdyYXBoLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNjZW5lR3JhcGgoKSB7XHJcbiAgICAgICAgICAgIHZhciBvaWQgPSB1dGlscy51dWlkKCk7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29pZCA9IG9pZDtcclxuICAgICAgICAgICAgdGhpcy5fc2NlbmUgPSBuZXcgTm9kZUVsZW1lbnQodm9pZCAwLCBcIlNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjayA9IG5ldyBNYXRyaXhTdGFjayh0aGlzLl9vaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJCdWZmZXIgPSBbXTtcclxuICAgICAgICAgICAgS2V0Y2guY3JlYXRlVmlldyh0aGlzLl9vaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RvciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJzY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5FbnZpcm9ubWVudCA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGIgPSBiIHx8IFtdO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcbiAgICAgICAgICAgIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyQ29sb3IoYlswXSB8fCAwLCBiWzFdIHx8IDAsIGJbMl0gfHwgMCwgMSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyRGVwdGgoMS4wKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgZ2wudmlld3BvcnRXaWR0aCwgZ2wudmlld3BvcnRIZWlnaHQpO1xyXG4gICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgICAgIHZhciBkcmF3ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NjZW5lLmRyYXcodGhpcy5fbWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB9KS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yLnJlbmRlcihkcmF3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkcmF3KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNYWluQ2hpbGROb2RlID0gZnVuY3Rpb24gKHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NlbmUuY3JlYXRlQ2hpbGROb2RlKHR5cGUsIGVudGl0eSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5yZW1vdmVNYWluQ2hpbGROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2NlbmUucmVtb3ZlQ2hpbGROb2RlKG5vZGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcIm9pZFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICAgICAgS2V0Y2guc2V0Q2FudmFzVG9Db250ZXh0KHRoaXMub2lkLCBjYW52YXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuUHJvZ3JhbSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IFwiUGhvbmdcIjtcclxuICAgICAgICAgICAgS2V0Y2guY3JlYXRlUHJvZ3JhbSh0aGlzLl9vaWQsIHtcclxuICAgICAgICAgICAgICAgIGZyYWdtZW50OiBTaGFkZXJzLkZyYWdtZW50W3R5cGVdLFxyXG4gICAgICAgICAgICAgICAgdmVydGV4OiBTaGFkZXJzLlZlcnRleFt0eXBlXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1lc2ggPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNoRW50aXR5ID0gbmV3IE1lc2hFbnRpdHkodGhpcy5vaWQpO1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1lc2gpIHtcclxuICAgICAgICAgICAgICAgIG1lc2hFbnRpdHkubG9hZE1lc2hCeU9iamVjdChjb25maWcubWVzaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5sb2FkTWF0ZXJpYWxCeU9iamVjdChjb25maWcubWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoRW50aXR5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlRGlmZnVzZSA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGlmZnVzZUVudGl0eSh0aGlzLm9pZCwgdik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNZXNoQnlMb2FkZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IE1lc2hFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5tZXNoLCBjb25maWcubWF0ZXJpYWwsIGNvbmZpZy50ZXh0dXJlKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyLnB1c2gobWVzaCk7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybUVudGl0eSh0aGlzLm9pZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxpZ2h0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0RW50aXR5KHRoaXMub2lkLCBjb25maWcuYW1iaWVudCwgY29uZmlnLmRpZmZ1c2UsIGNvbmZpZy5wb3NpdGlvbiwgY29uZmlnLnNwZWN1bGFyLCBjb25maWcuZGlyZWN0aW9uLCBjb25maWcuY3V0b2ZmKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUNhbWVyYSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FtZXJhRW50aXR5KHRoaXMub2lkLCB0eXBlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVBhcnRpY2xlID0gZnVuY3Rpb24gKHBvaW50U2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcnRpY2xlRW50aXR5KHRoaXMub2lkLCBwb2ludFNpemUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlQXhpcyA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBeGlzRW50aXR5KHRoaXMub2lkLCBsZW5ndGgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlR3JpZCA9IGZ1bmN0aW9uIChkaW0sIGxpbmVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgR3JpZEVudGl0eSh0aGlzLm9pZCwgZGltLCBsaW5lcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVTZWxlY3QgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlbGVjdEVudGl0eSh0aGlzLm9pZCwgZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVTZWxlY3RvciA9IGZ1bmN0aW9uIChkaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gbmV3IFNlbGVjdG9yKHRoaXMub2lkLCBkaW1lbnNpb25zKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmZpbGxTZWxlY3RvciA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rvci5maWxsKG9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNsZWFyU2VsZWN0b3IgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3Rvci5maW5kKHBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5NYWluQ2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5yZW1vdmVUZXh0dXJlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIEtldGNoLnJlbW92ZVRleHR1cmUodGhpcy5vaWQsIGlkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnN0YXJ0TG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fbG9hZGVyQnVmZmVyLCBmdW5jdGlvbiAoaXRlbSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5sb2FkTWVzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuRW52aXJvbm1lbnQoY29uZmlnLmJhY2tncm91bmQpO1xyXG4gICAgICAgICAgICBzZWxmLlByb2dyYW0oY29uZmlnLnR5cGVTaGFkZXIpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMoc2VsZi5fb2lkLCBTY2VuZUdyYXBoLkFUVFJJQlVURVMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5VTklGT1JNUyk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrLmluaXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZVdpdGhMb2FkZXIgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnN0YXJ0TG9hZGVyKGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGguVU5JRk9STVMgPSBbXHJcbiAgICAgICAgICAgICd1UE1hdHJpeCcsXHJcbiAgICAgICAgICAgICd1TVZNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU5NYXRyaXgnLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlyZWN0aW9uJyxcclxuICAgICAgICAgICAgJ3VMaWdodEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsQW1iaWVudCcsXHJcbiAgICAgICAgICAgICd1TGlnaHREaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbERpZmZ1c2UnLFxyXG4gICAgICAgICAgICAndUxpZ2h0U3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsU3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndVNoaW5pbmVzcycsXHJcbiAgICAgICAgICAgICd1UG9pbnRTaXplJyxcclxuICAgICAgICAgICAgXCJ1U2FtcGxlclwiLFxyXG4gICAgICAgICAgICBcInVXaXJlZnJhbWVcIixcclxuICAgICAgICAgICAgXCJ1UGVyVmVydGV4Q29sb3JcIixcclxuICAgICAgICAgICAgXCJ1U2VsZWN0Q29sb3JcIixcclxuICAgICAgICAgICAgXCJ1T2Zmc2NyZWVuXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIFNjZW5lR3JhcGguQVRUUklCVVRFUyA9IFsnYV9wb3NpdGlvbicsICdhX25vcm1hbCcsIFwiYV9jb2xvclwiXTtcclxuICAgICAgICByZXR1cm4gU2NlbmVHcmFwaDtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2NlbmVHcmFwaCA9IFNjZW5lR3JhcGg7XHJcbn0pKEJsYXplIHx8IChCbGF6ZSA9IHt9KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
