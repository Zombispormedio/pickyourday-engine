var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Blaze;!function(e){var t;!function(e){function t(e){for(var t=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{t=e.getContext(i[n])}catch(r){}if(t)break}return null===t?(alert("Could not initialise WebGL"),null):(t.viewportWidth=e.width,t.viewportHeight=e.height,t)}function i(t,i,n,r){var o=t.createBuffer();switch(t.bindBuffer(t.ARRAY_BUFFER,o),r){case e.BUFFER_DRAW.STATIC:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW);break;case e.BUFFER_DRAW.DYNAMIC:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.DYNAMIC_DRAW);break;case e.BUFFER_DRAW.STREAM:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STREAM_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW)}return t.bindBuffer(t.ARRAY_BUFFER,null),n?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function n(t,i,n){var r=t.createBuffer(t.ELEMENT_ARRAY_BUFFER);switch(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),n){case e.BUFFER_DRAW.STATIC:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW);break;case e.BUFFER_DRAW.DYNAMIC:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.DYNAMIC_DRAW);break;case e.BUFFER_DRAW.STREAM:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STREAM_DRAW);break;default:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW)}return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),r.itemSize=1,r.numItems=i.length,r}function r(e,t){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),i}function o(e,t,i){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),null)}function a(e,t){return o(e,e.FRAGMENT_SHADER,t)}function s(e,t){return o(e,e.VERTEX_SHADER,t)}function u(e,t){var i=a(e,t.fragment),n=s(e,t.vertex),r=e.createProgram();return e.attachShader(r,n),e.attachShader(r,i),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)||console.log(e.getProgramInfoLog(r)),r}e.getGLContext=t,function(e){e[e.STATIC=0]="STATIC",e[e.STREAM=1]="STREAM",e[e.DYNAMIC=2]="DYNAMIC"}(e.BUFFER_DRAW||(e.BUFFER_DRAW={}));e.BUFFER_DRAW;e.createBuffer=i,e.createIndexBuffer=n,e.createTexture=r,e.createShader=o,e.createFragmentShader=a,e.createVertexShader=s,e.createProgram=u}(t=e.WebGLUtils||(e.WebGLUtils={}));var i;!function(e){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(e){var i=t()+t();return e?e+i:i}function n(e){return e.map(function(e){return Number.isNaN(e)&&(e=0),e})}function r(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.addEventListener("load",function(){t(i.responseText)}),i.send()}function o(e){var t=e.split(".");return t[t.length-1]}function a(){return(new Date).getTime()}function s(e){return e*Math.PI/180}function u(e,t){for(var i=0,n=1,r=2,o=[],a=0;a<e.length;a++)o[a]=0;for(var a=0;a<t.length;a+=3){var s=[],u=[],f=[];s[i]=e[3*t[a+1]+i]-e[3*t[a]+i],s[n]=e[3*t[a+1]+n]-e[3*t[a]+n],s[r]=e[3*t[a+1]+r]-e[3*t[a]+r],u[i]=e[3*t[a+2]+i]-e[3*t[a+1]+i],u[n]=e[3*t[a+2]+n]-e[3*t[a+1]+n],u[r]=e[3*t[a+2]+r]-e[3*t[a+1]+r],f[i]=s[n]*u[r]-s[r]*u[n],f[n]=s[r]*u[i]-s[i]*u[r],f[r]=s[i]*u[n]-s[n]*u[i];for(var c=0;3>c;c++)o[3*t[a+c]+i]=o[3*t[a+c]+i]+f[i],o[3*t[a+c]+n]=o[3*t[a+c]+n]+f[n],o[3*t[a+c]+r]=o[3*t[a+c]+r]+f[r]}for(var a=0;a<e.length;a+=3){var l=[];l[i]=o[a+i],l[n]=o[a+n],l[r]=o[a+r];var h=Math.sqrt(l[i]*l[i]+l[n]*l[n]+l[r]*l[r]);0==h&&(h=1e-5),l[i]=l[i]/h,l[n]=l[n]/h,l[r]=l[r]/h,o[a+i]=l[i],o[a+n]=l[n],o[a+r]=l[r]}return o}e.s4=t,e.uuid=i,e.normalizeNaN=n,e.load=r,e.getExtension=o,e.nowInMilliseconds=a,e.degToRad=s,e.calculateNormals=u}(i=e.utils||(e.utils={})),function(e){e[e.ORBITING=0]="ORBITING",e[e.TRACKING=1]="TRACKING"}(e.CAMERA_TYPE||(e.CAMERA_TYPE={}));var n=e.CAMERA_TYPE,r=function(){function e(){}return e.setCanvasToContext=function(i,n){var r=t.getGLContext(n);e.setContext(i,r)},e.setContext=function(t,i){e._views[t].context=i},e.getContext=function(t){return e._views[t].context},e.createProgram=function(i,n){var r=e.getContext(i),o=t.createProgram(r,n);e.setProgram(i,o)},e.setProgram=function(t,i){e._views[t].program=i},e.getProgram=function(t){return e._views[t].program},e.useProgram=function(t){var i=e._views[t],n=i.context,r=i.program;n.useProgram(r)},e.createView=function(t){e._views[t]={}},e.setAttributeLocations=function(t,i){var n=e._views[t],r=n.context,o=n.program;n.attribs=i.reduce(function(e,t){return e[t]=r.getAttribLocation(o,t),e},{})},e.getAttrib=function(t,i){return e._views[t].attribs[i]},e.getUniform=function(t,i){return e._views[t].uniforms[i]},e.setUniformLocations=function(t,i){var n=e._views[t],r=n.context,o=n.program;n.uniforms=i.reduce(function(e,t){return e[t]=r.getUniformLocation(o,t),e},{})},e.enableAttrib=function(t,i,n){var r=e.getAttrib(t,i),o=e.getContext(t);o.enableVertexAttribArray(r),n?o.vertexAttribPointer(r,n.size||3,o.FLOAT,n.normalized||!1,n.stride||0,n.offset||0):o.vertexAttribPointer(r,3,o.FLOAT,!1,0,0)},e.disableAttrib=function(t,i){var n=e.getAttrib(t,i),r=e.getContext(t);r.disableVertexAttribArray(n)},e.renderLoop=function(e){setInterval(e,30)},e.addTexture=function(t,i){var n=e._views[t];n.textures=n.textures||[],n.textures.push(i)},e.removeTexture=function(t,i){var n=e._views[t];n.textures=n.textures||[];var r=n.textures.indexOf(i);n.textures.splice(r,1)},e.activeTexture=function(t,i,n){var r=e._views[t],o=r.context,a=(r.program,r.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,n);var s=e.getUniform(t,"uSampler");o.uniform1i(s,a)}},e.isOffScreen=function(t){return e._views[t].offscreen},e.enableOffScreen=function(t){e._views[t].offscreen=!0},e.disableOffScreen=function(t){e._views[t].offscreen=!0},e.fillSelectorBuffer=function(t,i){var n=e._views[t];n.selectObjects=n.selectObjects||[],n.selectObjects.push(i)},e.clearSelectorBuffer=function(t){var i=e._views[t];i.selectObjects=[]},e.getSelectByColor=function(t,i){var n=e._views[t];return n.selectObjects=n.selectObjects||[],_.find(n.selectObjects,function(e){return _.isEqual(e.color,i)})},e._views={},e}();e.Ketch=r;var o=function(){function e(e){this._graph_id=e}return Object.defineProperty(e.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gl",{get:function(){return r.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"program",{get:function(){return r.getProgram(this.graphID)},enumerable:!0,configurable:!0}),e.prototype.getUniform=function(e){return r.getUniform(this.graphID,e)},e}();e.Renderable=o;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.beginDraw=function(e){},t.prototype.endDraw=function(e){},t}(o);e.Entity=a;var s=function(e){function t(t){e.call(this,t),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(t,e),t.prototype.push=function(){var e=mat4.create();mat4.set(this._mvMatrix,e),this._stack.push(e)},t.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},t.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(t.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MainCamera",{set:function(e){this._camera=e},enumerable:!0,configurable:!0}),t.prototype.Perspective=function(){var e=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,e.viewportWidth/e.viewportHeight,.1,1e3,this._pMatrix)},t.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},t.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},t.prototype.setUp=function(){var e=this.gl;this.Normal();var t=this.getUniform("uMVMatrix");t&&e.uniformMatrix4fv(t,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&e.uniformMatrix4fv(i,!1,this._pMatrix);var n=this.getUniform("uNMatrix");n&&e.uniformMatrix4fv(n,!1,this._nMatrix)},t}(o);e.MatrixStack=s;var u;!function(e){var n=function(e){function n(t){e.call(this,t)}return __extends(n,e),Object.defineProperty(n.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(e){var t=this,n=this,r=i.getExtension(e);i.load(e,function(e){var i;switch(r){case"obj":i=n.parseOBJ(e);break;case"json":i=n.parseJSON(e)}n.createBuffers(i),t._onload&&t._onload()})},enumerable:!0,configurable:!0}),n.prototype.parseJSON=function(e){var t={};try{t=JSON.parse(e)}catch(i){console.log(i)}return t},n.prototype.parseOBJ=function(e){var t={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=e.split("\n"),n=i.filter(function(e){return"v"===e[0]}),r=i.filter(function(e){return"f"===e[0]});n.forEach(function(e){var i=e.replace("\r","").split(" "),n=i[0];t[n]=t[n].concat(i.slice(1).filter(function(e){return""!==e}))});var o=[];return r.forEach(function(e){var t=e.replace("\r","").replace("f","").split(" ");o=o.concat(t.slice(1).filter(function(e){return""!==e}))}),o.forEach(function(e){var i=e.split("/");t.iv.push(parseInt(i[0])-1),t["in"].push(parseInt(i[1])-1),t.it.push(parseInt(i[2])-1)}),t},n.prototype.createBuffers=function(e){function n(e){return t.createBuffer(o,e)}function r(e){return t.createIndexBuffer(o,e)}var o=this.gl;_.defaults(e,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),e.v.length>0&&(this._vbo=n(e.v)),e.v.length>0&&e.iv.length>0&&(this._nbo=n(i.calculateNormals(e.v,e.iv))),e.vt.length>0&&(this._tbo=t.createBuffer(o,e.vt,!0)),e.iv.length>0&&(this._ivbo=r(e.iv)),e["in"].length>0&&(this._inbo=r(e["in"])),e.it.length>0&&(this._itbo=r(e.it))},Object.defineProperty(n.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),n}(o);e.MeshBuffers=n;var a=function(e){function n(t){e.call(this,t),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(n,e),Object.defineProperty(n.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(e){this._image.onload=this.loadTextureImage(this._onload),this._image.src=e},enumerable:!0,configurable:!0}),n.prototype.loadTextureImage=function(e){var i=this,n=this;return function(){i._texture=t.createTexture(n.gl,n._image),r.addTexture(n.graphID,n._oid),e&&e()}},Object.defineProperty(n.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),n}(o);e.MeshTexture=a;var s=function(e){function t(t,i,n,r,o){e.call(this,t),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=n?vec4.create(n):void 0,this._specular=r?vec4.create(r):vec4.create(),this._shininess=o||200}return __extends(t,e),Object.defineProperty(t.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{set:function(e){var t=this,n=this;i.load(e,function(e){var i=n.parse(e);t._ambient=i.Ka,t._diffuse=i.Kd,t._specular=i.Ks,t.shininess=i.Ns,t._onload&&t._onload()})},enumerable:!0,configurable:!0}),t.prototype.parse=function(e){var t={},i=["Ka","Kd","Ks","Ns"],n=e.split("\n");return n.forEach(function(e){var n=e.split(" "),r=n[0];if(i.indexOf(r)>-1)switch(r){case"Ns":t.Ns=Number(n[1]);break;default:var o=n.slice(1).map(function(e){return Number(e)});o.push(1),t[r]=o}}),t},Object.defineProperty(t.prototype,"ambient",{get:function(){return this._ambient},set:function(e){this._ambient=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuse",{get:function(){return this._diffuse},set:function(e){this._diffuse=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specular",{get:function(){return this._specular},set:function(e){this._specular=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shininess",{get:function(){return this._shininess},set:function(e){this._shininess=e},enumerable:!0,configurable:!0}),t}(o);e.MeshMaterial=s}(u=e.Resources||(e.Resources={}));var f;!function(e){var t=function(){function e(){}return e.Blur_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nuniform vec2 uInverseTextureSize;\n\nvarying vec2 vTextureCoord;\n\nvec4 offsetLookup(float xOff, float yOff){\n\n    float x=vTextureCoord.x+xOff*uInverseTextureSize.x;\n    float y=vTextureCoord.y+yOff*uInverseTextureSize.y;\n    return texture2D(uSampler, vec2(x, y))\n\n}\n\nvoid main(){\n\n    vec4 frameColor = offsetLookup(-4.0, 0.0) * 0.05;\n    frameColor += offsetLookup(-3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(-2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(-1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(0.0, 0.0) * 0.16;\n    frameColor += offsetLookup(1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(4.0, 0.0) * 0.05;\n\n    gl_FragColor = frameColor;\n\n\n    \n}",e.Film_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nuniform sampler2D uNoiseSampler;\nuniform vec2 uInverseTextureSize;\nuniform float uTime;\n\nvarying vec2 vTextureCoord;\n\nconst float grainIntensity = 0.1;\nconst float scrollSpeed = 4000.0;\n\n\nvoid main()\n{\n    vec4 frameColor=texture2D(uSampler, vTextureCoord);\n    vec4 grain=texture2D(uNoiseSampler, vTextureCoord*2.0+uTime*scrollSpeed*uInverseTextureSize);\n    gl_FragColor=frameColor-(grain*grainIntensity);\n\n}",e.No_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nvoid main(){\n    vec4 frameColor=texture2D(uSampler, vTextureCoord);\n    \n    gl_FragColor=frameColor;\n\n}\n",e.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform bool uWireframe;\n\nuniform sampler2D uSampler;\n\nvarying vec4 vColor;\n\n\nbool isBlack(vec4 color){\nreturn color.r==0.0 &&color.g==0.0&&color.b==0.0;\n}\nvoid main(void) { \n     if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n    gl_FragColor = texture2D(uSampler, gl_PointCoord);\n    if(gl_FragColor.a < 0.5 || isBlack(gl_FragColor)) discard;\n    }\n}",e.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Phong_positional="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\n\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec3 vLightDir;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(vLightDir);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightDiffuse*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform mat4 uMVMatrix;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uMaterialDiffuse;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nvarying vec4 vColor;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\n\nvoid main(){\n\n       if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n        vec4 color0=vec4(uMaterialDiffuse.rgb,1.0);\n        vec4 color1=vec4(0.0,0.0,0.0, 1.0);\n        vec4 color2=vec4(uMaterialDiffuse.rgb, 1.0);\n        \n        vec3 N= vNormal;\n        vec3 L = normalize(uLightDirection);\n        \n        vec4 eyePos= uMVMatrix*vec4(0.0,0.0,0.0,1.0);\n        \n        vec3 EyeVert = normalize(-eyePos.xyz);\n        \n        vec3 EyeLight=normalize(L+EyeVert);\n        \n        float sil= max(dot(N, EyeVert), 0.0);\n        \n        if( sil<0.4){\n            gl_FragColor=color1;\n        }else{\n             gl_FragColor=color0;\n             \n             float spec=pow(max(dot(N, EyeLight), 0.0), uShininess);\n             \n             if(spec<0.2) gl_FragColor*=0.8;\n             else gl_FragColor=color2;\n             \n             float diffuse=max(dot(N, L), 0.0);\n             if(diffuse<0.5)gl_FragColor*=0.8;\n        }\n\n\n\n\n\n}\n\n\n\n",e.Wavy_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n\nuniform sampler2D uSampler;\nuniform float uTime;\n\nvarying vec2 vTextureCoord;\n\nconst float speed = 15.0;\nconst float magnitude = 0.015;\n\nvoid main(){\n    \n    vec2 wavyCoord;\n    wavyCoord.s=vTextureCoord.s+(sin(uTime+vTextureCoord.t*speed)*magnitude);\n    wavyCoord.t=vTextureCoord.t+(sin(uTime+vTextureCoord.s*speed)*magnitude);\n    \n    vec4 frameColor=texture2D(uSampler, wavyCoord);\n    gl_FragColor=frameColor;\n\n\n}",e}();e.Fragment=t;var i=function(){function e(){}return e.Effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_position;\nattribute vec2 a_texture_coords;\n\nvarying vec2 vTextureCoord;\n\nvoid main(){\n    vTextureCoord=a_texture_coords;\n\n    gl_Position=vec4(a_position, 0.0,1.0);\n    \n}",e.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec3 a_position;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform float uPointSize;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec4 vColor;\n\nvoid main(void) {\n\n if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }\n    \n    gl_Position = uPMatrix * uMVMatrix * vec4(a_position.xyz, 1.0);\n    gl_PointSize = uPointSize;\n}",e.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Phong_positional="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform vec3 uLightPosition;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec3 vLightDir;\n\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n    vLightDir=vertex.xyz-uLightPosition;  \n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\nvarying vec4 vColor;\n\nvoid main(){\n    \n    vec4 normal= uNMatrix * vec4(a_normal,1.0);\n    \n     if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n    \n    vNormal=normal.xyz;\n    vVertex=a_position;\n    }\n    \n    gl_Position=uPMatrix*uMVMatrix*vec4(a_position, 1.0);\n    \n    \n    \n    \n\n}",e}();e.Vertex=i}(f=e.Shaders||(e.Shaders={}));var c=function(e){function t(t,i,n,r){e.call(this,t),this._frequency=i,this._interval_id=null,this._callback=r}return __extends(t,e),t.prototype.onFrame=function(){if(t.ElapseTime=i.nowInMilliseconds(),!(t.ElapseTime<5)){for(var e=Math.floor(t.ElapseTime/this._frequency);e>0&&t.Count!=this._times;)this._callback(),e--,t.Count++;t.Count===this._times&&this.stop()}},t.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},t.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},t.prototype.beginDraw=function(){},t.prototype.endDraw=function(){},t.Count=0,t}(a);e.AnimationEntity=c;var l=function(e){function t(t,i,n,r){e.call(this,t),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=n||null,this._texturefile=r||null}return __extends(t,e),t.prototype.loadBuffers=function(e,t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=t,this._buffers.src=e},t.prototype.loadTexture=function(e,t){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=t,this._texture.src=e},Object.defineProperty(t.prototype,"material",{set:function(e){this._material=e},enumerable:!0,configurable:!0}),t.prototype.loadMaterial=function(e,t){this._material=new u.MeshMaterial(this.graphID),this._material.onload=t,this._material.src=e},t.prototype.loadMesh=function(e){var t=this,i=this;async.waterfall([function(e){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),e()})):e()},function(e){return t._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),e()})):e()},function(e){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),e()})):e()}],function(t){return t?console.log(t):void(e&&e())})},t.prototype.loadMeshByObject=function(e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(e)},t.prototype.loadMaterialByObject=function(e){this._material=new u.MeshMaterial(this.graphID),e.ambient&&(this._material.ambient=e.ambient),e.specular&&(this._material.specular=e.specular),e.diffuse&&(this._material.diffuse=e.diffuse),e.shininess&&(this._material.shininess=e.shininess)},t.prototype.setMaterialUniforms=function(){if(this._material){var e=this.gl;if(this._material.ambient){var t=this.getUniform("uMaterialAmbient");t&&e.uniform4fv(t,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&e.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var n=this.getUniform("uMaterialSpecular");n&&e.uniform4fv(n,this._material.specular)}if(this._material.shininess){var r=this.getUniform("uShininess");r&&e.uniform1f(r,this._material.shininess)}}},t.prototype.beginDraw=function(){var e=this.gl;this.setMaterialUniforms(),e.bindBuffer(e.ARRAY_BUFFER,this._buffers.vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,this._buffers.nbo),r.enableAttrib(this.graphID,"a_normal");var t=this._buffers.ivbo;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),e.drawElements(e.TRIANGLES,t.numItems,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl;r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_normal"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.MeshEntity=l;var h=function(e){function t(t,i,n,r){e.call(this,t),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=n||vec3.create([1,1,1]),this._rotation=r||{angle:0,axis:vec3.create()}}return __extends(t,e),t.prototype.identity=function(){mat4.identity(this._matrix)},t.prototype.setMatrix=function(e){this._matrix=e},t.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),t.prototype.setAbsolutePosition=function(e,t,i){this._position=[e,t,i]},t.prototype.translate=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._position,r=vec3.create([e,t,i]);vec3.add(n,r,this._position)},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),t.prototype.setSize=function(e,t,i){this._size=[e,t,i]},t.prototype.scale=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._size,r=vec3.create([e,t,i]);vec3.add(n,r,this._size)},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e},enumerable:!0,configurable:!0}),t.prototype.setRotation=function(e,t){e&&(this._rotation.angle=e),t&&(this._rotation.axis=t)},t.prototype.setAngle=function(e){this._rotation.angle=e},t.prototype.setAxis=function(e){this._rotation.axis=e},t.prototype.rotateAngle=function(e){void 0===e&&(e=0),this._rotation.angle+=e},t.prototype.moveAxis=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._rotation.axis,r=vec3.create([e,t,i]);vec3.add(n,r,this._rotation.axis)},t.prototype.beginDraw=function(e){if(e.push(),e.ModelView(),this._matrix=e.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var t=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,t,this._rotation.axis)}e.setUp()},t.prototype.endDraw=function(e){e.pop()},t}(a);e.TransformEntity=h;var m=function(e){function t(t,i,n,r,o,a,s){e.call(this,t),this._ambient=i?vec4.create(i):null,this._diffuse=n?vec4.create(n):null,this._position=r?vec3.create(r):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(t,e),Object.defineProperty(t.prototype,"ambient",{get:function(){return this._ambient},set:function(e){this._ambient=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuse",{get:function(){return this._diffuse},set:function(e){this._diffuse=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specular",{get:function(){return this._specular},set:function(e){this._specular=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._diffuse},set:function(e){this._position=i.normalizeNaN(vec3.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=i.normalizeNaN(vec3.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cutOff",{get:function(){return this._cutoff},set:function(e){this._cutoff=e},enumerable:!0,configurable:!0}),t.prototype.beginDraw=function(){var e=this.gl;if(this._ambient){var t=this.getUniform("uLightAmbient");t&&e.uniform4fv(t,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&e.uniform4fv(i,this._diffuse)}if(this._specular){var n=this.getUniform("uLightSpecular");n&&e.uniform4fv(n,this._specular)}if(this._position){var r=this.getUniform("uLightPosition");r&&e.uniform3fv(r,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&e.uniform3fv(o,this._direction)}if(this._cutoff){var a=this.getUniform("uCutOff");a&&e.uniform1f(a,this._cutoff)}},t.prototype.endDraw=function(){},t}(a);e.LightEntity=m;var p=function(e){function t(t,i){e.call(this,t),this._value=i}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uMaterialDiffuse");t&&e.uniform4fv(t,this._value)},t.prototype.endDraw=function(){},t}(a);e.DiffuseEntity=p;var d=function(e){function n(t,i){e.call(this,t),this._pointSize=i||1,this._buffer=null,this._texture_id=""}return __extends(n,e),n.prototype.configure=function(e,n){var o=this.gl;this._buffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(e),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this._numItems=e.length,this._texture_id=i.uuid("Texture"),
this._texture=t.createTexture(o,n),r.addTexture(this.graphID,this._texture_id)},n.prototype.update=function(e){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this._buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._numItems=e.length},Object.defineProperty(n.prototype,"textureID",{get:function(){return this._texture_id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointSize",{set:function(e){this._pointSize=e},enumerable:!0,configurable:!0}),n.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uPointSize");t&&e.uniform1f(t,this._pointSize),e.bindBuffer(e.ARRAY_BUFFER,this._buffer),r.enableAttrib(this.graphID,"a_position"),r.activeTexture(this.graphID,this._texture_id,this._texture),e.drawArrays(e.POINTS,0,this._numItems/3)},n.prototype.endDraw=function(){var e=this.gl;r.disableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,null)},n}(a);e.ParticleEntity=d;var v=function(e){function t(t,i){e.call(this,t),this._type=i||n.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(t,e),Object.defineProperty(t.prototype,"type",{set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"azimuth",{get:function(){return this._azimuth},set:function(e){var t=e-this._azimuth;this.changeAzimuth(t)},enumerable:!0,configurable:!0}),t.prototype.changeAzimuth=function(e){this._azimuth+=e,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(t.prototype,"elevation",{get:function(){return this._elevation},set:function(e){var t=e-this._elevation;this.changeElevation(t)},enumerable:!0,configurable:!0}),t.prototype.changeElevation=function(e){this._elevation+=e,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(t.prototype,"zoom",{get:function(){return this._steps},set:function(e){var t=vec3.create(),i=vec3.create();t=this.position;var r=e-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===n.TRACKING?(o[0]=t[0]-r*i[0],o[1]=t[1]-r*i[1],o[2]=t[2]-r*i[2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]-r),this.position=o,this._steps=e},enumerable:!0,configurable:!0}),t.prototype.calculateOrientation=function(){var e=this._cmatrix;mat4.multiplyVec4(e,[1,0,0,0],this._right),mat4.multiplyVec4(e,[0,1,0,0],this._up),mat4.multiplyVec4(e,[0,0,1,0],this._normal)},t.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===n.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===n.TRACKING&&mat4.multiplyVec4(this._cmatrix,[0,0,0,1],this._position)},Object.defineProperty(t.prototype,"modelView",{get:function(){var e=mat4.create();return mat4.inverse(this._cmatrix,e),e},enumerable:!0,configurable:!0}),t.prototype.endDraw=function(){},t}(a);e.CameraEntity=v;var b=function(e){function t(t,i){e.call(this,t),i=i||100,this._vertices=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],this._indices=[0,1,2,3,4,5],this._colors=[1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1]}return __extends(t,e),t.prototype.init=function(){var e=this.gl;this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._vertices),e.STATIC_DRAW),this._ibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),e.STATIC_DRAW),this._cbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._cbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._colors),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!0);var i=this.getUniform("uPerVertexColor");i&&e.uniform1i(i,!0),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,this._cbo),r.enableAttrib(this.graphID,"a_color",{size:4}),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.drawElements(e.LINES,this._indices.length,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!1);var i=this.getUniform("uPerVertexColor");i&&e.uniform1i(i,!1),r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_color"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.AxisEntity=b;var g=function(e){function t(t,i,n){e.call(this,t),this._dimesions={dim:i||50,lines:n||50}}return __extends(t,e),t.prototype.init=function(){var e=this.gl;this.build(),this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._vertices),e.STATIC_DRAW),this._ibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.build=function(){for(var e=2*this._dimesions.dim/this._dimesions.lines,t=[],i=[],n=0;n<=this._dimesions.lines;n++)t[6*n]=-this._dimesions.dim,t[6*n+1]=-.5,t[6*n+2]=-this._dimesions.dim+n*e,t[6*n+3]=this._dimesions.dim,t[6*n+4]=-.5,t[6*n+5]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n+1]=-.5,t[6*(this._dimesions.lines+1)+6*n+2]=-this._dimesions.dim,t[6*(this._dimesions.lines+1)+6*n+3]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n+4]=-.5,t[6*(this._dimesions.lines+1)+6*n+5]=this._dimesions.dim,i[2*n]=2*n,i[2*n+1]=2*n+1,i[2*(this._dimesions.lines+1)+2*n]=2*(this._dimesions.lines+1)+2*n,i[2*(this._dimesions.lines+1)+2*n+1]=2*(this._dimesions.lines+1)+2*n+1;this._vertices=t,this._indices=i},t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!0);var i=this.getUniform("uMaterialDiffuse");i&&e.uniform4fv(i,[.7,.7,.7,1]),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.drawElements(e.LINES,this._indices.length,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!1),r.disableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.GridEntity=g;var E=function(e){function t(t,i){e.call(this,t),this._color=this.generateUniqueColor(),this._data=i}return __extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),t.prototype.generateUniqueColor=function(){for(var e,t=function(e){return void 0!=r.getSelectByColor(this.graphID,e)}.bind(this),i=!0;i;)e=[Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),1],i=t(e);return e},t.prototype.beginDraw=function(){if(r.isOffScreen(this.graphID)){var e=this.gl,t=this.getUniform("uSelectColor");t&&e.uniform4fv(t,this._color)}},t.prototype.endDraw=function(){},t}(a);e.SelectEntity=E;var y=function(e){function t(t,i){e.call(this,t),this._dimensions=i,this._framebuffer=null,this._renderbuffer=null,this._texture=null,this.configure()}return __extends(t,e),t.prototype.configure=function(){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this._dimensions.width,this._dimensions.height,0,e.RGBA,e.UNSIGNED_BYTE,null),this._renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this._dimensions.width,this._dimensions.height),this._framebuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this._renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},t.prototype.fill=function(e){r.fillSelectorBuffer(this.graphID,e)},t.prototype.clear=function(){r.clearSelectorBuffer(this.graphID)},t.prototype.find=function(e){var t=this.gl,i=new Uint8Array(4);t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),t.readPixels(e.x,e.y,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=[].slice.call(i).map(function(e){return parseFloat((e/255).toFixed(2))}),o=r.getSelectByColor(this.graphID,n);return o?o.data:void 0},t.prototype.render=function(e){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);var i=this.getUniform("uOffscreen");t.uniform1i(i,!0),r.enableOffScreen(this.graphID),e(),t.uniform1i(i,!1),r.disableOffScreen(this.graphID),t.bindFramebuffer(t.FRAMEBUFFER,null)},t}(o);e.Selector=y;var R=function(e){function i(t,i,n){e.call(this,t),this._texture=null,this._framebuffer=null,this._renderbuffer=null,this._vbo=null,this._tbo=null,this._shader=null,this._uniforms=null,this._attribs=null,this._noisetexture=null,this._start=Date.now(),this._canvas=i,this._type=n||"no",this.configure(),this.Geometry(),this.setEffect()}return __extends(i,e),i.prototype.configure=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,null),this._renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t,i),this._framebuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this._renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},i.prototype.Geometry=function(){var e=this.gl,t=[-1,-1,1,-1,-1,1,-1,1,1,-1,1,1],i=[0,0,1,0,0,1,0,1,1,0,1,1];this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this._tbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._tbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)},i.prototype.setEffect=function(e){this._type=e||this._type;var i=this.gl,n={};switch(n.vertex=f.Vertex.Effect,this._type){case"blur":n.fragment=f.Fragment.Blur_effect;break;case"film":n.fragment=f.Fragment.Film_effect;break;case"wavy":n.fragment=f.Fragment.Wavy_effect;break;case"no":default:n.fragment=f.Fragment.No_effect}this._shader&&i.deleteProgram(this._shader),this._shader=t.createProgram(i,n);var r;this._attribs={},r=i.getProgramParameter(this._shader,i.ACTIVE_ATTRIBUTES);for(var o=0;r>o;o++){var a=i.getActiveAttrib(this._shader,o);this._attribs[a.name]=i.getAttribLocation(this._shader,a.name)}this._uniforms={},r=i.getProgramParameter(this._shader,i.ACTIVE_UNIFORMS);for(var o=0;r>o;o++){var s=i.getActiveUniform(this._shader,o);this._uniforms[a.name]=i.getUniformLocation(this._shader,s.name)}},i.prototype.Size=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null)},i.prototype.setNoiseTexture=function(e){var i=this.gl;this._noisetexture=t.createTexture(i,e)},i.prototype.Bind=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;e.useProgram(this._shader),e.enableVertexAttribArray(this._attribs.a_position),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.vertexAttribPointer(this._attribs.a_position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this._attribs.a_texture_coords),e.bindBuffer(e.ARRAY_BUFFER,this._tbo),e.vertexAttribPointer(this._attribs.a_texture_coords,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._texture),e.uniform1i(this._uniforms.uSampler,0),this._uniforms.uTime&&e.uniform1f(this._uniforms.uTime,(Date.now()-this._start)/1e3),this._uniforms.uInverseTextureSize&&e.uniform2f(this._uniforms.uInverseTextureSize,1/t,1/i),this._uniforms.uNoiseSampler&&this._noisetexture&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._noisetexture),e.uniform1i(this._uniforms.uNoiseSampler,1))},i.prototype.bindFrameBuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer)},i.prototype.unbindFrameBuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},i.prototype.draw=function(){var e=this.gl;e.drawArrays(e.TRIANGLES,0,6),e.bindBuffer(e.ARRAY_BUFFER,null),e.disableVertexAttribArray(this._attribs.a_position),e.disableVertexAttribArray(this._attribs.a_texture_coords)},i}(o);e.Effects=R;var x=function(){function e(e,t,n){this._parentNode=e,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=t,this._oid=i.uuid(this._type||this.constructor.name),this._entity=n}return Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entity",{get:function(){return this._entity},set:function(e){this._entity=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),e.prototype.addChildNode=function(e){this._childNodes.push(e)},e.prototype.removeChildNode=function(e){var t=this.indexOf(e);t>-1&&this._childNodes.splice(t,1)},e.prototype.getChildNodeByIndex=function(e){return this._childNodes[e]||void 0},e.prototype.existsChildNode=function(e){return void 0!==this._childNodes[e]},e.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},e.prototype.createChildNode=function(t,i){return new e(this,t,i)},e.prototype.isRoot=function(){return void 0===this._parentNode},e.prototype.indexOf=function(e){var t=e.oid;return _.findIndex(this._childNodes,function(e){return e.oid===t})},e.prototype.indexInParent=function(){var e=-1;return this.isRoot()||(e=this._parentNode.indexOf(this)),e},e.prototype.hasSibling=function(e){var t=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(e?this._parentNode.getChildNodeByIndex(i-1)&&(t=!0):this._parentNode.getChildNodeByIndex(i+1)&&(t=!0))}return t},e.prototype.nextSibling=function(){var e=null;if(!this.isRoot()&&this.hasSibling()){var t=this._parentNode.indexOf(this);e=this._parentNode.getChildNodeByIndex(t+1)}return e},e.prototype.previousSibling=function(){var e=null;if(!this.isRoot()&&this.hasSibling(!0)){var t=this._parentNode.indexOf(this);e=this._parentNode.getChildNodeByIndex(t-1)}return e},e.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},e.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},e.prototype.removeChildNodes=function(){this._childNodes=[]},e.prototype.draw=function(e){this._entity&&this._entity.beginDraw(e);for(var t=0;t<this._childNodes.length;t++){var i=this._childNodes[t];i.draw(e)}this._entity&&this._entity.endDraw(e)},e}();e.NodeElement=x;var A=function(e){function t(){var t=i.uuid();e.call(this,t),this._oid=t,this._scene=new x(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],r.createView(this._oid),this._selector=null,this._effects=null}return __extends(t,e),Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),t.prototype.Environment=function(e){var t=this.gl;e=e||[],t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.clearColor(e[0]||0,e[1]||0,e[2]||0,1),t.clearDepth(1)},t.prototype.render=function(){this._effects?this.drawWithEffects():this.drawScene()},t.prototype.drawScene=function(){var e=this.gl;this.useProgram();var t=function(){e.viewport(0,0,e.viewportWidth,e.viewportHeight),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this._scene.draw(this._matrixStack)}.bind(this);this._selector&&this._selector.render(t),t()},t.prototype.drawWithEffects=function(){this._effects.Size(),this._effects.bindFrameBuffer(),this.drawScene(),this._effects.unbindFrameBuffer(),this._effects.Bind(),this._effects.draw()},t.prototype.useProgram=function(){r.useProgram(this.oid)},t.prototype.createMainChildNode=function(e,t){return this._scene.createChildNode(e,t)},t.prototype.removeMainChildNode=function(e){this._scene.removeChildNode(e)},Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),t.prototype.setContext=function(e){r.setCanvasToContext(this.oid,e)},t.prototype.Program=function(e){e=e||"Phong",r.createProgram(this._oid,{fragment:f.Fragment[e]||f.Fragment.Phong,vertex:f.Vertex[e]||f.Vertex.Phong})},t.prototype.createMesh=function(e){var t=new l(this.oid);return e.mesh&&t.loadMeshByObject(e.mesh),e.material&&t.loadMaterialByObject(e.material),t},t.prototype.createDiffuse=function(e){return new p(this.oid,e)},t.prototype.createMeshByLoader=function(e){var t=new l(this.oid,e.mesh,e.material,e.texture);return this._loaderBuffer.push(t),t},t.prototype.createTransform=function(e,t,i){return new h(this.oid,e,t,i)},t.prototype.createLight=function(e){return new m(this.oid,e.ambient,e.diffuse,e.position,e.specular,e.direction,e.cutoff)},t.prototype.createCamera=function(e){return new v(this.oid,e)},t.prototype.createParticle=function(e){return new d(this.oid,e)},t.prototype.createAxis=function(e){return new b(this.oid,e)},t.prototype.createGrid=function(e,t){return new g(this.oid,e,t)},t.prototype.createSelect=function(e){return new E(this.oid,e)},t.prototype.createSelector=function(e){this._selector=new y(this.oid,e)},t.prototype.fillSelector=function(e){this._selector&&this._selector.fill(e)},t.prototype.clearSelector=function(e){this._selector&&this._selector.clear()},t.prototype.select=function(e){return this._selector?this._selector.find(e):void 0},t.prototype.createEffects=function(e,t){this._effects=new R(this.oid,e,t),console.log(this._effects)},t.prototype.setNoiseEffect=function(e){this._effects&&this._effects.setNoiseTexture(e)},t.prototype.setEffect=function(e){this._effects&&this._effects.setEffect(e)},Object.defineProperty(t.prototype,"MainCamera",{set:function(e){this._matrixStack.MainCamera=e},enumerable:!0,configurable:!0}),t.prototype.removeTexture=function(e){r.removeTexture(this.oid,e)},t.prototype.startLoader=function(e){async.eachSeries(this._loaderBuffer,function(e,t){e.loadMesh(function(){console.log(e),t()})},e)},t.prototype.configure=function(e){var i=this;e=e||{},i.Environment(e.background),i.Program(e.typeShader),r.setAttributeLocations(i._oid,t.ATTRIBUTES),r.setUniformLocations(i._oid,t.UNIFORMS),this._matrixStack.init()},t.prototype.configureWithLoader=function(e){var t=this;t.configure(),t.startLoader(e)},t.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightPosition","uLightDirection","uCutOff","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uPointSize","uSampler","uWireframe","uPerVertexColor","uSelectColor","uOffscreen","uInverseTextureSize","uNoiseSampler","uTime"],t.ATTRIBUTES=["a_position","a_normal","a_color","a_texture_coords"],t}(o);e.SceneGraph=A}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiY3JlYXRlU2hhZGVyIiwidHlwZSIsInNoYWRlclNvdXJjZSIsInNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiY3JlYXRlRnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVWZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsInNoYWRlcnMiLCJmcmFnbWVudFNoYWRlciIsImZyYWdtZW50IiwidmVydGV4U2hhZGVyIiwidmVydGV4IiwicHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1dGlscyIsInM0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ1dWlkIiwibmFtZSIsImlkIiwibm9ybWFsaXplTmFOIiwidmVjIiwibWFwIiwiYSIsIk51bWJlciIsImlzTmFOIiwibG9hZCIsInVybCIsImNhbGxiYWNrIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNwb25zZVRleHQiLCJzZW5kIiwiZ2V0RXh0ZW5zaW9uIiwic3RyIiwiZWxlbXMiLCJzcGxpdCIsIm5vd0luTWlsbGlzZWNvbmRzIiwiRGF0ZSIsImdldFRpbWUiLCJkZWdUb1JhZCIsIlBJIiwiY2FsY3VsYXRlTm9ybWFscyIsInZzIiwiaW5kIiwieCIsInkiLCJ6IiwibnMiLCJ2MSIsInYyIiwibm9ybWFsIiwiaiIsIm5uIiwibGVuIiwic3FydCIsIkNBTUVSQV9UWVBFIiwiS2V0Y2giLCJzZXRDYW52YXNUb0NvbnRleHQiLCJrZXkiLCJjb250ZXh0Iiwic2V0Q29udGV4dCIsIl92aWV3cyIsInNldFByb2dyYW0iLCJnZXRQcm9ncmFtIiwidXNlUHJvZ3JhbSIsInZpZXciLCJwcmciLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsImF0dHJpYnMiLCJyZWR1Y2UiLCJwcmV2IiwiYXR0ciIsImdldEF0dHJpYkxvY2F0aW9uIiwiZ2V0QXR0cmliIiwidmlld19rZXkiLCJhdHRyX2tleSIsImdldFVuaWZvcm0iLCJ1bmlmb3JtX2tleSIsInVuaWZvcm1zIiwic2V0VW5pZm9ybUxvY2F0aW9ucyIsInVuaWZvcm1fbmFtZXMiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJlbmFibGVBdHRyaWIiLCJwb2ludGVyIiwiaW5kZXgiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJzaXplIiwiRkxPQVQiLCJub3JtYWxpemVkIiwic3RyaWRlIiwib2Zmc2V0IiwiZGlzYWJsZUF0dHJpYiIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInJlbmRlckxvb3AiLCJjYiIsInNldEludGVydmFsIiwiYWRkVGV4dHVyZSIsInRleHR1cmVfaWQiLCJ0ZXh0dXJlcyIsInB1c2giLCJyZW1vdmVUZXh0dXJlIiwiaW5kZXhPZiIsInNwbGljZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVTYW1wbGVyIiwidW5pZm9ybTFpIiwiaXNPZmZTY3JlZW4iLCJvZmZzY3JlZW4iLCJlbmFibGVPZmZTY3JlZW4iLCJkaXNhYmxlT2ZmU2NyZWVuIiwiZmlsbFNlbGVjdG9yQnVmZmVyIiwib2JqIiwic2VsZWN0T2JqZWN0cyIsImNsZWFyU2VsZWN0b3JCdWZmZXIiLCJnZXRTZWxlY3RCeUNvbG9yIiwiY29sb3IiLCJfIiwiZmluZCIsIm8iLCJpc0VxdWFsIiwiUmVuZGVyYWJsZSIsImdyYXBoX2lkIiwiX2dyYXBoX2lkIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ3JhcGhJRCIsIkVudGl0eSIsIl9zdXBlciIsImNhbGwiLCJiZWdpbkRyYXciLCJtYXRyaXhTdGFjayIsImVuZERyYXciLCJNYXRyaXhTdGFjayIsIl9zdGFjayIsIl9tdk1hdHJpeCIsIm1hdDQiLCJfcE1hdHJpeCIsIl9uTWF0cml4IiwiY29weSIsInNldCIsInBvcCIsIk1vZGVsVmlldyIsIl9jYW1lcmEiLCJtb2RlbFZpZXciLCJpZGVudGl0eSIsImNhbWVyYSIsIlBlcnNwZWN0aXZlIiwicGVyc3BlY3RpdmUiLCJOb3JtYWwiLCJpbnZlcnNlIiwidHJhbnNwb3NlIiwiaW5pdCIsInNldFVwIiwibXZNYXRyaXgiLCJ1bmlmb3JtTWF0cml4NGZ2IiwicE1hdHJpeCIsIm5NYXRyaXgiLCJSZXNvdXJjZXMiLCJNZXNoQnVmZmVycyIsIl9vbmxvYWQiLCJzcmMiLCJfdGhpcyIsInNlbGYiLCJleHQiLCJwYXJzZU9CSiIsInBhcnNlSlNPTiIsImNyZWF0ZUJ1ZmZlcnMiLCJKU09OIiwicGFyc2UiLCJ2Iiwidm4iLCJ2dCIsIml2IiwiaW4iLCJpdCIsImxpbmVzIiwiZmlsdGVyIiwiZm9yRWFjaCIsIml0ZW0iLCJyZXBsYWNlIiwiY29uY2F0Iiwic2xpY2UiLCJ0ZW1wSW5kZXgiLCJwYXJzZUludCIsImRlZmF1bHRzIiwiX3ZibyIsIl9uYm8iLCJfdGJvIiwiX2l2Ym8iLCJfaW5ibyIsIl9pdGJvIiwiTWVzaFRleHR1cmUiLCJfaW1hZ2UiLCJJbWFnZSIsIl9vaWQiLCJmaWxlbmFtZSIsIm9ubG9hZCIsImxvYWRUZXh0dXJlSW1hZ2UiLCJfdGV4dHVyZSIsIk1lc2hNYXRlcmlhbCIsImFtYmllbnQiLCJkaWZmdXNlIiwic3BlY3VsYXIiLCJzaGluaW5lc3MiLCJfYW1iaWVudCIsInZlYzQiLCJfZGlmZnVzZSIsIl9zcGVjdWxhciIsIl9zaGluaW5lc3MiLCJ0ZW1wIiwiS2EiLCJLZCIsIktzIiwiTnMiLCJrZXlzIiwibGluZSIsIlNoYWRlcnMiLCJGcmFnbWVudCIsIkJsdXJfZWZmZWN0IiwiRmlsbV9lZmZlY3QiLCJOb19lZmZlY3QiLCJQYXJ0aWNsZSIsIlBob25nIiwiUGhvbmdfcG9zaXRpb25hbCIsIlRvb24iLCJXYXZ5X2VmZmVjdCIsIlZlcnRleCIsIkVmZmVjdCIsIkFuaW1hdGlvbkVudGl0eSIsImZyZXF1ZW5jeSIsInRpbWVzIiwiX2ZyZXF1ZW5jeSIsIl9pbnRlcnZhbF9pZCIsIl9jYWxsYmFjayIsIm9uRnJhbWUiLCJFbGFwc2VUaW1lIiwic3RlcHMiLCJDb3VudCIsIl90aW1lcyIsInN0b3AiLCJzdGFydCIsIl9pbnRpbWUiLCJjbGVhckludGVydmFsIiwiTWVzaEVudGl0eSIsIm1lc2hmaWxlIiwibWF0ZXJpYWxmaWxlIiwidGV4dHVyZWZpbGUiLCJfbWF0ZXJpYWwiLCJfYnVmZmVycyIsIl9tZXNoZmlsZSIsIl9tYXRlcmlhbGZpbGUiLCJfdGV4dHVyZWZpbGUiLCJsb2FkQnVmZmVycyIsImxvYWRUZXh0dXJlIiwibG9hZE1hdGVyaWFsIiwibG9hZE1lc2giLCJhc3luYyIsIndhdGVyZmFsbCIsIm5leHQiLCJlcnIiLCJsb2FkTWVzaEJ5T2JqZWN0IiwibG9hZE1hdGVyaWFsQnlPYmplY3QiLCJzZXRNYXRlcmlhbFVuaWZvcm1zIiwidU1hdGVyaWFsQW1iaWVudCIsInVuaWZvcm00ZnYiLCJ1TWF0ZXJpYWxEaWZmdXNlIiwidU1hdGVyaWFsU3BlY3VsYXIiLCJ1U2hpbmluZXNzIiwidW5pZm9ybTFmIiwidmJvIiwibmJvIiwiaXZibyIsImRyYXdFbGVtZW50cyIsIlRSSUFOR0xFUyIsIlVOU0lHTkVEX1NIT1JUIiwiVHJhbnNmb3JtRW50aXR5IiwicG9zaXRpb24iLCJyb3RhdGlvbiIsIl9tYXRyaXgiLCJfcG9zaXRpb24iLCJ2ZWMzIiwiX3NpemUiLCJfcm90YXRpb24iLCJhbmdsZSIsImF4aXMiLCJzZXRNYXRyaXgiLCJuZXdfbWF0cml4Iiwic2V0QWJzb2x1dGVQb3NpdGlvbiIsInRyYW5zbGF0ZSIsIm9wZXJhbmQxIiwib3BlcmFuZDIiLCJhZGQiLCJzZXRTaXplIiwic2NhbGUiLCJzZXRSb3RhdGlvbiIsInNldEFuZ2xlIiwic2V0QXhpcyIsInJvdGF0ZUFuZ2xlIiwibW92ZUF4aXMiLCJyYWQiLCJyb3RhdGUiLCJMaWdodEVudGl0eSIsImRpcmVjdGlvbiIsImN1dG9mZiIsIl9kaXJlY3Rpb24iLCJfY3V0b2ZmIiwidUxpZ2h0QW1iaWVudCIsInVMaWdodERpZmZ1c2UiLCJ1TGlnaHRTcGVjdWxhciIsInVMaWdodFBvc2l0aW9uIiwidW5pZm9ybTNmdiIsInVEaXJlY3Rpb24iLCJ1Q3V0T2ZmIiwiRGlmZnVzZUVudGl0eSIsIl92YWx1ZSIsIlBhcnRpY2xlRW50aXR5IiwicG9pbnRTaXplIiwiX3BvaW50U2l6ZSIsIl9idWZmZXIiLCJfdGV4dHVyZV9pZCIsImNvbmZpZ3VyZSIsImRhdGFfbWVzaCIsImRhdGFfdGV4dHVyZSIsIl9udW1JdGVtcyIsInVwZGF0ZSIsInVQb2ludFNpemUiLCJkcmF3QXJyYXlzIiwiUE9JTlRTIiwiQ2FtZXJhRW50aXR5IiwiX3R5cGUiLCJPUkJJVElORyIsIl9jbWF0cml4IiwiX3VwIiwiX3JpZ2h0IiwiX25vcm1hbCIsIl9hemltdXRoIiwiX2VsZXZhdGlvbiIsIl9zdGVwcyIsInBvcyIsImF6IiwidGVtcF9heiIsImNoYW5nZUF6aW11dGgiLCJlbCIsInRlbXBfZWwiLCJjaGFuZ2VFbGV2YXRpb24iLCJuIiwic3RlcCIsIm5vcm1hbGl6ZSIsIm5ld19wb3NpdGlvbiIsIlRSQUNLSU5HIiwiY2FsY3VsYXRlT3JpZW50YXRpb24iLCJtIiwibXVsdGlwbHlWZWM0Iiwicm90YXRlWSIsInJvdGF0ZVgiLCJBeGlzRW50aXR5IiwiX3ZlcnRpY2VzIiwiX2luZGljZXMiLCJfY29sb3JzIiwiX2libyIsIl9jYm8iLCJ1V2lyZWZyYW1lIiwidVBlclZlcnRleENvbG9yIiwiTElORVMiLCJHcmlkRW50aXR5IiwiX2RpbWVzaW9ucyIsImRpbSIsImJ1aWxkIiwiaW5jIiwibCIsIlNlbGVjdEVudGl0eSIsIl9jb2xvciIsImdlbmVyYXRlVW5pcXVlQ29sb3IiLCJfZGF0YSIsImNvbnRhaW5zIiwiYmluZCIsImZvdW5kIiwidG9GaXhlZCIsInVTZWxlY3RDb2xvciIsIlNlbGVjdG9yIiwiZGltZW5zaW9ucyIsIl9kaW1lbnNpb25zIiwiX2ZyYW1lYnVmZmVyIiwiX3JlbmRlcmJ1ZmZlciIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJyZW5kZXJidWZmZXJTdG9yYWdlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfQVRUQUNITUVOVCIsImZpbGwiLCJjbGVhciIsInJlYWRvdXQiLCJVaW50OEFycmF5IiwicmVhZFBpeGVscyIsImZpeGVkIiwicGFyc2VGbG9hdCIsInJlbmRlciIsImRyYXciLCJ1T2Zmc2NyZWVuIiwiRWZmZWN0cyIsIl9zaGFkZXIiLCJfdW5pZm9ybXMiLCJfYXR0cmlicyIsIl9ub2lzZXRleHR1cmUiLCJfc3RhcnQiLCJub3ciLCJfY2FudmFzIiwiR2VvbWV0cnkiLCJzZXRFZmZlY3QiLCJORUFSRVNUIiwiVEVYVFVSRV9XUkFQX1MiLCJDTEFNUF9UT19FREdFIiwiVEVYVFVSRV9XUkFQX1QiLCJ2ZXJ0aWNlcyIsInRleHR1cmVDb29yZHMiLCJzb3VyY2UiLCJkZWxldGVQcm9ncmFtIiwiY291bnQiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYiIsImdldEFjdGl2ZUF0dHJpYiIsIkFDVElWRV9VTklGT1JNUyIsInVuaWZvcm0iLCJnZXRBY3RpdmVVbmlmb3JtIiwiU2l6ZSIsInNldE5vaXNlVGV4dHVyZSIsIkJpbmQiLCJhX3Bvc2l0aW9uIiwiYV90ZXh0dXJlX2Nvb3JkcyIsInVUaW1lIiwidUludmVyc2VUZXh0dXJlU2l6ZSIsInVuaWZvcm0yZiIsInVOb2lzZVNhbXBsZXIiLCJURVhUVVJFMSIsImJpbmRGcmFtZUJ1ZmZlciIsInVuYmluZEZyYW1lQnVmZmVyIiwiTm9kZUVsZW1lbnQiLCJwYXJlbnQiLCJlbnRpdHkiLCJfcGFyZW50Tm9kZSIsImFkZENoaWxkTm9kZSIsIl9jaGlsZE5vZGVzIiwiX2VudGl0eSIsImNoaWxkIiwicmVtb3ZlQ2hpbGROb2RlIiwiZ2V0Q2hpbGROb2RlQnlJbmRleCIsImV4aXN0c0NoaWxkTm9kZSIsImNyZWF0ZUNoaWxkTm9kZSIsImlzUm9vdCIsIm9pZCIsImZpbmRJbmRleCIsInMiLCJpbmRleEluUGFyZW50IiwiaGFzU2libGluZyIsIl9oYXZlIiwibmV4dFNpYmxpbmciLCJzaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkTm9kZXMiLCJTY2VuZUdyYXBoIiwiX3NjZW5lIiwiX21hdHJpeFN0YWNrIiwiX2xvYWRlckJ1ZmZlciIsIl9zZWxlY3RvciIsIl9lZmZlY3RzIiwiRW52aXJvbm1lbnQiLCJlbmFibGUiLCJERVBUSF9URVNUIiwiZGVwdGhGdW5jIiwiTEVRVUFMIiwiQkxFTkQiLCJibGVuZEZ1bmMiLCJTUkNfQUxQSEEiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiY2xlYXJDb2xvciIsImNsZWFyRGVwdGgiLCJkcmF3V2l0aEVmZmVjdHMiLCJkcmF3U2NlbmUiLCJ2aWV3cG9ydCIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlTWFpbkNoaWxkTm9kZSIsInJlbW92ZU1haW5DaGlsZE5vZGUiLCJub2RlIiwiUHJvZ3JhbSIsImNyZWF0ZU1lc2giLCJjb25maWciLCJtZXNoRW50aXR5IiwibWVzaCIsIm1hdGVyaWFsIiwiY3JlYXRlRGlmZnVzZSIsImNyZWF0ZU1lc2hCeUxvYWRlciIsImNyZWF0ZVRyYW5zZm9ybSIsImNyZWF0ZUxpZ2h0IiwiY3JlYXRlQ2FtZXJhIiwiY3JlYXRlUGFydGljbGUiLCJjcmVhdGVBeGlzIiwiY3JlYXRlR3JpZCIsImNyZWF0ZVNlbGVjdCIsImNyZWF0ZVNlbGVjdG9yIiwiZmlsbFNlbGVjdG9yIiwiY2xlYXJTZWxlY3RvciIsInNlbGVjdCIsImNyZWF0ZUVmZmVjdHMiLCJzZXROb2lzZUVmZmVjdCIsIk1haW5DYW1lcmEiLCJzdGFydExvYWRlciIsImVhY2hTZXJpZXMiLCJiYWNrZ3JvdW5kIiwidHlwZVNoYWRlciIsIkFUVFJJQlVURVMiLCJVTklGT1JNUyIsImNvbmZpZ3VyZVdpdGhMb2FkZXIiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLFdBQWFDLE1BQVFBLEtBQUtELFdBQWMsU0FBVUUsRUFBR0MsR0FFckQsUUFBU0MsS0FBT0gsS0FBS0ksWUFBY0gsRUFEbkMsSUFBSyxHQUFJSSxLQUFLSCxHQUFPQSxFQUFFSSxlQUFlRCxLQUFJSixFQUFFSSxHQUFLSCxFQUFFRyxHQUVuREosR0FBRU0sVUFBa0IsT0FBTkwsRUFBYU0sT0FBT0MsT0FBT1AsSUFBTUMsRUFBR0ksVUFBWUwsRUFBRUssVUFBVyxHQUFJSixLQUUvRU8sT0FDSixTQUFXQSxHQUNQLEdBQUlDLElBQ0osU0FBV0EsR0FDUCxRQUFTQyxHQUFhQyxHQUdsQixJQUFLLEdBRkRDLEdBQU0sS0FDTkMsR0FBUyxRQUFTLHFCQUFzQixZQUFhLGFBQ2hEQyxFQUFJLEVBQUdBLEVBQUlELEVBQU1FLFNBQVVELEVBQUcsQ0FDbkMsSUFDSUYsRUFBTUQsRUFBT0ssV0FBV0gsRUFBTUMsSUFFbEMsTUFBT0csSUFDUCxHQUFJTCxFQUNBLE1BR1IsTUFBWSxRQUFSQSxHQUNBTSxNQUFNLDhCQUNDLE9BR1BOLEVBQUlPLGNBQWdCUixFQUFPUyxNQUMzQlIsRUFBSVMsZUFBaUJWLEVBQU9XLE9BQ3JCVixHQVVmLFFBQVNXLEdBQWFDLEVBQUlDLEVBQU1DLEVBQU1DLEdBQ2xDLEdBQUlDLEdBQVNKLEVBQUdELGNBRWhCLFFBREFDLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNGLEdBQ3ZCRCxHQUNKLElBQUtsQixHQUFXc0IsWUFBWUMsT0FDeEJSLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYVQsR0FBT0QsRUFBR1csWUFDMUQsTUFDSixLQUFLMUIsR0FBV3NCLFlBQVlLLFFBQ3hCWixFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFULEdBQU9ELEVBQUdhLGFBQzFELE1BQ0osS0FBSzVCLEdBQVdzQixZQUFZTyxPQUN4QmQsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhVCxHQUFPRCxFQUFHZSxZQUMxRCxNQUNKLFNBQVNmLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYVQsR0FBT0QsRUFBR1csYUFXdkUsTUFUQVgsR0FBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMzQkosR0FDQUUsRUFBT1ksU0FBVyxFQUNsQlosRUFBT2EsU0FBV2hCLEVBQUtWLE9BQVMsSUFHaENhLEVBQU9ZLFNBQVcsRUFDbEJaLEVBQU9hLFNBQVdoQixFQUFLVixPQUFTLEdBRTdCYSxFQUdYLFFBQVNjLEdBQWtCbEIsRUFBSUMsRUFBTUUsR0FDakMsR0FBSWdCLEdBQWNuQixFQUFHRCxhQUFhQyxFQUFHb0IscUJBRXJDLFFBREFwQixFQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCRCxHQUMvQmhCLEdBQ0osSUFBS2xCLEdBQVdzQixZQUFZQyxPQUN4QlIsRUFBR1MsV0FBV1QsRUFBR29CLHFCQUFzQixHQUFJQyxhQUFZcEIsR0FBT0QsRUFBR1csWUFDakUsTUFDSixLQUFLMUIsR0FBV3NCLFlBQVlLLFFBQ3hCWixFQUFHUyxXQUFXVCxFQUFHb0IscUJBQXNCLEdBQUlDLGFBQVlwQixHQUFPRCxFQUFHYSxhQUNqRSxNQUNKLEtBQUs1QixHQUFXc0IsWUFBWU8sT0FDeEJkLEVBQUdTLFdBQVdULEVBQUdvQixxQkFBc0IsR0FBSUMsYUFBWXBCLEdBQU9ELEVBQUdlLFlBQ2pFLE1BQ0osU0FBU2YsRUFBR1MsV0FBV1QsRUFBR29CLHFCQUFzQixHQUFJQyxhQUFZcEIsR0FBT0QsRUFBR1csYUFLOUUsTUFIQVgsR0FBR0ssV0FBV0wsRUFBR29CLHFCQUFzQixNQUN2Q0QsRUFBWUgsU0FBVyxFQUN2QkcsRUFBWUYsU0FBV2hCLEVBQUtWLE9BQ3JCNEIsRUFHWCxRQUFTRyxHQUFjdEIsRUFBSUMsR0FDdkIsR0FBSXNCLEdBQVV2QixFQUFHc0IsZUFNakIsT0FMQXRCLEdBQUd3QixZQUFZeEIsRUFBR3lCLFdBQVlGLEdBQzlCdkIsRUFBRzBCLFdBQVcxQixFQUFHeUIsV0FBWSxFQUFHekIsRUFBRzJCLEtBQU0zQixFQUFHMkIsS0FBTTNCLEVBQUc0QixjQUFlM0IsR0FDcEVELEVBQUc2QixjQUFjN0IsRUFBR3lCLFdBQVl6QixFQUFHOEIsbUJBQW9COUIsRUFBRytCLFFBQzFEL0IsRUFBRzZCLGNBQWM3QixFQUFHeUIsV0FBWXpCLEVBQUdnQyxtQkFBb0JoQyxFQUFHK0IsUUFDMUQvQixFQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZLE1BQ3ZCRixFQUdYLFFBQVNVLEdBQWFqQyxFQUFJa0MsRUFBTUMsR0FDNUIsR0FBSUMsR0FBU3BDLEVBQUdpQyxhQUFhQyxFQUc3QixPQUZBbEMsR0FBR21DLGFBQWFDLEVBQVFELEdBQ3hCbkMsRUFBR3FDLGNBQWNELEdBQ1pwQyxFQUFHc0MsbUJBQW1CRixFQUFRcEMsRUFBR3VDLGdCQUkvQkgsR0FISEksUUFBUUMsSUFBSXpDLEVBQUcwQyxpQkFBaUJOLElBQ3pCLE1BS2YsUUFBU08sR0FBcUIzQyxFQUFJbUMsR0FDOUIsTUFBT0YsR0FBYWpDLEVBQUlBLEVBQUc0QyxnQkFBaUJULEdBR2hELFFBQVNVLEdBQW1CN0MsRUFBSW1DLEdBQzVCLE1BQU9GLEdBQWFqQyxFQUFJQSxFQUFHOEMsY0FBZVgsR0FHOUMsUUFBU1ksR0FBYy9DLEVBQUlnRCxHQUN2QixHQUFJQyxHQUFpQk4sRUFBcUIzQyxFQUFJZ0QsRUFBUUUsVUFDbERDLEVBQWVOLEVBQW1CN0MsRUFBSWdELEVBQVFJLFFBQzlDQyxFQUFVckQsRUFBRytDLGVBTWpCLE9BTEEvQyxHQUFHc0QsYUFBYUQsRUFBU0YsR0FDekJuRCxFQUFHc0QsYUFBYUQsRUFBU0osR0FDekJqRCxFQUFHdUQsWUFBWUYsR0FDVnJELEVBQUd3RCxvQkFBb0JILEVBQVNyRCxFQUFHeUQsY0FDcENqQixRQUFRQyxJQUFJekMsRUFBRzBELGtCQUFrQkwsSUFDOUJBLEVBN0ZYcEUsRUFBV0MsYUFBZUEsRUFDMUIsU0FBV3FCLEdBQ1BBLEVBQVlBLEVBQW9CLE9BQUksR0FBSyxTQUN6Q0EsRUFBWUEsRUFBb0IsT0FBSSxHQUFLLFNBQ3pDQSxFQUFZQSxFQUFxQixRQUFJLEdBQUssV0FDM0N0QixFQUFXc0IsY0FBZ0J0QixFQUFXc0IsZ0JBQ3ZCdEIsR0FBV3NCLFdBMkI3QnRCLEdBQVdjLGFBQWVBLEVBcUIxQmQsRUFBV2lDLGtCQUFvQkEsRUFVL0JqQyxFQUFXcUMsY0FBZ0JBLEVBVzNCckMsRUFBV2dELGFBQWVBLEVBSTFCaEQsRUFBVzBELHFCQUF1QkEsRUFJbEMxRCxFQUFXNEQsbUJBQXFCQSxFQVloQzVELEVBQVc4RCxjQUFnQkEsR0FDNUI5RCxFQUFhRCxFQUFNQyxhQUFlRCxFQUFNQyxlQUMzQyxJQUFJMEUsSUFDSixTQUFXQSxHQUNQLFFBQVNDLEtBQ0wsTUFBT0MsTUFBS0MsTUFBNEIsT0FBckIsRUFBSUQsS0FBS0UsV0FDdkJDLFNBQVMsSUFDVEMsVUFBVSxHQUduQixRQUFTQyxHQUFLQyxHQUNWLEdBQUlDLEdBQUtSLElBQU9BLEdBQ2hCLE9BQU9PLEdBQU9BLEVBQU9DLEVBQUtBLEVBRzlCLFFBQVNDLEdBQWFDLEdBQ2xCLE1BQU9BLEdBQUlDLElBQUksU0FBVUMsR0FDZCxNQUR1QkMsUUFBT0MsTUFBTUYsS0FDM0NBLEVBQUksR0FBVUEsSUFHdEIsUUFBU0csR0FBS0MsRUFBS0MsR0FDZixHQUFJQyxHQUFVLEdBQUlDLGVBQ2xCRCxHQUFRRSxLQUFLLE1BQU9KLEdBQUssR0FDekJFLEVBQVFHLGlCQUFpQixPQUFRLFdBQzdCSixFQUFTQyxFQUFRSSxnQkFFckJKLEVBQVFLLE9BR1osUUFBU0MsR0FBYUMsR0FDbEIsR0FBSUMsR0FBUUQsRUFBSUUsTUFBTSxJQUN0QixPQUFPRCxHQUFNQSxFQUFNL0YsT0FBUyxHQUdoQyxRQUFTaUcsS0FDTCxPQUFPLEdBQUtDLE9BQVFDLFVBR3hCLFFBQVNDLEdBQVNwSCxHQUNkLE1BQU9BLEdBQUlzRixLQUFLK0IsR0FBSyxJQUd6QixRQUFTQyxHQUFpQkMsRUFBSUMsR0FLMUIsSUFBSyxHQUpEQyxHQUFJLEVBQ0pDLEVBQUksRUFDSkMsRUFBSSxFQUNKQyxLQUNLN0csRUFBSSxFQUFHQSxFQUFJd0csRUFBR3ZHLE9BQVFELElBQzNCNkcsRUFBRzdHLEdBQUssQ0FFWixLQUFLLEdBQUlBLEdBQUksRUFBR0EsRUFBSXlHLEVBQUl4RyxPQUFRRCxHQUFRLEVBQUcsQ0FDdkMsR0FBSThHLE1BQ0FDLEtBQ0FDLElBRUpGLEdBQUdKLEdBQUtGLEVBQUcsRUFBSUMsRUFBSXpHLEVBQUksR0FBSzBHLEdBQUtGLEVBQUcsRUFBSUMsRUFBSXpHLEdBQUswRyxHQUNqREksRUFBR0gsR0FBS0gsRUFBRyxFQUFJQyxFQUFJekcsRUFBSSxHQUFLMkcsR0FBS0gsRUFBRyxFQUFJQyxFQUFJekcsR0FBSzJHLEdBQ2pERyxFQUFHRixHQUFLSixFQUFHLEVBQUlDLEVBQUl6RyxFQUFJLEdBQUs0RyxHQUFLSixFQUFHLEVBQUlDLEVBQUl6RyxHQUFLNEcsR0FFakRHLEVBQUdMLEdBQUtGLEVBQUcsRUFBSUMsRUFBSXpHLEVBQUksR0FBSzBHLEdBQUtGLEVBQUcsRUFBSUMsRUFBSXpHLEVBQUksR0FBSzBHLEdBQ3JESyxFQUFHSixHQUFLSCxFQUFHLEVBQUlDLEVBQUl6RyxFQUFJLEdBQUsyRyxHQUFLSCxFQUFHLEVBQUlDLEVBQUl6RyxFQUFJLEdBQUsyRyxHQUNyREksRUFBR0gsR0FBS0osRUFBRyxFQUFJQyxFQUFJekcsRUFBSSxHQUFLNEcsR0FBS0osRUFBRyxFQUFJQyxFQUFJekcsRUFBSSxHQUFLNEcsR0FVckRJLEVBQU9OLEdBQUtJLEVBQUdILEdBQUtJLEVBQUdILEdBQUtFLEVBQUdGLEdBQUtHLEVBQUdKLEdBQ3ZDSyxFQUFPTCxHQUFLRyxFQUFHRixHQUFLRyxFQUFHTCxHQUFLSSxFQUFHSixHQUFLSyxFQUFHSCxHQUN2Q0ksRUFBT0osR0FBS0UsRUFBR0osR0FBS0ssRUFBR0osR0FBS0csRUFBR0gsR0FBS0ksRUFBR0wsRUFJdkMsS0FBSyxHQUFJTyxHQUFJLEVBQU8sRUFBSkEsRUFBT0EsSUFDbkJKLEVBQUcsRUFBSUosRUFBSXpHLEVBQUlpSCxHQUFLUCxHQUFLRyxFQUFHLEVBQUlKLEVBQUl6RyxFQUFJaUgsR0FBS1AsR0FBS00sRUFBT04sR0FDekRHLEVBQUcsRUFBSUosRUFBSXpHLEVBQUlpSCxHQUFLTixHQUFLRSxFQUFHLEVBQUlKLEVBQUl6RyxFQUFJaUgsR0FBS04sR0FBS0ssRUFBT0wsR0FDekRFLEVBQUcsRUFBSUosRUFBSXpHLEVBQUlpSCxHQUFLTCxHQUFLQyxFQUFHLEVBQUlKLEVBQUl6RyxFQUFJaUgsR0FBS0wsR0FBS0ksRUFBT0osR0FJakUsSUFBSyxHQUFJNUcsR0FBSSxFQUFHQSxFQUFJd0csRUFBR3ZHLE9BQVFELEdBQVEsRUFBRyxDQUN0QyxHQUFJa0gsS0FDSkEsR0FBR1IsR0FBS0csRUFBRzdHLEVBQUkwRyxHQUNmUSxFQUFHUCxHQUFLRSxFQUFHN0csRUFBSTJHLEdBQ2ZPLEVBQUdOLEdBQUtDLEVBQUc3RyxFQUFJNEcsRUFDZixJQUFJTyxHQUFNNUMsS0FBSzZDLEtBQU1GLEVBQUdSLEdBQUtRLEVBQUdSLEdBQU9RLEVBQUdQLEdBQUtPLEVBQUdQLEdBQU9PLEVBQUdOLEdBQUtNLEVBQUdOLEdBQ3pELElBQVBPLElBQ0FBLEVBQU0sTUFDVkQsRUFBR1IsR0FBS1EsRUFBR1IsR0FBS1MsRUFDaEJELEVBQUdQLEdBQUtPLEVBQUdQLEdBQUtRLEVBQ2hCRCxFQUFHTixHQUFLTSxFQUFHTixHQUFLTyxFQUNoQk4sRUFBRzdHLEVBQUkwRyxHQUFLUSxFQUFHUixHQUNmRyxFQUFHN0csRUFBSTJHLEdBQUtPLEVBQUdQLEdBQ2ZFLEVBQUc3RyxFQUFJNEcsR0FBS00sRUFBR04sR0FFbkIsTUFBT0MsR0ExRlh4QyxFQUFNQyxHQUFLQSxFQUtYRCxFQUFNTyxLQUFPQSxFQUtiUCxFQUFNVSxhQUFlQSxFQVNyQlYsRUFBTWdCLEtBQU9BLEVBS2JoQixFQUFNeUIsYUFBZUEsRUFJckJ6QixFQUFNNkIsa0JBQW9CQSxFQUkxQjdCLEVBQU1nQyxTQUFXQSxFQTREakJoQyxFQUFNa0MsaUJBQW1CQSxHQUMxQmxDLEVBQVEzRSxFQUFNMkUsUUFBVTNFLEVBQU0yRSxXQUNqQyxTQUFXZ0QsR0FDUEEsRUFBWUEsRUFBc0IsU0FBSSxHQUFLLFdBQzNDQSxFQUFZQSxFQUFzQixTQUFJLEdBQUssWUFDNUMzSCxFQUFNMkgsY0FBZ0IzSCxFQUFNMkgsZ0JBQy9CLElBQUlBLEdBQWMzSCxFQUFNMkgsWUFDcEJDLEVBQVMsV0FDVCxRQUFTQSxNQTRIVCxNQTFIQUEsR0FBTUMsbUJBQXFCLFNBQVVDLEVBQUszSCxHQUN0QyxHQUFJNEgsR0FBVTlILEVBQVdDLGFBQWFDLEVBQ3RDeUgsR0FBTUksV0FBV0YsRUFBS0MsSUFFMUJILEVBQU1JLFdBQWEsU0FBVUYsRUFBS0MsR0FDOUJILEVBQU1LLE9BQU9ILEdBQUtDLFFBQVVBLEdBRWhDSCxFQUFNcEgsV0FBYSxTQUFVc0gsR0FDekIsTUFBT0YsR0FBTUssT0FBT0gsR0FBS0MsU0FFN0JILEVBQU03RCxjQUFnQixTQUFVK0QsRUFBSzlELEdBQ2pDLEdBQUloRCxHQUFLNEcsRUFBTXBILFdBQVdzSCxHQUN0QnpELEVBQVVwRSxFQUFXOEQsY0FBYy9DLEVBQUlnRCxFQUMzQzRELEdBQU1NLFdBQVdKLEVBQUt6RCxJQUUxQnVELEVBQU1NLFdBQWEsU0FBVUosRUFBS3pELEdBQzlCdUQsRUFBTUssT0FBT0gsR0FBS3pELFFBQVVBLEdBRWhDdUQsRUFBTU8sV0FBYSxTQUFVTCxHQUN6QixNQUFPRixHQUFNSyxPQUFPSCxHQUFLekQsU0FFN0J1RCxFQUFNUSxXQUFhLFNBQVVOLEdBQ3pCLEdBQUlPLEdBQU9ULEVBQU1LLE9BQU9ILEdBQ3BCOUcsRUFBS3FILEVBQUtOLFFBQ1ZPLEVBQU1ELEVBQUtoRSxPQUNmckQsR0FBR29ILFdBQVdFLElBRWxCVixFQUFNVyxXQUFhLFNBQVVULEdBQ3pCRixFQUFNSyxPQUFPSCxPQUVqQkYsRUFBTVksc0JBQXdCLFNBQVVWLEVBQUtXLEdBQ3pDLEdBQUlKLEdBQU9ULEVBQU1LLE9BQU9ILEdBQ3BCOUcsRUFBS3FILEVBQUtOLFFBQ1ZPLEVBQU1ELEVBQUtoRSxPQUNmZ0UsR0FBS0ssUUFBVUQsRUFBY0UsT0FBTyxTQUFVQyxFQUFNQyxHQUVoRCxNQURBRCxHQUFLQyxHQUFRN0gsRUFBRzhILGtCQUFrQlIsRUFBS08sR0FDaENELFFBR2ZoQixFQUFNbUIsVUFBWSxTQUFVQyxFQUFVQyxHQUNsQyxNQUFPckIsR0FBTUssT0FBT2UsR0FBVU4sUUFBUU8sSUFFMUNyQixFQUFNc0IsV0FBYSxTQUFVRixFQUFVRyxHQUNuQyxNQUFPdkIsR0FBTUssT0FBT2UsR0FBVUksU0FBU0QsSUFFM0N2QixFQUFNeUIsb0JBQXNCLFNBQVV2QixFQUFLd0IsR0FDdkMsR0FBSWpCLEdBQU9ULEVBQU1LLE9BQU9ILEdBQ3BCOUcsRUFBS3FILEVBQUtOLFFBQ1ZPLEVBQU1ELEVBQUtoRSxPQUNmZ0UsR0FBS2UsU0FBV0UsRUFBY1gsT0FBTyxTQUFVQyxFQUFNQyxHQUVqRCxNQURBRCxHQUFLQyxHQUFRN0gsRUFBR3VJLG1CQUFtQmpCLEVBQUtPLEdBQ2pDRCxRQUdmaEIsRUFBTTRCLGFBQWUsU0FBVVIsRUFBVUMsRUFBVVEsR0FDL0MsR0FBSUMsR0FBUTlCLEVBQU1tQixVQUFVQyxFQUFVQyxHQUNsQ2pJLEVBQUs0RyxFQUFNcEgsV0FBV3dJLEVBQzFCaEksR0FBRzJJLHdCQUF3QkQsR0FDdkJELEVBQ0F6SSxFQUFHNEksb0JBQW9CRixFQUFPRCxFQUFRSSxNQUFRLEVBQUc3SSxFQUFHOEksTUFBT0wsRUFBUU0sYUFBYyxFQUFPTixFQUFRTyxRQUFVLEVBQUdQLEVBQVFRLFFBQVUsR0FHL0hqSixFQUFHNEksb0JBQW9CRixFQUFPLEVBQUcxSSxFQUFHOEksT0FBTyxFQUFPLEVBQUcsSUFHN0RsQyxFQUFNc0MsY0FBZ0IsU0FBVWxCLEVBQVVDLEdBQ3RDLEdBQUlTLEdBQVE5QixFQUFNbUIsVUFBVUMsRUFBVUMsR0FDbENqSSxFQUFLNEcsRUFBTXBILFdBQVd3SSxFQUMxQmhJLEdBQUdtSix5QkFBeUJULElBRWhDOUIsRUFBTXdDLFdBQWEsU0FBVUMsR0FDekJDLFlBQVlELEVBQUksS0FFcEJ6QyxFQUFNMkMsV0FBYSxTQUFVekMsRUFBSzBDLEdBQzlCLEdBQUluQyxHQUFPVCxFQUFNSyxPQUFPSCxFQUN4Qk8sR0FBS29DLFNBQVdwQyxFQUFLb0MsYUFDckJwQyxFQUFLb0MsU0FBU0MsS0FBS0YsSUFFdkI1QyxFQUFNK0MsY0FBZ0IsU0FBVTdDLEVBQUswQyxHQUNqQyxHQUFJbkMsR0FBT1QsRUFBTUssT0FBT0gsRUFDeEJPLEdBQUtvQyxTQUFXcEMsRUFBS29DLFlBQ3JCLElBQUlmLEdBQVFyQixFQUFLb0MsU0FBU0csUUFBUUosRUFDbENuQyxHQUFLb0MsU0FBU0ksT0FBT25CLEVBQU8sSUFFaEM5QixFQUFNa0QsY0FBZ0IsU0FBVWhELEVBQUswQyxFQUFZakksR0FDN0MsR0FBSThGLEdBQU9ULEVBQU1LLE9BQU9ILEdBQ3BCOUcsRUFBS3FILEVBQUtOLFFBRVYyQixHQURNckIsRUFBS2hFLFFBQ0hnRSxFQUFLb0MsU0FBU0csUUFBUUosR0FDbEMsSUFBSWQsRUFBUSxHQUFJLENBQ1oxSSxFQUFHOEosY0FBd0IsSUFBVnBCLEVBQWMxSSxFQUFHK0osU0FBVy9KLEVBQUcrSixTQUFXckIsR0FDM0QxSSxFQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZRixFQUM5QixJQUFJeUksR0FBV3BELEVBQU1zQixXQUFXcEIsRUFBSyxXQUNyQzlHLEdBQUdpSyxVQUFVRCxFQUFVdEIsS0FHL0I5QixFQUFNc0QsWUFBYyxTQUFVbEMsR0FDMUIsTUFBT3BCLEdBQU1LLE9BQU9lLEdBQVVtQyxXQUVsQ3ZELEVBQU13RCxnQkFBa0IsU0FBVXBDLEdBQzlCcEIsRUFBTUssT0FBT2UsR0FBVW1DLFdBQVksR0FFdkN2RCxFQUFNeUQsaUJBQW1CLFNBQVVyQyxHQUMvQnBCLEVBQU1LLE9BQU9lLEdBQVVtQyxXQUFZLEdBRXZDdkQsRUFBTTBELG1CQUFxQixTQUFVdEMsRUFBVXVDLEdBQzNDLEdBQUlsRCxHQUFPVCxFQUFNSyxPQUFPZSxFQUN4QlgsR0FBS21ELGNBQWdCbkQsRUFBS21ELGtCQUMxQm5ELEVBQUttRCxjQUFjZCxLQUFLYSxJQUU1QjNELEVBQU02RCxvQkFBc0IsU0FBVXpDLEdBQ2xDLEdBQUlYLEdBQU9ULEVBQU1LLE9BQU9lLEVBQ3hCWCxHQUFLbUQsa0JBRVQ1RCxFQUFNOEQsaUJBQW1CLFNBQVUxQyxFQUFVMkMsR0FDekMsR0FBSXRELEdBQU9ULEVBQU1LLE9BQU9lLEVBRXhCLE9BREFYLEdBQUttRCxjQUFnQm5ELEVBQUttRCxrQkFDbkJJLEVBQUVDLEtBQUt4RCxFQUFLbUQsY0FBZSxTQUFVTSxHQUN4QyxNQUFPRixHQUFFRyxRQUFRRCxFQUFFSCxNQUFPQSxNQUdsQy9ELEVBQU1LLFVBQ0NMLElBRVg1SCxHQUFNNEgsTUFBUUEsQ0FDZCxJQUFJb0UsR0FBYyxXQUNkLFFBQVNBLEdBQVdDLEdBQ2hCM00sS0FBSzRNLFVBQVlELEVBMEJyQixNQXhCQW5NLFFBQU9xTSxlQUFlSCxFQUFXbk0sVUFBVyxXQUN4Q3VNLElBQUssV0FDRCxNQUFPOU0sTUFBSzRNLFdBRWhCRyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZUgsRUFBV25NLFVBQVcsTUFDeEN1TSxJQUFLLFdBQ0QsTUFBT3hFLEdBQU1wSCxXQUFXbEIsS0FBS2lOLFVBRWpDRixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZUgsRUFBV25NLFVBQVcsV0FDeEN1TSxJQUFLLFdBQ0QsTUFBT3hFLEdBQU1PLFdBQVc3SSxLQUFLaU4sVUFFakNGLFlBQVksRUFDWkMsY0FBYyxJQUVsQk4sRUFBV25NLFVBQVVxSixXQUFhLFNBQVVwQixHQUN4QyxNQUFPRixHQUFNc0IsV0FBVzVKLEtBQUtpTixRQUFTekUsSUFFbkNrRSxJQUVYaE0sR0FBTWdNLFdBQWFBLENBQ25CLElBQUlRLEdBQVUsU0FBVUMsR0FFcEIsUUFBU0QsR0FBT1AsR0FDWlEsRUFBT0MsS0FBS3BOLEtBQU0yTSxHQU10QixNQVJBNU0sV0FBVW1OLEVBQVFDLEdBSWxCRCxFQUFPM00sVUFBVThNLFVBQVksU0FBVUMsS0FFdkNKLEVBQU8zTSxVQUFVZ04sUUFBVSxTQUFVRCxLQUU5QkosR0FDVFIsRUFDRmhNLEdBQU13TSxPQUFTQSxDQUNmLElBQUlNLEdBQWUsU0FBVUwsR0FFekIsUUFBU0ssR0FBWWIsR0FDakJRLEVBQU9DLEtBQUtwTixLQUFNMk0sR0FDbEIzTSxLQUFLeU4sVUFDTHpOLEtBQUswTixVQUFZQyxLQUFLbE4sU0FDdEJULEtBQUs0TixTQUFXRCxLQUFLbE4sU0FDckJULEtBQUs2TixTQUFXRixLQUFLbE4sU0E2RXpCLE1BbkZBVixXQUFVeU4sRUFBYUwsR0FRdkJLLEVBQVlqTixVQUFVNkssS0FBTyxXQUN6QixHQUFJMEMsR0FBT0gsS0FBS2xOLFFBQ2hCa04sTUFBS0ksSUFBSS9OLEtBQUswTixVQUFXSSxHQUN6QjlOLEtBQUt5TixPQUFPckMsS0FBSzBDLElBRXJCTixFQUFZak4sVUFBVXlOLElBQU0sV0FDeEIsR0FBMEIsR0FBdEJoTyxLQUFLeU4sT0FBT3hNLE9BQ1osS0FBTSxtQkFDVmpCLE1BQUswTixVQUFZMU4sS0FBS3lOLE9BQU9PLE9BRWpDUixFQUFZak4sVUFBVTBOLFVBQVksV0FDMUJqTyxLQUFLa08sUUFDTGxPLEtBQUswTixVQUFZMU4sS0FBS2tPLFFBQVFDLFVBRzlCUixLQUFLUyxTQUFTcE8sS0FBSzBOLFlBRzNCbE4sT0FBT3FNLGVBQWVXLEVBQVlqTixVQUFXLFlBQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLME4sV0FFaEJYLFlBQVksRUFDWkMsY0FBYyxJQUVsQnhNLE9BQU9xTSxlQUFlVyxFQUFZak4sVUFBVyxXQUN6Q3VNLElBQUssV0FDRCxNQUFPOU0sTUFBSzROLFVBRWhCYixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZVcsRUFBWWpOLFVBQVcsV0FDekN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUs2TixVQUVoQmQsWUFBWSxFQUNaQyxjQUFjLElBRWxCeE0sT0FBT3FNLGVBQWVXLEVBQVlqTixVQUFXLGNBQ3pDd04sSUFBSyxTQUFVTSxHQUNYck8sS0FBS2tPLFFBQVVHLEdBRW5CdEIsWUFBWSxFQUNaQyxjQUFjLElBRWxCUSxFQUFZak4sVUFBVStOLFlBQWMsV0FDaEMsR0FBSTVNLEdBQUsxQixLQUFLMEIsRUFDZGlNLE1BQUtTLFNBQVNwTyxLQUFLNE4sVUFDbkJELEtBQUtZLFlBQVksR0FBSTdNLEVBQUdMLGNBQWdCSyxFQUFHSCxlQUFnQixHQUFLLElBQVF2QixLQUFLNE4sV0FFakZKLEVBQVlqTixVQUFVaU8sT0FBUyxXQUMzQmIsS0FBS1MsU0FBU3BPLEtBQUs2TixVQUNuQkYsS0FBS0ksSUFBSS9OLEtBQUswTixVQUFXMU4sS0FBSzZOLFVBQzlCRixLQUFLYyxRQUFRek8sS0FBSzZOLFVBQ2xCRixLQUFLZSxVQUFVMU8sS0FBSzZOLFdBRXhCTCxFQUFZak4sVUFBVW9PLEtBQU8sV0FDekIzTyxLQUFLaU8sWUFDTGpPLEtBQUtzTyxjQUNMdE8sS0FBS3dPLFVBRVRoQixFQUFZak4sVUFBVXFPLE1BQVEsV0FDMUIsR0FBSWxOLEdBQUsxQixLQUFLMEIsRUFDZDFCLE1BQUt3TyxRQUNMLElBQUlLLEdBQVc3TyxLQUFLNEosV0FBVyxZQUMzQmlGLElBQ0FuTixFQUFHb04saUJBQWlCRCxHQUFVLEVBQU83TyxLQUFLME4sVUFDOUMsSUFBSXFCLEdBQVUvTyxLQUFLNEosV0FBVyxXQUMxQm1GLElBQ0FyTixFQUFHb04saUJBQWlCQyxHQUFTLEVBQU8vTyxLQUFLNE4sU0FDN0MsSUFBSW9CLEdBQVVoUCxLQUFLNEosV0FBVyxXQUMxQm9GLElBQ0F0TixFQUFHb04saUJBQWlCRSxHQUFTLEVBQU9oUCxLQUFLNk4sV0FFMUNMLEdBQ1RkLEVBQ0ZoTSxHQUFNOE0sWUFBY0EsQ0FDcEIsSUFBSXlCLElBQ0osU0FBV0EsR0FDUCxHQUFJQyxHQUFlLFNBQVUvQixHQUV6QixRQUFTK0IsR0FBWXZDLEdBQ2pCUSxFQUFPQyxLQUFLcE4sS0FBTTJNLEdBeUp0QixNQTNKQTVNLFdBQVVtUCxFQUFhL0IsR0FJdkIzTSxPQUFPcU0sZUFBZXFDLEVBQVkzTyxVQUFXLFVBQ3pDd04sSUFBSyxTQUFVaEQsR0FDWC9LLEtBQUttUCxRQUFVcEUsR0FFbkJnQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZXFDLEVBQVkzTyxVQUFXLE9BQ3pDd04sSUFBSyxTQUFVcUIsR0FDWCxHQUFJQyxHQUFRclAsS0FDUnNQLEVBQU90UCxLQUNQdVAsRUFBTWxLLEVBQU15QixhQUFhc0ksRUFDN0IvSixHQUFNZ0IsS0FBSytJLEVBQUssU0FBVXpOLEdBQ3RCLEdBQUlzSyxFQUNKLFFBQVFzRCxHQUNKLElBQUssTUFDRHRELEVBQU1xRCxFQUFLRSxTQUFTN04sRUFDcEIsTUFDSixLQUFLLE9BQ0RzSyxFQUFNcUQsRUFBS0csVUFBVTlOLEdBRzdCMk4sRUFBS0ksY0FBY3pELEdBQ2ZvRCxFQUFNRixTQUNORSxFQUFNRixhQUdsQnBDLFlBQVksRUFDWkMsY0FBYyxJQUVsQmtDLEVBQVkzTyxVQUFVa1AsVUFBWSxTQUFVOU4sR0FDeEMsR0FBSXNLLEtBQ0osS0FDSUEsRUFBTTBELEtBQUtDLE1BQU1qTyxHQUVyQixNQUFPUixHQUNIK0MsUUFBUUMsSUFBSWhELEdBRWhCLE1BQU84SyxJQUVYaUQsRUFBWTNPLFVBQVVpUCxTQUFXLFNBQVU3TixHQUN2QyxHQUFJc0ssSUFDQTRELEtBQ0FDLE1BQ0FDLE1BQ0FDLE1BQ0FDLFFBQ0FDLE9BRUFDLEVBQVF4TyxFQUFLc0YsTUFBTSxNQUNuQm5DLEVBQVNxTCxFQUFNQyxPQUFPLFNBQVVsSyxHQUNoQyxNQUFnQixNQUFUQSxFQUFFLEtBRVRrRSxFQUFRK0YsRUFBTUMsT0FBTyxTQUFVbEssR0FDL0IsTUFBZ0IsTUFBVEEsRUFBRSxJQUVicEIsR0FBT3VMLFFBQVEsU0FBVUMsR0FDckIsR0FBSXRKLEdBQVFzSixFQUFLQyxRQUFRLEtBQU0sSUFBSXRKLE1BQU0sS0FDckN1QixFQUFNeEIsRUFBTSxFQUNoQmlGLEdBQUl6RCxHQUFPeUQsRUFBSXpELEdBQUtnSSxPQUFPeEosRUFBTXlKLE1BQU0sR0FBR0wsT0FBTyxTQUFVbEssR0FDdkQsTUFBYSxLQUFOQSxNQUdmLElBQUl3SyxLQWFKLE9BWkF0RyxHQUFNaUcsUUFBUSxTQUFVQyxHQUNwQixHQUFJdEosR0FBUXNKLEVBQUtDLFFBQVEsS0FBTSxJQUFJQSxRQUFRLElBQUssSUFBSXRKLE1BQU0sSUFDMUR5SixHQUFZQSxFQUFVRixPQUFPeEosRUFBTXlKLE1BQU0sR0FBR0wsT0FBTyxTQUFVbEssR0FDekQsTUFBYSxLQUFOQSxPQUdmd0ssRUFBVUwsUUFBUSxTQUFVQyxHQUN4QixHQUFJdEosR0FBUXNKLEVBQUtySixNQUFNLElBQ3ZCZ0YsR0FBSStELEdBQUc1RSxLQUFLdUYsU0FBUzNKLEVBQU0sSUFBTSxHQUNqQ2lGLEVBQUFBLE1BQU9iLEtBQUt1RixTQUFTM0osRUFBTSxJQUFNLEdBQ2pDaUYsRUFBSWlFLEdBQUc5RSxLQUFLdUYsU0FBUzNKLEVBQU0sSUFBTSxLQUU5QmlGLEdBRVhpRCxFQUFZM08sVUFBVW1QLGNBQWdCLFNBQVV6RCxHQVU1QyxRQUFTeEssR0FBYUUsR0FDbEIsTUFBT2hCLEdBQVdjLGFBQWFDLEVBQUlDLEdBVXZDLFFBQVNpQixHQUFrQmpCLEdBQ3ZCLE1BQU9oQixHQUFXaUMsa0JBQWtCbEIsRUFBSUMsR0FyQjVDLEdBQUlELEdBQUsxQixLQUFLMEIsRUFDZDRLLEdBQUVzRSxTQUFTM0UsR0FDUDRELEtBQ0FDLE1BQ0FDLE1BQ0FDLE1BQ0FDLFFBQ0FDLFFBS0FqRSxFQUFJNEQsRUFBRTVPLE9BQVMsSUFDZmpCLEtBQUs2USxLQUFPcFAsRUFBYXdLLEVBQUk0RCxJQUM3QjVELEVBQUk0RCxFQUFFNU8sT0FBUyxHQUFLZ0wsRUFBSStELEdBQUcvTyxPQUFTLElBQ3BDakIsS0FBSzhRLEtBQU9yUCxFQUFhNEQsRUFBTWtDLGlCQUFpQjBFLEVBQUk0RCxFQUFHNUQsRUFBSStELE1BRTNEL0QsRUFBSThELEdBQUc5TyxPQUFTLElBQ2hCakIsS0FBSytRLEtBQU9wUSxFQUFXYyxhQUFhQyxFQUFJdUssRUFBSThELElBQUksSUFLaEQ5RCxFQUFJK0QsR0FBRy9PLE9BQVMsSUFDaEJqQixLQUFLZ1IsTUFBUXBPLEVBQWtCcUosRUFBSStELEtBQ25DL0QsRUFBQUEsTUFBT2hMLE9BQVMsSUFDaEJqQixLQUFLaVIsTUFBUXJPLEVBQWtCcUosRUFBQUEsUUFDL0JBLEVBQUlpRSxHQUFHalAsT0FBUyxJQUNoQmpCLEtBQUtrUixNQUFRdE8sRUFBa0JxSixFQUFJaUUsTUFFM0MxUCxPQUFPcU0sZUFBZXFDLEVBQVkzTyxVQUFXLE9BQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLNlEsTUFFaEI5RCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZXFDLEVBQVkzTyxVQUFXLE9BQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLOFEsTUFFaEIvRCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZXFDLEVBQVkzTyxVQUFXLE9BQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLK1EsTUFFaEJoRSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZXFDLEVBQVkzTyxVQUFXLFFBQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLZ1IsT0FFaEJqRSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZXFDLEVBQVkzTyxVQUFXLFFBQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLaVIsT0FFaEJsRSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZXFDLEVBQVkzTyxVQUFXLFFBQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLa1IsT0FFaEJuRSxZQUFZLEVBQ1pDLGNBQWMsSUFFWGtDLEdBQ1R4QyxFQUNGdUMsR0FBVUMsWUFBY0EsQ0FDeEIsSUFBSWlDLEdBQWUsU0FBVWhFLEdBRXpCLFFBQVNnRSxHQUFZeEUsR0FDakJRLEVBQU9DLEtBQUtwTixLQUFNMk0sR0FDbEIzTSxLQUFLb1IsT0FBUyxHQUFJQyxPQUNsQnJSLEtBQUtzUixLQUFPak0sRUFBTU8sS0FBSzVGLEtBQUtJLFlBQVl5RixNQWtDNUMsTUF0Q0E5RixXQUFVb1IsRUFBYWhFLEdBTXZCM00sT0FBT3FNLGVBQWVzRSxFQUFZNVEsVUFBVyxVQUN6Q3dOLElBQUssU0FBVWhELEdBQ1gvSyxLQUFLbVAsUUFBVXBFLEdBRW5CZ0MsWUFBWSxFQUNaQyxjQUFjLElBRWxCeE0sT0FBT3FNLGVBQWVzRSxFQUFZNVEsVUFBVyxPQUN6Q3dOLElBQUssU0FBVXdELEdBQ1h2UixLQUFLb1IsT0FBT0ksT0FBU3hSLEtBQUt5UixpQkFBaUJ6UixLQUFLbVAsU0FDaERuUCxLQUFLb1IsT0FBT2hDLElBQU1tQyxHQUV0QnhFLFlBQVksRUFDWkMsY0FBYyxJQUVsQm1FLEVBQVk1USxVQUFVa1IsaUJBQW1CLFNBQVUxRyxHQUMvQyxHQUFJc0UsR0FBUXJQLEtBQ1JzUCxFQUFPdFAsSUFDWCxPQUFPLFlBQ0hxUCxFQUFNcUMsU0FBVy9RLEVBQVdxQyxjQUFjc00sRUFBSzVOLEdBQUk0TixFQUFLOEIsUUFDeEQ5SSxFQUFNMkMsV0FBV3FFLEVBQUtyQyxRQUFTcUMsRUFBS2dDLE1BQ2hDdkcsR0FDQUEsTUFHWnZLLE9BQU9xTSxlQUFlc0UsRUFBWTVRLFVBQVcsV0FDekN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUswUixVQUVoQjNFLFlBQVksRUFDWkMsY0FBYyxJQUVYbUUsR0FDVHpFLEVBQ0Z1QyxHQUFVa0MsWUFBY0EsQ0FDeEIsSUFBSVEsR0FBZ0IsU0FBVXhFLEdBRTFCLFFBQVN3RSxHQUFhaEYsRUFBVWlGLEVBQVNDLEVBQVNDLEVBQVVDLEdBQ3hENUUsRUFBT0MsS0FBS3BOLEtBQU0yTSxHQUNsQjNNLEtBQUtnUyxTQUFXSixFQUFVSyxLQUFLeFIsT0FBT21SLEdBQVdLLEtBQUt4UixTQUN0RFQsS0FBS2tTLFNBQVdMLEVBQVVJLEtBQUt4UixPQUFPb1IsR0FBVyxPQUNqRDdSLEtBQUttUyxVQUFZTCxFQUFXRyxLQUFLeFIsT0FBT3FSLEdBQVlHLEtBQUt4UixTQUN6RFQsS0FBS29TLFdBQWFMLEdBQWEsSUF3Rm5DLE1BOUZBaFMsV0FBVTRSLEVBQWN4RSxHQVF4QjNNLE9BQU9xTSxlQUFlOEUsRUFBYXBSLFVBQVcsVUFDMUN3TixJQUFLLFNBQVVoRCxHQUNYL0ssS0FBS21QLFFBQVVwRSxHQUVuQmdDLFlBQVksRUFDWkMsY0FBYyxJQUVsQnhNLE9BQU9xTSxlQUFlOEUsRUFBYXBSLFVBQVcsT0FDMUN3TixJQUFLLFNBQVVxQixHQUNYLEdBQUlDLEdBQVFyUCxLQUNSc1AsRUFBT3RQLElBQ1hxRixHQUFNZ0IsS0FBSytJLEVBQUssU0FBVXpOLEdBQ3RCLEdBQUkwUSxHQUFPL0MsRUFBS00sTUFBTWpPLEVBQ3RCME4sR0FBTTJDLFNBQVdLLEVBQUtDLEdBQ3RCakQsRUFBTTZDLFNBQVdHLEVBQUtFLEdBQ3RCbEQsRUFBTThDLFVBQVlFLEVBQUtHLEdBQ3ZCbkQsRUFBTTBDLFVBQVlNLEVBQUtJLEdBQ25CcEQsRUFBTUYsU0FDTkUsRUFBTUYsYUFHbEJwQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEIyRSxFQUFhcFIsVUFBVXFQLE1BQVEsU0FBVWpPLEdBQ3JDLEdBQUlzSyxNQUNBeUcsR0FBUSxLQUFNLEtBQU0sS0FBTSxNQUMxQnZDLEVBQVF4TyxFQUFLc0YsTUFBTSxLQWlCdkIsT0FoQkFrSixHQUFNRSxRQUFRLFNBQVVzQyxHQUNwQixHQUFJM0wsR0FBUTJMLEVBQUsxTCxNQUFNLEtBQ25CdUIsRUFBTXhCLEVBQU0sRUFDaEIsSUFBSTBMLEVBQUtwSCxRQUFROUMsR0FBTyxHQUNwQixPQUFRQSxHQUNKLElBQUssS0FDRHlELEVBQVEsR0FBSTlGLE9BQU9hLEVBQU0sR0FDekIsTUFDSixTQUNJLEdBQUlxTCxHQUFPckwsRUFBTXlKLE1BQU0sR0FBR3hLLElBQUksU0FBVUMsR0FBSyxNQUFPQyxRQUFPRCxJQUMzRG1NLEdBQUtqSCxLQUFLLEdBQ1ZhLEVBQUl6RCxHQUFPNkosS0FLcEJwRyxHQUVYekwsT0FBT3FNLGVBQWU4RSxFQUFhcFIsVUFBVyxXQUMxQ3VNLElBQUssV0FDRCxNQUFPOU0sTUFBS2dTLFVBRWhCakUsSUFBSyxTQUFVNkQsR0FDWDVSLEtBQUtnUyxTQUFXM00sRUFBTVUsYUFBYWtNLEtBQUt4UixPQUFPbVIsS0FFbkQ3RSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZThFLEVBQWFwUixVQUFXLFdBQzFDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLa1MsVUFFaEJuRSxJQUFLLFNBQVU4RCxHQUNYN1IsS0FBS2tTLFNBQVc3TSxFQUFNVSxhQUFha00sS0FBS3hSLE9BQU9vUixLQUVuRDlFLFlBQVksRUFDWkMsY0FBYyxJQUVsQnhNLE9BQU9xTSxlQUFlOEUsRUFBYXBSLFVBQVcsWUFDMUN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUttUyxXQUVoQnBFLElBQUssU0FBVStELEdBQ1g5UixLQUFLbVMsVUFBWTlNLEVBQU1VLGFBQWFrTSxLQUFLeFIsT0FBT3FSLEtBRXBEL0UsWUFBWSxFQUNaQyxjQUFjLElBRWxCeE0sT0FBT3FNLGVBQWU4RSxFQUFhcFIsVUFBVyxhQUMxQ3VNLElBQUssV0FDRCxNQUFPOU0sTUFBS29TLFlBRWhCckUsSUFBSyxTQUFVOEIsR0FDWDdQLEtBQUtvUyxXQUFhdkMsR0FFdEI5QyxZQUFZLEVBQ1pDLGNBQWMsSUFFWDJFLEdBQ1RqRixFQUNGdUMsR0FBVTBDLGFBQWVBLEdBQzFCMUMsRUFBWXZPLEVBQU11TyxZQUFjdk8sRUFBTXVPLGNBQ3pDLElBQUkyRCxJQUNKLFNBQVdBLEdBQ1AsR0FBSUMsR0FBWSxXQUNaLFFBQVNBLE1BVVQsTUFSQUEsR0FBU0MsWUFBYyxnM0JBQ3ZCRCxFQUFTRSxZQUFjLDRmQUN2QkYsRUFBU0csVUFBWSxpT0FDckJILEVBQVNJLFNBQVcsb2JBQ3BCSixFQUFTSyxNQUFRLDY1Q0FDakJMLEVBQVNNLGlCQUFtQix3d0NBQzVCTixFQUFTTyxLQUFPLGcvQ0FDaEJQLEVBQVNRLFlBQWMsNmVBQ2hCUixJQUVYRCxHQUFRQyxTQUFXQSxDQUNuQixJQUFJUyxHQUFVLFdBQ1YsUUFBU0EsTUFPVCxNQUxBQSxHQUFPQyxPQUFTLDRQQUNoQkQsRUFBT0wsU0FBVyw4aUJBQ2xCSyxFQUFPSixNQUFRLDhzQkFDZkksRUFBT0gsaUJBQW1CLHF6QkFDMUJHLEVBQU9GLEtBQU8saXVCQUNQRSxJQUVYVixHQUFRVSxPQUFTQSxHQUNsQlYsRUFBVWxTLEVBQU1rUyxVQUFZbFMsRUFBTWtTLFlBQ3JDLElBQUlZLEdBQW1CLFNBQVVyRyxHQUU3QixRQUFTcUcsR0FBZ0I3RyxFQUFVOEcsRUFBV0MsRUFBT25OLEdBQ2pENEcsRUFBT0MsS0FBS3BOLEtBQU0yTSxHQUNsQjNNLEtBQUsyVCxXQUFhRixFQUNsQnpULEtBQUs0VCxhQUFlLEtBQ3BCNVQsS0FBSzZULFVBQVl0TixFQTZCckIsTUFsQ0F4RyxXQUFVeVQsRUFBaUJyRyxHQU8zQnFHLEVBQWdCalQsVUFBVXVULFFBQVUsV0FFaEMsR0FEQU4sRUFBZ0JPLFdBQWExTyxFQUFNNkIsc0JBQy9Cc00sRUFBZ0JPLFdBQWEsR0FBakMsQ0FHQSxJQURBLEdBQUlDLEdBQVF6TyxLQUFLQyxNQUFNZ08sRUFBZ0JPLFdBQWEvVCxLQUFLMlQsWUFDakRLLEVBQVEsR0FBT1IsRUFBZ0JTLE9BQVNqVSxLQUFLa1UsUUFDakRsVSxLQUFLNlQsWUFDTEcsSUFDQVIsRUFBZ0JTLE9BRWhCVCxHQUFnQlMsUUFBVWpVLEtBQUtrVSxRQUMvQmxVLEtBQUttVSxTQUdiWCxFQUFnQmpULFVBQVU2VCxNQUFRLFdBQzlCcFUsS0FBS3FVLFFBQVVoUCxFQUFNNkIsb0JBQ3JCbEgsS0FBSzRULGFBQWU1SSxZQUFZaEwsS0FBSzhULFFBQVM5VCxLQUFLMlQsV0FBYSxNQUVwRUgsRUFBZ0JqVCxVQUFVNFQsS0FBTyxXQUN6Qm5VLEtBQUs0VCxjQUNMVSxjQUFjdFUsS0FBSzRULGVBRTNCSixFQUFnQmpULFVBQVU4TSxVQUFZLGFBRXRDbUcsRUFBZ0JqVCxVQUFVZ04sUUFBVSxhQUVwQ2lHLEVBQWdCUyxNQUFRLEVBQ2pCVCxHQUNUdEcsRUFDRnhNLEdBQU04UyxnQkFBa0JBLENBQ3hCLElBQUllLEdBQWMsU0FBVXBILEdBRXhCLFFBQVNvSCxHQUFXNUgsRUFBVTZILEVBQVVDLEVBQWNDLEdBQ2xEdkgsRUFBT0MsS0FBS3BOLEtBQU0yTSxHQUNsQjNNLEtBQUsyVSxVQUFZLEtBQ2pCM1UsS0FBSzBSLFNBQVcsS0FDaEIxUixLQUFLNFUsU0FBVyxLQUNoQjVVLEtBQUs2VSxVQUFZTCxHQUFZLEtBQzdCeFUsS0FBSzhVLGNBQWdCTCxHQUFnQixLQUNyQ3pVLEtBQUsrVSxhQUFlTCxHQUFlLEtBK0h2QyxNQXZJQTNVLFdBQVV3VSxFQUFZcEgsR0FVdEJvSCxFQUFXaFUsVUFBVXlVLFlBQWMsU0FBVXpELEVBQVV4RyxHQUNuRC9LLEtBQUs0VSxTQUFXLEdBQUkzRixHQUFVQyxZQUFZbFAsS0FBS2lOLFNBQy9Dak4sS0FBSzRVLFNBQVNwRCxPQUFTekcsRUFDdkIvSyxLQUFLNFUsU0FBU3hGLElBQU1tQyxHQUV4QmdELEVBQVdoVSxVQUFVMFUsWUFBYyxTQUFVMUQsRUFBVXhHLEdBQ25EL0ssS0FBSzBSLFNBQVcsR0FBSXpDLEdBQVVrQyxZQUFZblIsS0FBS2lOLFNBQy9Dak4sS0FBSzBSLFNBQVNGLE9BQVN6RyxFQUN2Qi9LLEtBQUswUixTQUFTdEMsSUFBTW1DLEdBRXhCL1EsT0FBT3FNLGVBQWUwSCxFQUFXaFUsVUFBVyxZQUN4Q3dOLElBQUssU0FBVThCLEdBQ1g3UCxLQUFLMlUsVUFBWTlFLEdBRXJCOUMsWUFBWSxFQUNaQyxjQUFjLElBRWxCdUgsRUFBV2hVLFVBQVUyVSxhQUFlLFNBQVUzRCxFQUFVeEcsR0FDcEQvSyxLQUFLMlUsVUFBWSxHQUFJMUYsR0FBVTBDLGFBQWEzUixLQUFLaU4sU0FDakRqTixLQUFLMlUsVUFBVW5ELE9BQVN6RyxFQUN4Qi9LLEtBQUsyVSxVQUFVdkYsSUFBTW1DLEdBRXpCZ0QsRUFBV2hVLFVBQVU0VSxTQUFXLFNBQVVwSyxHQUN0QyxHQUFJc0UsR0FBUXJQLEtBQ1JzUCxFQUFPdFAsSUFDWG9WLE9BQU1DLFdBQ0YsU0FBVUMsR0FDTixNQUFLaEcsR0FBS3VGLFdBR1YzUSxRQUFRQyxJQUFJLHVCQUNabUwsR0FBSzBGLFlBQVkxRixFQUFLdUYsVUFBVyxXQUM3QjNRLFFBQVFDLElBQUksa0JBQ1ptUixPQUxPQSxLQVFmLFNBQVVBLEdBQ04sTUFBS2pHLEdBQU0wRixjQUdYN1EsUUFBUUMsSUFBSSx1QkFDWm1MLEdBQUsyRixZQUFZM0YsRUFBS3lGLGFBQWMsV0FDaEM3USxRQUFRQyxJQUFJLGtCQUNabVIsT0FMT0EsS0FRZixTQUFVQSxHQUNOLE1BQUtoRyxHQUFLd0YsZUFHVjVRLFFBQVFDLElBQUksd0JBQ1ptTCxHQUFLNEYsYUFBYTVGLEVBQUt3RixjQUFlLFdBQ2xDNVEsUUFBUUMsSUFBSSxtQkFDWm1SLE9BTE9BLE1BUWhCLFNBQVVDLEdBQ1QsTUFBSUEsR0FDT3JSLFFBQVFDLElBQUlvUixRQUNuQnhLLEdBQ0FBLFFBR1p3SixFQUFXaFUsVUFBVWlWLGlCQUFtQixTQUFVdkosR0FDOUNqTSxLQUFLNFUsU0FBVyxHQUFJM0YsR0FBVUMsWUFBWWxQLEtBQUtpTixTQUMvQ2pOLEtBQUs0VSxTQUFTbEYsY0FBY3pELElBRWhDc0ksRUFBV2hVLFVBQVVrVixxQkFBdUIsU0FBVXhKLEdBQ2xEak0sS0FBSzJVLFVBQVksR0FBSTFGLEdBQVUwQyxhQUFhM1IsS0FBS2lOLFNBQzdDaEIsRUFBSTJGLFVBQ0o1UixLQUFLMlUsVUFBVS9DLFFBQVUzRixFQUFJMkYsU0FFN0IzRixFQUFJNkYsV0FDSjlSLEtBQUsyVSxVQUFVN0MsU0FBVzdGLEVBQUk2RixVQUU5QjdGLEVBQUk0RixVQUNKN1IsS0FBSzJVLFVBQVU5QyxRQUFVNUYsRUFBSTRGLFNBRTdCNUYsRUFBSThGLFlBQ0ovUixLQUFLMlUsVUFBVTVDLFVBQVk5RixFQUFJOEYsWUFHdkN3QyxFQUFXaFUsVUFBVW1WLG9CQUFzQixXQUN2QyxHQUFJMVYsS0FBSzJVLFVBQVcsQ0FDaEIsR0FBSWpULEdBQUsxQixLQUFLMEIsRUFDZCxJQUFJMUIsS0FBSzJVLFVBQVUvQyxRQUFTLENBQ3hCLEdBQUkrRCxHQUFtQjNWLEtBQUs0SixXQUFXLG1CQUNuQytMLElBQ0FqVSxFQUFHa1UsV0FBV0QsRUFBa0IzVixLQUFLMlUsVUFBVS9DLFNBRXZELEdBQUk1UixLQUFLMlUsVUFBVTlDLFFBQVMsQ0FDeEIsR0FBSWdFLEdBQW1CN1YsS0FBSzRKLFdBQVcsbUJBQ25DaU0sSUFDQW5VLEVBQUdrVSxXQUFXQyxFQUFrQjdWLEtBQUsyVSxVQUFVOUMsU0FFdkQsR0FBSTdSLEtBQUsyVSxVQUFVN0MsU0FBVSxDQUN6QixHQUFJZ0UsR0FBb0I5VixLQUFLNEosV0FBVyxvQkFDcENrTSxJQUNBcFUsRUFBR2tVLFdBQVdFLEVBQW1COVYsS0FBSzJVLFVBQVU3QyxVQUV4RCxHQUFJOVIsS0FBSzJVLFVBQVU1QyxVQUFXLENBQzFCLEdBQUlnRSxHQUFhL1YsS0FBSzRKLFdBQVcsYUFDN0JtTSxJQUNBclUsRUFBR3NVLFVBQVVELEVBQVkvVixLQUFLMlUsVUFBVTVDLGNBSXhEd0MsRUFBV2hVLFVBQVU4TSxVQUFZLFdBQzdCLEdBQUkzTCxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLMFYsc0JBQ0xoVSxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzRVLFNBQVNxQixLQUM3QzNOLEVBQU00QixhQUFhbEssS0FBS2lOLFFBQVMsY0FDakN2TCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzRVLFNBQVNzQixLQUM3QzVOLEVBQU00QixhQUFhbEssS0FBS2lOLFFBQVMsV0FDakMsSUFBSWtKLEdBQU9uVyxLQUFLNFUsU0FBU3VCLElBQ3pCelUsR0FBR0ssV0FBV0wsRUFBR29CLHFCQUFzQnFULEdBQ3ZDelUsRUFBRzBVLGFBQWExVSxFQUFHMlUsVUFBV0YsRUFBS3hULFNBQVVqQixFQUFHNFUsZUFBZ0IsSUFFcEUvQixFQUFXaFUsVUFBVWdOLFFBQVUsV0FDM0IsR0FBSTdMLEdBQUsxQixLQUFLMEIsRUFDZDRHLEdBQU1zQyxjQUFjNUssS0FBS2lOLFFBQVMsY0FDbEMzRSxFQUFNc0MsY0FBYzVLLEtBQUtpTixRQUFTLFlBQ2xDdkwsRUFBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMvQk4sRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQixPQUVwQ3lSLEdBQ1RySCxFQUNGeE0sR0FBTTZULFdBQWFBLENBQ25CLElBQUlnQyxHQUFtQixTQUFVcEosR0FFN0IsUUFBU29KLEdBQWdCNUosRUFBVTZKLEVBQVVqTSxFQUFNa00sR0FDL0N0SixFQUFPQyxLQUFLcE4sS0FBTTJNLEdBQ2xCM00sS0FBSzBXLFFBQVUvSSxLQUFLbE4sU0FDcEJULEtBQUsyVyxVQUFZSCxHQUFZSSxLQUFLblcsU0FDbENULEtBQUs2VyxNQUFRdE0sR0FBUXFNLEtBQUtuVyxRQUFRLEVBQUcsRUFBRyxJQUN4Q1QsS0FBSzhXLFVBQVlMLElBQWNNLE1BQU8sRUFBR0MsS0FBTUosS0FBS25XLFVBd0d4RCxNQTlHQVYsV0FBVXdXLEVBQWlCcEosR0FRM0JvSixFQUFnQmhXLFVBQVU2TixTQUFXLFdBQ2pDVCxLQUFLUyxTQUFTcE8sS0FBSzBXLFVBRXZCSCxFQUFnQmhXLFVBQVUwVyxVQUFZLFNBQVVDLEdBQzVDbFgsS0FBSzBXLFFBQVVRLEdBRW5CWCxFQUFnQmhXLFVBQVVtTyxVQUFZLFdBQ2xDZixLQUFLZSxVQUFVMU8sS0FBSzBXLFFBQVMxVyxLQUFLMFcsVUFFdENsVyxPQUFPcU0sZUFBZTBKLEVBQWdCaFcsVUFBVyxZQUM3Q3VNLElBQUssV0FDRCxNQUFPOU0sTUFBSzJXLFdBRWhCNUksSUFBSyxTQUFVeUksR0FDWHhXLEtBQUsyVyxVQUFZSCxHQUVyQnpKLFlBQVksRUFDWkMsY0FBYyxJQUVsQnVKLEVBQWdCaFcsVUFBVTRXLG9CQUFzQixTQUFVelAsRUFBR0MsRUFBR0MsR0FDNUQ1SCxLQUFLMlcsV0FBYWpQLEVBQUdDLEVBQUdDLElBRTVCMk8sRUFBZ0JoVyxVQUFVNlcsVUFBWSxTQUFVMVAsRUFBR0MsRUFBR0MsR0FDeEMsU0FBTkYsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxHQUNkLFNBQU5DLElBQWdCQSxFQUFJLEVBQ3hCLElBQUl5UCxHQUFXclgsS0FBSzJXLFVBQ2hCVyxFQUFXVixLQUFLblcsUUFBUWlILEVBQUdDLEVBQUdDLEdBQ2xDZ1AsTUFBS1csSUFBSUYsRUFBVUMsRUFBVXRYLEtBQUsyVyxZQUV0Q25XLE9BQU9xTSxlQUFlMEosRUFBZ0JoVyxVQUFXLFFBQzdDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLNlcsT0FFaEI5SSxJQUFLLFNBQVV4RCxHQUNYdkssS0FBSzZXLE1BQVF0TSxHQUVqQndDLFlBQVksRUFDWkMsY0FBYyxJQUVsQnVKLEVBQWdCaFcsVUFBVWlYLFFBQVUsU0FBVTlQLEVBQUdDLEVBQUdDLEdBQ2hENUgsS0FBSzZXLE9BQVNuUCxFQUFHQyxFQUFHQyxJQUV4QjJPLEVBQWdCaFcsVUFBVWtYLE1BQVEsU0FBVS9QLEVBQUdDLEVBQUdDLEdBQ3BDLFNBQU5GLElBQWdCQSxFQUFJLEdBQ2QsU0FBTkMsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxFQUN4QixJQUFJeVAsR0FBV3JYLEtBQUs2VyxNQUNoQlMsRUFBV1YsS0FBS25XLFFBQVFpSCxFQUFHQyxFQUFHQyxHQUNsQ2dQLE1BQUtXLElBQUlGLEVBQVVDLEVBQVV0WCxLQUFLNlcsUUFFdENyVyxPQUFPcU0sZUFBZTBKLEVBQWdCaFcsVUFBVyxZQUM3Q3VNLElBQUssV0FDRCxNQUFPOU0sTUFBSzhXLFdBRWhCL0ksSUFBSyxTQUFVMEksR0FDWHpXLEtBQUs4VyxVQUFZTCxHQUVyQjFKLFlBQVksRUFDWkMsY0FBYyxJQUVsQnVKLEVBQWdCaFcsVUFBVW1YLFlBQWMsU0FBVVgsRUFBT0MsR0FDakRELElBQ0EvVyxLQUFLOFcsVUFBVUMsTUFBUUEsR0FDdkJDLElBQ0FoWCxLQUFLOFcsVUFBVUUsS0FBT0EsSUFFOUJULEVBQWdCaFcsVUFBVW9YLFNBQVcsU0FBVVosR0FDM0MvVyxLQUFLOFcsVUFBVUMsTUFBUUEsR0FFM0JSLEVBQWdCaFcsVUFBVXFYLFFBQVUsU0FBVVosR0FDMUNoWCxLQUFLOFcsVUFBVUUsS0FBT0EsR0FFMUJULEVBQWdCaFcsVUFBVXNYLFlBQWMsU0FBVWQsR0FDaEMsU0FBVkEsSUFBb0JBLEVBQVEsR0FDaEMvVyxLQUFLOFcsVUFBVUMsT0FBU0EsR0FFNUJSLEVBQWdCaFcsVUFBVXVYLFNBQVcsU0FBVXBRLEVBQUdDLEVBQUdDLEdBQ3ZDLFNBQU5GLElBQWdCQSxFQUFJLEdBQ2QsU0FBTkMsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxFQUN4QixJQUFJeVAsR0FBV3JYLEtBQUs4VyxVQUFVRSxLQUMxQk0sRUFBV1YsS0FBS25XLFFBQVFpSCxFQUFHQyxFQUFHQyxHQUNsQ2dQLE1BQUtXLElBQUlGLEVBQVVDLEVBQVV0WCxLQUFLOFcsVUFBVUUsT0FFaERULEVBQWdCaFcsVUFBVThNLFVBQVksU0FBVUMsR0FRNUMsR0FQQUEsRUFBWWxDLE9BQ1prQyxFQUFZVyxZQUNaak8sS0FBSzBXLFFBQVVwSixFQUFZdUIsU0FDTCxRQUFsQjdPLEtBQUsyVyxXQUNMaEosS0FBS3lKLFVBQVVwWCxLQUFLMFcsUUFBUzFXLEtBQUsyVyxXQUNwQixRQUFkM1csS0FBSzZXLE9BQ0xsSixLQUFLOEosTUFBTXpYLEtBQUswVyxRQUFTMVcsS0FBSzZXLE9BQ1osUUFBbEI3VyxLQUFLOFcsVUFBcUIsQ0FDMUIsR0FBSWlCLEdBQU0vWCxLQUFLOFcsVUFBVUMsTUFBUXhSLEtBQUsrQixHQUFLLEdBQzNDcUcsTUFBS3FLLE9BQU9oWSxLQUFLMFcsUUFBU3FCLEVBQUsvWCxLQUFLOFcsVUFBVUUsTUFFbEQxSixFQUFZc0IsU0FFaEIySCxFQUFnQmhXLFVBQVVnTixRQUFVLFNBQVVELEdBQzFDQSxFQUFZVSxPQUVUdUksR0FDVHJKLEVBQ0Z4TSxHQUFNNlYsZ0JBQWtCQSxDQUN4QixJQUFJMEIsR0FBZSxTQUFVOUssR0FFekIsUUFBUzhLLEdBQVl0TCxFQUFVaUYsRUFBU0MsRUFBUzJFLEVBQVUxRSxFQUFVb0csRUFBV0MsR0FDNUVoTCxFQUFPQyxLQUFLcE4sS0FBTTJNLEdBQ2xCM00sS0FBS2dTLFNBQVdKLEVBQVVLLEtBQUt4UixPQUFPbVIsR0FBVyxLQUNqRDVSLEtBQUtrUyxTQUFXTCxFQUFVSSxLQUFLeFIsT0FBT29SLEdBQVcsS0FDakQ3UixLQUFLMlcsVUFBWUgsRUFBV0ksS0FBS25XLE9BQU8rVixHQUFZLEtBQ3BEeFcsS0FBS21TLFVBQVlMLEVBQVdHLEtBQUt4UixPQUFPcVIsR0FBWSxLQUNwRDlSLEtBQUtvWSxXQUFhRixFQUFZdEIsS0FBS25XLE9BQU95WCxHQUFhLEtBQ3ZEbFksS0FBS3FZLFFBQVVGLEVBaUduQixNQXpHQXBZLFdBQVVrWSxFQUFhOUssR0FVdkIzTSxPQUFPcU0sZUFBZW9MLEVBQVkxWCxVQUFXLFdBQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLZ1MsVUFFaEJqRSxJQUFLLFNBQVU2RCxHQUNYNVIsS0FBS2dTLFNBQVczTSxFQUFNVSxhQUFha00sS0FBS3hSLE9BQU9tUixLQUVuRDdFLFlBQVksRUFDWkMsY0FBYyxJQUVsQnhNLE9BQU9xTSxlQUFlb0wsRUFBWTFYLFVBQVcsV0FDekN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUtrUyxVQUVoQm5FLElBQUssU0FBVThELEdBQ1g3UixLQUFLa1MsU0FBVzdNLEVBQU1VLGFBQWFrTSxLQUFLeFIsT0FBT29SLEtBRW5EOUUsWUFBWSxFQUNaQyxjQUFjLElBRWxCeE0sT0FBT3FNLGVBQWVvTCxFQUFZMVgsVUFBVyxZQUN6Q3VNLElBQUssV0FDRCxNQUFPOU0sTUFBS21TLFdBRWhCcEUsSUFBSyxTQUFVK0QsR0FDWDlSLEtBQUttUyxVQUFZOU0sRUFBTVUsYUFBYWtNLEtBQUt4UixPQUFPcVIsS0FFcEQvRSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZW9MLEVBQVkxWCxVQUFXLFlBQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLa1MsVUFFaEJuRSxJQUFLLFNBQVV5SSxHQUNYeFcsS0FBSzJXLFVBQVl0UixFQUFNVSxhQUFhNlEsS0FBS25XLE9BQU8rVixLQUVwRHpKLFlBQVksRUFDWkMsY0FBYyxJQUVsQnhNLE9BQU9xTSxlQUFlb0wsRUFBWTFYLFVBQVcsYUFDekN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUtvWSxZQUVoQnJLLElBQUssU0FBVW1LLEdBQ1hsWSxLQUFLb1ksV0FBYS9TLEVBQU1VLGFBQWE2USxLQUFLblcsT0FBT3lYLEtBRXJEbkwsWUFBWSxFQUNaQyxjQUFjLElBRWxCeE0sT0FBT3FNLGVBQWVvTCxFQUFZMVgsVUFBVyxVQUN6Q3VNLElBQUssV0FDRCxNQUFPOU0sTUFBS3FZLFNBRWhCdEssSUFBSyxTQUFVb0ssR0FDWG5ZLEtBQUtxWSxRQUFVRixHQUVuQnBMLFlBQVksRUFDWkMsY0FBYyxJQUVsQmlMLEVBQVkxWCxVQUFVOE0sVUFBWSxXQUM5QixHQUFJM0wsR0FBSzFCLEtBQUswQixFQUNkLElBQUkxQixLQUFLZ1MsU0FBVSxDQUNmLEdBQUlzRyxHQUFnQnRZLEtBQUs0SixXQUFXLGdCQUNoQzBPLElBQ0E1VyxFQUFHa1UsV0FBVzBDLEVBQWV0WSxLQUFLZ1MsVUFFMUMsR0FBSWhTLEtBQUtrUyxTQUFVLENBQ2YsR0FBSXFHLEdBQWdCdlksS0FBSzRKLFdBQVcsZ0JBQ2hDMk8sSUFDQTdXLEVBQUdrVSxXQUFXMkMsRUFBZXZZLEtBQUtrUyxVQUUxQyxHQUFJbFMsS0FBS21TLFVBQVcsQ0FDaEIsR0FBSXFHLEdBQWlCeFksS0FBSzRKLFdBQVcsaUJBQ2pDNE8sSUFDQTlXLEVBQUdrVSxXQUFXNEMsRUFBZ0J4WSxLQUFLbVMsV0FFM0MsR0FBSW5TLEtBQUsyVyxVQUFXLENBQ2hCLEdBQUk4QixHQUFpQnpZLEtBQUs0SixXQUFXLGlCQUNqQzZPLElBQ0EvVyxFQUFHZ1gsV0FBV0QsRUFBZ0J6WSxLQUFLMlcsV0FFM0MsR0FBSTNXLEtBQUtvWSxXQUFZLENBQ2pCLEdBQUlPLEdBQWEzWSxLQUFLNEosV0FBVyxrQkFDN0IrTyxJQUNBalgsRUFBR2dYLFdBQVdDLEVBQVkzWSxLQUFLb1ksWUFFdkMsR0FBSXBZLEtBQUtxWSxRQUFTLENBQ2QsR0FBSU8sR0FBVTVZLEtBQUs0SixXQUFXLFVBQzFCZ1AsSUFDQWxYLEVBQUdzVSxVQUFVNEMsRUFBUzVZLEtBQUtxWSxXQUd2Q0osRUFBWTFYLFVBQVVnTixRQUFVLGFBRXpCMEssR0FDVC9LLEVBQ0Z4TSxHQUFNdVgsWUFBY0EsQ0FDcEIsSUFBSVksR0FBaUIsU0FBVTFMLEdBRTNCLFFBQVMwTCxHQUFjbE0sRUFBVWtELEdBQzdCMUMsRUFBT0MsS0FBS3BOLEtBQU0yTSxHQUNsQjNNLEtBQUs4WSxPQUFTakosRUFvQmxCLE1BdkJBOVAsV0FBVThZLEVBQWUxTCxHQUt6QjNNLE9BQU9xTSxlQUFlZ00sRUFBY3RZLFVBQVcsU0FDM0N1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUs4WSxRQUVoQi9LLElBQUssU0FBVThCLEdBQ1g3UCxLQUFLOFksT0FBU2pKLEdBRWxCOUMsWUFBWSxFQUNaQyxjQUFjLElBRWxCNkwsRUFBY3RZLFVBQVU4TSxVQUFZLFdBQ2hDLEdBQUkzTCxHQUFLMUIsS0FBSzBCLEdBQ1ZtVSxFQUFtQjdWLEtBQUs0SixXQUFXLG1CQUNuQ2lNLElBQ0FuVSxFQUFHa1UsV0FBV0MsRUFBa0I3VixLQUFLOFksU0FFN0NELEVBQWN0WSxVQUFVZ04sUUFBVSxhQUUzQnNMLEdBQ1QzTCxFQUNGeE0sR0FBTW1ZLGNBQWdCQSxDQUN0QixJQUFJRSxHQUFrQixTQUFVNUwsR0FFNUIsUUFBUzRMLEdBQWVwTSxFQUFVcU0sR0FDOUI3TCxFQUFPQyxLQUFLcE4sS0FBTTJNLEdBQ2xCM00sS0FBS2laLFdBQWFELEdBQWEsRUFDL0JoWixLQUFLa1osUUFBVSxLQUNmbFosS0FBS21aLFlBQWMsR0FpRHZCLE1BdERBcFosV0FBVWdaLEVBQWdCNUwsR0FPMUI0TCxFQUFleFksVUFBVTZZLFVBQVksU0FBVUMsRUFBV0MsR0FDdEQsR0FBSTVYLEdBQUsxQixLQUFLMEIsRUFDZDFCLE1BQUtrWixRQUFVeFgsRUFBR0QsZUFDbEJDLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLa1osU0FDcEN4WCxFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFpWCxHQUFZM1gsRUFBR1csYUFDL0RYLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDL0JoQyxLQUFLdVosVUFBWUYsRUFBVXBZLE9BQzNCakIsS0FBS21aLFlBQWM5VCxFQUFNTyxLQUFLO0FBQzlCNUYsS0FBSzBSLFNBQVcvUSxFQUFXcUMsY0FBY3RCLEVBQUk0WCxHQUM3Q2hSLEVBQU0yQyxXQUFXakwsS0FBS2lOLFFBQVNqTixLQUFLbVosY0FFeENKLEVBQWV4WSxVQUFVaVosT0FBUyxTQUFVN1gsR0FDeEMsR0FBSUQsR0FBSzFCLEtBQUswQixFQUNkQSxHQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBS2taLFNBQ3BDeFgsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhVCxHQUFPRCxFQUFHVyxhQUMxRFgsRUFBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMvQmhDLEtBQUt1WixVQUFZNVgsRUFBS1YsUUFFMUJULE9BQU9xTSxlQUFla00sRUFBZXhZLFVBQVcsYUFDNUN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUttWixhQUVoQnBNLFlBQVksRUFDWkMsY0FBYyxJQUVsQnhNLE9BQU9xTSxlQUFla00sRUFBZXhZLFVBQVcsYUFDNUN3TixJQUFLLFNBQVU4QixHQUNYN1AsS0FBS2laLFdBQWFwSixHQUV0QjlDLFlBQVksRUFDWkMsY0FBYyxJQUVsQitMLEVBQWV4WSxVQUFVOE0sVUFBWSxXQUNqQyxHQUFJM0wsR0FBSzFCLEtBQUswQixHQUNWK1gsRUFBYXpaLEtBQUs0SixXQUFXLGFBQzdCNlAsSUFDQS9YLEVBQUdzVSxVQUFVeUQsRUFBWXpaLEtBQUtpWixZQUNsQ3ZYLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLa1osU0FDcEM1USxFQUFNNEIsYUFBYWxLLEtBQUtpTixRQUFTLGNBQ2pDM0UsRUFBTWtELGNBQWN4TCxLQUFLaU4sUUFBU2pOLEtBQUttWixZQUFhblosS0FBSzBSLFVBQ3pEaFEsRUFBR2dZLFdBQVdoWSxFQUFHaVksT0FBUSxFQUFHM1osS0FBS3VaLFVBQVksSUFFakRSLEVBQWV4WSxVQUFVZ04sUUFBVSxXQUMvQixHQUFJN0wsR0FBSzFCLEtBQUswQixFQUNkNEcsR0FBTXNDLGNBQWM1SyxLQUFLaU4sUUFBUyxjQUNsQ3ZMLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsT0FFNUIrVyxHQUNUN0wsRUFDRnhNLEdBQU1xWSxlQUFpQkEsQ0FDdkIsSUFBSWEsR0FBZ0IsU0FBVXpNLEdBRTFCLFFBQVN5TSxHQUFhak4sRUFBVS9JLEdBQzVCdUosRUFBT0MsS0FBS3BOLEtBQU0yTSxHQUNsQjNNLEtBQUs2WixNQUFRalcsR0FBUXlFLEVBQVl5UixTQUNqQzlaLEtBQUsrWixTQUFXcE0sS0FBS2xOLFNBQ3JCa04sS0FBS1MsU0FBU3BPLEtBQUsrWixVQUNuQi9aLEtBQUtnYSxJQUFNcEQsS0FBS25XLFNBQ2hCVCxLQUFLaWEsT0FBU3JELEtBQUtuVyxTQUNuQlQsS0FBS2thLFFBQVV0RCxLQUFLblcsU0FDcEJULEtBQUsyVyxVQUFZQyxLQUFLblcsU0FDdEJULEtBQUttYSxTQUFXLEVBQ2hCbmEsS0FBS29hLFdBQWEsRUFDbEJwYSxLQUFLcWEsT0FBUyxFQW1IbEIsTUEvSEF0YSxXQUFVNlosRUFBY3pNLEdBY3hCM00sT0FBT3FNLGVBQWUrTSxFQUFhclosVUFBVyxRQUMxQ3dOLElBQUssU0FBVW5LLEdBQ1g1RCxLQUFLNlosTUFBUWpXLEdBRWpCbUosWUFBWSxFQUNaQyxjQUFjLElBRWxCeE0sT0FBT3FNLGVBQWUrTSxFQUFhclosVUFBVyxZQUMxQ3VNLElBQUssV0FDRCxNQUFPOU0sTUFBSzJXLFdBRWhCNUksSUFBSyxTQUFVdU0sR0FDWHRhLEtBQUsyVyxVQUFZMkQsR0FFckJ2TixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZStNLEVBQWFyWixVQUFXLFdBQzFDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLbWEsVUFFaEJwTSxJQUFLLFNBQVV3TSxHQUNYLEdBQUlDLEdBQVVELEVBQUt2YSxLQUFLbWEsUUFDeEJuYSxNQUFLeWEsY0FBY0QsSUFFdkJ6TixZQUFZLEVBQ1pDLGNBQWMsSUFFbEI0TSxFQUFhclosVUFBVWthLGNBQWdCLFNBQVVGLEdBQzdDdmEsS0FBS21hLFVBQVlJLEdBQ2J2YSxLQUFLbWEsU0FBVyxLQUFPbmEsS0FBS21hLFNBQVcsUUFDdkNuYSxLQUFLbWEsU0FBV25hLEtBQUttYSxTQUFXLE1BR3hDM1osT0FBT3FNLGVBQWUrTSxFQUFhclosVUFBVyxhQUMxQ3VNLElBQUssV0FDRCxNQUFPOU0sTUFBS29hLFlBRWhCck0sSUFBSyxTQUFVMk0sR0FDWCxHQUFJQyxHQUFVRCxFQUFLMWEsS0FBS29hLFVBQ3hCcGEsTUFBSzRhLGdCQUFnQkQsSUFFekI1TixZQUFZLEVBQ1pDLGNBQWMsSUFFbEI0TSxFQUFhclosVUFBVXFhLGdCQUFrQixTQUFVRixHQUMvQzFhLEtBQUtvYSxZQUFjTSxHQUNmMWEsS0FBS29hLFdBQWEsS0FBT3BhLEtBQUtvYSxXQUFhLFFBQzNDcGEsS0FBS29hLFdBQWFwYSxLQUFLb2EsV0FBYSxNQUc1QzVaLE9BQU9xTSxlQUFlK00sRUFBYXJaLFVBQVcsUUFDMUN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUtxYSxRQUVoQnRNLElBQUssU0FBVXBELEdBQ1gsR0FBSXRLLEdBQUl1VyxLQUFLblcsU0FDVG9hLEVBQUlqRSxLQUFLblcsUUFDYkosR0FBSUwsS0FBS3dXLFFBQ1QsSUFBSXNFLEdBQU9uUSxFQUFTM0ssS0FBS3FhLE1BQ3pCekQsTUFBS21FLFVBQVUvYSxLQUFLa2EsUUFBU1csRUFDN0IsSUFBSUcsR0FBZXBFLEtBQUtuVyxRQUNwQlQsTUFBSzZaLFFBQVV4UixFQUFZNFMsVUFDM0JELEVBQWEsR0FBSzNhLEVBQUUsR0FBS3lhLEVBQU9ELEVBQUUsR0FDbENHLEVBQWEsR0FBSzNhLEVBQUUsR0FBS3lhLEVBQU9ELEVBQUUsR0FDbENHLEVBQWEsR0FBSzNhLEVBQUUsR0FBS3lhLEVBQU9ELEVBQUUsS0FHbENHLEVBQWEsR0FBSzNhLEVBQUUsR0FDcEIyYSxFQUFhLEdBQUszYSxFQUFFLEdBQ3BCMmEsRUFBYSxHQUFLM2EsRUFBRSxHQUFLeWEsR0FFN0I5YSxLQUFLd1csU0FBV3dFLEVBQ2hCaGIsS0FBS3FhLE9BQVMxUCxHQUVsQm9DLFlBQVksRUFDWkMsY0FBYyxJQUVsQjRNLEVBQWFyWixVQUFVMmEscUJBQXVCLFdBQzFDLEdBQUlDLEdBQUluYixLQUFLK1osUUFDYnBNLE1BQUt5TixhQUFhRCxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUluYixLQUFLaWEsUUFDeEN0TSxLQUFLeU4sYUFBYUQsR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJbmIsS0FBS2dhLEtBQ3hDck0sS0FBS3lOLGFBQWFELEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSW5iLEtBQUtrYSxVQUU1Q04sRUFBYXJaLFVBQVU4TSxVQUFZLFdBQy9CTSxLQUFLUyxTQUFTcE8sS0FBSytaLFVBQ25CL1osS0FBS2tiLHVCQUNEbGIsS0FBSzZaLFFBQVV4UixFQUFZNFMsVUFDM0J0TixLQUFLeUosVUFBVXBYLEtBQUsrWixTQUFVL1osS0FBSzJXLFdBQ25DaEosS0FBSzBOLFFBQVFyYixLQUFLK1osU0FBVS9aLEtBQUttYSxTQUFXNVUsS0FBSytCLEdBQUssS0FDdERxRyxLQUFLMk4sUUFBUXRiLEtBQUsrWixTQUFVL1osS0FBS29hLFdBQWE3VSxLQUFLK0IsR0FBSyxPQUd4RHFHLEtBQUswTixRQUFRcmIsS0FBSytaLFNBQVUvWixLQUFLbWEsU0FBVzVVLEtBQUsrQixHQUFLLEtBQ3REcUcsS0FBSzJOLFFBQVF0YixLQUFLK1osU0FBVS9aLEtBQUtvYSxXQUFhN1UsS0FBSytCLEdBQUssS0FDeERxRyxLQUFLeUosVUFBVXBYLEtBQUsrWixTQUFVL1osS0FBSzJXLFlBRXZDM1csS0FBS2tiLHVCQUNEbGIsS0FBSzZaLFFBQVV4UixFQUFZNFMsVUFDM0J0TixLQUFLeU4sYUFBYXBiLEtBQUsrWixVQUFXLEVBQUcsRUFBRyxFQUFHLEdBQUkvWixLQUFLMlcsWUFHNURuVyxPQUFPcU0sZUFBZStNLEVBQWFyWixVQUFXLGFBQzFDdU0sSUFBSyxXQUNELEdBQUlxTyxHQUFJeE4sS0FBS2xOLFFBRWIsT0FEQWtOLE1BQUtjLFFBQVF6TyxLQUFLK1osU0FBVW9CLEdBQ3JCQSxHQUVYcE8sWUFBWSxFQUNaQyxjQUFjLElBRWxCNE0sRUFBYXJaLFVBQVVnTixRQUFVLGFBRTFCcU0sR0FDVDFNLEVBQ0Z4TSxHQUFNa1osYUFBZUEsQ0FDckIsSUFBSTJCLEdBQWMsU0FBVXBPLEdBRXhCLFFBQVNvTyxHQUFXNU8sRUFBVTFNLEdBQzFCa04sRUFBT0MsS0FBS3BOLEtBQU0yTSxHQUNsQjFNLEVBQUlBLEdBQUssSUFDVEQsS0FBS3diLFdBQWEsRUFBSyxFQUFLLEVBQUt2YixFQUFHLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLQSxFQUFHLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBSyxFQUFLQSxHQUNuR0QsS0FBS3liLFVBQVksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2hDemIsS0FBSzBiLFNBQVcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBNEN6RixNQWxEQTNiLFdBQVV3YixFQUFZcE8sR0FRdEJvTyxFQUFXaGIsVUFBVW9PLEtBQU8sV0FDeEIsR0FBSWpOLEdBQUsxQixLQUFLMEIsRUFDZDFCLE1BQUs2USxLQUFPblAsRUFBR0QsZUFDZkMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUs2USxNQUNwQ25QLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYXBDLEtBQUt3YixXQUFZOVosRUFBR1csYUFDcEVyQyxLQUFLMmIsS0FBT2phLEVBQUdELGVBQ2ZDLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0I5QyxLQUFLMmIsTUFDNUNqYSxFQUFHUyxXQUFXVCxFQUFHb0IscUJBQXNCLEdBQUlDLGFBQVkvQyxLQUFLeWIsVUFBVy9aLEVBQUdXLGFBQzFFckMsS0FBSzRiLEtBQU9sYSxFQUFHRCxlQUNmQyxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzRiLE1BQ3BDbGEsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhcEMsS0FBSzBiLFNBQVVoYSxFQUFHVyxhQUNsRVgsRUFBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMvQk4sRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQixPQUUzQ3lZLEVBQVdoYixVQUFVOE0sVUFBWSxXQUM3QixHQUFJM0wsR0FBSzFCLEtBQUswQixHQUNWbWEsRUFBYTdiLEtBQUs0SixXQUFXLGFBQzdCaVMsSUFDQW5hLEVBQUdpSyxVQUFVa1EsR0FBWSxFQUM3QixJQUFJQyxHQUFrQjliLEtBQUs0SixXQUFXLGtCQUNsQ2tTLElBQ0FwYSxFQUFHaUssVUFBVW1RLEdBQWlCLEdBQ2xDcGEsRUFBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUs2USxNQUNwQ3ZJLEVBQU00QixhQUFhbEssS0FBS2lOLFFBQVMsY0FDakN2TCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzRiLE1BQ3BDdFQsRUFBTTRCLGFBQWFsSyxLQUFLaU4sUUFBUyxXQUFhMUMsS0FBTSxJQUNwRDdJLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0I5QyxLQUFLMmIsTUFDNUNqYSxFQUFHMFUsYUFBYTFVLEVBQUdxYSxNQUFPL2IsS0FBS3liLFNBQVN4YSxPQUFRUyxFQUFHNFUsZUFBZ0IsSUFFdkVpRixFQUFXaGIsVUFBVWdOLFFBQVUsV0FDM0IsR0FBSTdMLEdBQUsxQixLQUFLMEIsR0FDVm1hLEVBQWE3YixLQUFLNEosV0FBVyxhQUM3QmlTLElBQ0FuYSxFQUFHaUssVUFBVWtRLEdBQVksRUFDN0IsSUFBSUMsR0FBa0I5YixLQUFLNEosV0FBVyxrQkFDbENrUyxJQUNBcGEsRUFBR2lLLFVBQVVtUSxHQUFpQixHQUNsQ3hULEVBQU1zQyxjQUFjNUssS0FBS2lOLFFBQVMsY0FDbEMzRSxFQUFNc0MsY0FBYzVLLEtBQUtpTixRQUFTLFdBQ2xDdkwsRUFBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMvQk4sRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQixPQUVwQ3lZLEdBQ1RyTyxFQUNGeE0sR0FBTTZhLFdBQWFBLENBQ25CLElBQUlTLEdBQWMsU0FBVTdPLEdBRXhCLFFBQVM2TyxHQUFXclAsRUFBVTFNLEVBQUdrQixHQUM3QmdNLEVBQU9DLEtBQUtwTixLQUFNMk0sR0FDbEIzTSxLQUFLaWMsWUFDREMsSUFBS2pjLEdBQUssR0FBSWtRLE1BQU9oUCxHQUFLLElBOERsQyxNQWxFQXBCLFdBQVVpYyxFQUFZN08sR0FPdEI2TyxFQUFXemIsVUFBVW9PLEtBQU8sV0FDeEIsR0FBSWpOLEdBQUsxQixLQUFLMEIsRUFDZDFCLE1BQUttYyxRQUNMbmMsS0FBSzZRLEtBQU9uUCxFQUFHRCxlQUNmQyxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzZRLE1BQ3BDblAsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhcEMsS0FBS3diLFdBQVk5WixFQUFHVyxhQUNwRXJDLEtBQUsyYixLQUFPamEsRUFBR0QsZUFDZkMsRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQjlDLEtBQUsyYixNQUM1Q2phLEVBQUdTLFdBQVdULEVBQUdvQixxQkFBc0IsR0FBSUMsYUFBWS9DLEtBQUt5YixVQUFXL1osRUFBR1csYUFDMUVYLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDL0JOLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0IsT0FFM0NrWixFQUFXemIsVUFBVTRiLE1BQVEsV0FJekIsSUFBSyxHQUhEQyxHQUFNLEVBQUlwYyxLQUFLaWMsV0FBV0MsSUFBTWxjLEtBQUtpYyxXQUFXOUwsTUFDaEROLEtBQ0E3TyxLQUNLcWIsRUFBSSxFQUFHQSxHQUFLcmMsS0FBS2ljLFdBQVc5TCxNQUFPa00sSUFDeEN4TSxFQUFFLEVBQUl3TSxJQUFNcmMsS0FBS2ljLFdBQVdDLElBQzVCck0sRUFBRSxFQUFJd00sRUFBSSxJQUFNLEdBQ2hCeE0sRUFBRSxFQUFJd00sRUFBSSxJQUFNcmMsS0FBS2ljLFdBQVdDLElBQU9HLEVBQUlELEVBQzNDdk0sRUFBRSxFQUFJd00sRUFBSSxHQUFLcmMsS0FBS2ljLFdBQVdDLElBQy9Cck0sRUFBRSxFQUFJd00sRUFBSSxJQUFNLEdBQ2hCeE0sRUFBRSxFQUFJd00sRUFBSSxJQUFNcmMsS0FBS2ljLFdBQVdDLElBQU9HLEVBQUlELEVBQzNDdk0sRUFBRSxHQUFLN1AsS0FBS2ljLFdBQVc5TCxNQUFRLEdBQUssRUFBSWtNLElBQU1yYyxLQUFLaWMsV0FBV0MsSUFBT0csRUFBSUQsRUFDekV2TSxFQUFFLEdBQUs3UCxLQUFLaWMsV0FBVzlMLE1BQVEsR0FBSyxFQUFJa00sRUFBSSxJQUFNLEdBQ2xEeE0sRUFBRSxHQUFLN1AsS0FBS2ljLFdBQVc5TCxNQUFRLEdBQUssRUFBSWtNLEVBQUksSUFBTXJjLEtBQUtpYyxXQUFXQyxJQUNsRXJNLEVBQUUsR0FBSzdQLEtBQUtpYyxXQUFXOUwsTUFBUSxHQUFLLEVBQUlrTSxFQUFJLElBQU1yYyxLQUFLaWMsV0FBV0MsSUFBT0csRUFBSUQsRUFDN0V2TSxFQUFFLEdBQUs3UCxLQUFLaWMsV0FBVzlMLE1BQVEsR0FBSyxFQUFJa00sRUFBSSxJQUFNLEdBQ2xEeE0sRUFBRSxHQUFLN1AsS0FBS2ljLFdBQVc5TCxNQUFRLEdBQUssRUFBSWtNLEVBQUksR0FBS3JjLEtBQUtpYyxXQUFXQyxJQUNqRWxiLEVBQUUsRUFBSXFiLEdBQUssRUFBSUEsRUFDZnJiLEVBQUUsRUFBSXFiLEVBQUksR0FBSyxFQUFJQSxFQUFJLEVBQ3ZCcmIsRUFBRSxHQUFLaEIsS0FBS2ljLFdBQVc5TCxNQUFRLEdBQUssRUFBSWtNLEdBQUssR0FBS3JjLEtBQUtpYyxXQUFXOUwsTUFBUSxHQUFLLEVBQUlrTSxFQUNuRnJiLEVBQUUsR0FBS2hCLEtBQUtpYyxXQUFXOUwsTUFBUSxHQUFLLEVBQUlrTSxFQUFJLEdBQUssR0FBS3JjLEtBQUtpYyxXQUFXOUwsTUFBUSxHQUFLLEVBQUlrTSxFQUFJLENBRS9GcmMsTUFBS3diLFVBQVkzTCxFQUNqQjdQLEtBQUt5YixTQUFXemEsR0FFcEJnYixFQUFXemIsVUFBVThNLFVBQVksV0FDN0IsR0FBSTNMLEdBQUsxQixLQUFLMEIsR0FDVm1hLEVBQWE3YixLQUFLNEosV0FBVyxhQUM3QmlTLElBQ0FuYSxFQUFHaUssVUFBVWtRLEdBQVksRUFDN0IsSUFBSWhHLEdBQW1CN1YsS0FBSzRKLFdBQVcsbUJBQ25DaU0sSUFDQW5VLEVBQUdrVSxXQUFXQyxHQUFtQixHQUFLLEdBQUssR0FBSyxJQUNwRG5VLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLNlEsTUFDcEN2SSxFQUFNNEIsYUFBYWxLLEtBQUtpTixRQUFTLGNBQ2pDdkwsRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQjlDLEtBQUsyYixNQUM1Q2phLEVBQUcwVSxhQUFhMVUsRUFBR3FhLE1BQU8vYixLQUFLeWIsU0FBU3hhLE9BQVFTLEVBQUc0VSxlQUFnQixJQUV2RTBGLEVBQVd6YixVQUFVZ04sUUFBVSxXQUMzQixHQUFJN0wsR0FBSzFCLEtBQUswQixHQUNWbWEsRUFBYTdiLEtBQUs0SixXQUFXLGFBQzdCaVMsSUFDQW5hLEVBQUdpSyxVQUFVa1EsR0FBWSxHQUM3QnZULEVBQU1zQyxjQUFjNUssS0FBS2lOLFFBQVMsY0FDbEN2TCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE1BQy9CTixFQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCLE9BRXBDa1osR0FDVDlPLEVBQ0Z4TSxHQUFNc2IsV0FBYUEsQ0FDbkIsSUFBSU0sR0FBZ0IsU0FBVW5QLEdBRTFCLFFBQVNtUCxHQUFhM1AsRUFBVWhMLEdBQzVCd0wsRUFBT0MsS0FBS3BOLEtBQU0yTSxHQUNsQjNNLEtBQUt1YyxPQUFTdmMsS0FBS3djLHNCQUNuQnhjLEtBQUt5YyxNQUFROWEsRUFzQ2pCLE1BMUNBNUIsV0FBVXVjLEVBQWNuUCxHQU14QjNNLE9BQU9xTSxlQUFleVAsRUFBYS9iLFVBQVcsUUFDMUN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUt5YyxPQUVoQjFQLFlBQVksRUFDWkMsY0FBYyxJQUVsQnhNLE9BQU9xTSxlQUFleVAsRUFBYS9iLFVBQVcsU0FDMUN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUt1YyxRQUVoQnhQLFlBQVksRUFDWkMsY0FBYyxJQUVsQnNQLEVBQWEvYixVQUFVaWMsb0JBQXNCLFdBTXpDLElBTEEsR0FBSW5RLEdBQ0FxUSxFQUFXLFNBQVdyUSxHQUN0QixNQUFzRCxTQUEvQy9ELEVBQU04RCxpQkFBaUJwTSxLQUFLaU4sUUFBU1osSUFDN0NzUSxLQUFLM2MsTUFDSjRjLEdBQVEsRUFDTEEsR0FDSHZRLEdBQVNsRyxPQUFPWixLQUFLRSxTQUFTb1gsUUFBUSxJQUFLMVcsT0FBT1osS0FBS0UsU0FBU29YLFFBQVEsSUFBSzFXLE9BQU9aLEtBQUtFLFNBQVNvWCxRQUFRLElBQUssR0FDL0dELEVBQVFGLEVBQVNyUSxFQUVyQixPQUFPQSxJQUVYaVEsRUFBYS9iLFVBQVU4TSxVQUFZLFdBQy9CLEdBQUkvRSxFQUFNc0QsWUFBWTVMLEtBQUtpTixTQUFVLENBQ2pDLEdBQUl2TCxHQUFLMUIsS0FBSzBCLEdBQ1ZvYixFQUFlOWMsS0FBSzRKLFdBQVcsZUFDL0JrVCxJQUNBcGIsRUFBR2tVLFdBQVdrSCxFQUFjOWMsS0FBS3VjLFVBRzdDRCxFQUFhL2IsVUFBVWdOLFFBQVUsYUFFMUIrTyxHQUNUcFAsRUFDRnhNLEdBQU00YixhQUFlQSxDQUNyQixJQUFJUyxHQUFZLFNBQVU1UCxHQUV0QixRQUFTNFAsR0FBU3BRLEVBQVVxUSxHQUN4QjdQLEVBQU9DLEtBQUtwTixLQUFNMk0sR0FDbEIzTSxLQUFLaWQsWUFBY0QsRUFDbkJoZCxLQUFLa2QsYUFBZSxLQUNwQmxkLEtBQUttZCxjQUFnQixLQUNyQm5kLEtBQUswUixTQUFXLEtBQ2hCMVIsS0FBS29aLFlBK0NULE1BdERBclosV0FBVWdkLEVBQVU1UCxHQVNwQjRQLEVBQVN4YyxVQUFVNlksVUFBWSxXQUMzQixHQUFJMVgsR0FBSzFCLEtBQUswQixFQUNkMUIsTUFBSzBSLFNBQVdoUSxFQUFHc0IsZ0JBQ25CdEIsRUFBR3dCLFlBQVl4QixFQUFHeUIsV0FBWW5ELEtBQUswUixVQUNuQ2hRLEVBQUcwQixXQUFXMUIsRUFBR3lCLFdBQVksRUFBR3pCLEVBQUcyQixLQUFNckQsS0FBS2lkLFlBQVkzYixNQUFPdEIsS0FBS2lkLFlBQVl6YixPQUFRLEVBQUdFLEVBQUcyQixLQUFNM0IsRUFBRzRCLGNBQWUsTUFDeEh0RCxLQUFLbWQsY0FBZ0J6YixFQUFHMGIscUJBQ3hCMWIsRUFBRzJiLGlCQUFpQjNiLEVBQUc0YixhQUFjdGQsS0FBS21kLGVBQzFDemIsRUFBRzZiLG9CQUFvQjdiLEVBQUc0YixhQUFjNWIsRUFBRzhiLGtCQUFtQnhkLEtBQUtpZCxZQUFZM2IsTUFBT3RCLEtBQUtpZCxZQUFZemIsUUFDdkd4QixLQUFLa2QsYUFBZXhiLEVBQUcrYixvQkFDdkIvYixFQUFHZ2MsZ0JBQWdCaGMsRUFBR2ljLFlBQWEzZCxLQUFLa2QsY0FDeEN4YixFQUFHa2MscUJBQXFCbGMsRUFBR2ljLFlBQWFqYyxFQUFHbWMsa0JBQW1CbmMsRUFBR3lCLFdBQVluRCxLQUFLMFIsU0FBVSxHQUM1RmhRLEVBQUdvYyx3QkFBd0JwYyxFQUFHaWMsWUFBYWpjLEVBQUdxYyxpQkFBa0JyYyxFQUFHNGIsYUFBY3RkLEtBQUttZCxlQUN0RnpiLEVBQUd3QixZQUFZeEIsRUFBR3lCLFdBQVksTUFDOUJ6QixFQUFHMmIsaUJBQWlCM2IsRUFBRzRiLGFBQWMsTUFDckM1YixFQUFHZ2MsZ0JBQWdCaGMsRUFBR2ljLFlBQWEsT0FFdkNaLEVBQVN4YyxVQUFVeWQsS0FBTyxTQUFVL1IsR0FDaEMzRCxFQUFNMEQsbUJBQW1CaE0sS0FBS2lOLFFBQVNoQixJQUUzQzhRLEVBQVN4YyxVQUFVMGQsTUFBUSxXQUN2QjNWLEVBQU02RCxvQkFBb0JuTSxLQUFLaU4sVUFFbkM4UCxFQUFTeGMsVUFBVWdNLEtBQU8sU0FBVStOLEdBQ2hDLEdBQUk1WSxHQUFLMUIsS0FBSzBCLEdBQ1Z3YyxFQUFVLEdBQUlDLFlBQVcsRUFDN0J6YyxHQUFHZ2MsZ0JBQWdCaGMsRUFBR2ljLFlBQWEzZCxLQUFLa2QsY0FDeEN4YixFQUFHMGMsV0FBVzlELEVBQUk1UyxFQUFHNFMsRUFBSTNTLEVBQUcsRUFBRyxFQUFHakcsRUFBRzJCLEtBQU0zQixFQUFHNEIsY0FBZTRhLEdBQzdEeGMsRUFBR2djLGdCQUFnQmhjLEVBQUdpYyxZQUFhLEtBQ25DLElBQUlVLE1BQVc1TixNQUFNckQsS0FBSzhRLEdBQVNqWSxJQUFJLFNBQVVxSyxHQUM3QyxNQUFPZ08sYUFBWWhPLEVBQU8sS0FBS3VNLFFBQVEsTUFFdkM1USxFQUFNM0QsRUFBTThELGlCQUFpQnBNLEtBQUtpTixRQUFTb1IsRUFDL0MsT0FBT3BTLEdBQU1BLEVBQUl0SyxLQUFPLFFBRTVCb2IsRUFBU3hjLFVBQVVnZSxPQUFTLFNBQVVDLEdBQ2xDLEdBQUk5YyxHQUFLMUIsS0FBSzBCLEVBQ2RBLEdBQUdnYyxnQkFBZ0JoYyxFQUFHaWMsWUFBYTNkLEtBQUtrZCxhQUN4QyxJQUFJdUIsR0FBYXplLEtBQUs0SixXQUFXLGFBQ2pDbEksR0FBR2lLLFVBQVU4UyxHQUFZLEdBQ3pCblcsRUFBTXdELGdCQUFnQjlMLEtBQUtpTixTQUMzQnVSLElBQ0E5YyxFQUFHaUssVUFBVThTLEdBQVksR0FDekJuVyxFQUFNeUQsaUJBQWlCL0wsS0FBS2lOLFNBQzVCdkwsRUFBR2djLGdCQUFnQmhjLEVBQUdpYyxZQUFhLE9BRWhDWixHQUNUclEsRUFDRmhNLEdBQU1xYyxTQUFXQSxDQUVqQixJQUFJMkIsR0FBVyxTQUFVdlIsR0FFckIsUUFBU3VSLEdBQVEvUixFQUFVOUwsRUFBUStDLEdBQy9CdUosRUFBT0MsS0FBS3BOLEtBQU0yTSxHQUNsQjNNLEtBQUswUixTQUFXLEtBQ2hCMVIsS0FBS2tkLGFBQWUsS0FDcEJsZCxLQUFLbWQsY0FBZ0IsS0FDckJuZCxLQUFLNlEsS0FBTyxLQUNaN1EsS0FBSytRLEtBQU8sS0FDWi9RLEtBQUsyZSxRQUFVLEtBQ2YzZSxLQUFLNGUsVUFBWSxLQUNqQjVlLEtBQUs2ZSxTQUFXLEtBQ2hCN2UsS0FBSzhlLGNBQWdCLEtBQ3JCOWUsS0FBSytlLE9BQVM1WCxLQUFLNlgsTUFDbkJoZixLQUFLaWYsUUFBVXBlLEVBQ2ZiLEtBQUs2WixNQUFRalcsR0FBUSxLQUNyQjVELEtBQUtvWixZQUNMcFosS0FBS2tmLFdBQ0xsZixLQUFLbWYsWUErSVQsTUFoS0FwZixXQUFVMmUsRUFBU3ZSLEdBbUJuQnVSLEVBQVFuZSxVQUFVNlksVUFBWSxXQUMxQixHQUFJMVgsR0FBSzFCLEtBQUswQixHQUNWSixFQUFRdEIsS0FBS2lmLFFBQVEzZCxNQUNyQkUsRUFBU3hCLEtBQUtpZixRQUFRemQsTUFDMUJ4QixNQUFLMFIsU0FBV2hRLEVBQUdzQixnQkFDbkJ0QixFQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZbkQsS0FBSzBSLFVBQ25DaFEsRUFBRzZCLGNBQWM3QixFQUFHeUIsV0FBWXpCLEVBQUc4QixtQkFBb0I5QixFQUFHMGQsU0FDMUQxZCxFQUFHNkIsY0FBYzdCLEVBQUd5QixXQUFZekIsRUFBR2dDLG1CQUFvQmhDLEVBQUcwZCxTQUMxRDFkLEVBQUc2QixjQUFjN0IsRUFBR3lCLFdBQVl6QixFQUFHMmQsZUFBZ0IzZCxFQUFHNGQsZUFDdEQ1ZCxFQUFHNkIsY0FBYzdCLEVBQUd5QixXQUFZekIsRUFBRzZkLGVBQWdCN2QsRUFBRzRkLGVBQ3RENWQsRUFBRzBCLFdBQVcxQixFQUFHeUIsV0FBWSxFQUFHekIsRUFBRzJCLEtBQU0vQixFQUFPRSxFQUFRLEVBQUdFLEVBQUcyQixLQUFNM0IsRUFBRzRCLGNBQWUsTUFDdEZ0RCxLQUFLbWQsY0FBZ0J6YixFQUFHMGIscUJBQ3hCMWIsRUFBRzJiLGlCQUFpQjNiLEVBQUc0YixhQUFjdGQsS0FBS21kLGVBQzFDemIsRUFBRzZiLG9CQUFvQjdiLEVBQUc0YixhQUFjNWIsRUFBRzhiLGtCQUFtQmxjLEVBQU9FLEdBQ3JFeEIsS0FBS2tkLGFBQWV4YixFQUFHK2Isb0JBQ3ZCL2IsRUFBR2djLGdCQUFnQmhjLEVBQUdpYyxZQUFhM2QsS0FBS2tkLGNBQ3hDeGIsRUFBR2tjLHFCQUFxQmxjLEVBQUdpYyxZQUFhamMsRUFBR21jLGtCQUFtQm5jLEVBQUd5QixXQUFZbkQsS0FBSzBSLFNBQVUsR0FDNUZoUSxFQUFHb2Msd0JBQXdCcGMsRUFBR2ljLFlBQWFqYyxFQUFHcWMsaUJBQWtCcmMsRUFBRzRiLGFBQWN0ZCxLQUFLbWQsZUFDdEZ6YixFQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZLE1BQzlCekIsRUFBRzJiLGlCQUFpQjNiLEVBQUc0YixhQUFjLE1BQ3JDNWIsRUFBR2djLGdCQUFnQmhjLEVBQUdpYyxZQUFhLE9BRXZDZSxFQUFRbmUsVUFBVTJlLFNBQVcsV0FDekIsR0FBSXhkLEdBQUsxQixLQUFLMEIsR0FDVjhkLEdBQ0EsR0FBTSxHQUNOLEVBQUssR0FDTCxHQUFNLEVBQ04sR0FBTSxFQUNOLEVBQUssR0FDTCxFQUFLLEdBRUxDLEdBQ0EsRUFBSyxFQUNMLEVBQUssRUFDTCxFQUFLLEVBQ0wsRUFBSyxFQUNMLEVBQUssRUFDTCxFQUFLLEVBRVR6ZixNQUFLNlEsS0FBT25QLEVBQUdELGVBQ2ZDLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLNlEsTUFDcENuUCxFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFvZCxHQUFXOWQsRUFBR1csYUFDOURyQyxLQUFLK1EsS0FBT3JQLEVBQUdELGVBQ2ZDLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLK1EsTUFDcENyUCxFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFxZCxHQUFnQi9kLEVBQUdXLGFBQ25FWCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE9BRW5DMGMsRUFBUW5lLFVBQVU0ZSxVQUFZLFNBQVV2YixHQUNwQzVELEtBQUs2WixNQUFRalcsR0FBUTVELEtBQUs2WixLQUMxQixJQUFJblksR0FBSzFCLEtBQUswQixHQUNWZ2UsSUFFSixRQURBQSxFQUFPNWEsT0FBUzhOLEVBQVFVLE9BQWUsT0FDL0J0VCxLQUFLNlosT0FDVCxJQUFLLE9BQ0Q2RixFQUFPOWEsU0FBV2dPLEVBQVFDLFNBQXNCLFdBQ2hELE1BQ0osS0FBSyxPQUNENk0sRUFBTzlhLFNBQVdnTyxFQUFRQyxTQUFzQixXQUNoRCxNQUNKLEtBQUssT0FDRDZNLEVBQU85YSxTQUFXZ08sRUFBUUMsU0FBc0IsV0FDaEQsTUFDSixLQUFLLEtBQ0wsUUFDSTZNLEVBQU85YSxTQUFXZ08sRUFBUUMsU0FBb0IsVUFFbEQ3UyxLQUFLMmUsU0FDTGpkLEVBQUdpZSxjQUFjM2YsS0FBSzJlLFNBRTFCM2UsS0FBSzJlLFFBQVVoZSxFQUFXOEQsY0FBYy9DLEVBQUlnZSxFQUM1QyxJQUFJRSxFQUNKNWYsTUFBSzZlLFlBQ0xlLEVBQVFsZSxFQUFHd0Qsb0JBQW9CbEYsS0FBSzJlLFFBQVNqZCxFQUFHbWUsa0JBQ2hELEtBQUssR0FBSTdlLEdBQUksRUFBTzRlLEVBQUo1ZSxFQUFXQSxJQUFLLENBQzVCLEdBQUk4ZSxHQUFTcGUsRUFBR3FlLGdCQUFnQi9mLEtBQUsyZSxRQUFTM2QsRUFDOUNoQixNQUFLNmUsU0FBU2lCLEVBQU9qYSxNQUFRbkUsRUFBRzhILGtCQUFrQnhKLEtBQUsyZSxRQUFTbUIsRUFBT2phLE1BRTNFN0YsS0FBSzRlLGFBQ0xnQixFQUFRbGUsRUFBR3dELG9CQUFvQmxGLEtBQUsyZSxRQUFTamQsRUFBR3NlLGdCQUNoRCxLQUFLLEdBQUloZixHQUFJLEVBQU80ZSxFQUFKNWUsRUFBV0EsSUFBSyxDQUM1QixHQUFJaWYsR0FBVXZlLEVBQUd3ZSxpQkFBaUJsZ0IsS0FBSzJlLFFBQVMzZCxFQUNoRGhCLE1BQUs0ZSxVQUFVa0IsRUFBT2phLE1BQVFuRSxFQUFHdUksbUJBQW1CakssS0FBSzJlLFFBQVNzQixFQUFRcGEsUUFHbEY2WSxFQUFRbmUsVUFBVTRmLEtBQU8sV0FDckIsR0FBSXplLEdBQUsxQixLQUFLMEIsR0FDVkosRUFBUXRCLEtBQUtpZixRQUFRM2QsTUFDckJFLEVBQVN4QixLQUFLaWYsUUFBUXpkLE1BQzFCRSxHQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZbkQsS0FBSzBSLFVBQ25DaFEsRUFBRzBCLFdBQVcxQixFQUFHeUIsV0FBWSxFQUFHekIsRUFBRzJCLEtBQU0vQixFQUFPRSxFQUFRLEVBQUdFLEVBQUcyQixLQUFNM0IsRUFBRzRCLGNBQWUsTUFDdEY1QixFQUFHMmIsaUJBQWlCM2IsRUFBRzRiLGFBQWN0ZCxLQUFLbWQsZUFDMUN6YixFQUFHNmIsb0JBQW9CN2IsRUFBRzRiLGFBQWM1YixFQUFHOGIsa0JBQW1CbGMsRUFBT0UsR0FDckVFLEVBQUd3QixZQUFZeEIsRUFBR3lCLFdBQVksTUFDOUJ6QixFQUFHMmIsaUJBQWlCM2IsRUFBRzRiLGFBQWMsT0FFekNvQixFQUFRbmUsVUFBVTZmLGdCQUFrQixTQUFVOUcsR0FDMUMsR0FBSTVYLEdBQUsxQixLQUFLMEIsRUFDZDFCLE1BQUs4ZSxjQUFnQm5lLEVBQVdxQyxjQUFjdEIsRUFBSTRYLElBRXREb0YsRUFBUW5lLFVBQVU4ZixLQUFPLFdBQ3JCLEdBQUkzZSxHQUFLMUIsS0FBSzBCLEdBQ1ZKLEVBQVF0QixLQUFLaWYsUUFBUTNkLE1BQ3JCRSxFQUFTeEIsS0FBS2lmLFFBQVF6ZCxNQUMxQkUsR0FBR29ILFdBQVc5SSxLQUFLMmUsU0FDbkJqZCxFQUFHMkksd0JBQXdCckssS0FBSzZlLFNBQVN5QixZQUN6QzVlLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLNlEsTUFDcENuUCxFQUFHNEksb0JBQW9CdEssS0FBSzZlLFNBQVN5QixXQUFZLEVBQUc1ZSxFQUFHOEksT0FBTyxFQUFPLEVBQUcsR0FDeEU5SSxFQUFHMkksd0JBQXdCckssS0FBSzZlLFNBQVMwQixrQkFDekM3ZSxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSytRLE1BQ3BDclAsRUFBRzRJLG9CQUFvQnRLLEtBQUs2ZSxTQUFTMEIsaUJBQWtCLEVBQUc3ZSxFQUFHOEksT0FBTyxFQUFPLEVBQUcsR0FDOUU5SSxFQUFHOEosY0FBYzlKLEVBQUcrSixVQUNwQi9KLEVBQUd3QixZQUFZeEIsRUFBR3lCLFdBQVluRCxLQUFLMFIsVUFDbkNoUSxFQUFHaUssVUFBVTNMLEtBQUs0ZSxVQUFVbFQsU0FBVSxHQUNsQzFMLEtBQUs0ZSxVQUFVNEIsT0FDZjllLEVBQUdzVSxVQUFVaFcsS0FBSzRlLFVBQVU0QixPQUFRclosS0FBSzZYLE1BQVFoZixLQUFLK2UsUUFBVSxLQUVoRS9lLEtBQUs0ZSxVQUFVNkIscUJBQ2YvZSxFQUFHZ2YsVUFBVTFnQixLQUFLNGUsVUFBVTZCLG9CQUFxQixFQUFNbmYsRUFBTyxFQUFNRSxHQUVwRXhCLEtBQUs0ZSxVQUFVK0IsZUFBaUIzZ0IsS0FBSzhlLGdCQUNyQ3BkLEVBQUc4SixjQUFjOUosRUFBR2tmLFVBQ3BCbGYsRUFBR3dCLFlBQVl4QixFQUFHeUIsV0FBWW5ELEtBQUs4ZSxlQUNuQ3BkLEVBQUdpSyxVQUFVM0wsS0FBSzRlLFVBQVUrQixjQUFlLEtBR25EakMsRUFBUW5lLFVBQVVzZ0IsZ0JBQWtCLFdBQ2hDLEdBQUluZixHQUFLMUIsS0FBSzBCLEVBQ2RBLEdBQUdnYyxnQkFBZ0JoYyxFQUFHaWMsWUFBYTNkLEtBQUtrZCxlQUU1Q3dCLEVBQVFuZSxVQUFVdWdCLGtCQUFvQixXQUNsQyxHQUFJcGYsR0FBSzFCLEtBQUswQixFQUNkQSxHQUFHZ2MsZ0JBQWdCaGMsRUFBR2ljLFlBQWEsT0FFdkNlLEVBQVFuZSxVQUFVaWUsS0FBTyxXQUNyQixHQUFJOWMsR0FBSzFCLEtBQUswQixFQUNkQSxHQUFHZ1ksV0FBV2hZLEVBQUcyVSxVQUFXLEVBQUcsR0FDL0IzVSxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE1BQy9CTixFQUFHbUoseUJBQXlCN0ssS0FBSzZlLFNBQVN5QixZQUMxQzVlLEVBQUdtSix5QkFBeUI3SyxLQUFLNmUsU0FBUzBCLG1CQUV2QzdCLEdBQ1RoUyxFQUNGaE0sR0FBTWdlLFFBQVVBLENBQ2hCLElBQUlxQyxHQUFlLFdBQ2YsUUFBU0EsR0FBWUMsRUFBUXBkLEVBQU1xZCxHQUMvQmpoQixLQUFLa2hCLFlBQWNGLEVBQ2ZoaEIsS0FBS2toQixhQUNMbGhCLEtBQUtraEIsWUFBWUMsYUFBYW5oQixNQUNsQ0EsS0FBS29oQixlQUNMcGhCLEtBQUs2WixNQUFRalcsRUFDYjVELEtBQUtzUixLQUFPak0sRUFBTU8sS0FBSzVGLEtBQUs2WixPQUFTN1osS0FBS0ksWUFBWXlGLE1BQ3REN0YsS0FBS3FoQixRQUFVSixFQXNIbkIsTUFwSEF6Z0IsUUFBT3FNLGVBQWVrVSxFQUFZeGdCLFVBQVcsT0FDekN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUtzUixNQUVoQnZFLFlBQVksRUFDWkMsY0FBYyxJQUVsQnhNLE9BQU9xTSxlQUFla1UsRUFBWXhnQixVQUFXLFVBQ3pDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLa2hCLGFBRWhCblUsWUFBWSxFQUNaQyxjQUFjLElBRWxCeE0sT0FBT3FNLGVBQWVrVSxFQUFZeGdCLFVBQVcsVUFDekN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUtxaEIsU0FFaEJ0VCxJQUFLLFNBQVVrVCxHQUNYamhCLEtBQUtxaEIsUUFBVUosR0FFbkJsVSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ4TSxPQUFPcU0sZUFBZWtVLEVBQVl4Z0IsVUFBVyxjQUN6Q3VNLElBQUssV0FDRCxNQUFPOU0sTUFBS29oQixhQUVoQnJVLFlBQVksRUFDWkMsY0FBYyxJQUVsQitULEVBQVl4Z0IsVUFBVTRnQixhQUFlLFNBQVVHLEdBQzNDdGhCLEtBQUtvaEIsWUFBWWhXLEtBQUtrVyxJQUUxQlAsRUFBWXhnQixVQUFVZ2hCLGdCQUFrQixTQUFVRCxHQUM5QyxHQUFJbFgsR0FBUXBLLEtBQUtzTCxRQUFRZ1csRUFDckJsWCxHQUFRLElBQ1JwSyxLQUFLb2hCLFlBQVk3VixPQUFPbkIsRUFBTyxJQUV2QzJXLEVBQVl4Z0IsVUFBVWloQixvQkFBc0IsU0FBVXBYLEdBQ2xELE1BQU9wSyxNQUFLb2hCLFlBQVloWCxJQUFVLFFBRXRDMlcsRUFBWXhnQixVQUFVa2hCLGdCQUFrQixTQUFVclgsR0FDOUMsTUFBbUMsVUFBNUJwSyxLQUFLb2hCLFlBQVloWCxJQUU1QjJXLEVBQVl4Z0IsVUFBWndnQixVQUErQixXQUMzQi9nQixLQUFLa2hCLFlBQVlLLGdCQUFnQnZoQixPQUVyQytnQixFQUFZeGdCLFVBQVVtaEIsZ0JBQWtCLFNBQVU5ZCxFQUFNcWQsR0FDcEQsTUFBTyxJQUFJRixHQUFZL2dCLEtBQU00RCxFQUFNcWQsSUFFdkNGLEVBQVl4Z0IsVUFBVW9oQixPQUFTLFdBQzNCLE1BQTRCLFVBQXJCM2hCLEtBQUtraEIsYUFFaEJILEVBQVl4Z0IsVUFBVStLLFFBQVUsU0FBVWdXLEdBQ3RDLEdBQUlNLEdBQU1OLEVBQU1NLEdBQ2hCLE9BQU90VixHQUFFdVYsVUFBVTdoQixLQUFLb2hCLFlBQWEsU0FBVVUsR0FBSyxNQUFPQSxHQUFFRixNQUFRQSxLQUV6RWIsRUFBWXhnQixVQUFVd2hCLGNBQWdCLFdBQ2xDLEdBQUkzWCxHQUFRLEVBR1osT0FGS3BLLE1BQUsyaEIsV0FDTnZYLEVBQVFwSyxLQUFLa2hCLFlBQVk1VixRQUFRdEwsT0FDOUJvSyxHQUVYMlcsRUFBWXhnQixVQUFVeWhCLFdBQWEsU0FBVTFZLEdBQ3pDLEdBQUkyWSxJQUFRLENBQ1osS0FBS2ppQixLQUFLMmhCLFNBQVUsQ0FDaEIsR0FBSXZYLEdBQVFwSyxLQUFLa2hCLFlBQVk1VixRQUFRdEwsS0FDakNvSyxHQUFRLEtBQ0pkLEVBQ0l0SixLQUFLa2hCLFlBQVlNLG9CQUFvQnBYLEVBQVEsS0FDN0M2WCxHQUFRLEdBR1JqaUIsS0FBS2toQixZQUFZTSxvQkFBb0JwWCxFQUFRLEtBQzdDNlgsR0FBUSxJQUl4QixNQUFPQSxJQUVYbEIsRUFBWXhnQixVQUFVMmhCLFlBQWMsV0FDaEMsR0FBSUMsR0FBVSxJQUNkLEtBQUtuaUIsS0FBSzJoQixVQUFZM2hCLEtBQUtnaUIsYUFBYyxDQUNyQyxHQUFJNVgsR0FBUXBLLEtBQUtraEIsWUFBWTVWLFFBQVF0TCxLQUNyQ21pQixHQUFVbmlCLEtBQUtraEIsWUFBWU0sb0JBQW9CcFgsRUFBUSxHQUUzRCxNQUFPK1gsSUFFWHBCLEVBQVl4Z0IsVUFBVTZoQixnQkFBa0IsV0FDcEMsR0FBSUQsR0FBVSxJQUNkLEtBQUtuaUIsS0FBSzJoQixVQUFZM2hCLEtBQUtnaUIsWUFBVyxHQUFPLENBQ3pDLEdBQUk1WCxHQUFRcEssS0FBS2toQixZQUFZNVYsUUFBUXRMLEtBQ3JDbWlCLEdBQVVuaUIsS0FBS2toQixZQUFZTSxvQkFBb0JwWCxFQUFRLEdBRTNELE1BQU8rWCxJQUVYcEIsRUFBWXhnQixVQUFVOGhCLFdBQWEsV0FDL0IsTUFBT3JpQixNQUFLd2hCLG9CQUFvQixJQUVwQ1QsRUFBWXhnQixVQUFVK2hCLFVBQVksV0FDOUIsTUFBT3RpQixNQUFLd2hCLG9CQUFvQnhoQixLQUFLb2hCLFlBQVluZ0IsT0FBUyxJQUU5RDhmLEVBQVl4Z0IsVUFBVWdpQixpQkFBbUIsV0FDckN2aUIsS0FBS29oQixnQkFFVEwsRUFBWXhnQixVQUFVaWUsS0FBTyxTQUFVbFIsR0FDL0J0TixLQUFLcWhCLFNBQ0xyaEIsS0FBS3FoQixRQUFRaFUsVUFBVUMsRUFDM0IsS0FBSyxHQUFJdE0sR0FBSSxFQUFHQSxFQUFJaEIsS0FBS29oQixZQUFZbmdCLE9BQVFELElBQUssQ0FDOUMsR0FBSXNnQixHQUFRdGhCLEtBQUtvaEIsWUFBWXBnQixFQUM3QnNnQixHQUFNOUMsS0FBS2xSLEdBRVh0TixLQUFLcWhCLFNBQ0xyaEIsS0FBS3FoQixRQUFROVQsUUFBUUQsSUFFdEJ5VCxJQUVYcmdCLEdBQU1xZ0IsWUFBY0EsQ0FDcEIsSUFBSXlCLEdBQWMsU0FBVXJWLEdBRXhCLFFBQVNxVixLQUNMLEdBQUlaLEdBQU12YyxFQUFNTyxNQUNoQnVILEdBQU9DLEtBQUtwTixLQUFNNGhCLEdBQ2xCNWhCLEtBQUtzUixLQUFPc1EsRUFDWjVoQixLQUFLeWlCLE9BQVMsR0FBSTFCLEdBQVksT0FBUSxTQUN0Qy9nQixLQUFLMGlCLGFBQWUsR0FBSWxWLEdBQVl4TixLQUFLc1IsTUFDekN0UixLQUFLMmlCLGlCQUNMcmEsRUFBTVcsV0FBV2pKLEtBQUtzUixNQUN0QnRSLEtBQUs0aUIsVUFBWSxLQUNqQjVpQixLQUFLNmlCLFNBQVcsS0F5TXBCLE1Bbk5BOWlCLFdBQVV5aUIsRUFBWXJWLEdBWXRCM00sT0FBT3FNLGVBQWUyVixFQUFXamlCLFVBQVcsU0FDeEN1TSxJQUFLLFdBQ0QsTUFBTzlNLE1BQUt5aUIsUUFFaEIxVixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ3VixFQUFXamlCLFVBQVV1aUIsWUFBYyxTQUFVNWlCLEdBQ3pDLEdBQUl3QixHQUFLMUIsS0FBSzBCLEVBQ2R4QixHQUFJQSxNQUNKd0IsRUFBR3FoQixPQUFPcmhCLEVBQUdzaEIsWUFDYnRoQixFQUFHdWhCLFVBQVV2aEIsRUFBR3doQixRQUNoQnhoQixFQUFHcWhCLE9BQU9yaEIsRUFBR3loQixPQUNiemhCLEVBQUcwaEIsVUFBVTFoQixFQUFHMmhCLFVBQVczaEIsRUFBRzRoQixxQkFDOUI1aEIsRUFBRzZoQixZQUFZN2hCLEVBQUc4aEIscUJBQXFCLEdBQ3ZDOWhCLEVBQUcraEIsV0FBV3ZqQixFQUFFLElBQU0sRUFBR0EsRUFBRSxJQUFNLEVBQUdBLEVBQUUsSUFBTSxFQUFHLEdBQy9Dd0IsRUFBR2dpQixXQUFXLElBRWxCbEIsRUFBV2ppQixVQUFVZ2UsT0FBUyxXQUN0QnZlLEtBQUs2aUIsU0FDTDdpQixLQUFLMmpCLGtCQUdMM2pCLEtBQUs0akIsYUFHYnBCLEVBQVdqaUIsVUFBVXFqQixVQUFZLFdBQzdCLEdBQUlsaUIsR0FBSzFCLEtBQUswQixFQUNkMUIsTUFBSzhJLFlBQ0wsSUFBSTBWLEdBQU8sV0FDUDljLEVBQUdtaUIsU0FBUyxFQUFHLEVBQUduaUIsRUFBR0wsY0FBZUssRUFBR0gsZ0JBQ3ZDRyxFQUFHdWMsTUFBTXZjLEVBQUdvaUIsaUJBQW1CcGlCLEVBQUdxaUIsa0JBQ2xDL2pCLEtBQUt5aUIsT0FBT2pFLEtBQUt4ZSxLQUFLMGlCLGVBQ3ZCL0YsS0FBSzNjLEtBQ0pBLE1BQUs0aUIsV0FDTDVpQixLQUFLNGlCLFVBQVVyRSxPQUFPQyxHQUUxQkEsS0FFSmdFLEVBQVdqaUIsVUFBVW9qQixnQkFBa0IsV0FDbkMzakIsS0FBSzZpQixTQUFTMUMsT0FDZG5nQixLQUFLNmlCLFNBQVNoQyxrQkFDZDdnQixLQUFLNGpCLFlBQ0w1akIsS0FBSzZpQixTQUFTL0Isb0JBQ2Q5Z0IsS0FBSzZpQixTQUFTeEMsT0FDZHJnQixLQUFLNmlCLFNBQVNyRSxRQUVsQmdFLEVBQVdqaUIsVUFBVXVJLFdBQWEsV0FDOUJSLEVBQU1RLFdBQVc5SSxLQUFLNGhCLE1BRTFCWSxFQUFXamlCLFVBQVV5akIsb0JBQXNCLFNBQVVwZ0IsRUFBTXFkLEdBQ3ZELE1BQU9qaEIsTUFBS3lpQixPQUFPZixnQkFBZ0I5ZCxFQUFNcWQsSUFFN0N1QixFQUFXamlCLFVBQVUwakIsb0JBQXNCLFNBQVVDLEdBQ2pEbGtCLEtBQUt5aUIsT0FBT2xCLGdCQUFnQjJDLElBRWhDMWpCLE9BQU9xTSxlQUFlMlYsRUFBV2ppQixVQUFXLE9BQ3hDdU0sSUFBSyxXQUNELE1BQU85TSxNQUFLc1IsTUFFaEJ2RSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ3VixFQUFXamlCLFVBQVVtSSxXQUFhLFNBQVU3SCxHQUN4Q3lILEVBQU1DLG1CQUFtQnZJLEtBQUs0aEIsSUFBSy9nQixJQUV2QzJoQixFQUFXamlCLFVBQVU0akIsUUFBVSxTQUFVdmdCLEdBQ3JDQSxFQUFPQSxHQUFRLFFBQ2YwRSxFQUFNN0QsY0FBY3pFLEtBQUtzUixNQUNyQjFNLFNBQVVnTyxFQUFRQyxTQUFTalAsSUFBU2dQLEVBQVFDLFNBQWdCLE1BQzVEL04sT0FBUThOLEVBQVFVLE9BQU8xUCxJQUFTZ1AsRUFBUVUsT0FBYyxTQUc5RGtQLEVBQVdqaUIsVUFBVTZqQixXQUFhLFNBQVVDLEdBQ3hDLEdBQUlDLEdBQWEsR0FBSS9QLEdBQVd2VSxLQUFLNGhCLElBT3JDLE9BTkl5QyxHQUFPRSxNQUNQRCxFQUFXOU8saUJBQWlCNk8sRUFBT0UsTUFFbkNGLEVBQU9HLFVBQ1BGLEVBQVc3TyxxQkFBcUI0TyxFQUFPRyxVQUVwQ0YsR0FFWDlCLEVBQVdqaUIsVUFBVWtrQixjQUFnQixTQUFVNVUsR0FDM0MsTUFBTyxJQUFJZ0osR0FBYzdZLEtBQUs0aEIsSUFBSy9SLElBRXZDMlMsRUFBV2ppQixVQUFVbWtCLG1CQUFxQixTQUFVTCxHQUNoRCxHQUFJRSxHQUFPLEdBQUloUSxHQUFXdlUsS0FBSzRoQixJQUFLeUMsRUFBT0UsS0FBTUYsRUFBT0csU0FBVUgsRUFBT3BoQixRQUV6RSxPQURBakQsTUFBSzJpQixjQUFjdlgsS0FBS21aLEdBQ2pCQSxHQUVYL0IsRUFBV2ppQixVQUFVb2tCLGdCQUFrQixTQUFVbk8sRUFBVWpNLEVBQU1rTSxHQUM3RCxNQUFPLElBQUlGLEdBQWdCdlcsS0FBSzRoQixJQUFLcEwsRUFBVWpNLEVBQU1rTSxJQUV6RCtMLEVBQVdqaUIsVUFBVXFrQixZQUFjLFNBQVVQLEdBQ3pDLE1BQU8sSUFBSXBNLEdBQVlqWSxLQUFLNGhCLElBQUt5QyxFQUFPelMsUUFBU3lTLEVBQU94UyxRQUFTd1MsRUFBTzdOLFNBQVU2TixFQUFPdlMsU0FBVXVTLEVBQU9uTSxVQUFXbU0sRUFBT2xNLFNBRWhJcUssRUFBV2ppQixVQUFVc2tCLGFBQWUsU0FBVWpoQixHQUMxQyxNQUFPLElBQUlnVyxHQUFhNVosS0FBSzRoQixJQUFLaGUsSUFFdEM0ZSxFQUFXamlCLFVBQVV1a0IsZUFBaUIsU0FBVTlMLEdBQzVDLE1BQU8sSUFBSUQsR0FBZS9ZLEtBQUs0aEIsSUFBSzVJLElBRXhDd0osRUFBV2ppQixVQUFVd2tCLFdBQWEsU0FBVTlqQixHQUN4QyxNQUFPLElBQUlzYSxHQUFXdmIsS0FBSzRoQixJQUFLM2dCLElBRXBDdWhCLEVBQVdqaUIsVUFBVXlrQixXQUFhLFNBQVU5SSxFQUFLL0wsR0FDN0MsTUFBTyxJQUFJNkwsR0FBV2hjLEtBQUs0aEIsSUFBSzFGLEVBQUsvTCxJQUV6Q3FTLEVBQVdqaUIsVUFBVTBrQixhQUFlLFNBQVV0akIsR0FDMUMsTUFBTyxJQUFJMmEsR0FBYXRjLEtBQUs0aEIsSUFBS2pnQixJQUV0QzZnQixFQUFXamlCLFVBQVUya0IsZUFBaUIsU0FBVWxJLEdBQzVDaGQsS0FBSzRpQixVQUFZLEdBQUk3RixHQUFTL2MsS0FBSzRoQixJQUFLNUUsSUFFNUN3RixFQUFXamlCLFVBQVU0a0IsYUFBZSxTQUFVbFosR0FDdENqTSxLQUFLNGlCLFdBQ0w1aUIsS0FBSzRpQixVQUFVNUUsS0FBSy9SLElBRzVCdVcsRUFBV2ppQixVQUFVNmtCLGNBQWdCLFNBQVVuWixHQUN2Q2pNLEtBQUs0aUIsV0FDTDVpQixLQUFLNGlCLFVBQVUzRSxTQUd2QnVFLEVBQVdqaUIsVUFBVThrQixPQUFTLFNBQVUvSyxHQUNwQyxNQUFJdGEsTUFBSzRpQixVQUNFNWlCLEtBQUs0aUIsVUFBVXJXLEtBQUsrTixHQUQvQixRQUlKa0ksRUFBV2ppQixVQUFVK2tCLGNBQWdCLFNBQVV6a0IsRUFBUStDLEdBQ25ENUQsS0FBSzZpQixTQUFXLEdBQUluRSxHQUFRMWUsS0FBSzRoQixJQUFLL2dCLEVBQVErQyxHQUM5Q00sUUFBUUMsSUFBSW5FLEtBQUs2aUIsV0FFckJMLEVBQVdqaUIsVUFBVWdsQixlQUFpQixTQUFVdGlCLEdBQ3hDakQsS0FBSzZpQixVQUNMN2lCLEtBQUs2aUIsU0FBU3pDLGdCQUFnQm5kLElBRXRDdWYsRUFBV2ppQixVQUFVNGUsVUFBWSxTQUFVdmIsR0FDbkM1RCxLQUFLNmlCLFVBQ0w3aUIsS0FBSzZpQixTQUFTMUQsVUFBVXZiLElBRWhDcEQsT0FBT3FNLGVBQWUyVixFQUFXamlCLFVBQVcsY0FDeEN3TixJQUFLLFNBQVVNLEdBQ1hyTyxLQUFLMGlCLGFBQWE4QyxXQUFhblgsR0FFbkN0QixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ3VixFQUFXamlCLFVBQVU4SyxjQUFnQixTQUFVdkYsR0FDM0N3QyxFQUFNK0MsY0FBY3JMLEtBQUs0aEIsSUFBSzliLElBRWxDMGMsRUFBV2ppQixVQUFVa2xCLFlBQWMsU0FBVTFhLEdBQ3pDcUssTUFBTXNRLFdBQVcxbEIsS0FBSzJpQixjQUFlLFNBQVVyUyxFQUFNZ0YsR0FDakRoRixFQUFLNkUsU0FBUyxXQUNWalIsUUFBUUMsSUFBSW1NLEdBQ1pnRixPQUVMdkssSUFFUHlYLEVBQVdqaUIsVUFBVTZZLFVBQVksU0FBVWlMLEdBQ3ZDLEdBQUkvVSxHQUFPdFAsSUFDWHFrQixHQUFTQSxNQUNUL1UsRUFBS3dULFlBQVl1QixFQUFPc0IsWUFDeEJyVyxFQUFLNlUsUUFBUUUsRUFBT3VCLFlBQ3BCdGQsRUFBTVksc0JBQXNCb0csRUFBS2dDLEtBQU1rUixFQUFXcUQsWUFDbER2ZCxFQUFNeUIsb0JBQW9CdUYsRUFBS2dDLEtBQU1rUixFQUFXc0QsVUFDaEQ5bEIsS0FBSzBpQixhQUFhL1QsUUFFdEI2VCxFQUFXamlCLFVBQVV3bEIsb0JBQXNCLFNBQVVoYixHQUNqRCxHQUFJdUUsR0FBT3RQLElBQ1hzUCxHQUFLOEosWUFDTDlKLEVBQUttVyxZQUFZMWEsSUFFckJ5WCxFQUFXc0QsVUFDUCxXQUNBLFlBQ0EsV0FDQSxpQkFDQSxrQkFDQSxVQUNBLGdCQUNBLG1CQUNBLGdCQUNBLG1CQUNBLGlCQUNBLG9CQUNBLGFBQ0EsYUFDQSxXQUNBLGFBQ0Esa0JBQ0EsZUFDQSxhQUNBLHNCQUNBLGdCQUNBLFNBRUp0RCxFQUFXcUQsWUFBYyxhQUFjLFdBQVksVUFBVyxvQkFDdkRyRCxHQUNUOVYsRUFDRmhNLEdBQU04aEIsV0FBYUEsR0FDcEI5aEIsUUFBVUEiLCJmaWxlIjoiYmxhemUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59O1xyXG52YXIgQmxhemU7XHJcbihmdW5jdGlvbiAoQmxhemUpIHtcclxuICAgIHZhciBXZWJHTFV0aWxzO1xyXG4gICAgKGZ1bmN0aW9uIChXZWJHTFV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0R0xDb250ZXh0KGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY3R4ID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG5hbWVzID0gW1wid2ViZ2xcIiwgXCJleHBlcmltZW50YWwtd2ViZ2xcIiwgXCJ3ZWJraXQtM2RcIiwgXCJtb3otd2ViZ2xcIl07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQobmFtZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdHggPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiQ291bGQgbm90IGluaXRpYWxpc2UgV2ViR0xcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC52aWV3cG9ydFdpZHRoID0gY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0SGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5nZXRHTENvbnRleHQgPSBnZXRHTENvbnRleHQ7XHJcbiAgICAgICAgKGZ1bmN0aW9uIChCVUZGRVJfRFJBVykge1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUQVRJQ1wiXSA9IDBdID0gXCJTVEFUSUNcIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJTVFJFQU1cIl0gPSAxXSA9IFwiU1RSRUFNXCI7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiRFlOQU1JQ1wiXSA9IDJdID0gXCJEWU5BTUlDXCI7XHJcbiAgICAgICAgfSkoV2ViR0xVdGlscy5CVUZGRVJfRFJBVyB8fCAoV2ViR0xVdGlscy5CVUZGRVJfRFJBVyA9IHt9KSk7XHJcbiAgICAgICAgdmFyIEJVRkZFUl9EUkFXID0gV2ViR0xVdGlscy5CVUZGRVJfRFJBVztcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVCdWZmZXIoZ2wsIGRhdGEsIGlzMkQsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUQVRJQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLkRZTkFNSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RSRUFNOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVFJFQU1fRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgaWYgKGlzMkQpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDI7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIuaXRlbVNpemUgPSAzO1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGggLyAzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyID0gY3JlYXRlQnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhLCB0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kZXhCdWZmZXIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUQVRJQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5EWU5BTUlDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5TVFJFQU1fRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgaW5kZXhCdWZmZXIuaXRlbVNpemUgPSAxO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5kZXhCdWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlSW5kZXhCdWZmZXIgPSBjcmVhdGVJbmRleEJ1ZmZlcjtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUZXh0dXJlKGdsLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBkYXRhKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmU7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsLCB0eXBlLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICAgICAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcclxuICAgICAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlU2hhZGVyID0gY3JlYXRlU2hhZGVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUZyYWdtZW50U2hhZGVyKGdsLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBzaGFkZXJTb3VyY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZUZyYWdtZW50U2hhZGVyID0gY3JlYXRlRnJhZ21lbnRTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlVmVydGV4U2hhZGVyKGdsLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgc2hhZGVyU291cmNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVWZXJ0ZXhTaGFkZXIgPSBjcmVhdGVWZXJ0ZXhTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVGcmFnbWVudFNoYWRlcihnbCwgc2hhZGVycy5mcmFnbWVudCk7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVWZXJ0ZXhTaGFkZXIoZ2wsIHNoYWRlcnMudmVydGV4KTtcclxuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW07XHJcbiAgICB9KShXZWJHTFV0aWxzID0gQmxhemUuV2ViR0xVdGlscyB8fCAoQmxhemUuV2ViR0xVdGlscyA9IHt9KSk7XHJcbiAgICB2YXIgdXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKHV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gczQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuczQgPSBzNDtcclxuICAgICAgICBmdW5jdGlvbiB1dWlkKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gczQoKSArIHM0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lID8gbmFtZSArIGlkIDogaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnV1aWQgPSB1dWlkO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hTih2ZWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlYy5tYXAoZnVuY3Rpb24gKGEpIHsgaWYgKE51bWJlci5pc05hTihhKSlcclxuICAgICAgICAgICAgICAgIGEgPSAwOyByZXR1cm4gYTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vcm1hbGl6ZU5hTiA9IG5vcm1hbGl6ZU5hTjtcclxuICAgICAgICBmdW5jdGlvbiBsb2FkKHVybCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubG9hZCA9IGxvYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKHN0cikge1xyXG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBzdHIuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbXNbZWxlbXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmdldEV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbjtcclxuICAgICAgICBmdW5jdGlvbiBub3dJbk1pbGxpc2Vjb25kcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzID0gbm93SW5NaWxsaXNlY29uZHM7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVnVG9SYWQoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmRlZ1RvUmFkID0gZGVnVG9SYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFscyh2cywgaW5kKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICAgICAgdmFyIHkgPSAxO1xyXG4gICAgICAgICAgICB2YXIgeiA9IDI7XHJcbiAgICAgICAgICAgIHZhciBucyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuc1tpXSA9IDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZC5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYxID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgdjIgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWwgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vcDEgLSBwMFxyXG4gICAgICAgICAgICAgICAgdjFbeF0gPSB2c1szICogaW5kW2kgKyAxXSArIHhdIC0gdnNbMyAqIGluZFtpXSArIHhdO1xyXG4gICAgICAgICAgICAgICAgdjFbeV0gPSB2c1szICogaW5kW2kgKyAxXSArIHldIC0gdnNbMyAqIGluZFtpXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjFbel0gPSB2c1szICogaW5kW2kgKyAxXSArIHpdIC0gdnNbMyAqIGluZFtpXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgdjJbeF0gPSB2c1szICogaW5kW2kgKyAyXSArIHhdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYyW3ldID0gdnNbMyAqIGluZFtpICsgMl0gKyB5XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeV07XHJcbiAgICAgICAgICAgICAgICB2Mlt6XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgel0gLSB2c1szICogaW5kW2kgKyAxXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy9wMiAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2MVt4XSA9IHZzWzMqaW5kW2krMl0reF0gLSB2c1szKmluZFtpKzFdK3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gdjFbeV0gPSB2c1szKmluZFtpKzJdK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3pdID0gdnNbMyppbmRbaSsyXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvLyBwMCAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt4XSA9IHZzWzMqaW5kW2ldK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3ldID0gdnNbMyppbmRbaV0reV0gLSB2c1szKmluZFtpKzFdK3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gdjJbel0gPSB2c1szKmluZFtpXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvL2Nyb3NzIHByb2R1Y3QgYnkgU2FycnVzIFJ1bGVcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt4XSA9IHYxW3ldICogdjJbel0gLSB2MVt6XSAqIHYyW3ldO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3ldID0gdjFbel0gKiB2Mlt4XSAtIHYxW3hdICogdjJbel07XHJcbiAgICAgICAgICAgICAgICBub3JtYWxbel0gPSB2MVt4XSAqIHYyW3ldIC0gdjFbeV0gKiB2Mlt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3hdICs9IG5vcm1hbFt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3ldICs9IG5vcm1hbFt5XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3pdICs9IG5vcm1hbFt6XTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB4XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeF0gKyBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB5XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeV0gKyBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB6XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgel0gKyBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9ub3JtYWxpemUgdGhlIHJlc3VsdFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm4gPSBbXTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbnNbaSArIHhdO1xyXG4gICAgICAgICAgICAgICAgbm5beV0gPSBuc1tpICsgeV07XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5zW2kgKyB6XTtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLnNxcnQoKG5uW3hdICogbm5beF0pICsgKG5uW3ldICogbm5beV0pICsgKG5uW3pdICogbm5bel0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMClcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSAwLjAwMDAxO1xyXG4gICAgICAgICAgICAgICAgbm5beF0gPSBublt4XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbm5beV0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5uW3pdIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHhdID0gbm5beF07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgeV0gPSBublt5XTtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB6XSA9IG5uW3pdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBucztcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuY2FsY3VsYXRlTm9ybWFscyA9IGNhbGN1bGF0ZU5vcm1hbHM7XHJcbiAgICB9KSh1dGlscyA9IEJsYXplLnV0aWxzIHx8IChCbGF6ZS51dGlscyA9IHt9KSk7XHJcbiAgICAoZnVuY3Rpb24gKENBTUVSQV9UWVBFKSB7XHJcbiAgICAgICAgQ0FNRVJBX1RZUEVbQ0FNRVJBX1RZUEVbXCJPUkJJVElOR1wiXSA9IDBdID0gXCJPUkJJVElOR1wiO1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiVFJBQ0tJTkdcIl0gPSAxXSA9IFwiVFJBQ0tJTkdcIjtcclxuICAgIH0pKEJsYXplLkNBTUVSQV9UWVBFIHx8IChCbGF6ZS5DQU1FUkFfVFlQRSA9IHt9KSk7XHJcbiAgICB2YXIgQ0FNRVJBX1RZUEUgPSBCbGF6ZS5DQU1FUkFfVFlQRTtcclxuICAgIHZhciBLZXRjaCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gS2V0Y2goKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCA9IGZ1bmN0aW9uIChrZXksIGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IFdlYkdMVXRpbHMuZ2V0R0xDb250ZXh0KGNhbnZhcyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENvbnRleHQoa2V5LCBjb250ZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtID0gZnVuY3Rpb24gKGtleSwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KGtleSk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gV2ViR0xVdGlscy5jcmVhdGVQcm9ncmFtKGdsLCBzaGFkZXJzKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbShrZXksIHByb2dyYW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHByb2dyYW0pIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbSA9IHByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRQcm9ncmFtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnVzZVByb2dyYW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcmcpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY3JlYXRlVmlldyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0gPSB7fTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldEF0dHJpYnV0ZUxvY2F0aW9ucyA9IGZ1bmN0aW9uIChrZXksIGF0dHJpYnNfbmFtZXMpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2aWV3LmF0dHJpYnMgPSBhdHRyaWJzX25hbWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgcHJldlthdHRyXSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByZywgYXR0cik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0QXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5hdHRyaWJzW2F0dHJfa2V5XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldFVuaWZvcm0gPSBmdW5jdGlvbiAodmlld19rZXksIHVuaWZvcm1fa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLnVuaWZvcm1zW3VuaWZvcm1fa2V5XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldFVuaWZvcm1Mb2NhdGlvbnMgPSBmdW5jdGlvbiAoa2V5LCB1bmlmb3JtX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmlldy51bmlmb3JtcyA9IHVuaWZvcm1fbmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2W2F0dHJdID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgYXR0cik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSwgcG9pbnRlcikge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBLZXRjaC5nZXRBdHRyaWIodmlld19rZXksIGF0dHJfa2V5KTtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dCh2aWV3X2tleSk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKHBvaW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaW5kZXgsIHBvaW50ZXIuc2l6ZSB8fCAzLCBnbC5GTE9BVCwgcG9pbnRlci5ub3JtYWxpemVkIHx8IGZhbHNlLCBwb2ludGVyLnN0cmlkZSB8fCAwLCBwb2ludGVyLm9mZnNldCB8fCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaW5kZXgsIDMsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IEtldGNoLmdldEF0dHJpYih2aWV3X2tleSwgYXR0cl9rZXkpO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KHZpZXdfa2V5KTtcclxuICAgICAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGluZGV4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnJlbmRlckxvb3AgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoY2IsIDMwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFkZFRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMgPSB2aWV3LnRleHR1cmVzIHx8IFtdO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzLnB1c2godGV4dHVyZV9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5yZW1vdmVUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzID0gdmlldy50ZXh0dXJlcyB8fCBbXTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5hY3RpdmVUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCwgdGV4dHVyZSkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZpZXcudGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlX2lkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoaW5kZXggPT09IDAgPyBnbC5URVhUVVJFMCA6IGdsLlRFWFRVUkUwICsgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdVNhbXBsZXIgPSBLZXRjaC5nZXRVbmlmb3JtKGtleSwgXCJ1U2FtcGxlclwiKTtcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1U2FtcGxlciwgaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5pc09mZlNjcmVlbiA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5vZmZzY3JlZW47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5lbmFibGVPZmZTY3JlZW4gPSBmdW5jdGlvbiAodmlld19rZXkpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5vZmZzY3JlZW4gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZGlzYWJsZU9mZlNjcmVlbiA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nbdmlld19rZXldLm9mZnNjcmVlbiA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5maWxsU2VsZWN0b3JCdWZmZXIgPSBmdW5jdGlvbiAodmlld19rZXksIG9iaikge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1t2aWV3X2tleV07XHJcbiAgICAgICAgICAgIHZpZXcuc2VsZWN0T2JqZWN0cyA9IHZpZXcuc2VsZWN0T2JqZWN0cyB8fCBbXTtcclxuICAgICAgICAgICAgdmlldy5zZWxlY3RPYmplY3RzLnB1c2gob2JqKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmNsZWFyU2VsZWN0b3JCdWZmZXIgPSBmdW5jdGlvbiAodmlld19rZXkpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nbdmlld19rZXldO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMgPSBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldFNlbGVjdEJ5Q29sb3IgPSBmdW5jdGlvbiAodmlld19rZXksIGNvbG9yKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XTtcclxuICAgICAgICAgICAgdmlldy5zZWxlY3RPYmplY3RzID0gdmlldy5zZWxlY3RPYmplY3RzIHx8IFtdO1xyXG4gICAgICAgICAgICByZXR1cm4gXy5maW5kKHZpZXcuc2VsZWN0T2JqZWN0cywgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfLmlzRXF1YWwoby5jb2xvciwgY29sb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLl92aWV3cyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBLZXRjaDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5LZXRjaCA9IEtldGNoO1xyXG4gICAgdmFyIFJlbmRlcmFibGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFJlbmRlcmFibGUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JhcGhfaWQgPSBncmFwaF9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdyYXBoSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ncmFwaF9pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdsXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0Q29udGV4dCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwicHJvZ3JhbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFByb2dyYW0odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUmVuZGVyYWJsZS5wcm90b3R5cGUuZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFVuaWZvcm0odGhpcy5ncmFwaElELCBrZXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlcmFibGU7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuUmVuZGVyYWJsZSA9IFJlbmRlcmFibGU7XHJcbiAgICB2YXIgRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEVudGl0eShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFbnRpdHk7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLkVudGl0eSA9IEVudGl0eTtcclxuICAgIHZhciBNYXRyaXhTdGFjayA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1hdHJpeFN0YWNrLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1hdHJpeFN0YWNrKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29weSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuc2V0KHRoaXMuX212TWF0cml4LCBjb3B5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sucHVzaChjb3B5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFjay5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgIHRocm93IFwiaW52YWxpZCBwb3BNYXRyaXhcIjtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9zdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5Nb2RlbFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gdGhpcy5fY2FtZXJhLm1vZGVsVmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIm12TWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbXZNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwicE1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibk1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25NYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuUGVyc3BlY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQucGVyc3BlY3RpdmUoNDUsIGdsLnZpZXdwb3J0V2lkdGggLyBnbC52aWV3cG9ydEhlaWdodCwgMC4xLCAxMDAwLjAsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk5vcm1hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuUGVyc3BlY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5zZXRVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICAgICAgdmFyIG12TWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1WTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobXZNYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KG12TWF0cml4LCBmYWxzZSwgdGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgcE1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVQTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAocE1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocE1hdHJpeCwgZmFsc2UsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgbk1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVOTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobk1hdHJpeCwgZmFsc2UsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1hdHJpeFN0YWNrO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5NYXRyaXhTdGFjayA9IE1hdHJpeFN0YWNrO1xyXG4gICAgdmFyIFJlc291cmNlcztcclxuICAgIChmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgdmFyIE1lc2hCdWZmZXJzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hCdWZmZXJzLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoQnVmZmVycyhncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dCA9IHV0aWxzLmdldEV4dGVuc2lvbihzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9ialwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VPQkooZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VKU09OKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VKU09OID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VPQkogPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ3YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ2YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gb2JqW2tleV0uY29uY2F0KGVsZW1zLnNsaWNlKDEpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAhPT0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnJlcGxhY2UoXCJcXHJcIiwgXCJcIikucmVwbGFjZShcImZcIiwgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9IHRlbXBJbmRleC5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGVtcEluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXYucHVzaChwYXJzZUludChlbGVtc1swXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaW4ucHVzaChwYXJzZUludChlbGVtc1sxXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXQucHVzaChwYXJzZUludChlbGVtc1syXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgXy5kZWZhdWx0cyhvYmosIHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZibyA9IGNyZWF0ZUJ1ZmZlcihvYmoudik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnYubGVuZ3RoID4gMCAmJiBvYmouaXYubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25ibyA9IGNyZWF0ZUJ1ZmZlcih1dGlscy5jYWxjdWxhdGVOb3JtYWxzKG9iai52LCBvYmouaXYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RibyA9IFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBvYmoudnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJHTFV0aWxzLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXYubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml2KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaW4ubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLmluKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXQubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml0KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIm5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwidGJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpdmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaW5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5ibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoQnVmZmVycyA9IE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIHZhciBNZXNoVGV4dHVyZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoVGV4dHVyZSwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaFRleHR1cmUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMubG9hZFRleHR1cmVJbWFnZSh0aGlzLl9vbmxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hUZXh0dXJlLnByb3RvdHlwZS5sb2FkVGV4dHVyZUltYWdlID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShzZWxmLmdsLCBzZWxmLl9pbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZShzZWxmLmdyYXBoSUQsIHNlbGYuX29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoVGV4dHVyZTtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaFRleHR1cmUgPSBNZXNoVGV4dHVyZTtcclxuICAgICAgICB2YXIgTWVzaE1hdGVyaWFsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBzcGVjdWxhciwgc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoaW5pbmVzcyA9IHNoaW5pbmVzcyB8fCAyMDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbHMubG9hZChzcmMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gc2VsZi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FtYmllbnQgPSB0ZW1wLkthO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGlmZnVzZSA9IHRlbXAuS2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zcGVjdWxhciA9IHRlbXAuS3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNoaW5pbmVzcyA9IHRlbXAuTnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25sb2FkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXCJLYVwiLCBcIktkXCIsIFwiS3NcIiwgXCJOc1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gbGluZS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTnNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbXCJOc1wiXSA9IE51bWJlcihlbGVtc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBlbGVtcy5zbGljZSgxKS5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIE51bWJlcihhKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKDEuMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbWJpZW50O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGFtYmllbnQpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJkaWZmdXNlXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNoaW5pbmVzc1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hpbmluZXNzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoTWF0ZXJpYWw7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCA9IE1lc2hNYXRlcmlhbDtcclxuICAgIH0pKFJlc291cmNlcyA9IEJsYXplLlJlc291cmNlcyB8fCAoQmxhemUuUmVzb3VyY2VzID0ge30pKTtcclxuICAgIHZhciBTaGFkZXJzO1xyXG4gICAgKGZ1bmN0aW9uIChTaGFkZXJzKSB7XHJcbiAgICAgICAgdmFyIEZyYWdtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gRnJhZ21lbnQoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgRnJhZ21lbnQuQmx1cl9lZmZlY3QgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjMiB1SW52ZXJzZVRleHR1cmVTaXplO1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZlYzQgb2Zmc2V0TG9va3VwKGZsb2F0IHhPZmYsIGZsb2F0IHlPZmYpe1xcblxcbiAgICBmbG9hdCB4PXZUZXh0dXJlQ29vcmQueCt4T2ZmKnVJbnZlcnNlVGV4dHVyZVNpemUueDtcXG4gICAgZmxvYXQgeT12VGV4dHVyZUNvb3JkLnkreU9mZip1SW52ZXJzZVRleHR1cmVTaXplLnk7XFxuICAgIHJldHVybiB0ZXh0dXJlMkQodVNhbXBsZXIsIHZlYzIoeCwgeSkpXFxuXFxufVxcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICB2ZWM0IGZyYW1lQ29sb3IgPSBvZmZzZXRMb29rdXAoLTQuMCwgMC4wKSAqIDAuMDU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKC0zLjAsIDAuMCkgKiAwLjA5O1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgtMi4wLCAwLjApICogMC4xMjtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoLTEuMCwgMC4wKSAqIDAuMTU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDAuMCwgMC4wKSAqIDAuMTY7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDEuMCwgMC4wKSAqIDAuMTU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDIuMCwgMC4wKSAqIDAuMTI7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDMuMCwgMC4wKSAqIDAuMDk7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDQuMCwgMC4wKSAqIDAuMDU7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGZyYW1lQ29sb3I7XFxuXFxuXFxuICAgIFxcbn1cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuRmlsbV9lZmZlY3QgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVOb2lzZVNhbXBsZXI7XFxudW5pZm9ybSB2ZWMyIHVJbnZlcnNlVGV4dHVyZVNpemU7XFxudW5pZm9ybSBmbG9hdCB1VGltZTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG5jb25zdCBmbG9hdCBncmFpbkludGVuc2l0eSA9IDAuMTtcXG5jb25zdCBmbG9hdCBzY3JvbGxTcGVlZCA9IDQwMDAuMDtcXG5cXG5cXG52b2lkIG1haW4oKVxcbntcXG4gICAgdmVjNCBmcmFtZUNvbG9yPXRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIHZlYzQgZ3JhaW49dGV4dHVyZTJEKHVOb2lzZVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQqMi4wK3VUaW1lKnNjcm9sbFNwZWVkKnVJbnZlcnNlVGV4dHVyZVNpemUpO1xcbiAgICBnbF9GcmFnQ29sb3I9ZnJhbWVDb2xvci0oZ3JhaW4qZ3JhaW5JbnRlbnNpdHkpO1xcblxcbn1cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuTm9fZWZmZWN0ID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4oKXtcXG4gICAgdmVjNCBmcmFtZUNvbG9yPXRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIFxcbiAgICBnbF9GcmFnQ29sb3I9ZnJhbWVDb2xvcjtcXG5cXG59XFxuXCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlBhcnRpY2xlID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcblxcbmJvb2wgaXNCbGFjayh2ZWM0IGNvbG9yKXtcXG5yZXR1cm4gY29sb3Iucj09MC4wICYmY29sb3IuZz09MC4wJiZjb2xvci5iPT0wLjA7XFxufVxcbnZvaWQgbWFpbih2b2lkKSB7IFxcbiAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgfWVsc2V7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgZ2xfUG9pbnRDb29yZCk7XFxuICAgIGlmKGdsX0ZyYWdDb2xvci5hIDwgMC41IHx8IGlzQmxhY2soZ2xfRnJhZ0NvbG9yKSkgZGlzY2FyZDtcXG4gICAgfVxcbn1cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuUGhvbmcgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdVNoaW5pbmVzcztcXG51bmlmb3JtIHZlYzMgdUxpZ2h0RGlyZWN0aW9uO1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TGlnaHREaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TGlnaHRTcGVjdWxhcjtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG5cXG51bmlmb3JtIGJvb2wgdU9mZnNjcmVlbjtcXG51bmlmb3JtIHZlYzQgdVNlbGVjdENvbG9yO1xcblxcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxTcGVjdWxhcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICBcXG5cXG4gICAgICAgIGlmKHVPZmZzY3JlZW4pe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj11U2VsZWN0Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICBcXG4gICAgICAgIHZlYzMgTD0gbm9ybWFsaXplKHVMaWdodERpcmVjdGlvbik7XFxuICAgICAgICB2ZWMzIE49IG5vcm1hbGl6ZSh2Tm9ybWFsKTtcXG4gICAgICAgIGZsb2F0IGxhbWJlcnRUZXJtPWRvdChOLCAtTCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWE9IHVMaWdodEFtYmllbnQqdU1hdGVyaWFsQW1iaWVudDtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJZD12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSXM9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZihsYW1iZXJ0VGVybT4wLjApXFxuICAgICAgICB7XFxuICAgICAgICAgICAgSWQ9dUxpZ2h0RGlmZnVzZSp1TWF0ZXJpYWxEaWZmdXNlKmxhbWJlcnRUZXJtO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHZlYzMgRT0gbm9ybWFsaXplKHZFeWVWZWMpO1xcbiAgICAgICAgICAgIHZlYzMgUj0gcmVmbGVjdChMLCBOKTtcXG4gICAgICAgICAgICBmbG9hdCBzcGVjdWxhcj1wb3cobWF4KGRvdChSLEUpLDAuMCksIHVTaGluaW5lc3MpO1xcbiAgICAgICAgICAgIElzPXVMaWdodFNwZWN1bGFyKnVNYXRlcmlhbFNwZWN1bGFyKnNwZWN1bGFyO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGZpbmFsQ29sb3I9SWErSWQrSXM7XFxuICAgICAgICBmaW5hbENvbG9yLmE9MS4wO1xcbiAgICBcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9ZmluYWxDb2xvcjtcXG4gICAgICAgIFxcbiAgICAgICAgXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5QaG9uZ19wb3NpdGlvbmFsID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxuXFxudW5pZm9ybSB2ZWM0IHVMaWdodEFtYmllbnQ7XFxudW5pZm9ybSB2ZWM0IHVMaWdodERpZmZ1c2U7XFxuXFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBib29sIHVPZmZzY3JlZW47XFxudW5pZm9ybSB2ZWM0IHVTZWxlY3RDb2xvcjtcXG5cXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RGlyO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgICAgICBpZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgIFxcblxcbiAgICAgICAgaWYodU9mZnNjcmVlbil7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPXVTZWxlY3RDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgIFxcbiAgICAgICAgdmVjMyBMPSBub3JtYWxpemUodkxpZ2h0RGlyKTtcXG4gICAgICAgIHZlYzMgTj0gbm9ybWFsaXplKHZOb3JtYWwpO1xcbiAgICAgICAgZmxvYXQgbGFtYmVydFRlcm09ZG90KE4sIC1MKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJYT0gdUxpZ2h0QW1iaWVudDtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJZD12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSXM9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZihsYW1iZXJ0VGVybT4wLjApXFxuICAgICAgICB7XFxuICAgICAgICAgICAgSWQ9dU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHREaWZmdXNlKnNwZWN1bGFyO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGZpbmFsQ29sb3I9SWErSWQrSXM7XFxuICAgICAgICBmaW5hbENvbG9yLmE9MS4wO1xcbiAgICBcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9ZmluYWxDb2xvcjtcXG4gICAgICAgIFxcbiAgICAgICAgXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5Ub29uID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxudW5pZm9ybSB2ZWMzIHVMaWdodERpcmVjdGlvbjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TGlnaHREaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcblxcbnVuaWZvcm0gYm9vbCB1T2Zmc2NyZWVuO1xcbnVuaWZvcm0gdmVjNCB1U2VsZWN0Q29sb3I7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdlZlcnRleDtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICBcXG5cXG4gICAgICAgIGlmKHVPZmZzY3JlZW4pe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj11U2VsZWN0Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdmVjNCBjb2xvcjA9dmVjNCh1TWF0ZXJpYWxEaWZmdXNlLnJnYiwxLjApO1xcbiAgICAgICAgdmVjNCBjb2xvcjE9dmVjNCgwLjAsMC4wLDAuMCwgMS4wKTtcXG4gICAgICAgIHZlYzQgY29sb3IyPXZlYzQodU1hdGVyaWFsRGlmZnVzZS5yZ2IsIDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzMgTj0gdk5vcm1hbDtcXG4gICAgICAgIHZlYzMgTCA9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb24pO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGV5ZVBvcz0gdU1WTWF0cml4KnZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjMyBFeWVWZXJ0ID0gbm9ybWFsaXplKC1leWVQb3MueHl6KTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjMyBFeWVMaWdodD1ub3JtYWxpemUoTCtFeWVWZXJ0KTtcXG4gICAgICAgIFxcbiAgICAgICAgZmxvYXQgc2lsPSBtYXgoZG90KE4sIEV5ZVZlcnQpLCAwLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZiggc2lsPDAuNCl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPWNvbG9yMTtcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgICBnbF9GcmFnQ29sb3I9Y29sb3IwO1xcbiAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgZmxvYXQgc3BlYz1wb3cobWF4KGRvdChOLCBFeWVMaWdodCksIDAuMCksIHVTaGluaW5lc3MpO1xcbiAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgaWYoc3BlYzwwLjIpIGdsX0ZyYWdDb2xvcio9MC44O1xcbiAgICAgICAgICAgICBlbHNlIGdsX0ZyYWdDb2xvcj1jb2xvcjI7XFxuICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICBmbG9hdCBkaWZmdXNlPW1heChkb3QoTiwgTCksIDAuMCk7XFxuICAgICAgICAgICAgIGlmKGRpZmZ1c2U8MC41KWdsX0ZyYWdDb2xvcio9MC44O1xcbiAgICAgICAgfVxcblxcblxcblxcblxcblxcbn1cXG5cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuV2F2eV9lZmZlY3QgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxuY29uc3QgZmxvYXQgc3BlZWQgPSAxNS4wO1xcbmNvbnN0IGZsb2F0IG1hZ25pdHVkZSA9IDAuMDE1O1xcblxcbnZvaWQgbWFpbigpe1xcbiAgICBcXG4gICAgdmVjMiB3YXZ5Q29vcmQ7XFxuICAgIHdhdnlDb29yZC5zPXZUZXh0dXJlQ29vcmQucysoc2luKHVUaW1lK3ZUZXh0dXJlQ29vcmQudCpzcGVlZCkqbWFnbml0dWRlKTtcXG4gICAgd2F2eUNvb3JkLnQ9dlRleHR1cmVDb29yZC50KyhzaW4odVRpbWUrdlRleHR1cmVDb29yZC5zKnNwZWVkKSptYWduaXR1ZGUpO1xcbiAgICBcXG4gICAgdmVjNCBmcmFtZUNvbG9yPXRleHR1cmUyRCh1U2FtcGxlciwgd2F2eUNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yPWZyYW1lQ29sb3I7XFxuXFxuXFxufVwiO1xyXG4gICAgICAgICAgICByZXR1cm4gRnJhZ21lbnQ7XHJcbiAgICAgICAgfSgpKTtcclxuICAgICAgICBTaGFkZXJzLkZyYWdtZW50ID0gRnJhZ21lbnQ7XHJcbiAgICAgICAgdmFyIFZlcnRleCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIFZlcnRleCgpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBWZXJ0ZXguRWZmZWN0ID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9jb29yZHM7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKCl7XFxuICAgIHZUZXh0dXJlQ29vcmQ9YV90ZXh0dXJlX2Nvb3JkcztcXG5cXG4gICAgZ2xfUG9zaXRpb249dmVjNChhX3Bvc2l0aW9uLCAwLjAsMS4wKTtcXG4gICAgXFxufVwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguUGFydGljbGUgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIGZsb2F0IHVQb2ludFNpemU7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSBib29sIHVQZXJWZXJ0ZXhDb2xvcjtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuIGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1cXG4gICAgXFxuICAgIGdsX1Bvc2l0aW9uID0gdVBNYXRyaXggKiB1TVZNYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24ueHl6LCAxLjApO1xcbiAgICBnbF9Qb2ludFNpemUgPSB1UG9pbnRTaXplO1xcbn1cIjtcclxuICAgICAgICAgICAgVmVydGV4LlBob25nID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFfbm9ybWFsO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVOTWF0cml4O1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcbnVuaWZvcm0gYm9vbCB1UGVyVmVydGV4Q29sb3I7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgdmVjNCB2ZXJ0ZXggPSB1TVZNYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuXFx0XFxuXFx0XFxuXFx0IGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1lbHNle1xcblxcdFxcblxcdHZOb3JtYWwgPSB2ZWMzKHVOTWF0cml4ICogdmVjNChhX25vcm1hbCwgMS4wKSk7XFxuXFx0dkV5ZVZlYz0tdmVjMyh2ZXJ0ZXgueHl6KTsgIFxcblxcdFxcblxcdH1cXG5cXHQgXFxuXFx0Z2xfUG9zaXRpb24gPXVQTWF0cml4ICogdmVydGV4O1xcblxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgVmVydGV4LlBob25nX3Bvc2l0aW9uYWwgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU5NYXRyaXg7XFxuXFxudW5pZm9ybSB2ZWMzIHVMaWdodFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcbnVuaWZvcm0gYm9vbCB1UGVyVmVydGV4Q29sb3I7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWMzIHZMaWdodERpcjtcXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICB2ZWM0IHZlcnRleCA9IHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cXHRcXG5cXHRcXG5cXHQgaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfWVsc2V7XFxuXFx0XFxuXFx0dk5vcm1hbCA9IHZlYzModU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKTtcXG4gICAgdkxpZ2h0RGlyPXZlcnRleC54eXotdUxpZ2h0UG9zaXRpb247ICBcXG5cXHR2RXllVmVjPS12ZWMzKHZlcnRleC54eXopOyAgXFxuXFx0XFxuXFx0fVxcblxcdCBcXG5cXHRnbF9Qb3NpdGlvbiA9dVBNYXRyaXggKiB2ZXJ0ZXg7XFxuXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguVG9vbiA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Tk1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2VmVydGV4O1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuICAgIFxcbiAgICB2ZWM0IG5vcm1hbD0gdU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLDEuMCk7XFxuICAgIFxcbiAgICAgaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfWVsc2V7XFxuICAgIFxcbiAgICB2Tm9ybWFsPW5vcm1hbC54eXo7XFxuICAgIHZWZXJ0ZXg9YV9wb3NpdGlvbjtcXG4gICAgfVxcbiAgICBcXG4gICAgZ2xfUG9zaXRpb249dVBNYXRyaXgqdU1WTWF0cml4KnZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG4gICAgXFxuICAgIFxcbiAgICBcXG4gICAgXFxuXFxufVwiO1xyXG4gICAgICAgICAgICByZXR1cm4gVmVydGV4O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5WZXJ0ZXggPSBWZXJ0ZXg7XHJcbiAgICB9KShTaGFkZXJzID0gQmxhemUuU2hhZGVycyB8fCAoQmxhemUuU2hhZGVycyA9IHt9KSk7XHJcbiAgICB2YXIgQW5pbWF0aW9uRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQW5pbWF0aW9uRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkVudGl0eShncmFwaF9pZCwgZnJlcXVlbmN5LCB0aW1lcywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmVxdWVuY3kgPSBmcmVxdWVuY3k7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5vbkZyYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA9IHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIGlmIChBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA8IDUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBzdGVwcyA9IE1hdGguZmxvb3IoQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgLyB0aGlzLl9mcmVxdWVuY3kpO1xyXG4gICAgICAgICAgICB3aGlsZSAoKHN0ZXBzID4gMCkgJiYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCAhPSB0aGlzLl90aW1lcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICBzdGVwcy0tO1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uRW50aXR5LkNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCA9PT0gdGhpcy5fdGltZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRpbWUgPSB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbF9pZCA9IHNldEludGVydmFsKHRoaXMub25GcmFtZSwgdGhpcy5fZnJlcXVlbmN5IC8gMTAwMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbF9pZClcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkuQ291bnQgPSAwO1xyXG4gICAgICAgIHJldHVybiBBbmltYXRpb25FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQW5pbWF0aW9uRW50aXR5ID0gQW5pbWF0aW9uRW50aXR5O1xyXG4gICAgdmFyIE1lc2hFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhNZXNoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1lc2hFbnRpdHkoZ3JhcGhfaWQsIG1lc2hmaWxlLCBtYXRlcmlhbGZpbGUsIHRleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX21lc2hmaWxlID0gbWVzaGZpbGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWxmaWxlID0gbWF0ZXJpYWxmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVmaWxlID0gdGV4dHVyZWZpbGUgfHwgbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZEJ1ZmZlcnMgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgUmVzb3VyY2VzLk1lc2hCdWZmZXJzKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkVGV4dHVyZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG5ldyBSZXNvdXJjZXMuTWVzaFRleHR1cmUodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoRW50aXR5LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1hdGVyaWFsID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tZXNoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgQnVmZmVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRCdWZmZXJzKHNlbGYuX21lc2hmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIEJ1ZmZlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX3RleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZFRleHR1cmUoc2VsZi5fdGV4dHVyZWZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tYXRlcmlhbGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIE1hdGVyaWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1hdGVyaWFsKHNlbGYuX21hdGVyaWFsZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBNYXRlcmlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1lc2hCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnModGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5jcmVhdGVCdWZmZXJzKG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWF0ZXJpYWxCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBuZXcgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBpZiAob2JqLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmFtYmllbnQgPSBvYmouYW1iaWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhciA9IG9iai5zcGVjdWxhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UgPSBvYmouZGlmZnVzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzID0gb2JqLnNoaW5pbmVzcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxVbmlmb3JtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsQW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsQW1iaWVudCwgdGhpcy5fbWF0ZXJpYWwuYW1iaWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxTcGVjdWxhciwgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1U2hpbmluZXNzID0gdGhpcy5nZXRVbmlmb3JtKFwidVNoaW5pbmVzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodVNoaW5pbmVzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVTaGluaW5lc3MsIHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5zZXRNYXRlcmlhbFVuaWZvcm1zKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLnZibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMubmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgdmFyIGl2Ym8gPSB0aGlzLl9idWZmZXJzLml2Ym87XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGl2Ym8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBpdmJvLm51bUl0ZW1zLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBNZXNoRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLk1lc2hFbnRpdHkgPSBNZXNoRW50aXR5O1xyXG4gICAgdmFyIFRyYW5zZm9ybUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFRyYW5zZm9ybUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBUcmFuc2Zvcm1FbnRpdHkoZ3JhcGhfaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb24gfHwgdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemUgfHwgdmVjMy5jcmVhdGUoWzEsIDEsIDFdKTtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByb3RhdGlvbiB8fCB7IGFuZ2xlOiAwLCBheGlzOiB2ZWMzLmNyZWF0ZSgpIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gKG5ld19tYXRyaXgpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbmV3X21hdHJpeDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUudHJhbnNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LnRyYW5zcG9zZSh0aGlzLl9tYXRyaXgsIHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBYnNvbHV0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBbeCwgeSwgel07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInNpemVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IFt4LCB5LCB6XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9zaXplO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3NpemUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocm90YXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAoYW5nbGUsIGF4aXMpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ2xlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICAgICAgaWYgKGF4aXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5heGlzID0gYXhpcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QXhpcyA9IGZ1bmN0aW9uIChheGlzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmF4aXMgPSBheGlzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5yb3RhdGVBbmdsZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgKz0gYW5nbGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLm1vdmVBeGlzID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fcm90YXRpb24uYXhpcztcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9yb3RhdGlvbi5heGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnB1c2goKTtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2suTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeFN0YWNrLm12TWF0cml4O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24gIT0gdm9pZCAwKVxyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaXplICE9IHZvaWQgMClcclxuICAgICAgICAgICAgICAgIG1hdDQuc2NhbGUodGhpcy5fbWF0cml4LCB0aGlzLl9zaXplKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9IHZvaWQgMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhZCA9IHRoaXMuX3JvdGF0aW9uLmFuZ2xlICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlKHRoaXMuX21hdHJpeCwgcmFkLCB0aGlzLl9yb3RhdGlvbi5heGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5zZXRVcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnBvcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5UcmFuc2Zvcm1FbnRpdHkgPSBUcmFuc2Zvcm1FbnRpdHk7XHJcbiAgICB2YXIgTGlnaHRFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhMaWdodEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBMaWdodEVudGl0eShncmFwaF9pZCwgYW1iaWVudCwgZGlmZnVzZSwgcG9zaXRpb24sIHNwZWN1bGFyLCBkaXJlY3Rpb24sIGN1dG9mZikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSBhbWJpZW50ID8gdmVjNC5jcmVhdGUoYW1iaWVudCkgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gZGlmZnVzZSA/IHZlYzQuY3JlYXRlKGRpZmZ1c2UpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbiA/IHZlYzMuY3JlYXRlKHBvc2l0aW9uKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gc3BlY3VsYXIgPyB2ZWM0LmNyZWF0ZShzcGVjdWxhcikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBkaXJlY3Rpb24gPyB2ZWMzLmNyZWF0ZShkaXJlY3Rpb24pIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY3V0b2ZmID0gY3V0b2ZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImFtYmllbnRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbWJpZW50O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGFtYmllbnQpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJkaWZmdXNlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShkaWZmdXNlKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwic3BlY3VsYXJcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zcGVjdWxhcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKHNwZWN1bGFyKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB1dGlscy5ub3JtYWxpemVOYU4odmVjMy5jcmVhdGUocG9zaXRpb24pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJkaXJlY3Rpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzMuY3JlYXRlKGRpcmVjdGlvbikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImN1dE9mZlwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1dG9mZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXRvZmYgPSBjdXRvZmY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIExpZ2h0RW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0QW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0QW1iaWVudClcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodEFtYmllbnQsIHRoaXMuX2FtYmllbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0RGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0RGlmZnVzZSlcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodERpZmZ1c2UsIHRoaXMuX2RpZmZ1c2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodFNwZWN1bGFyID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0U3BlY3VsYXJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0U3BlY3VsYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRTcGVjdWxhciwgdGhpcy5fc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodFBvc2l0aW9uID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0UG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0UG9zaXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdih1TGlnaHRQb3NpdGlvbiwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB1RGlyZWN0aW9uID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0RGlyZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVEaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdih1RGlyZWN0aW9uLCB0aGlzLl9kaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXRvZmYpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1Q3V0T2ZmID0gdGhpcy5nZXRVbmlmb3JtKFwidUN1dE9mZlwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1Q3V0T2ZmKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1Q3V0T2ZmLCB0aGlzLl9jdXRvZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMaWdodEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBMaWdodEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5MaWdodEVudGl0eSA9IExpZ2h0RW50aXR5O1xyXG4gICAgdmFyIERpZmZ1c2VFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhEaWZmdXNlRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIERpZmZ1c2VFbnRpdHkoZ3JhcGhfaWQsIHYpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWZmdXNlRW50aXR5LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgdGhpcy5fdmFsdWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRGlmZnVzZUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBEaWZmdXNlRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkRpZmZ1c2VFbnRpdHkgPSBEaWZmdXNlRW50aXR5O1xyXG4gICAgdmFyIFBhcnRpY2xlRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoUGFydGljbGVFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gUGFydGljbGVFbnRpdHkoZ3JhcGhfaWQsIHBvaW50U2l6ZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50U2l6ZSA9IHBvaW50U2l6ZSB8fCAxO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlX2lkID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChkYXRhX21lc2gsIGRhdGFfdGV4dHVyZSkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGFfbWVzaCksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9udW1JdGVtcyA9IGRhdGFfbWVzaC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVfaWQgPSB1dGlscy51dWlkKFwiVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShnbCwgZGF0YV90ZXh0dXJlKTtcclxuICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZSh0aGlzLmdyYXBoSUQsIHRoaXMuX3RleHR1cmVfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX251bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVFbnRpdHkucHJvdG90eXBlLCBcInRleHR1cmVJRFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVfaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUsIFwicG9pbnRTaXplXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRTaXplID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVQb2ludFNpemUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1UG9pbnRTaXplXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBvaW50U2l6ZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1UG9pbnRTaXplLCB0aGlzLl9wb2ludFNpemUpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVyKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5hY3RpdmVUZXh0dXJlKHRoaXMuZ3JhcGhJRCwgdGhpcy5fdGV4dHVyZV9pZCwgdGhpcy5fdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuUE9JTlRTLCAwLCB0aGlzLl9udW1JdGVtcyAvIDMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBQYXJ0aWNsZUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5QYXJ0aWNsZUVudGl0eSA9IFBhcnRpY2xlRW50aXR5O1xyXG4gICAgdmFyIENhbWVyYUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKENhbWVyYUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBDYW1lcmFFbnRpdHkoZ3JhcGhfaWQsIHR5cGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZSB8fCBDQU1FUkFfVFlQRS5PUkJJVElORztcclxuICAgICAgICAgICAgdGhpcy5fY21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fY21hdHJpeCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9ub3JtYWwgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2F6aW11dGggPSAwLjA7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiA9IDAuMDtcclxuICAgICAgICAgICAgdGhpcy5fc3RlcHMgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJ0eXBlXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcImF6aW11dGhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hemltdXRoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChheikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBfYXogPSBheiAtIHRoaXMuX2F6aW11dGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUF6aW11dGgodGVtcF9heik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2hhbmdlQXppbXV0aCA9IGZ1bmN0aW9uIChheikge1xyXG4gICAgICAgICAgICB0aGlzLl9hemltdXRoICs9IGF6O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYXppbXV0aCA+IDM2MCB8fCB0aGlzLl9hemltdXRoIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXppbXV0aCA9IHRoaXMuX2F6aW11dGggJSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcImVsZXZhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VsZXZhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wX2VsID0gZWwgLSB0aGlzLl9lbGV2YXRpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUVsZXZhdGlvbih0ZW1wX2VsKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jaGFuZ2VFbGV2YXRpb24gPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uICs9IGVsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWxldmF0aW9uID4gMzYwIHx8IHRoaXMuX2VsZXZhdGlvbiA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiA9IHRoaXMuX2VsZXZhdGlvbiAlIDM2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiem9vbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZXBzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHAgPSB0aGlzLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBvZmZzZXQgLSB0aGlzLl9zdGVwcztcclxuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX25vcm1hbCwgbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3X3Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblswXSA9IHBbMF0gLSBzdGVwICogblswXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMV0gPSBwWzFdIC0gc3RlcCAqIG5bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzJdID0gcFsyXSAtIHN0ZXAgKiBuWzJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzBdID0gcFswXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMV0gPSBwWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsyXSA9IHBbMl0gLSBzdGVwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ld19wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0ZXBzID0gb2Zmc2V0O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNhbGN1bGF0ZU9yaWVudGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuX2NtYXRyaXg7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFsxLCAwLCAwLCAwXSwgdGhpcy5fcmlnaHQpO1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMSwgMCwgMF0sIHRoaXMuX3VwKTtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzAsIDAsIDEsIDBdLCB0aGlzLl9ub3JtYWwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fY21hdHJpeCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlT3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9jbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVkodGhpcy5fY21hdHJpeCwgdGhpcy5fYXppbXV0aCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVYKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2VsZXZhdGlvbiAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVZKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2F6aW11dGggKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWCh0aGlzLl9jbWF0cml4LCB0aGlzLl9lbGV2YXRpb24gKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX2NtYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQodGhpcy5fY21hdHJpeCwgWzAsIDAsIDAsIDFdLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcIm1vZGVsVmlld1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5pbnZlcnNlKHRoaXMuX2NtYXRyaXgsIG0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDYW1lcmFFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQ2FtZXJhRW50aXR5ID0gQ2FtZXJhRW50aXR5O1xyXG4gICAgdmFyIEF4aXNFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhBeGlzRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEF4aXNFbnRpdHkoZ3JhcGhfaWQsIGQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICBkID0gZCB8fCAxMDA7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gWzAuMCwgMC4wLCAwLjAsIGQsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGQsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGRdO1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VzID0gWzAsIDEsIDIsIDMsIDQsIDVdO1xyXG4gICAgICAgICAgICB0aGlzLl9jb2xvcnMgPSBbMSwgMSwgMCwgMSwgMSwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMCwgMSwgMSwgMCwgMCwgMSwgMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEF4aXNFbnRpdHkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdmVydGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2libyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkodGhpcy5faW5kaWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5fY2JvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9jYm8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLl9jb2xvcnMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciB1UGVyVmVydGV4Q29sb3IgPSB0aGlzLmdldFVuaWZvcm0oXCJ1UGVyVmVydGV4Q29sb3JcIik7XHJcbiAgICAgICAgICAgIGlmICh1UGVyVmVydGV4Q29sb3IpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVBlclZlcnRleENvbG9yLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2Nibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9jb2xvclwiLCB7IHNpemU6IDQgfSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FUywgdGhpcy5faW5kaWNlcy5sZW5ndGgsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEF4aXNFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB2YXIgdVBlclZlcnRleENvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVBlclZlcnRleENvbG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBlclZlcnRleENvbG9yKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVQZXJWZXJ0ZXhDb2xvciwgZmFsc2UpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX2NvbG9yXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEF4aXNFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQXhpc0VudGl0eSA9IEF4aXNFbnRpdHk7XHJcbiAgICB2YXIgR3JpZEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEdyaWRFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gR3JpZEVudGl0eShncmFwaF9pZCwgZCwgZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpbWVzaW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGRpbTogZCB8fCA1MCwgbGluZXM6IGUgfHwgNTBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5idWlsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl92Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZlcnRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KHRoaXMuX2luZGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGluYyA9IDIgKiB0aGlzLl9kaW1lc2lvbnMuZGltIC8gdGhpcy5fZGltZXNpb25zLmxpbmVzO1xyXG4gICAgICAgICAgICB2YXIgdiA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8PSB0aGlzLl9kaW1lc2lvbnMubGluZXM7IGwrKykge1xyXG4gICAgICAgICAgICAgICAgdls2ICogbF0gPSAtdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyAxXSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgMl0gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyAzXSA9IHRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgNF0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDVdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbF0gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgMV0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyAyXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyAzXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyA0XSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDVdID0gdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIGlbMiAqIGxdID0gMiAqIGw7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiBsICsgMV0gPSAyICogbCArIDE7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbF0gPSAyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGw7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbCArIDFdID0gMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IHY7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSBpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCBbMC43LCAwLjcsIDAuNywgMV0pO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuTElORVMsIHRoaXMuX2luZGljZXMubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBHcmlkRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkdyaWRFbnRpdHkgPSBHcmlkRW50aXR5O1xyXG4gICAgdmFyIFNlbGVjdEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNlbGVjdEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTZWxlY3RFbnRpdHkoZ3JhcGhfaWQsIGRhdGEpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb2xvciA9IHRoaXMuZ2VuZXJhdGVVbmlxdWVDb2xvcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlbGVjdEVudGl0eS5wcm90b3R5cGUsIFwiZGF0YVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWxlY3RFbnRpdHkucHJvdG90eXBlLCBcImNvbG9yXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sb3I7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNlbGVjdEVudGl0eS5wcm90b3R5cGUuZ2VuZXJhdGVVbmlxdWVDb2xvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yO1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbnMgPSAoZnVuY3Rpb24gKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0U2VsZWN0QnlDb2xvcih0aGlzLmdyYXBoSUQsIGNvbG9yKSAhPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIH0pLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHdoaWxlIChmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBbTnVtYmVyKE1hdGgucmFuZG9tKCkudG9GaXhlZCgyKSksIE51bWJlcihNYXRoLnJhbmRvbSgpLnRvRml4ZWQoMikpLCBOdW1iZXIoTWF0aC5yYW5kb20oKS50b0ZpeGVkKDIpKSwgMS4wXTtcclxuICAgICAgICAgICAgICAgIGZvdW5kID0gY29udGFpbnMoY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoS2V0Y2guaXNPZmZTY3JlZW4odGhpcy5ncmFwaElEKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgICAgIHZhciB1U2VsZWN0Q29sb3IgPSB0aGlzLmdldFVuaWZvcm0oXCJ1U2VsZWN0Q29sb3JcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodVNlbGVjdENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodVNlbGVjdENvbG9yLCB0aGlzLl9jb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBTZWxlY3RFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuU2VsZWN0RW50aXR5ID0gU2VsZWN0RW50aXR5O1xyXG4gICAgdmFyIFNlbGVjdG9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2VsZWN0b3IsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2VsZWN0b3IoZ3JhcGhfaWQsIGRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0gZGltZW5zaW9ucztcclxuICAgICAgICAgICAgdGhpcy5fZnJhbWVidWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJidWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgdGhpcy5fZGltZW5zaW9ucy53aWR0aCwgdGhpcy5fZGltZW5zaW9ucy5oZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJidWZmZXIgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuX3JlbmRlcmJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgdGhpcy5fZGltZW5zaW9ucy53aWR0aCwgdGhpcy5fZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUsIDApO1xyXG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCB0aGlzLl9yZW5kZXJidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIEtldGNoLmZpbGxTZWxlY3RvckJ1ZmZlcih0aGlzLmdyYXBoSUQsIG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIEtldGNoLmNsZWFyU2VsZWN0b3JCdWZmZXIodGhpcy5ncmFwaElEKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgcmVhZG91dCA9IG5ldyBVaW50OEFycmF5KDEgKiAxICogNCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKHBvcy54LCBwb3MueSwgMSwgMSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgcmVhZG91dCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIHZhciBmaXhlZCA9IFtdLnNsaWNlLmNhbGwocmVhZG91dCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCgoaXRlbSAvIDI1NSkudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgb2JqID0gS2V0Y2guZ2V0U2VsZWN0QnlDb2xvcih0aGlzLmdyYXBoSUQsIGZpeGVkKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9iaiA/IG9iai5kYXRhIDogdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChkcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIpO1xyXG4gICAgICAgICAgICB2YXIgdU9mZnNjcmVlbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVPZmZzY3JlZW5cIik7XHJcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1T2Zmc2NyZWVuLCB0cnVlKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlT2ZmU2NyZWVuKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIGRyYXcoKTtcclxuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVPZmZzY3JlZW4sIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZU9mZlNjcmVlbih0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdG9yO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5TZWxlY3RvciA9IFNlbGVjdG9yO1xyXG4gICAgO1xyXG4gICAgdmFyIEVmZmVjdHMgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhFZmZlY3RzLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEVmZmVjdHMoZ3JhcGhfaWQsIGNhbnZhcywgdHlwZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmJ1ZmZlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZibyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RibyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3NoYWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3VuaWZvcm1zID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fYXR0cmlicyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX25vaXNldGV4dHVyZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZSB8fCBcIm5vXCI7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuR2VvbWV0cnkoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRFZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRWZmZWN0cy5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl9jYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9jYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzLl90ZXh0dXJlKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1MsIGdsLkNMQU1QX1RPX0VER0UpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcclxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyYnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLl9yZW5kZXJidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUsIDApO1xyXG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCB0aGlzLl9yZW5kZXJidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRWZmZWN0cy5wcm90b3R5cGUuR2VvbWV0cnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IFtcclxuICAgICAgICAgICAgICAgIC0xLjAsIC0xLjAsXHJcbiAgICAgICAgICAgICAgICAxLjAsIC0xLjAsXHJcbiAgICAgICAgICAgICAgICAtMS4wLCAxLjAsXHJcbiAgICAgICAgICAgICAgICAtMS4wLCAxLjAsXHJcbiAgICAgICAgICAgICAgICAxLjAsIC0xLjAsXHJcbiAgICAgICAgICAgICAgICAxLjAsIDEuMFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB2YXIgdGV4dHVyZUNvb3JkcyA9IFtcclxuICAgICAgICAgICAgICAgIDAuMCwgMC4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLCAwLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsIDEuMCxcclxuICAgICAgICAgICAgICAgIDAuMCwgMS4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLCAwLjAsXHJcbiAgICAgICAgICAgICAgICAxLjAsIDEuMFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICB0aGlzLl92Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl90Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Ribyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRleHR1cmVDb29yZHMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLnNldEVmZmVjdCA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlIHx8IHRoaXMuX3R5cGU7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSB7fTtcclxuICAgICAgICAgICAgc291cmNlLnZlcnRleCA9IFNoYWRlcnMuVmVydGV4W1wiRWZmZWN0XCJdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3R5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJibHVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmZyYWdtZW50ID0gU2hhZGVycy5GcmFnbWVudFtcIkJsdXJfZWZmZWN0XCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImZpbG1cIjpcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZnJhZ21lbnQgPSBTaGFkZXJzLkZyYWdtZW50W1wiRmlsbV9lZmZlY3RcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwid2F2eVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5mcmFnbWVudCA9IFNoYWRlcnMuRnJhZ21lbnRbXCJXYXZ5X2VmZmVjdFwiXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJub1wiOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZnJhZ21lbnQgPSBTaGFkZXJzLkZyYWdtZW50W1wiTm9fZWZmZWN0XCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGFkZXIpIHtcclxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0odGhpcy5fc2hhZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBXZWJHTFV0aWxzLmNyZWF0ZVByb2dyYW0oZ2wsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgIHZhciBjb3VudDtcclxuICAgICAgICAgICAgdGhpcy5fYXR0cmlicyA9IHt9O1xyXG4gICAgICAgICAgICBjb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fc2hhZGVyLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYiA9IGdsLmdldEFjdGl2ZUF0dHJpYih0aGlzLl9zaGFkZXIsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0cmlic1thdHRyaWIubmFtZV0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9zaGFkZXIsIGF0dHJpYi5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl91bmlmb3JtcyA9IHt9O1xyXG4gICAgICAgICAgICBjb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fc2hhZGVyLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB1bmlmb3JtID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLl9zaGFkZXIsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdW5pZm9ybXNbYXR0cmliLm5hbWVdID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuX3NoYWRlciwgdW5pZm9ybS5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgRWZmZWN0cy5wcm90b3R5cGUuU2l6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLl9yZW5kZXJidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRWZmZWN0cy5wcm90b3R5cGUuc2V0Tm9pc2VUZXh0dXJlID0gZnVuY3Rpb24gKGRhdGFfdGV4dHVyZSkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl9ub2lzZXRleHR1cmUgPSBXZWJHTFV0aWxzLmNyZWF0ZVRleHR1cmUoZ2wsIGRhdGFfdGV4dHVyZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFZmZlY3RzLnByb3RvdHlwZS5CaW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0aGlzLl9jYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9jYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICBnbC51c2VQcm9ncmFtKHRoaXMuX3NoYWRlcik7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuX2F0dHJpYnMuYV9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuX2F0dHJpYnMuYV9wb3NpdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5fYXR0cmlicy5hX3RleHR1cmVfY29vcmRzKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Ribyk7XHJcbiAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5fYXR0cmlicy5hX3RleHR1cmVfY29vcmRzLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh0aGlzLl91bmlmb3Jtcy51U2FtcGxlciwgMCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl91bmlmb3Jtcy51VGltZSkge1xyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHRoaXMuX3VuaWZvcm1zLnVUaW1lLCAoRGF0ZS5ub3coKSAtIHRoaXMuX3N0YXJ0KSAvIDEwMDAuMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3VuaWZvcm1zLnVJbnZlcnNlVGV4dHVyZVNpemUpIHtcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih0aGlzLl91bmlmb3Jtcy51SW52ZXJzZVRleHR1cmVTaXplLCAxLjAgLyB3aWR0aCwgMS4wIC8gaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fdW5pZm9ybXMudU5vaXNlU2FtcGxlciAmJiB0aGlzLl9ub2lzZXRleHR1cmUpIHtcclxuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xyXG4gICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fbm9pc2V0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh0aGlzLl91bmlmb3Jtcy51Tm9pc2VTYW1wbGVyLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgRWZmZWN0cy5wcm90b3R5cGUuYmluZEZyYW1lQnVmZmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLnVuYmluZEZyYW1lQnVmZmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRWZmZWN0cy5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIDYpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLl9hdHRyaWJzLmFfcG9zaXRpb24pO1xyXG4gICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5fYXR0cmlicy5hX3RleHR1cmVfY29vcmRzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFZmZlY3RzO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5FZmZlY3RzID0gRWZmZWN0cztcclxuICAgIHZhciBOb2RlRWxlbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gTm9kZUVsZW1lbnQocGFyZW50LCB0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZSA9IHBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlLmFkZENoaWxkTm9kZSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgdGhpcy5fb2lkID0gdXRpbHMudXVpZCh0aGlzLl90eXBlIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJvaWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwicGFyZW50XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJlbnRpdHlcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbnRpdHk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcImNoaWxkTm9kZXNcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuYWRkQ2hpbGROb2RlID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGROb2RlID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihjaGlsZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGROb2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmdldENoaWxkTm9kZUJ5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXNbaW5kZXhdIHx8IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5leGlzdHNDaGlsZE5vZGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXNbaW5kZXhdICE9PSB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlLnJlbW92ZUNoaWxkTm9kZSh0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9kZUVsZW1lbnQodGhpcywgdHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pc1Jvb3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROb2RlID09PSB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgb2lkID0gY2hpbGQub2lkO1xyXG4gICAgICAgICAgICByZXR1cm4gXy5maW5kSW5kZXgodGhpcy5fY2hpbGROb2RlcywgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMub2lkID09PSBvaWQ7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmluZGV4SW5QYXJlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkpXHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmhhc1NpYmxpbmcgPSBmdW5jdGlvbiAocHJldikge1xyXG4gICAgICAgICAgICB2YXIgX2hhdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggLSAxKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggKyAxKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF9oYXZlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLm5leHRTaWJsaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2libGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSAmJiB0aGlzLmhhc1NpYmxpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2libGluZyA9IHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnByZXZpb3VzU2libGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkgJiYgdGhpcy5oYXNTaWJsaW5nKHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5nID0gdGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZmlyc3RDaGlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGROb2RlQnlJbmRleCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5sYXN0Q2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZUJ5SW5kZXgodGhpcy5fY2hpbGROb2Rlcy5sZW5ndGggLSAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZE5vZGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5LmJlZ2luRHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5fY2hpbGROb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIGNoaWxkLmRyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuZW5kRHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTm9kZUVsZW1lbnQ7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuTm9kZUVsZW1lbnQgPSBOb2RlRWxlbWVudDtcclxuICAgIHZhciBTY2VuZUdyYXBoID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2NlbmVHcmFwaCwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTY2VuZUdyYXBoKCkge1xyXG4gICAgICAgICAgICB2YXIgb2lkID0gdXRpbHMudXVpZCgpO1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBvaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9vaWQgPSBvaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lID0gbmV3IE5vZGVFbGVtZW50KHZvaWQgMCwgXCJTY2VuZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4U3RhY2sgPSBuZXcgTWF0cml4U3RhY2sodGhpcy5fb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyID0gW107XHJcbiAgICAgICAgICAgIEtldGNoLmNyZWF0ZVZpZXcodGhpcy5fb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcInNjZW5lXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NlbmU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLkVudmlyb25tZW50ID0gZnVuY3Rpb24gKGIpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgYiA9IGIgfHwgW107XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcclxuICAgICAgICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XHJcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG4gICAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2wuY2xlYXJDb2xvcihiWzBdIHx8IDAsIGJbMV0gfHwgMCwgYlsyXSB8fCAwLCAxKTtcclxuICAgICAgICAgICAgZ2wuY2xlYXJEZXB0aCgxLjApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWZmZWN0cykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3V2l0aEVmZmVjdHMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NjZW5lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmRyYXdTY2VuZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy51c2VQcm9ncmFtKCk7XHJcbiAgICAgICAgICAgIHZhciBkcmF3ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIGdsLnZpZXdwb3J0V2lkdGgsIGdsLnZpZXdwb3J0SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NjZW5lLmRyYXcodGhpcy5fbWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB9KS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yLnJlbmRlcihkcmF3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkcmF3KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5kcmF3V2l0aEVmZmVjdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdHMuU2l6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzLmJpbmRGcmFtZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdTY2VuZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzLnVuYmluZEZyYW1lQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdHMuQmluZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzLmRyYXcoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnVzZVByb2dyYW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIEtldGNoLnVzZVByb2dyYW0odGhpcy5vaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWFpbkNoaWxkTm9kZSA9IGZ1bmN0aW9uICh0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lLmNyZWF0ZUNoaWxkTm9kZSh0eXBlLCBlbnRpdHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUucmVtb3ZlTWFpbkNoaWxkTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lLnJlbW92ZUNoaWxkTm9kZShub2RlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJvaWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnNldENvbnRleHQgPSBmdW5jdGlvbiAoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCh0aGlzLm9pZCwgY2FudmFzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLlByb2dyYW0gPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBcIlBob25nXCI7XHJcbiAgICAgICAgICAgIEtldGNoLmNyZWF0ZVByb2dyYW0odGhpcy5fb2lkLCB7XHJcbiAgICAgICAgICAgICAgICBmcmFnbWVudDogU2hhZGVycy5GcmFnbWVudFt0eXBlXSB8fCBTaGFkZXJzLkZyYWdtZW50W1wiUGhvbmdcIl0sXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXg6IFNoYWRlcnMuVmVydGV4W3R5cGVdIHx8IFNoYWRlcnMuVmVydGV4W1wiUGhvbmdcIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNZXNoID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICB2YXIgbWVzaEVudGl0eSA9IG5ldyBNZXNoRW50aXR5KHRoaXMub2lkKTtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tZXNoKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNZXNoQnlPYmplY3QoY29uZmlnLm1lc2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgICAgIG1lc2hFbnRpdHkubG9hZE1hdGVyaWFsQnlPYmplY3QoY29uZmlnLm1hdGVyaWFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWVzaEVudGl0eTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZURpZmZ1c2UgPSBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERpZmZ1c2VFbnRpdHkodGhpcy5vaWQsIHYpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWVzaEJ5TG9hZGVyID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICB2YXIgbWVzaCA9IG5ldyBNZXNoRW50aXR5KHRoaXMub2lkLCBjb25maWcubWVzaCwgY29uZmlnLm1hdGVyaWFsLCBjb25maWcudGV4dHVyZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckJ1ZmZlci5wdXNoKG1lc2gpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWVzaDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1FbnRpdHkodGhpcy5vaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVMaWdodCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaWdodEVudGl0eSh0aGlzLm9pZCwgY29uZmlnLmFtYmllbnQsIGNvbmZpZy5kaWZmdXNlLCBjb25maWcucG9zaXRpb24sIGNvbmZpZy5zcGVjdWxhciwgY29uZmlnLmRpcmVjdGlvbiwgY29uZmlnLmN1dG9mZik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVDYW1lcmEgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbWVyYUVudGl0eSh0aGlzLm9pZCwgdHlwZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVQYXJ0aWNsZSA9IGZ1bmN0aW9uIChwb2ludFNpemUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZUVudGl0eSh0aGlzLm9pZCwgcG9pbnRTaXplKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUF4aXMgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXhpc0VudGl0eSh0aGlzLm9pZCwgbGVuZ3RoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUdyaWQgPSBmdW5jdGlvbiAoZGltLCBsaW5lcykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEdyaWRFbnRpdHkodGhpcy5vaWQsIGRpbSwgbGluZXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlU2VsZWN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3RFbnRpdHkodGhpcy5vaWQsIGRhdGEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlU2VsZWN0b3IgPSBmdW5jdGlvbiAoZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RvciA9IG5ldyBTZWxlY3Rvcih0aGlzLm9pZCwgZGltZW5zaW9ucyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5maWxsU2VsZWN0b3IgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IuZmlsbChvYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jbGVhclNlbGVjdG9yID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0b3IuZmluZChwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVFZmZlY3RzID0gZnVuY3Rpb24gKGNhbnZhcywgdHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzID0gbmV3IEVmZmVjdHModGhpcy5vaWQsIGNhbnZhcywgdHlwZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX2VmZmVjdHMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2V0Tm9pc2VFZmZlY3QgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWZmZWN0cylcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VmZmVjdHMuc2V0Tm9pc2VUZXh0dXJlKHRleHR1cmUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2V0RWZmZWN0ID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VmZmVjdHMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lZmZlY3RzLnNldEVmZmVjdCh0eXBlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5NYWluQ2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5yZW1vdmVUZXh0dXJlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIEtldGNoLnJlbW92ZVRleHR1cmUodGhpcy5vaWQsIGlkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnN0YXJ0TG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fbG9hZGVyQnVmZmVyLCBmdW5jdGlvbiAoaXRlbSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5sb2FkTWVzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuRW52aXJvbm1lbnQoY29uZmlnLmJhY2tncm91bmQpO1xyXG4gICAgICAgICAgICBzZWxmLlByb2dyYW0oY29uZmlnLnR5cGVTaGFkZXIpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMoc2VsZi5fb2lkLCBTY2VuZUdyYXBoLkFUVFJJQlVURVMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5VTklGT1JNUyk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrLmluaXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZVdpdGhMb2FkZXIgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnN0YXJ0TG9hZGVyKGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGguVU5JRk9STVMgPSBbXHJcbiAgICAgICAgICAgICd1UE1hdHJpeCcsXHJcbiAgICAgICAgICAgICd1TVZNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU5NYXRyaXgnLFxyXG4gICAgICAgICAgICBcInVMaWdodFBvc2l0aW9uXCIsXHJcbiAgICAgICAgICAgICd1TGlnaHREaXJlY3Rpb24nLFxyXG4gICAgICAgICAgICBcInVDdXRPZmZcIixcclxuICAgICAgICAgICAgJ3VMaWdodEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsQW1iaWVudCcsXHJcbiAgICAgICAgICAgICd1TGlnaHREaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbERpZmZ1c2UnLFxyXG4gICAgICAgICAgICAndUxpZ2h0U3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsU3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndVNoaW5pbmVzcycsXHJcbiAgICAgICAgICAgICd1UG9pbnRTaXplJyxcclxuICAgICAgICAgICAgXCJ1U2FtcGxlclwiLFxyXG4gICAgICAgICAgICBcInVXaXJlZnJhbWVcIixcclxuICAgICAgICAgICAgXCJ1UGVyVmVydGV4Q29sb3JcIixcclxuICAgICAgICAgICAgXCJ1U2VsZWN0Q29sb3JcIixcclxuICAgICAgICAgICAgXCJ1T2Zmc2NyZWVuXCIsXHJcbiAgICAgICAgICAgIFwidUludmVyc2VUZXh0dXJlU2l6ZVwiLFxyXG4gICAgICAgICAgICBcInVOb2lzZVNhbXBsZXJcIixcclxuICAgICAgICAgICAgXCJ1VGltZVwiXHJcbiAgICAgICAgXTtcclxuICAgICAgICBTY2VuZUdyYXBoLkFUVFJJQlVURVMgPSBbJ2FfcG9zaXRpb24nLCAnYV9ub3JtYWwnLCBcImFfY29sb3JcIiwgXCJhX3RleHR1cmVfY29vcmRzXCJdO1xyXG4gICAgICAgIHJldHVybiBTY2VuZUdyYXBoO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5TY2VuZUdyYXBoID0gU2NlbmVHcmFwaDtcclxufSkoQmxhemUgfHwgKEJsYXplID0ge30pKTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
