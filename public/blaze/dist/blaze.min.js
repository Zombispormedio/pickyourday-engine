var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Blaze;!function(e){var t;!function(e){function t(e){for(var t=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{t=e.getContext(i[n])}catch(r){}if(t)break}return null===t?(alert("Could not initialise WebGL"),null):(t.viewportWidth=e.width,t.viewportHeight=e.height,t)}function i(t,i,n,r){var o=t.createBuffer();switch(t.bindBuffer(t.ARRAY_BUFFER,o),r){case e.BUFFER_DRAW.STATIC:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW);break;case e.BUFFER_DRAW.DYNAMIC:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.DYNAMIC_DRAW);break;case e.BUFFER_DRAW.STREAM:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STREAM_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW)}return t.bindBuffer(t.ARRAY_BUFFER,null),n?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function n(t,i,n){var r=t.createBuffer(t.ELEMENT_ARRAY_BUFFER);switch(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),n){case e.BUFFER_DRAW.STATIC:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW);break;case e.BUFFER_DRAW.DYNAMIC:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.DYNAMIC_DRAW);break;case e.BUFFER_DRAW.STREAM:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STREAM_DRAW);break;default:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW)}return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),r.itemSize=1,r.numItems=i.length,r}function r(e,t){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),i}function o(e,t,i){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),null)}function a(e,t){var i=o(e,e.FRAGMENT_SHADER,t.fragment),n=o(e,e.VERTEX_SHADER,t.vertex),r=e.createProgram();return e.attachShader(r,n),e.attachShader(r,i),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)||console.log(e.getProgramInfoLog(r)),e.useProgram(r),r}e.getGLContext=t,function(e){e[e.STATIC=0]="STATIC",e[e.STREAM=1]="STREAM",e[e.DYNAMIC=2]="DYNAMIC"}(e.BUFFER_DRAW||(e.BUFFER_DRAW={}));e.BUFFER_DRAW;e.createBuffer=i,e.createIndexBuffer=n,e.createTexture=r,e.createShader=o,e.createProgram=a}(t=e.WebGLUtils||(e.WebGLUtils={}));var i;!function(e){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(e){var i=t()+t();return e?e+i:i}function n(e){return e.map(function(e){return Number.isNaN(e)&&(e=0),e})}function r(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.addEventListener("load",function(){t(i.responseText)}),i.send()}function o(e){var t=e.split(".");return t[t.length-1]}function a(){return(new Date).getTime()}function s(e){return e*Math.PI/180}function u(e,t){for(var i=0,n=1,r=2,o=[],a=0;a<e.length;a++)o[a]=0;for(var a=0;a<t.length;a+=3){var s=[],u=[],f=[];s[i]=e[3*t[a+1]+i]-e[3*t[a]+i],s[n]=e[3*t[a+1]+n]-e[3*t[a]+n],s[r]=e[3*t[a+1]+r]-e[3*t[a]+r],u[i]=e[3*t[a+2]+i]-e[3*t[a+1]+i],u[n]=e[3*t[a+2]+n]-e[3*t[a+1]+n],u[r]=e[3*t[a+2]+r]-e[3*t[a+1]+r],f[i]=s[n]*u[r]-s[r]*u[n],f[n]=s[r]*u[i]-s[i]*u[r],f[r]=s[i]*u[n]-s[n]*u[i];for(var c=0;3>c;c++)o[3*t[a+c]+i]=o[3*t[a+c]+i]+f[i],o[3*t[a+c]+n]=o[3*t[a+c]+n]+f[n],o[3*t[a+c]+r]=o[3*t[a+c]+r]+f[r]}for(var a=0;a<e.length;a+=3){var l=[];l[i]=o[a+i],l[n]=o[a+n],l[r]=o[a+r];var h=Math.sqrt(l[i]*l[i]+l[n]*l[n]+l[r]*l[r]);0==h&&(h=1e-5),l[i]=l[i]/h,l[n]=l[n]/h,l[r]=l[r]/h,o[a+i]=l[i],o[a+n]=l[n],o[a+r]=l[r]}return o}e.s4=t,e.uuid=i,e.normalizeNaN=n,e.load=r,e.getExtension=o,e.nowInMilliseconds=a,e.degToRad=s,e.calculateNormals=u}(i=e.utils||(e.utils={})),function(e){e[e.ORBITING=0]="ORBITING",e[e.TRACKING=1]="TRACKING"}(e.CAMERA_TYPE||(e.CAMERA_TYPE={}));var n=e.CAMERA_TYPE,r=function(){function e(){}return e.setCanvasToContext=function(i,n){var r=t.getGLContext(n);e.setContext(i,r)},e.setContext=function(t,i){e._views[t].context=i},e.getContext=function(t){return e._views[t].context},e.createProgram=function(i,n){var r=e.getContext(i),o=t.createProgram(r,n);e.setProgram(i,o)},e.setProgram=function(t,i){e._views[t].program=i},e.getProgram=function(t){return e._views[t].program},e.createView=function(t){e._views[t]={}},e.setAttributeLocations=function(t,i){var n=e._views[t],r=n.context,o=n.program;n.attribs=i.reduce(function(e,t){return e[t]=r.getAttribLocation(o,t),e},{})},e.getAttrib=function(t,i){return e._views[t].attribs[i]},e.getUniform=function(t,i){return e._views[t].uniforms[i]},e.setUniformLocations=function(t,i){var n=e._views[t],r=n.context,o=n.program;n.uniforms=i.reduce(function(e,t){return e[t]=r.getUniformLocation(o,t),e},{})},e.enableAttrib=function(t,i,n){var r=e.getAttrib(t,i),o=e.getContext(t);o.enableVertexAttribArray(r),n?o.vertexAttribPointer(r,n.size||3,o.FLOAT,n.normalized||!1,n.stride||0,n.offset||0):o.vertexAttribPointer(r,3,o.FLOAT,!1,0,0)},e.disableAttrib=function(t,i){var n=e.getAttrib(t,i),r=e.getContext(t);r.disableVertexAttribArray(n)},e.renderLoop=function(e){setInterval(e,30)},e.addTexture=function(t,i){var n=e._views[t];n.textures=n.textures||[],n.textures.push(i)},e.removeTexture=function(t,i){var n=e._views[t];n.textures=n.textures||[];var r=n.textures.indexOf(i);n.textures.splice(r,1)},e.activeTexture=function(t,i,n){var r=e._views[t],o=r.context,a=(r.program,r.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,n);var s=e.getUniform(t,"uSampler");o.uniform1i(s,a)}},e.isOffScreen=function(t){return e._views[t].offscreen},e.enableOffScreen=function(t){e._views[t].offscreen=!0},e.disableOffScreen=function(t){e._views[t].offscreen=!0},e.fillSelectorBuffer=function(t,i){var n=e._views[t];n.selectObjects=n.selectObjects||[],n.selectObjects.push(i)},e.clearSelectorBuffer=function(t){var i=e._views[t];i.selectObjects=[]},e.getSelectByColor=function(t,i){var n=e._views[t];return n.selectObjects=n.selectObjects||[],_.find(n.selectObjects,function(e){return _.isEqual(e.color,i)})},e._views={},e}();e.Ketch=r;var o=function(){function e(e){this._graph_id=e}return Object.defineProperty(e.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gl",{get:function(){return r.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"program",{get:function(){return r.getProgram(this.graphID)},enumerable:!0,configurable:!0}),e.prototype.getUniform=function(e){return r.getUniform(this.graphID,e)},e}();e.Renderable=o;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.beginDraw=function(e){},t.prototype.endDraw=function(e){},t}(o);e.Entity=a;var s=function(e){function t(t){e.call(this,t),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(t,e),t.prototype.push=function(){var e=mat4.create();mat4.set(this._mvMatrix,e),this._stack.push(e)},t.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},t.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(t.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MainCamera",{set:function(e){this._camera=e},enumerable:!0,configurable:!0}),t.prototype.Perspective=function(){var e=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,e.viewportWidth/e.viewportHeight,.1,1e3,this._pMatrix)},t.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},t.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},t.prototype.setUp=function(){var e=this.gl;this.Normal();var t=this.getUniform("uMVMatrix");t&&e.uniformMatrix4fv(t,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&e.uniformMatrix4fv(i,!1,this._pMatrix);var n=this.getUniform("uNMatrix");n&&e.uniformMatrix4fv(n,!1,this._nMatrix)},t}(o);e.MatrixStack=s;var u;!function(e){var n=function(e){function n(t){e.call(this,t)}return __extends(n,e),Object.defineProperty(n.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(e){var t=this,n=this,r=i.getExtension(e);i.load(e,function(e){var i;switch(r){case"obj":i=n.parseOBJ(e);break;case"json":i=n.parseJSON(e)}n.createBuffers(i),t._onload&&t._onload()})},enumerable:!0,configurable:!0}),n.prototype.parseJSON=function(e){var t={};try{t=JSON.parse(e)}catch(i){console.log(i)}return t},n.prototype.parseOBJ=function(e){var t={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=e.split("\n"),n=i.filter(function(e){return"v"===e[0]}),r=i.filter(function(e){return"f"===e[0]});n.forEach(function(e){var i=e.replace("\r","").split(" "),n=i[0];t[n]=t[n].concat(i.slice(1).filter(function(e){return""!==e}))});var o=[];return r.forEach(function(e){var t=e.replace("\r","").replace("f","").split(" ");o=o.concat(t.slice(1).filter(function(e){return""!==e}))}),o.forEach(function(e){var i=e.split("/");t.iv.push(parseInt(i[0])-1),t["in"].push(parseInt(i[1])-1),t.it.push(parseInt(i[2])-1)}),t},n.prototype.createBuffers=function(e){function n(e){return t.createBuffer(o,e)}function r(e){return t.createIndexBuffer(o,e)}var o=this.gl;_.defaults(e,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),e.v.length>0&&(this._vbo=n(e.v)),e.v.length>0&&e.iv.length>0&&(this._nbo=n(i.calculateNormals(e.v,e.iv))),e.vt.length>0&&(this._tbo=t.createBuffer(o,e.vt,!0)),e.iv.length>0&&(this._ivbo=r(e.iv)),e["in"].length>0&&(this._inbo=r(e["in"])),e.it.length>0&&(this._itbo=r(e.it))},Object.defineProperty(n.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),n}(o);e.MeshBuffers=n;var a=function(e){function n(t){e.call(this,t),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(n,e),Object.defineProperty(n.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(e){this._image.onload=this.loadTextureImage(this._onload),this._image.src=e},enumerable:!0,configurable:!0}),n.prototype.loadTextureImage=function(e){var i=this,n=this;return function(){i._texture=t.createTexture(n.gl,n._image),r.addTexture(n.graphID,n._oid),e&&e()}},Object.defineProperty(n.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),n}(o);e.MeshTexture=a;var s=function(e){function t(t,i,n,r,o){e.call(this,t),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=n?vec4.create(n):void 0,this._specular=r?vec4.create(r):vec4.create(),this._shininess=o||200}return __extends(t,e),Object.defineProperty(t.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{set:function(e){var t=this,n=this;i.load(e,function(e){var i=n.parse(e);t._ambient=i.Ka,t._diffuse=i.Kd,t._specular=i.Ks,t.shininess=i.Ns,t._onload&&t._onload()})},enumerable:!0,configurable:!0}),t.prototype.parse=function(e){var t={},i=["Ka","Kd","Ks","Ns"],n=e.split("\n");return n.forEach(function(e){var n=e.split(" "),r=n[0];if(i.indexOf(r)>-1)switch(r){case"Ns":t.Ns=Number(n[1]);break;default:var o=n.slice(1).map(function(e){return Number(e)});o.push(1),t[r]=o}}),t},Object.defineProperty(t.prototype,"ambient",{get:function(){return this._ambient},set:function(e){this._ambient=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuse",{get:function(){return this._diffuse},set:function(e){this._diffuse=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specular",{get:function(){return this._specular},set:function(e){this._specular=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shininess",{get:function(){return this._shininess},set:function(e){this._shininess=e},enumerable:!0,configurable:!0}),t}(o);e.MeshMaterial=s}(u=e.Resources||(e.Resources={}));var f;!function(e){var t=function(){function e(){}return e.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform bool uWireframe;\n\nuniform sampler2D uSampler;\n\nvarying vec4 vColor;\n\n\nbool isBlack(vec4 color){\nreturn color.r==0.0 &&color.g==0.0&&color.b==0.0;\n}\nvoid main(void) { \n     if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n    gl_FragColor = texture2D(uSampler, gl_PointCoord);\n    if(gl_FragColor.a < 0.5 || isBlack(gl_FragColor)) discard;\n    }\n}",e.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Phong_positional="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\n\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec3 vLightDir;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(vLightDir);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightDiffuse*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform mat4 uMVMatrix;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uMaterialDiffuse;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nvarying vec4 vColor;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\n\nvoid main(){\n\n       if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n        vec4 color0=vec4(uMaterialDiffuse.rgb,1.0);\n        vec4 color1=vec4(0.0,0.0,0.0, 1.0);\n        vec4 color2=vec4(uMaterialDiffuse.rgb, 1.0);\n        \n        vec3 N= vNormal;\n        vec3 L = normalize(uLightDirection);\n        \n        vec4 eyePos= uMVMatrix*vec4(0.0,0.0,0.0,1.0);\n        \n        vec3 EyeVert = normalize(-eyePos.xyz);\n        \n        vec3 EyeLight=normalize(L+EyeVert);\n        \n        float sil= max(dot(N, EyeVert), 0.0);\n        \n        if( sil<0.4){\n            gl_FragColor=color1;\n        }else{\n             gl_FragColor=color0;\n             \n             float spec=pow(max(dot(N, EyeLight), 0.0), uShininess);\n             \n             if(spec<0.2) gl_FragColor*=0.8;\n             else gl_FragColor=color2;\n             \n             float diffuse=max(dot(N, L), 0.0);\n             if(diffuse<0.5)gl_FragColor*=0.8;\n        }\n\n\n\n\n\n}\n\n\n\n",e}();e.Fragment=t;var i=function(){function e(){}return e.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec3 a_position;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform float uPointSize;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec4 vColor;\n\nvoid main(void) {\n\n if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }\n    \n    gl_Position = uPMatrix * uMVMatrix * vec4(a_position.xyz, 1.0);\n    gl_PointSize = uPointSize;\n}",e.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Phong_positional="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform vec3 uLightPosition;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec3 vLightDir;\n\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n    vLightDir=vertex.xyz-uLightPosition;  \n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\nvarying vec4 vColor;\n\nvoid main(){\n    \n    vec4 normal= uNMatrix * vec4(a_normal,1.0);\n    \n     if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n    \n    vNormal=normal.xyz;\n    vVertex=a_position;\n    }\n    \n    gl_Position=uPMatrix*uMVMatrix*vec4(a_position, 1.0);\n    \n    \n    \n    \n\n}",e}();e.Vertex=i}(f=e.Shaders||(e.Shaders={}));var c=function(e){function t(t,i,n,r){e.call(this,t),this._frequency=i,this._interval_id=null,this._callback=r}return __extends(t,e),t.prototype.onFrame=function(){if(t.ElapseTime=i.nowInMilliseconds(),!(t.ElapseTime<5)){for(var e=Math.floor(t.ElapseTime/this._frequency);e>0&&t.Count!=this._times;)this._callback(),e--,t.Count++;t.Count===this._times&&this.stop()}},t.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},t.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},t.prototype.beginDraw=function(){},t.prototype.endDraw=function(){},t.Count=0,t}(a);e.AnimationEntity=c;var l=function(e){function t(t,i,n,r){e.call(this,t),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=n||null,this._texturefile=r||null}return __extends(t,e),t.prototype.loadBuffers=function(e,t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=t,this._buffers.src=e},t.prototype.loadTexture=function(e,t){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=t,this._texture.src=e},Object.defineProperty(t.prototype,"material",{set:function(e){this._material=e},enumerable:!0,configurable:!0}),t.prototype.loadMaterial=function(e,t){this._material=new u.MeshMaterial(this.graphID),this._material.onload=t,this._material.src=e},t.prototype.loadMesh=function(e){var t=this,i=this;async.waterfall([function(e){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),e()})):e()},function(e){return t._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),e()})):e()},function(e){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),e()})):e()}],function(t){return t?console.log(t):void(e&&e())})},t.prototype.loadMeshByObject=function(e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(e)},t.prototype.loadMaterialByObject=function(e){this._material=new u.MeshMaterial(this.graphID),e.ambient&&(this._material.ambient=e.ambient),e.specular&&(this._material.specular=e.specular),e.diffuse&&(this._material.diffuse=e.diffuse),e.shininess&&(this._material.shininess=e.shininess)},t.prototype.setMaterialUniforms=function(){if(this._material){var e=this.gl;if(this._material.ambient){var t=this.getUniform("uMaterialAmbient");t&&e.uniform4fv(t,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&e.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var n=this.getUniform("uMaterialSpecular");n&&e.uniform4fv(n,this._material.specular)}if(this._material.shininess){var r=this.getUniform("uShininess");r&&e.uniform1f(r,this._material.shininess)}}},t.prototype.beginDraw=function(){var e=this.gl;this.setMaterialUniforms(),e.bindBuffer(e.ARRAY_BUFFER,this._buffers.vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,this._buffers.nbo),r.enableAttrib(this.graphID,"a_normal");var t=this._buffers.ivbo;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),e.drawElements(e.TRIANGLES,t.numItems,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl;r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_normal"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.MeshEntity=l;var h=function(e){function t(t,i,n,r){e.call(this,t),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=n||vec3.create([1,1,1]),this._rotation=r||{angle:0,axis:vec3.create()}}return __extends(t,e),t.prototype.identity=function(){mat4.identity(this._matrix)},t.prototype.setMatrix=function(e){this._matrix=e},t.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),t.prototype.setAbsolutePosition=function(e,t,i){this._position=[e,t,i]},t.prototype.translate=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._position,r=vec3.create([e,t,i]);vec3.add(n,r,this._position)},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),t.prototype.setSize=function(e,t,i){this._size=[e,t,i]},t.prototype.scale=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._size,r=vec3.create([e,t,i]);vec3.add(n,r,this._size)},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e},enumerable:!0,configurable:!0}),t.prototype.setRotation=function(e,t){e&&(this._rotation.angle=e),t&&(this._rotation.axis=t)},t.prototype.setAngle=function(e){this._rotation.angle=e},t.prototype.setAxis=function(e){this._rotation.axis=e},t.prototype.rotateAngle=function(e){void 0===e&&(e=0),this._rotation.angle+=e},t.prototype.moveAxis=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._rotation.axis,r=vec3.create([e,t,i]);vec3.add(n,r,this._rotation.axis)},t.prototype.beginDraw=function(e){if(e.push(),e.ModelView(),this._matrix=e.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var t=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,t,this._rotation.axis)}e.setUp()},t.prototype.endDraw=function(e){e.pop()},t}(a);e.TransformEntity=h;var p=function(e){function t(t,i,n,r,o,a,s){e.call(this,t),this._ambient=i?vec4.create(i):null,this._diffuse=n?vec4.create(n):null,this._position=r?vec4.create(r):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(t,e),Object.defineProperty(t.prototype,"ambient",{get:function(){return this._ambient},set:function(e){this._ambient=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuse",{get:function(){return this._diffuse},set:function(e){this._diffuse=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specular",{get:function(){return this._specular},set:function(e){this._specular=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._diffuse},set:function(e){this._position=i.normalizeNaN(vec3.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=i.normalizeNaN(vec3.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cutOff",{get:function(){return this._cutoff},set:function(e){this._cutoff=e},enumerable:!0,configurable:!0}),t.prototype.beginDraw=function(){var e=this.gl;if(this._ambient){var t=this.getUniform("uLightAmbient");t&&e.uniform4fv(t,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&e.uniform4fv(i,this._diffuse)}if(this._specular){var n=this.getUniform("uLightSpecular");n&&e.uniform4fv(n,this._specular)}if(this._position){var r=this.getUniform("uLightPosition");r&&e.uniform3fv(r,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&e.uniform3fv(o,this._direction)}if(this._cutoff){var a=this.getUniform("uCutOff");a&&e.uniform1f(a,this._cutoff)}},t.prototype.endDraw=function(){},t}(a);e.LightEntity=p;var m=function(e){function t(t,i){e.call(this,t),this._value=i}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uMaterialDiffuse");t&&e.uniform4fv(t,this._value)},t.prototype.endDraw=function(){},t}(a);e.DiffuseEntity=m;var d=function(e){function n(t,i){e.call(this,t),this._pointSize=i||1,this._buffer=null,this._texture_id=""}return __extends(n,e),n.prototype.configure=function(e,n){var o=this.gl;this._buffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(e),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this._numItems=e.length,this._texture_id=i.uuid("Texture"),this._texture=t.createTexture(o,n),r.addTexture(this.graphID,this._texture_id)},n.prototype.update=function(e){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this._buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._numItems=e.length},Object.defineProperty(n.prototype,"textureID",{get:function(){return this._texture_id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointSize",{set:function(e){this._pointSize=e},enumerable:!0,configurable:!0}),n.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uPointSize");t&&e.uniform1f(t,this._pointSize),e.bindBuffer(e.ARRAY_BUFFER,this._buffer),r.enableAttrib(this.graphID,"a_position"),r.activeTexture(this.graphID,this._texture_id,this._texture),e.drawArrays(e.POINTS,0,this._numItems/3)},n.prototype.endDraw=function(){var e=this.gl;r.disableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,null)},n}(a);e.ParticleEntity=d;var v=function(e){function t(t,i){e.call(this,t),this._type=i||n.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(t,e),Object.defineProperty(t.prototype,"type",{set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"azimuth",{get:function(){return this._azimuth},set:function(e){var t=e-this._azimuth;this.changeAzimuth(t)},enumerable:!0,configurable:!0}),t.prototype.changeAzimuth=function(e){this._azimuth+=e,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(t.prototype,"elevation",{get:function(){return this._elevation},set:function(e){var t=e-this._elevation;this.changeElevation(t)},enumerable:!0,configurable:!0}),t.prototype.changeElevation=function(e){this._elevation+=e,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(t.prototype,"zoom",{get:function(){return this._steps},set:function(e){var t=vec3.create(),i=vec3.create();t=this.position;var r=e-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===n.TRACKING?(o[0]=t[0]-r*i[0],o[1]=t[1]-r*i[1],o[2]=t[2]-r*i[2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]-r),this.position=o,this._steps=e},enumerable:!0,configurable:!0}),t.prototype.calculateOrientation=function(){
var e=this._cmatrix;mat4.multiplyVec4(e,[1,0,0,0],this._right),mat4.multiplyVec4(e,[0,1,0,0],this._up),mat4.multiplyVec4(e,[0,0,1,0],this._normal)},t.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===n.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===n.TRACKING&&mat4.multiplyVec4(this._cmatrix,[0,0,0,1],this._position)},Object.defineProperty(t.prototype,"modelView",{get:function(){var e=mat4.create();return mat4.inverse(this._cmatrix,e),e},enumerable:!0,configurable:!0}),t.prototype.endDraw=function(){},t}(a);e.CameraEntity=v;var b=function(e){function t(t,i){e.call(this,t),i=i||100,this._vertices=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],this._indices=[0,1,2,3,4,5],this._colors=[1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1]}return __extends(t,e),t.prototype.init=function(){var e=this.gl;this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._vertices),e.STATIC_DRAW),this._ibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),e.STATIC_DRAW),this._cbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._cbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._colors),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!0);var i=this.getUniform("uPerVertexColor");i&&e.uniform1i(i,!0),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,this._cbo),r.enableAttrib(this.graphID,"a_color",{size:4}),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.drawElements(e.LINES,this._indices.length,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!1);var i=this.getUniform("uPerVertexColor");i&&e.uniform1i(i,!1),r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_color"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.AxisEntity=b;var g=function(e){function t(t,i,n){e.call(this,t),this._dimesions={dim:i||50,lines:n||50}}return __extends(t,e),t.prototype.init=function(){var e=this.gl;this.build(),this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._vertices),e.STATIC_DRAW),this._ibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.build=function(){for(var e=2*this._dimesions.dim/this._dimesions.lines,t=[],i=[],n=0;n<=this._dimesions.lines;n++)t[6*n]=-this._dimesions.dim,t[6*n+1]=-.5,t[6*n+2]=-this._dimesions.dim+n*e,t[6*n+3]=this._dimesions.dim,t[6*n+4]=-.5,t[6*n+5]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n+1]=-.5,t[6*(this._dimesions.lines+1)+6*n+2]=-this._dimesions.dim,t[6*(this._dimesions.lines+1)+6*n+3]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n+4]=-.5,t[6*(this._dimesions.lines+1)+6*n+5]=this._dimesions.dim,i[2*n]=2*n,i[2*n+1]=2*n+1,i[2*(this._dimesions.lines+1)+2*n]=2*(this._dimesions.lines+1)+2*n,i[2*(this._dimesions.lines+1)+2*n+1]=2*(this._dimesions.lines+1)+2*n+1;this._vertices=t,this._indices=i},t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!0);var i=this.getUniform("uMaterialDiffuse");i&&e.uniform4fv(i,[.7,.7,.7,1]),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.drawElements(e.LINES,this._indices.length,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!1),r.disableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.GridEntity=g;var y=function(e){function t(t,i){e.call(this,t),this._color=this.generateUniqueColor(),this._data=i}return __extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),t.prototype.generateUniqueColor=function(){for(var e,t=function(e){return void 0!=r.getSelectByColor(this.graphID,e)}.bind(this),i=!0;i;)e=[Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),1],i=t(e);return e},t.prototype.beginDraw=function(){if(r.isOffScreen(this.graphID)){var e=this.gl,t=this.getUniform("uSelectColor");t&&e.uniform4fv(t,this._color)}},t.prototype.endDraw=function(){},t}(a);e.SelectEntity=y;var R=function(e){function t(t,i){e.call(this,t),this._dimensions=i,this._framebuffer=null,this._renderbuffer=null,this._texture=null,this.configure()}return __extends(t,e),t.prototype.configure=function(){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this._dimensions.width,this._dimensions.height,0,e.RGBA,e.UNSIGNED_BYTE,null),this._renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this._dimensions.width,this._dimensions.height),this._framebuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this._renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},t.prototype.fill=function(e){r.fillSelectorBuffer(this.graphID,e)},t.prototype.clear=function(){r.clearSelectorBuffer(this.graphID)},t.prototype.find=function(e){var t=this.gl,i=new Uint8Array(4);t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),t.readPixels(e.x,e.y,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=[].slice.call(i).map(function(e){return parseFloat((e/255).toFixed(2))}),o=r.getSelectByColor(this.graphID,n);return o?o.data:void 0},t.prototype.render=function(e){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);var i=this.getUniform("uOffscreen");t.uniform1i(i,!0),r.enableOffScreen(this.graphID),e(),t.uniform1i(i,!1),r.disableOffScreen(this.graphID),t.bindFramebuffer(t.FRAMEBUFFER,null)},t}(o);e.Selector=R;var E=function(){function e(e,t,n){this._parentNode=e,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=t,this._oid=i.uuid(this._type||this.constructor.name),this._entity=n}return Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entity",{get:function(){return this._entity},set:function(e){this._entity=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),e.prototype.addChildNode=function(e){this._childNodes.push(e)},e.prototype.removeChildNode=function(e){var t=this.indexOf(e);t>-1&&this._childNodes.splice(t,1)},e.prototype.getChildNodeByIndex=function(e){return this._childNodes[e]||void 0},e.prototype.existsChildNode=function(e){return void 0!==this._childNodes[e]},e.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},e.prototype.createChildNode=function(t,i){return new e(this,t,i)},e.prototype.isRoot=function(){return void 0===this._parentNode},e.prototype.indexOf=function(e){var t=e.oid;return _.findIndex(this._childNodes,function(e){return e.oid===t})},e.prototype.indexInParent=function(){var e=-1;return this.isRoot()||(e=this._parentNode.indexOf(this)),e},e.prototype.hasSibling=function(e){var t=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(e?this._parentNode.getChildNodeByIndex(i-1)&&(t=!0):this._parentNode.getChildNodeByIndex(i+1)&&(t=!0))}return t},e.prototype.nextSibling=function(){var e=null;if(!this.isRoot()&&this.hasSibling()){var t=this._parentNode.indexOf(this);e=this._parentNode.getChildNodeByIndex(t+1)}return e},e.prototype.previousSibling=function(){var e=null;if(!this.isRoot()&&this.hasSibling(!0)){var t=this._parentNode.indexOf(this);e=this._parentNode.getChildNodeByIndex(t-1)}return e},e.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},e.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},e.prototype.removeChildNodes=function(){this._childNodes=[]},e.prototype.draw=function(e){this._entity&&this._entity.beginDraw(e);for(var t=0;t<this._childNodes.length;t++){var i=this._childNodes[t];i.draw(e)}this._entity&&this._entity.endDraw(e)},e}();e.NodeElement=E;var x=function(e){function t(){var t=i.uuid();e.call(this,t),this._oid=t,this._scene=new E(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],r.createView(this._oid),this._selector=null}return __extends(t,e),Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),t.prototype.Environment=function(e){var t=this.gl;e=e||[],t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.clearColor(e[0]||0,e[1]||0,e[2]||0,1),t.clearDepth(1)},t.prototype.render=function(){var e=this.gl;e.viewport(0,0,e.viewportWidth,e.viewportHeight),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);var t=function(){this._scene.draw(this._matrixStack)}.bind(this);this._selector&&this._selector.render(t),t()},t.prototype.createMainChildNode=function(e,t){return this._scene.createChildNode(e,t)},t.prototype.removeMainChildNode=function(e){this._scene.removeChildNode(e)},Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),t.prototype.setContext=function(e){r.setCanvasToContext(this.oid,e)},t.prototype.Program=function(e){e=e||"Phong",r.createProgram(this._oid,{fragment:f.Fragment[e]||f.Fragment.Phong,vertex:f.Vertex[e]||f.Vertex.Phong})},t.prototype.createMesh=function(e){var t=new l(this.oid);return e.mesh&&t.loadMeshByObject(e.mesh),e.material&&t.loadMaterialByObject(e.material),t},t.prototype.createDiffuse=function(e){return new m(this.oid,e)},t.prototype.createMeshByLoader=function(e){var t=new l(this.oid,e.mesh,e.material,e.texture);return this._loaderBuffer.push(t),t},t.prototype.createTransform=function(e,t,i){return new h(this.oid,e,t,i)},t.prototype.createLight=function(e){return new p(this.oid,e.ambient,e.diffuse,e.position,e.specular,e.direction,e.cutoff)},t.prototype.createCamera=function(e){return new v(this.oid,e)},t.prototype.createParticle=function(e){return new d(this.oid,e)},t.prototype.createAxis=function(e){return new b(this.oid,e)},t.prototype.createGrid=function(e,t){return new g(this.oid,e,t)},t.prototype.createSelect=function(e){return new y(this.oid,e)},t.prototype.createSelector=function(e){this._selector=new R(this.oid,e)},t.prototype.fillSelector=function(e){this._selector&&this._selector.fill(e)},t.prototype.clearSelector=function(e){this._selector&&this._selector.clear()},t.prototype.select=function(e){return this._selector?this._selector.find(e):void 0},Object.defineProperty(t.prototype,"MainCamera",{set:function(e){this._matrixStack.MainCamera=e},enumerable:!0,configurable:!0}),t.prototype.removeTexture=function(e){r.removeTexture(this.oid,e)},t.prototype.startLoader=function(e){async.eachSeries(this._loaderBuffer,function(e,t){e.loadMesh(function(){console.log(e),t()})},e)},t.prototype.configure=function(e){var i=this;e=e||{},i.Environment(e.background),i.Program(e.typeShader),r.setAttributeLocations(i._oid,t.ATTRIBUTES),r.setUniformLocations(i._oid,t.UNIFORMS),this._matrixStack.init()},t.prototype.configureWithLoader=function(e){var t=this;t.configure(),t.startLoader(e)},t.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightPosition","uLightDirection","uCutOff","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uPointSize","uSampler","uWireframe","uPerVertexColor","uSelectColor","uOffscreen"],t.ATTRIBUTES=["a_position","a_normal","a_color"],t}(o);e.SceneGraph=x}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiY3JlYXRlU2hhZGVyIiwidHlwZSIsInNoYWRlclNvdXJjZSIsInNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiY3JlYXRlUHJvZ3JhbSIsInNoYWRlcnMiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImZyYWdtZW50IiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsInZlcnRleCIsInByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwidXNlUHJvZ3JhbSIsInV0aWxzIiwiczQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInV1aWQiLCJuYW1lIiwiaWQiLCJub3JtYWxpemVOYU4iLCJ2ZWMiLCJtYXAiLCJhIiwiTnVtYmVyIiwiaXNOYU4iLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJnZXRFeHRlbnNpb24iLCJzdHIiLCJlbGVtcyIsInNwbGl0Iiwibm93SW5NaWxsaXNlY29uZHMiLCJEYXRlIiwiZ2V0VGltZSIsImRlZ1RvUmFkIiwiUEkiLCJjYWxjdWxhdGVOb3JtYWxzIiwidnMiLCJpbmQiLCJ4IiwieSIsInoiLCJucyIsInYxIiwidjIiLCJub3JtYWwiLCJqIiwibm4iLCJsZW4iLCJzcXJ0IiwiQ0FNRVJBX1RZUEUiLCJLZXRjaCIsInNldENhbnZhc1RvQ29udGV4dCIsImtleSIsImNvbnRleHQiLCJzZXRDb250ZXh0IiwiX3ZpZXdzIiwic2V0UHJvZ3JhbSIsImdldFByb2dyYW0iLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsInZpZXciLCJwcmciLCJhdHRyaWJzIiwicmVkdWNlIiwicHJldiIsImF0dHIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImdldEF0dHJpYiIsInZpZXdfa2V5IiwiYXR0cl9rZXkiLCJnZXRVbmlmb3JtIiwidW5pZm9ybV9rZXkiLCJ1bmlmb3JtcyIsInNldFVuaWZvcm1Mb2NhdGlvbnMiLCJ1bmlmb3JtX25hbWVzIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZW5hYmxlQXR0cmliIiwicG9pbnRlciIsImluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwic2l6ZSIsIkZMT0FUIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIm9mZnNldCIsImRpc2FibGVBdHRyaWIiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJyZW5kZXJMb29wIiwiY2IiLCJzZXRJbnRlcnZhbCIsImFkZFRleHR1cmUiLCJ0ZXh0dXJlX2lkIiwidGV4dHVyZXMiLCJwdXNoIiwicmVtb3ZlVGV4dHVyZSIsImluZGV4T2YiLCJzcGxpY2UiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1U2FtcGxlciIsInVuaWZvcm0xaSIsImlzT2ZmU2NyZWVuIiwib2Zmc2NyZWVuIiwiZW5hYmxlT2ZmU2NyZWVuIiwiZGlzYWJsZU9mZlNjcmVlbiIsImZpbGxTZWxlY3RvckJ1ZmZlciIsIm9iaiIsInNlbGVjdE9iamVjdHMiLCJjbGVhclNlbGVjdG9yQnVmZmVyIiwiZ2V0U2VsZWN0QnlDb2xvciIsImNvbG9yIiwiXyIsImZpbmQiLCJvIiwiaXNFcXVhbCIsIlJlbmRlcmFibGUiLCJncmFwaF9pZCIsIl9ncmFwaF9pZCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdyYXBoSUQiLCJFbnRpdHkiLCJfc3VwZXIiLCJjYWxsIiwiYmVnaW5EcmF3IiwibWF0cml4U3RhY2siLCJlbmREcmF3IiwiTWF0cml4U3RhY2siLCJfc3RhY2siLCJfbXZNYXRyaXgiLCJtYXQ0IiwiX3BNYXRyaXgiLCJfbk1hdHJpeCIsImNvcHkiLCJzZXQiLCJwb3AiLCJNb2RlbFZpZXciLCJfY2FtZXJhIiwibW9kZWxWaWV3IiwiaWRlbnRpdHkiLCJjYW1lcmEiLCJQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwiTm9ybWFsIiwiaW52ZXJzZSIsInRyYW5zcG9zZSIsImluaXQiLCJzZXRVcCIsIm12TWF0cml4IiwidW5pZm9ybU1hdHJpeDRmdiIsInBNYXRyaXgiLCJuTWF0cml4IiwiUmVzb3VyY2VzIiwiTWVzaEJ1ZmZlcnMiLCJfb25sb2FkIiwic3JjIiwiX3RoaXMiLCJzZWxmIiwiZXh0IiwicGFyc2VPQkoiLCJwYXJzZUpTT04iLCJjcmVhdGVCdWZmZXJzIiwiSlNPTiIsInBhcnNlIiwidiIsInZuIiwidnQiLCJpdiIsImluIiwiaXQiLCJsaW5lcyIsImZpbHRlciIsImZvckVhY2giLCJpdGVtIiwicmVwbGFjZSIsImNvbmNhdCIsInNsaWNlIiwidGVtcEluZGV4IiwicGFyc2VJbnQiLCJkZWZhdWx0cyIsIl92Ym8iLCJfbmJvIiwiX3RibyIsIl9pdmJvIiwiX2luYm8iLCJfaXRibyIsIk1lc2hUZXh0dXJlIiwiX2ltYWdlIiwiSW1hZ2UiLCJfb2lkIiwiZmlsZW5hbWUiLCJvbmxvYWQiLCJsb2FkVGV4dHVyZUltYWdlIiwiX3RleHR1cmUiLCJNZXNoTWF0ZXJpYWwiLCJhbWJpZW50IiwiZGlmZnVzZSIsInNwZWN1bGFyIiwic2hpbmluZXNzIiwiX2FtYmllbnQiLCJ2ZWM0IiwiX2RpZmZ1c2UiLCJfc3BlY3VsYXIiLCJfc2hpbmluZXNzIiwidGVtcCIsIkthIiwiS2QiLCJLcyIsIk5zIiwia2V5cyIsImxpbmUiLCJTaGFkZXJzIiwiRnJhZ21lbnQiLCJQYXJ0aWNsZSIsIlBob25nIiwiUGhvbmdfcG9zaXRpb25hbCIsIlRvb24iLCJWZXJ0ZXgiLCJBbmltYXRpb25FbnRpdHkiLCJmcmVxdWVuY3kiLCJ0aW1lcyIsIl9mcmVxdWVuY3kiLCJfaW50ZXJ2YWxfaWQiLCJfY2FsbGJhY2siLCJvbkZyYW1lIiwiRWxhcHNlVGltZSIsInN0ZXBzIiwiQ291bnQiLCJfdGltZXMiLCJzdG9wIiwic3RhcnQiLCJfaW50aW1lIiwiY2xlYXJJbnRlcnZhbCIsIk1lc2hFbnRpdHkiLCJtZXNoZmlsZSIsIm1hdGVyaWFsZmlsZSIsInRleHR1cmVmaWxlIiwiX21hdGVyaWFsIiwiX2J1ZmZlcnMiLCJfbWVzaGZpbGUiLCJfbWF0ZXJpYWxmaWxlIiwiX3RleHR1cmVmaWxlIiwibG9hZEJ1ZmZlcnMiLCJsb2FkVGV4dHVyZSIsImxvYWRNYXRlcmlhbCIsImxvYWRNZXNoIiwiYXN5bmMiLCJ3YXRlcmZhbGwiLCJuZXh0IiwiZXJyIiwibG9hZE1lc2hCeU9iamVjdCIsImxvYWRNYXRlcmlhbEJ5T2JqZWN0Iiwic2V0TWF0ZXJpYWxVbmlmb3JtcyIsInVNYXRlcmlhbEFtYmllbnQiLCJ1bmlmb3JtNGZ2IiwidU1hdGVyaWFsRGlmZnVzZSIsInVNYXRlcmlhbFNwZWN1bGFyIiwidVNoaW5pbmVzcyIsInVuaWZvcm0xZiIsInZibyIsIm5ibyIsIml2Ym8iLCJkcmF3RWxlbWVudHMiLCJUUklBTkdMRVMiLCJVTlNJR05FRF9TSE9SVCIsIlRyYW5zZm9ybUVudGl0eSIsInBvc2l0aW9uIiwicm90YXRpb24iLCJfbWF0cml4IiwiX3Bvc2l0aW9uIiwidmVjMyIsIl9zaXplIiwiX3JvdGF0aW9uIiwiYW5nbGUiLCJheGlzIiwic2V0TWF0cml4IiwibmV3X21hdHJpeCIsInNldEFic29sdXRlUG9zaXRpb24iLCJ0cmFuc2xhdGUiLCJvcGVyYW5kMSIsIm9wZXJhbmQyIiwiYWRkIiwic2V0U2l6ZSIsInNjYWxlIiwic2V0Um90YXRpb24iLCJzZXRBbmdsZSIsInNldEF4aXMiLCJyb3RhdGVBbmdsZSIsIm1vdmVBeGlzIiwicmFkIiwicm90YXRlIiwiTGlnaHRFbnRpdHkiLCJkaXJlY3Rpb24iLCJjdXRvZmYiLCJfZGlyZWN0aW9uIiwiX2N1dG9mZiIsInVMaWdodEFtYmllbnQiLCJ1TGlnaHREaWZmdXNlIiwidUxpZ2h0U3BlY3VsYXIiLCJ1TGlnaHRQb3NpdGlvbiIsInVuaWZvcm0zZnYiLCJ1RGlyZWN0aW9uIiwidUN1dE9mZiIsIkRpZmZ1c2VFbnRpdHkiLCJfdmFsdWUiLCJQYXJ0aWNsZUVudGl0eSIsInBvaW50U2l6ZSIsIl9wb2ludFNpemUiLCJfYnVmZmVyIiwiX3RleHR1cmVfaWQiLCJjb25maWd1cmUiLCJkYXRhX21lc2giLCJkYXRhX3RleHR1cmUiLCJfbnVtSXRlbXMiLCJ1cGRhdGUiLCJ1UG9pbnRTaXplIiwiZHJhd0FycmF5cyIsIlBPSU5UUyIsIkNhbWVyYUVudGl0eSIsIl90eXBlIiwiT1JCSVRJTkciLCJfY21hdHJpeCIsIl91cCIsIl9yaWdodCIsIl9ub3JtYWwiLCJfYXppbXV0aCIsIl9lbGV2YXRpb24iLCJfc3RlcHMiLCJwb3MiLCJheiIsInRlbXBfYXoiLCJjaGFuZ2VBemltdXRoIiwiZWwiLCJ0ZW1wX2VsIiwiY2hhbmdlRWxldmF0aW9uIiwibiIsInN0ZXAiLCJub3JtYWxpemUiLCJuZXdfcG9zaXRpb24iLCJUUkFDS0lORyIsImNhbGN1bGF0ZU9yaWVudGF0aW9uIiwibSIsIm11bHRpcGx5VmVjNCIsInJvdGF0ZVkiLCJyb3RhdGVYIiwiQXhpc0VudGl0eSIsIl92ZXJ0aWNlcyIsIl9pbmRpY2VzIiwiX2NvbG9ycyIsIl9pYm8iLCJfY2JvIiwidVdpcmVmcmFtZSIsInVQZXJWZXJ0ZXhDb2xvciIsIkxJTkVTIiwiR3JpZEVudGl0eSIsIl9kaW1lc2lvbnMiLCJkaW0iLCJidWlsZCIsImluYyIsImwiLCJTZWxlY3RFbnRpdHkiLCJfY29sb3IiLCJnZW5lcmF0ZVVuaXF1ZUNvbG9yIiwiX2RhdGEiLCJjb250YWlucyIsImJpbmQiLCJmb3VuZCIsInRvRml4ZWQiLCJ1U2VsZWN0Q29sb3IiLCJTZWxlY3RvciIsImRpbWVuc2lvbnMiLCJfZGltZW5zaW9ucyIsIl9mcmFtZWJ1ZmZlciIsIl9yZW5kZXJidWZmZXIiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX0FUVEFDSE1FTlQiLCJmaWxsIiwiY2xlYXIiLCJyZWFkb3V0IiwiVWludDhBcnJheSIsInJlYWRQaXhlbHMiLCJmaXhlZCIsInBhcnNlRmxvYXQiLCJyZW5kZXIiLCJkcmF3IiwidU9mZnNjcmVlbiIsIk5vZGVFbGVtZW50IiwicGFyZW50IiwiZW50aXR5IiwiX3BhcmVudE5vZGUiLCJhZGRDaGlsZE5vZGUiLCJfY2hpbGROb2RlcyIsIl9lbnRpdHkiLCJjaGlsZCIsInJlbW92ZUNoaWxkTm9kZSIsImdldENoaWxkTm9kZUJ5SW5kZXgiLCJleGlzdHNDaGlsZE5vZGUiLCJjcmVhdGVDaGlsZE5vZGUiLCJpc1Jvb3QiLCJvaWQiLCJmaW5kSW5kZXgiLCJzIiwiaW5kZXhJblBhcmVudCIsImhhc1NpYmxpbmciLCJfaGF2ZSIsIm5leHRTaWJsaW5nIiwic2libGluZyIsInByZXZpb3VzU2libGluZyIsImZpcnN0Q2hpbGQiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZE5vZGVzIiwiU2NlbmVHcmFwaCIsIl9zY2VuZSIsIl9tYXRyaXhTdGFjayIsIl9sb2FkZXJCdWZmZXIiLCJfc2VsZWN0b3IiLCJFbnZpcm9ubWVudCIsImVuYWJsZSIsIkRFUFRIX1RFU1QiLCJkZXB0aEZ1bmMiLCJMRVFVQUwiLCJCTEVORCIsImJsZW5kRnVuYyIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJjbGVhckNvbG9yIiwiY2xlYXJEZXB0aCIsInZpZXdwb3J0IiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJjcmVhdGVNYWluQ2hpbGROb2RlIiwicmVtb3ZlTWFpbkNoaWxkTm9kZSIsIm5vZGUiLCJQcm9ncmFtIiwiY3JlYXRlTWVzaCIsImNvbmZpZyIsIm1lc2hFbnRpdHkiLCJtZXNoIiwibWF0ZXJpYWwiLCJjcmVhdGVEaWZmdXNlIiwiY3JlYXRlTWVzaEJ5TG9hZGVyIiwiY3JlYXRlVHJhbnNmb3JtIiwiY3JlYXRlTGlnaHQiLCJjcmVhdGVDYW1lcmEiLCJjcmVhdGVQYXJ0aWNsZSIsImNyZWF0ZUF4aXMiLCJjcmVhdGVHcmlkIiwiY3JlYXRlU2VsZWN0IiwiY3JlYXRlU2VsZWN0b3IiLCJmaWxsU2VsZWN0b3IiLCJjbGVhclNlbGVjdG9yIiwic2VsZWN0IiwiTWFpbkNhbWVyYSIsInN0YXJ0TG9hZGVyIiwiZWFjaFNlcmllcyIsImJhY2tncm91bmQiLCJ0eXBlU2hhZGVyIiwiQVRUUklCVVRFUyIsIlVOSUZPUk1TIiwiY29uZmlndXJlV2l0aExvYWRlciJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsV0FBYUMsTUFBUUEsS0FBS0QsV0FBYyxTQUFVRSxFQUFHQyxHQUVyRCxRQUFTQyxLQUFPSCxLQUFLSSxZQUFjSCxFQURuQyxJQUFLLEdBQUlJLEtBQUtILEdBQU9BLEVBQUVJLGVBQWVELEtBQUlKLEVBQUVJLEdBQUtILEVBQUVHLEdBRW5ESixHQUFFTSxVQUFrQixPQUFOTCxFQUFhTSxPQUFPQyxPQUFPUCxJQUFNQyxFQUFHSSxVQUFZTCxFQUFFSyxVQUFXLEdBQUlKLEtBRS9FTyxPQUNKLFNBQVdBLEdBQ1AsR0FBSUMsSUFDSixTQUFXQSxHQUNQLFFBQVNDLEdBQWFDLEdBR2xCLElBQUssR0FGREMsR0FBTSxLQUNOQyxHQUFTLFFBQVMscUJBQXNCLFlBQWEsYUFDaERDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsU0FBVUQsRUFBRyxDQUNuQyxJQUNJRixFQUFNRCxFQUFPSyxXQUFXSCxFQUFNQyxJQUVsQyxNQUFPRyxJQUNQLEdBQUlMLEVBQ0EsTUFHUixNQUFZLFFBQVJBLEdBQ0FNLE1BQU0sOEJBQ0MsT0FHUE4sRUFBSU8sY0FBZ0JSLEVBQU9TLE1BQzNCUixFQUFJUyxlQUFpQlYsRUFBT1csT0FDckJWLEdBVWYsUUFBU1csR0FBYUMsRUFBSUMsRUFBTUMsRUFBTUMsR0FDbEMsR0FBSUMsR0FBU0osRUFBR0QsY0FFaEIsUUFEQUMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY0YsR0FDdkJELEdBQ0osSUFBS2xCLEdBQVdzQixZQUFZQyxPQUN4QlIsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhVCxHQUFPRCxFQUFHVyxZQUMxRCxNQUNKLEtBQUsxQixHQUFXc0IsWUFBWUssUUFDeEJaLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYVQsR0FBT0QsRUFBR2EsYUFDMUQsTUFDSixLQUFLNUIsR0FBV3NCLFlBQVlPLE9BQ3hCZCxFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFULEdBQU9ELEVBQUdlLFlBQzFELE1BQ0osU0FBU2YsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhVCxHQUFPRCxFQUFHVyxhQVd2RSxNQVRBWCxHQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE1BQzNCSixHQUNBRSxFQUFPWSxTQUFXLEVBQ2xCWixFQUFPYSxTQUFXaEIsRUFBS1YsT0FBUyxJQUdoQ2EsRUFBT1ksU0FBVyxFQUNsQlosRUFBT2EsU0FBV2hCLEVBQUtWLE9BQVMsR0FFN0JhLEVBR1gsUUFBU2MsR0FBa0JsQixFQUFJQyxFQUFNRSxHQUNqQyxHQUFJZ0IsR0FBY25CLEVBQUdELGFBQWFDLEVBQUdvQixxQkFFckMsUUFEQXBCLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0JELEdBQy9CaEIsR0FDSixJQUFLbEIsR0FBV3NCLFlBQVlDLE9BQ3hCUixFQUFHUyxXQUFXVCxFQUFHb0IscUJBQXNCLEdBQUlDLGFBQVlwQixHQUFPRCxFQUFHVyxZQUNqRSxNQUNKLEtBQUsxQixHQUFXc0IsWUFBWUssUUFDeEJaLEVBQUdTLFdBQVdULEVBQUdvQixxQkFBc0IsR0FBSUMsYUFBWXBCLEdBQU9ELEVBQUdhLGFBQ2pFLE1BQ0osS0FBSzVCLEdBQVdzQixZQUFZTyxPQUN4QmQsRUFBR1MsV0FBV1QsRUFBR29CLHFCQUFzQixHQUFJQyxhQUFZcEIsR0FBT0QsRUFBR2UsWUFDakUsTUFDSixTQUFTZixFQUFHUyxXQUFXVCxFQUFHb0IscUJBQXNCLEdBQUlDLGFBQVlwQixHQUFPRCxFQUFHVyxhQUs5RSxNQUhBWCxHQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCLE1BQ3ZDRCxFQUFZSCxTQUFXLEVBQ3ZCRyxFQUFZRixTQUFXaEIsRUFBS1YsT0FDckI0QixFQUdYLFFBQVNHLEdBQWN0QixFQUFJQyxHQUN2QixHQUFJc0IsR0FBVXZCLEVBQUdzQixlQU1qQixPQUxBdEIsR0FBR3dCLFlBQVl4QixFQUFHeUIsV0FBWUYsR0FDOUJ2QixFQUFHMEIsV0FBVzFCLEVBQUd5QixXQUFZLEVBQUd6QixFQUFHMkIsS0FBTTNCLEVBQUcyQixLQUFNM0IsRUFBRzRCLGNBQWUzQixHQUNwRUQsRUFBRzZCLGNBQWM3QixFQUFHeUIsV0FBWXpCLEVBQUc4QixtQkFBb0I5QixFQUFHK0IsUUFDMUQvQixFQUFHNkIsY0FBYzdCLEVBQUd5QixXQUFZekIsRUFBR2dDLG1CQUFvQmhDLEVBQUcrQixRQUMxRC9CLEVBQUd3QixZQUFZeEIsRUFBR3lCLFdBQVksTUFDdkJGLEVBR1gsUUFBU1UsR0FBYWpDLEVBQUlrQyxFQUFNQyxHQUM1QixHQUFJQyxHQUFTcEMsRUFBR2lDLGFBQWFDLEVBRzdCLE9BRkFsQyxHQUFHbUMsYUFBYUMsRUFBUUQsR0FDeEJuQyxFQUFHcUMsY0FBY0QsR0FDWnBDLEVBQUdzQyxtQkFBbUJGLEVBQVFwQyxFQUFHdUMsZ0JBSS9CSCxHQUhISSxRQUFRQyxJQUFJekMsRUFBRzBDLGlCQUFpQk4sSUFDekIsTUFLZixRQUFTTyxHQUFjM0MsRUFBSTRDLEdBQ3ZCLEdBQUlDLEdBQWlCWixFQUFhakMsRUFBSUEsRUFBRzhDLGdCQUFpQkYsRUFBUUcsVUFDOURDLEVBQWVmLEVBQWFqQyxFQUFJQSxFQUFHaUQsY0FBZUwsRUFBUU0sUUFDMURDLEVBQVVuRCxFQUFHMkMsZUFPakIsT0FOQTNDLEdBQUdvRCxhQUFhRCxFQUFTSCxHQUN6QmhELEVBQUdvRCxhQUFhRCxFQUFTTixHQUN6QjdDLEVBQUdxRCxZQUFZRixHQUNWbkQsRUFBR3NELG9CQUFvQkgsRUFBU25ELEVBQUd1RCxjQUNwQ2YsUUFBUUMsSUFBSXpDLEVBQUd3RCxrQkFBa0JMLElBQ3JDbkQsRUFBR3lELFdBQVdOLEdBQ1BBLEVBdEZYbEUsRUFBV0MsYUFBZUEsRUFDMUIsU0FBV3FCLEdBQ1BBLEVBQVlBLEVBQW9CLE9BQUksR0FBSyxTQUN6Q0EsRUFBWUEsRUFBb0IsT0FBSSxHQUFLLFNBQ3pDQSxFQUFZQSxFQUFxQixRQUFJLEdBQUssV0FDM0N0QixFQUFXc0IsY0FBZ0J0QixFQUFXc0IsZ0JBQ3ZCdEIsR0FBV3NCLFdBMkI3QnRCLEdBQVdjLGFBQWVBLEVBcUIxQmQsRUFBV2lDLGtCQUFvQkEsRUFVL0JqQyxFQUFXcUMsY0FBZ0JBLEVBVzNCckMsRUFBV2dELGFBQWVBLEVBYTFCaEQsRUFBVzBELGNBQWdCQSxHQUM1QjFELEVBQWFELEVBQU1DLGFBQWVELEVBQU1DLGVBQzNDLElBQUl5RSxJQUNKLFNBQVdBLEdBQ1AsUUFBU0MsS0FDTCxNQUFPQyxNQUFLQyxNQUE0QixPQUFyQixFQUFJRCxLQUFLRSxXQUN2QkMsU0FBUyxJQUNUQyxVQUFVLEdBR25CLFFBQVNDLEdBQUtDLEdBQ1YsR0FBSUMsR0FBS1IsSUFBT0EsR0FDaEIsT0FBT08sR0FBT0EsRUFBT0MsRUFBS0EsRUFHOUIsUUFBU0MsR0FBYUMsR0FDbEIsTUFBT0EsR0FBSUMsSUFBSSxTQUFVQyxHQUNkLE1BRHVCQyxRQUFPQyxNQUFNRixLQUMzQ0EsRUFBSSxHQUFVQSxJQUd0QixRQUFTRyxHQUFLQyxFQUFLQyxHQUNmLEdBQUlDLEdBQVUsR0FBSUMsZUFDbEJELEdBQVFFLEtBQUssTUFBT0osR0FBSyxHQUN6QkUsRUFBUUcsaUJBQWlCLE9BQVEsV0FDN0JKLEVBQVNDLEVBQVFJLGdCQUVyQkosRUFBUUssT0FHWixRQUFTQyxHQUFhQyxHQUNsQixHQUFJQyxHQUFRRCxFQUFJRSxNQUFNLElBQ3RCLE9BQU9ELEdBQU1BLEVBQU05RixPQUFTLEdBR2hDLFFBQVNnRyxLQUNMLE9BQU8sR0FBS0MsT0FBUUMsVUFHeEIsUUFBU0MsR0FBU25ILEdBQ2QsTUFBT0EsR0FBSXFGLEtBQUsrQixHQUFLLElBR3pCLFFBQVNDLEdBQWlCQyxFQUFJQyxHQUsxQixJQUFLLEdBSkRDLEdBQUksRUFDSkMsRUFBSSxFQUNKQyxFQUFJLEVBQ0pDLEtBQ0s1RyxFQUFJLEVBQUdBLEVBQUl1RyxFQUFHdEcsT0FBUUQsSUFDM0I0RyxFQUFHNUcsR0FBSyxDQUVaLEtBQUssR0FBSUEsR0FBSSxFQUFHQSxFQUFJd0csRUFBSXZHLE9BQVFELEdBQVEsRUFBRyxDQUN2QyxHQUFJNkcsTUFDQUMsS0FDQUMsSUFFSkYsR0FBR0osR0FBS0YsRUFBRyxFQUFJQyxFQUFJeEcsRUFBSSxHQUFLeUcsR0FBS0YsRUFBRyxFQUFJQyxFQUFJeEcsR0FBS3lHLEdBQ2pESSxFQUFHSCxHQUFLSCxFQUFHLEVBQUlDLEVBQUl4RyxFQUFJLEdBQUswRyxHQUFLSCxFQUFHLEVBQUlDLEVBQUl4RyxHQUFLMEcsR0FDakRHLEVBQUdGLEdBQUtKLEVBQUcsRUFBSUMsRUFBSXhHLEVBQUksR0FBSzJHLEdBQUtKLEVBQUcsRUFBSUMsRUFBSXhHLEdBQUsyRyxHQUVqREcsRUFBR0wsR0FBS0YsRUFBRyxFQUFJQyxFQUFJeEcsRUFBSSxHQUFLeUcsR0FBS0YsRUFBRyxFQUFJQyxFQUFJeEcsRUFBSSxHQUFLeUcsR0FDckRLLEVBQUdKLEdBQUtILEVBQUcsRUFBSUMsRUFBSXhHLEVBQUksR0FBSzBHLEdBQUtILEVBQUcsRUFBSUMsRUFBSXhHLEVBQUksR0FBSzBHLEdBQ3JESSxFQUFHSCxHQUFLSixFQUFHLEVBQUlDLEVBQUl4RyxFQUFJLEdBQUsyRyxHQUFLSixFQUFHLEVBQUlDLEVBQUl4RyxFQUFJLEdBQUsyRyxHQVVyREksRUFBT04sR0FBS0ksRUFBR0gsR0FBS0ksRUFBR0gsR0FBS0UsRUFBR0YsR0FBS0csRUFBR0osR0FDdkNLLEVBQU9MLEdBQUtHLEVBQUdGLEdBQUtHLEVBQUdMLEdBQUtJLEVBQUdKLEdBQUtLLEVBQUdILEdBQ3ZDSSxFQUFPSixHQUFLRSxFQUFHSixHQUFLSyxFQUFHSixHQUFLRyxFQUFHSCxHQUFLSSxFQUFHTCxFQUl2QyxLQUFLLEdBQUlPLEdBQUksRUFBTyxFQUFKQSxFQUFPQSxJQUNuQkosRUFBRyxFQUFJSixFQUFJeEcsRUFBSWdILEdBQUtQLEdBQUtHLEVBQUcsRUFBSUosRUFBSXhHLEVBQUlnSCxHQUFLUCxHQUFLTSxFQUFPTixHQUN6REcsRUFBRyxFQUFJSixFQUFJeEcsRUFBSWdILEdBQUtOLEdBQUtFLEVBQUcsRUFBSUosRUFBSXhHLEVBQUlnSCxHQUFLTixHQUFLSyxFQUFPTCxHQUN6REUsRUFBRyxFQUFJSixFQUFJeEcsRUFBSWdILEdBQUtMLEdBQUtDLEVBQUcsRUFBSUosRUFBSXhHLEVBQUlnSCxHQUFLTCxHQUFLSSxFQUFPSixHQUlqRSxJQUFLLEdBQUkzRyxHQUFJLEVBQUdBLEVBQUl1RyxFQUFHdEcsT0FBUUQsR0FBUSxFQUFHLENBQ3RDLEdBQUlpSCxLQUNKQSxHQUFHUixHQUFLRyxFQUFHNUcsRUFBSXlHLEdBQ2ZRLEVBQUdQLEdBQUtFLEVBQUc1RyxFQUFJMEcsR0FDZk8sRUFBR04sR0FBS0MsRUFBRzVHLEVBQUkyRyxFQUNmLElBQUlPLEdBQU01QyxLQUFLNkMsS0FBTUYsRUFBR1IsR0FBS1EsRUFBR1IsR0FBT1EsRUFBR1AsR0FBS08sRUFBR1AsR0FBT08sRUFBR04sR0FBS00sRUFBR04sR0FDekQsSUFBUE8sSUFDQUEsRUFBTSxNQUNWRCxFQUFHUixHQUFLUSxFQUFHUixHQUFLUyxFQUNoQkQsRUFBR1AsR0FBS08sRUFBR1AsR0FBS1EsRUFDaEJELEVBQUdOLEdBQUtNLEVBQUdOLEdBQUtPLEVBQ2hCTixFQUFHNUcsRUFBSXlHLEdBQUtRLEVBQUdSLEdBQ2ZHLEVBQUc1RyxFQUFJMEcsR0FBS08sRUFBR1AsR0FDZkUsRUFBRzVHLEVBQUkyRyxHQUFLTSxFQUFHTixHQUVuQixNQUFPQyxHQTFGWHhDLEVBQU1DLEdBQUtBLEVBS1hELEVBQU1PLEtBQU9BLEVBS2JQLEVBQU1VLGFBQWVBLEVBU3JCVixFQUFNZ0IsS0FBT0EsRUFLYmhCLEVBQU15QixhQUFlQSxFQUlyQnpCLEVBQU02QixrQkFBb0JBLEVBSTFCN0IsRUFBTWdDLFNBQVdBLEVBNERqQmhDLEVBQU1rQyxpQkFBbUJBLEdBQzFCbEMsRUFBUTFFLEVBQU0wRSxRQUFVMUUsRUFBTTBFLFdBQ2pDLFNBQVdnRCxHQUNQQSxFQUFZQSxFQUFzQixTQUFJLEdBQUssV0FDM0NBLEVBQVlBLEVBQXNCLFNBQUksR0FBSyxZQUM1QzFILEVBQU0wSCxjQUFnQjFILEVBQU0wSCxnQkFDL0IsSUFBSUEsR0FBYzFILEVBQU0wSCxZQUNwQkMsRUFBUyxXQUNULFFBQVNBLE1Bc0hULE1BcEhBQSxHQUFNQyxtQkFBcUIsU0FBVUMsRUFBSzFILEdBQ3RDLEdBQUkySCxHQUFVN0gsRUFBV0MsYUFBYUMsRUFDdEN3SCxHQUFNSSxXQUFXRixFQUFLQyxJQUUxQkgsRUFBTUksV0FBYSxTQUFVRixFQUFLQyxHQUM5QkgsRUFBTUssT0FBT0gsR0FBS0MsUUFBVUEsR0FFaENILEVBQU1uSCxXQUFhLFNBQVVxSCxHQUN6QixNQUFPRixHQUFNSyxPQUFPSCxHQUFLQyxTQUU3QkgsRUFBTWhFLGNBQWdCLFNBQVVrRSxFQUFLakUsR0FDakMsR0FBSTVDLEdBQUsyRyxFQUFNbkgsV0FBV3FILEdBQ3RCMUQsRUFBVWxFLEVBQVcwRCxjQUFjM0MsRUFBSTRDLEVBQzNDK0QsR0FBTU0sV0FBV0osRUFBSzFELElBRTFCd0QsRUFBTU0sV0FBYSxTQUFVSixFQUFLMUQsR0FDOUJ3RCxFQUFNSyxPQUFPSCxHQUFLMUQsUUFBVUEsR0FFaEN3RCxFQUFNTyxXQUFhLFNBQVVMLEdBQ3pCLE1BQU9GLEdBQU1LLE9BQU9ILEdBQUsxRCxTQUU3QndELEVBQU1RLFdBQWEsU0FBVU4sR0FDekJGLEVBQU1LLE9BQU9ILE9BRWpCRixFQUFNUyxzQkFBd0IsU0FBVVAsRUFBS1EsR0FDekMsR0FBSUMsR0FBT1gsRUFBTUssT0FBT0gsR0FDcEI3RyxFQUFLc0gsRUFBS1IsUUFDVlMsRUFBTUQsRUFBS25FLE9BQ2ZtRSxHQUFLRSxRQUFVSCxFQUFjSSxPQUFPLFNBQVVDLEVBQU1DLEdBRWhELE1BREFELEdBQUtDLEdBQVEzSCxFQUFHNEgsa0JBQWtCTCxFQUFLSSxHQUNoQ0QsUUFHZmYsRUFBTWtCLFVBQVksU0FBVUMsRUFBVUMsR0FDbEMsTUFBT3BCLEdBQU1LLE9BQU9jLEdBQVVOLFFBQVFPLElBRTFDcEIsRUFBTXFCLFdBQWEsU0FBVUYsRUFBVUcsR0FDbkMsTUFBT3RCLEdBQU1LLE9BQU9jLEdBQVVJLFNBQVNELElBRTNDdEIsRUFBTXdCLG9CQUFzQixTQUFVdEIsRUFBS3VCLEdBQ3ZDLEdBQUlkLEdBQU9YLEVBQU1LLE9BQU9ILEdBQ3BCN0csRUFBS3NILEVBQUtSLFFBQ1ZTLEVBQU1ELEVBQUtuRSxPQUNmbUUsR0FBS1ksU0FBV0UsRUFBY1gsT0FBTyxTQUFVQyxFQUFNQyxHQUVqRCxNQURBRCxHQUFLQyxHQUFRM0gsRUFBR3FJLG1CQUFtQmQsRUFBS0ksR0FDakNELFFBR2ZmLEVBQU0yQixhQUFlLFNBQVVSLEVBQVVDLEVBQVVRLEdBQy9DLEdBQUlDLEdBQVE3QixFQUFNa0IsVUFBVUMsRUFBVUMsR0FDbEMvSCxFQUFLMkcsRUFBTW5ILFdBQVdzSSxFQUMxQjlILEdBQUd5SSx3QkFBd0JELEdBQ3ZCRCxFQUNBdkksRUFBRzBJLG9CQUFvQkYsRUFBT0QsRUFBUUksTUFBUSxFQUFHM0ksRUFBRzRJLE1BQU9MLEVBQVFNLGFBQWMsRUFBT04sRUFBUU8sUUFBVSxFQUFHUCxFQUFRUSxRQUFVLEdBRy9IL0ksRUFBRzBJLG9CQUFvQkYsRUFBTyxFQUFHeEksRUFBRzRJLE9BQU8sRUFBTyxFQUFHLElBRzdEakMsRUFBTXFDLGNBQWdCLFNBQVVsQixFQUFVQyxHQUN0QyxHQUFJUyxHQUFRN0IsRUFBTWtCLFVBQVVDLEVBQVVDLEdBQ2xDL0gsRUFBSzJHLEVBQU1uSCxXQUFXc0ksRUFDMUI5SCxHQUFHaUoseUJBQXlCVCxJQUVoQzdCLEVBQU11QyxXQUFhLFNBQVVDLEdBQ3pCQyxZQUFZRCxFQUFJLEtBRXBCeEMsRUFBTTBDLFdBQWEsU0FBVXhDLEVBQUt5QyxHQUM5QixHQUFJaEMsR0FBT1gsRUFBTUssT0FBT0gsRUFDeEJTLEdBQUtpQyxTQUFXakMsRUFBS2lDLGFBQ3JCakMsRUFBS2lDLFNBQVNDLEtBQUtGLElBRXZCM0MsRUFBTThDLGNBQWdCLFNBQVU1QyxFQUFLeUMsR0FDakMsR0FBSWhDLEdBQU9YLEVBQU1LLE9BQU9ILEVBQ3hCUyxHQUFLaUMsU0FBV2pDLEVBQUtpQyxZQUNyQixJQUFJZixHQUFRbEIsRUFBS2lDLFNBQVNHLFFBQVFKLEVBQ2xDaEMsR0FBS2lDLFNBQVNJLE9BQU9uQixFQUFPLElBRWhDN0IsRUFBTWlELGNBQWdCLFNBQVUvQyxFQUFLeUMsRUFBWS9ILEdBQzdDLEdBQUkrRixHQUFPWCxFQUFNSyxPQUFPSCxHQUNwQjdHLEVBQUtzSCxFQUFLUixRQUVWMEIsR0FETWxCLEVBQUtuRSxRQUNIbUUsRUFBS2lDLFNBQVNHLFFBQVFKLEdBQ2xDLElBQUlkLEVBQVEsR0FBSSxDQUNaeEksRUFBRzRKLGNBQXdCLElBQVZwQixFQUFjeEksRUFBRzZKLFNBQVc3SixFQUFHNkosU0FBV3JCLEdBQzNEeEksRUFBR3dCLFlBQVl4QixFQUFHeUIsV0FBWUYsRUFDOUIsSUFBSXVJLEdBQVduRCxFQUFNcUIsV0FBV25CLEVBQUssV0FDckM3RyxHQUFHK0osVUFBVUQsRUFBVXRCLEtBRy9CN0IsRUFBTXFELFlBQWMsU0FBVWxDLEdBQzFCLE1BQU9uQixHQUFNSyxPQUFPYyxHQUFVbUMsV0FFbEN0RCxFQUFNdUQsZ0JBQWtCLFNBQVVwQyxHQUM5Qm5CLEVBQU1LLE9BQU9jLEdBQVVtQyxXQUFZLEdBRXZDdEQsRUFBTXdELGlCQUFtQixTQUFVckMsR0FDL0JuQixFQUFNSyxPQUFPYyxHQUFVbUMsV0FBWSxHQUV2Q3RELEVBQU15RCxtQkFBcUIsU0FBVXRDLEVBQVV1QyxHQUMzQyxHQUFJL0MsR0FBT1gsRUFBTUssT0FBT2MsRUFDeEJSLEdBQUtnRCxjQUFnQmhELEVBQUtnRCxrQkFDMUJoRCxFQUFLZ0QsY0FBY2QsS0FBS2EsSUFFNUIxRCxFQUFNNEQsb0JBQXNCLFNBQVV6QyxHQUNsQyxHQUFJUixHQUFPWCxFQUFNSyxPQUFPYyxFQUN4QlIsR0FBS2dELGtCQUVUM0QsRUFBTTZELGlCQUFtQixTQUFVMUMsRUFBVTJDLEdBQ3pDLEdBQUluRCxHQUFPWCxFQUFNSyxPQUFPYyxFQUV4QixPQURBUixHQUFLZ0QsY0FBZ0JoRCxFQUFLZ0Qsa0JBQ25CSSxFQUFFQyxLQUFLckQsRUFBS2dELGNBQWUsU0FBVU0sR0FDeEMsTUFBT0YsR0FBRUcsUUFBUUQsRUFBRUgsTUFBT0EsTUFHbEM5RCxFQUFNSyxVQUNDTCxJQUVYM0gsR0FBTTJILE1BQVFBLENBQ2QsSUFBSW1FLEdBQWMsV0FDZCxRQUFTQSxHQUFXQyxHQUNoQnpNLEtBQUswTSxVQUFZRCxFQTBCckIsTUF4QkFqTSxRQUFPbU0sZUFBZUgsRUFBV2pNLFVBQVcsV0FDeENxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUswTSxXQUVoQkcsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVILEVBQVdqTSxVQUFXLE1BQ3hDcU0sSUFBSyxXQUNELE1BQU92RSxHQUFNbkgsV0FBV2xCLEtBQUsrTSxVQUVqQ0YsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVILEVBQVdqTSxVQUFXLFdBQ3hDcU0sSUFBSyxXQUNELE1BQU92RSxHQUFNTyxXQUFXNUksS0FBSytNLFVBRWpDRixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJOLEVBQVdqTSxVQUFVbUosV0FBYSxTQUFVbkIsR0FDeEMsTUFBT0YsR0FBTXFCLFdBQVcxSixLQUFLK00sUUFBU3hFLElBRW5DaUUsSUFFWDlMLEdBQU04TCxXQUFhQSxDQUNuQixJQUFJUSxHQUFVLFNBQVVDLEdBRXBCLFFBQVNELEdBQU9QLEdBQ1pRLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FNdEIsTUFSQTFNLFdBQVVpTixFQUFRQyxHQUlsQkQsRUFBT3pNLFVBQVU0TSxVQUFZLFNBQVVDLEtBRXZDSixFQUFPek0sVUFBVThNLFFBQVUsU0FBVUQsS0FFOUJKLEdBQ1RSLEVBQ0Y5TCxHQUFNc00sT0FBU0EsQ0FDZixJQUFJTSxHQUFlLFNBQVVMLEdBRXpCLFFBQVNLLEdBQVliLEdBQ2pCUSxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBS3VOLFVBQ0x2TixLQUFLd04sVUFBWUMsS0FBS2hOLFNBQ3RCVCxLQUFLME4sU0FBV0QsS0FBS2hOLFNBQ3JCVCxLQUFLMk4sU0FBV0YsS0FBS2hOLFNBNkV6QixNQW5GQVYsV0FBVXVOLEVBQWFMLEdBUXZCSyxFQUFZL00sVUFBVTJLLEtBQU8sV0FDekIsR0FBSTBDLEdBQU9ILEtBQUtoTixRQUNoQmdOLE1BQUtJLElBQUk3TixLQUFLd04sVUFBV0ksR0FDekI1TixLQUFLdU4sT0FBT3JDLEtBQUswQyxJQUVyQk4sRUFBWS9NLFVBQVV1TixJQUFNLFdBQ3hCLEdBQTBCLEdBQXRCOU4sS0FBS3VOLE9BQU90TSxPQUNaLEtBQU0sbUJBQ1ZqQixNQUFLd04sVUFBWXhOLEtBQUt1TixPQUFPTyxPQUVqQ1IsRUFBWS9NLFVBQVV3TixVQUFZLFdBQzFCL04sS0FBS2dPLFFBQ0xoTyxLQUFLd04sVUFBWXhOLEtBQUtnTyxRQUFRQyxVQUc5QlIsS0FBS1MsU0FBU2xPLEtBQUt3TixZQUczQmhOLE9BQU9tTSxlQUFlVyxFQUFZL00sVUFBVyxZQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS3dOLFdBRWhCWCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZVcsRUFBWS9NLFVBQVcsV0FDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUswTixVQUVoQmIsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVXLEVBQVkvTSxVQUFXLFdBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLMk4sVUFFaEJkLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlVyxFQUFZL00sVUFBVyxjQUN6Q3NOLElBQUssU0FBVU0sR0FDWG5PLEtBQUtnTyxRQUFVRyxHQUVuQnRCLFlBQVksRUFDWkMsY0FBYyxJQUVsQlEsRUFBWS9NLFVBQVU2TixZQUFjLFdBQ2hDLEdBQUkxTSxHQUFLMUIsS0FBSzBCLEVBQ2QrTCxNQUFLUyxTQUFTbE8sS0FBSzBOLFVBQ25CRCxLQUFLWSxZQUFZLEdBQUkzTSxFQUFHTCxjQUFnQkssRUFBR0gsZUFBZ0IsR0FBSyxJQUFRdkIsS0FBSzBOLFdBRWpGSixFQUFZL00sVUFBVStOLE9BQVMsV0FDM0JiLEtBQUtTLFNBQVNsTyxLQUFLMk4sVUFDbkJGLEtBQUtJLElBQUk3TixLQUFLd04sVUFBV3hOLEtBQUsyTixVQUM5QkYsS0FBS2MsUUFBUXZPLEtBQUsyTixVQUNsQkYsS0FBS2UsVUFBVXhPLEtBQUsyTixXQUV4QkwsRUFBWS9NLFVBQVVrTyxLQUFPLFdBQ3pCek8sS0FBSytOLFlBQ0wvTixLQUFLb08sY0FDTHBPLEtBQUtzTyxVQUVUaEIsRUFBWS9NLFVBQVVtTyxNQUFRLFdBQzFCLEdBQUloTixHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLc08sUUFDTCxJQUFJSyxHQUFXM08sS0FBSzBKLFdBQVcsWUFDM0JpRixJQUNBak4sRUFBR2tOLGlCQUFpQkQsR0FBVSxFQUFPM08sS0FBS3dOLFVBQzlDLElBQUlxQixHQUFVN08sS0FBSzBKLFdBQVcsV0FDMUJtRixJQUNBbk4sRUFBR2tOLGlCQUFpQkMsR0FBUyxFQUFPN08sS0FBSzBOLFNBQzdDLElBQUlvQixHQUFVOU8sS0FBSzBKLFdBQVcsV0FDMUJvRixJQUNBcE4sRUFBR2tOLGlCQUFpQkUsR0FBUyxFQUFPOU8sS0FBSzJOLFdBRTFDTCxHQUNUZCxFQUNGOUwsR0FBTTRNLFlBQWNBLENBQ3BCLElBQUl5QixJQUNKLFNBQVdBLEdBQ1AsR0FBSUMsR0FBZSxTQUFVL0IsR0FFekIsUUFBUytCLEdBQVl2QyxHQUNqQlEsRUFBT0MsS0FBS2xOLEtBQU15TSxHQXlKdEIsTUEzSkExTSxXQUFVaVAsRUFBYS9CLEdBSXZCek0sT0FBT21NLGVBQWVxQyxFQUFZek8sVUFBVyxVQUN6Q3NOLElBQUssU0FBVWhELEdBQ1g3SyxLQUFLaVAsUUFBVXBFLEdBRW5CZ0MsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVxQyxFQUFZek8sVUFBVyxPQUN6Q3NOLElBQUssU0FBVXFCLEdBQ1gsR0FBSUMsR0FBUW5QLEtBQ1JvUCxFQUFPcFAsS0FDUHFQLEVBQU1qSyxFQUFNeUIsYUFBYXFJLEVBQzdCOUosR0FBTWdCLEtBQUs4SSxFQUFLLFNBQVV2TixHQUN0QixHQUFJb0ssRUFDSixRQUFRc0QsR0FDSixJQUFLLE1BQ0R0RCxFQUFNcUQsRUFBS0UsU0FBUzNOLEVBQ3BCLE1BQ0osS0FBSyxPQUNEb0ssRUFBTXFELEVBQUtHLFVBQVU1TixHQUc3QnlOLEVBQUtJLGNBQWN6RCxHQUNmb0QsRUFBTUYsU0FDTkUsRUFBTUYsYUFHbEJwQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJrQyxFQUFZek8sVUFBVWdQLFVBQVksU0FBVTVOLEdBQ3hDLEdBQUlvSyxLQUNKLEtBQ0lBLEVBQU0wRCxLQUFLQyxNQUFNL04sR0FFckIsTUFBT1IsR0FDSCtDLFFBQVFDLElBQUloRCxHQUVoQixNQUFPNEssSUFFWGlELEVBQVl6TyxVQUFVK08sU0FBVyxTQUFVM04sR0FDdkMsR0FBSW9LLElBQ0E0RCxLQUNBQyxNQUNBQyxNQUNBQyxNQUNBQyxRQUNBQyxPQUVBQyxFQUFRdE8sRUFBS3FGLE1BQU0sTUFDbkJwQyxFQUFTcUwsRUFBTUMsT0FBTyxTQUFVakssR0FDaEMsTUFBZ0IsTUFBVEEsRUFBRSxLQUVUaUUsRUFBUStGLEVBQU1DLE9BQU8sU0FBVWpLLEdBQy9CLE1BQWdCLE1BQVRBLEVBQUUsSUFFYnJCLEdBQU91TCxRQUFRLFNBQVVDLEdBQ3JCLEdBQUlySixHQUFRcUosRUFBS0MsUUFBUSxLQUFNLElBQUlySixNQUFNLEtBQ3JDdUIsRUFBTXhCLEVBQU0sRUFDaEJnRixHQUFJeEQsR0FBT3dELEVBQUl4RCxHQUFLK0gsT0FBT3ZKLEVBQU13SixNQUFNLEdBQUdMLE9BQU8sU0FBVWpLLEdBQ3ZELE1BQWEsS0FBTkEsTUFHZixJQUFJdUssS0FhSixPQVpBdEcsR0FBTWlHLFFBQVEsU0FBVUMsR0FDcEIsR0FBSXJKLEdBQVFxSixFQUFLQyxRQUFRLEtBQU0sSUFBSUEsUUFBUSxJQUFLLElBQUlySixNQUFNLElBQzFEd0osR0FBWUEsRUFBVUYsT0FBT3ZKLEVBQU13SixNQUFNLEdBQUdMLE9BQU8sU0FBVWpLLEdBQ3pELE1BQWEsS0FBTkEsT0FHZnVLLEVBQVVMLFFBQVEsU0FBVUMsR0FDeEIsR0FBSXJKLEdBQVFxSixFQUFLcEosTUFBTSxJQUN2QitFLEdBQUkrRCxHQUFHNUUsS0FBS3VGLFNBQVMxSixFQUFNLElBQU0sR0FDakNnRixFQUFBQSxNQUFPYixLQUFLdUYsU0FBUzFKLEVBQU0sSUFBTSxHQUNqQ2dGLEVBQUlpRSxHQUFHOUUsS0FBS3VGLFNBQVMxSixFQUFNLElBQU0sS0FFOUJnRixHQUVYaUQsRUFBWXpPLFVBQVVpUCxjQUFnQixTQUFVekQsR0FVNUMsUUFBU3RLLEdBQWFFLEdBQ2xCLE1BQU9oQixHQUFXYyxhQUFhQyxFQUFJQyxHQVV2QyxRQUFTaUIsR0FBa0JqQixHQUN2QixNQUFPaEIsR0FBV2lDLGtCQUFrQmxCLEVBQUlDLEdBckI1QyxHQUFJRCxHQUFLMUIsS0FBSzBCLEVBQ2QwSyxHQUFFc0UsU0FBUzNFLEdBQ1A0RCxLQUNBQyxNQUNBQyxNQUNBQyxNQUNBQyxRQUNBQyxRQUtBakUsRUFBSTRELEVBQUUxTyxPQUFTLElBQ2ZqQixLQUFLMlEsS0FBT2xQLEVBQWFzSyxFQUFJNEQsSUFDN0I1RCxFQUFJNEQsRUFBRTFPLE9BQVMsR0FBSzhLLEVBQUkrRCxHQUFHN08sT0FBUyxJQUNwQ2pCLEtBQUs0USxLQUFPblAsRUFBYTJELEVBQU1rQyxpQkFBaUJ5RSxFQUFJNEQsRUFBRzVELEVBQUkrRCxNQUUzRC9ELEVBQUk4RCxHQUFHNU8sT0FBUyxJQUNoQmpCLEtBQUs2USxLQUFPbFEsRUFBV2MsYUFBYUMsRUFBSXFLLEVBQUk4RCxJQUFJLElBS2hEOUQsRUFBSStELEdBQUc3TyxPQUFTLElBQ2hCakIsS0FBSzhRLE1BQVFsTyxFQUFrQm1KLEVBQUkrRCxLQUNuQy9ELEVBQUFBLE1BQU85SyxPQUFTLElBQ2hCakIsS0FBSytRLE1BQVFuTyxFQUFrQm1KLEVBQUFBLFFBQy9CQSxFQUFJaUUsR0FBRy9PLE9BQVMsSUFDaEJqQixLQUFLZ1IsTUFBUXBPLEVBQWtCbUosRUFBSWlFLE1BRTNDeFAsT0FBT21NLGVBQWVxQyxFQUFZek8sVUFBVyxPQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzJRLE1BRWhCOUQsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVxQyxFQUFZek8sVUFBVyxPQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzRRLE1BRWhCL0QsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVxQyxFQUFZek8sVUFBVyxPQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzZRLE1BRWhCaEUsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVxQyxFQUFZek8sVUFBVyxRQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzhRLE9BRWhCakUsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVxQyxFQUFZek8sVUFBVyxRQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSytRLE9BRWhCbEUsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVxQyxFQUFZek8sVUFBVyxRQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS2dSLE9BRWhCbkUsWUFBWSxFQUNaQyxjQUFjLElBRVhrQyxHQUNUeEMsRUFDRnVDLEdBQVVDLFlBQWNBLENBQ3hCLElBQUlpQyxHQUFlLFNBQVVoRSxHQUV6QixRQUFTZ0UsR0FBWXhFLEdBQ2pCUSxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBS2tSLE9BQVMsR0FBSUMsT0FDbEJuUixLQUFLb1IsS0FBT2hNLEVBQU1PLEtBQUszRixLQUFLSSxZQUFZd0YsTUFrQzVDLE1BdENBN0YsV0FBVWtSLEVBQWFoRSxHQU12QnpNLE9BQU9tTSxlQUFlc0UsRUFBWTFRLFVBQVcsVUFDekNzTixJQUFLLFNBQVVoRCxHQUNYN0ssS0FBS2lQLFFBQVVwRSxHQUVuQmdDLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlc0UsRUFBWTFRLFVBQVcsT0FDekNzTixJQUFLLFNBQVV3RCxHQUNYclIsS0FBS2tSLE9BQU9JLE9BQVN0UixLQUFLdVIsaUJBQWlCdlIsS0FBS2lQLFNBQ2hEalAsS0FBS2tSLE9BQU9oQyxJQUFNbUMsR0FFdEJ4RSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJtRSxFQUFZMVEsVUFBVWdSLGlCQUFtQixTQUFVMUcsR0FDL0MsR0FBSXNFLEdBQVFuUCxLQUNSb1AsRUFBT3BQLElBQ1gsT0FBTyxZQUNIbVAsRUFBTXFDLFNBQVc3USxFQUFXcUMsY0FBY29NLEVBQUsxTixHQUFJME4sRUFBSzhCLFFBQ3hEN0ksRUFBTTBDLFdBQVdxRSxFQUFLckMsUUFBU3FDLEVBQUtnQyxNQUNoQ3ZHLEdBQ0FBLE1BR1pySyxPQUFPbU0sZUFBZXNFLEVBQVkxUSxVQUFXLFdBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLd1IsVUFFaEIzRSxZQUFZLEVBQ1pDLGNBQWMsSUFFWG1FLEdBQ1R6RSxFQUNGdUMsR0FBVWtDLFlBQWNBLENBQ3hCLElBQUlRLEdBQWdCLFNBQVV4RSxHQUUxQixRQUFTd0UsR0FBYWhGLEVBQVVpRixFQUFTQyxFQUFTQyxFQUFVQyxHQUN4RDVFLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLOFIsU0FBV0osRUFBVUssS0FBS3RSLE9BQU9pUixHQUFXSyxLQUFLdFIsU0FDdERULEtBQUtnUyxTQUFXTCxFQUFVSSxLQUFLdFIsT0FBT2tSLEdBQVcsT0FDakQzUixLQUFLaVMsVUFBWUwsRUFBV0csS0FBS3RSLE9BQU9tUixHQUFZRyxLQUFLdFIsU0FDekRULEtBQUtrUyxXQUFhTCxHQUFhLElBd0ZuQyxNQTlGQTlSLFdBQVUwUixFQUFjeEUsR0FReEJ6TSxPQUFPbU0sZUFBZThFLEVBQWFsUixVQUFXLFVBQzFDc04sSUFBSyxTQUFVaEQsR0FDWDdLLEtBQUtpUCxRQUFVcEUsR0FFbkJnQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZThFLEVBQWFsUixVQUFXLE9BQzFDc04sSUFBSyxTQUFVcUIsR0FDWCxHQUFJQyxHQUFRblAsS0FDUm9QLEVBQU9wUCxJQUNYb0YsR0FBTWdCLEtBQUs4SSxFQUFLLFNBQVV2TixHQUN0QixHQUFJd1EsR0FBTy9DLEVBQUtNLE1BQU0vTixFQUN0QndOLEdBQU0yQyxTQUFXSyxFQUFLQyxHQUN0QmpELEVBQU02QyxTQUFXRyxFQUFLRSxHQUN0QmxELEVBQU04QyxVQUFZRSxFQUFLRyxHQUN2Qm5ELEVBQU0wQyxVQUFZTSxFQUFLSSxHQUNuQnBELEVBQU1GLFNBQ05FLEVBQU1GLGFBR2xCcEMsWUFBWSxFQUNaQyxjQUFjLElBRWxCMkUsRUFBYWxSLFVBQVVtUCxNQUFRLFNBQVUvTixHQUNyQyxHQUFJb0ssTUFDQXlHLEdBQVEsS0FBTSxLQUFNLEtBQU0sTUFDMUJ2QyxFQUFRdE8sRUFBS3FGLE1BQU0sS0FpQnZCLE9BaEJBaUosR0FBTUUsUUFBUSxTQUFVc0MsR0FDcEIsR0FBSTFMLEdBQVEwTCxFQUFLekwsTUFBTSxLQUNuQnVCLEVBQU14QixFQUFNLEVBQ2hCLElBQUl5TCxFQUFLcEgsUUFBUTdDLEdBQU8sR0FDcEIsT0FBUUEsR0FDSixJQUFLLEtBQ0R3RCxFQUFRLEdBQUk3RixPQUFPYSxFQUFNLEdBQ3pCLE1BQ0osU0FDSSxHQUFJb0wsR0FBT3BMLEVBQU13SixNQUFNLEdBQUd2SyxJQUFJLFNBQVVDLEdBQUssTUFBT0MsUUFBT0QsSUFDM0RrTSxHQUFLakgsS0FBSyxHQUNWYSxFQUFJeEQsR0FBTzRKLEtBS3BCcEcsR0FFWHZMLE9BQU9tTSxlQUFlOEUsRUFBYWxSLFVBQVcsV0FDMUNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUs4UixVQUVoQmpFLElBQUssU0FBVTZELEdBQ1gxUixLQUFLOFIsU0FBVzFNLEVBQU1VLGFBQWFpTSxLQUFLdFIsT0FBT2lSLEtBRW5EN0UsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWU4RSxFQUFhbFIsVUFBVyxXQUMxQ3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS2dTLFVBRWhCbkUsSUFBSyxTQUFVOEQsR0FDWDNSLEtBQUtnUyxTQUFXNU0sRUFBTVUsYUFBYWlNLEtBQUt0UixPQUFPa1IsS0FFbkQ5RSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZThFLEVBQWFsUixVQUFXLFlBQzFDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLaVMsV0FFaEJwRSxJQUFLLFNBQVUrRCxHQUNYNVIsS0FBS2lTLFVBQVk3TSxFQUFNVSxhQUFhaU0sS0FBS3RSLE9BQU9tUixLQUVwRC9FLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlOEUsRUFBYWxSLFVBQVcsYUFDMUNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUtrUyxZQUVoQnJFLElBQUssU0FBVThCLEdBQ1gzUCxLQUFLa1MsV0FBYXZDLEdBRXRCOUMsWUFBWSxFQUNaQyxjQUFjLElBRVgyRSxHQUNUakYsRUFDRnVDLEdBQVUwQyxhQUFlQSxHQUMxQjFDLEVBQVlyTyxFQUFNcU8sWUFBY3JPLEVBQU1xTyxjQUN6QyxJQUFJMkQsSUFDSixTQUFXQSxHQUNQLEdBQUlDLEdBQVksV0FDWixRQUFTQSxNQU1ULE1BSkFBLEdBQVNDLFNBQVcsb2JBQ3BCRCxFQUFTRSxNQUFRLDY1Q0FDakJGLEVBQVNHLGlCQUFtQix3d0NBQzVCSCxFQUFTSSxLQUFPLGcvQ0FDVEosSUFFWEQsR0FBUUMsU0FBV0EsQ0FDbkIsSUFBSUssR0FBVSxXQUNWLFFBQVNBLE1BTVQsTUFKQUEsR0FBT0osU0FBVyw4aUJBQ2xCSSxFQUFPSCxNQUFRLDhzQkFDZkcsRUFBT0YsaUJBQW1CLHF6QkFDMUJFLEVBQU9ELEtBQU8saXVCQUNQQyxJQUVYTixHQUFRTSxPQUFTQSxHQUNsQk4sRUFBVWhTLEVBQU1nUyxVQUFZaFMsRUFBTWdTLFlBQ3JDLElBQUlPLEdBQW1CLFNBQVVoRyxHQUU3QixRQUFTZ0csR0FBZ0J4RyxFQUFVeUcsRUFBV0MsRUFBTzdNLEdBQ2pEMkcsRUFBT0MsS0FBS2xOLEtBQU15TSxHQUNsQnpNLEtBQUtvVCxXQUFhRixFQUNsQmxULEtBQUtxVCxhQUFlLEtBQ3BCclQsS0FBS3NULFVBQVloTixFQTZCckIsTUFsQ0F2RyxXQUFVa1QsRUFBaUJoRyxHQU8zQmdHLEVBQWdCMVMsVUFBVWdULFFBQVUsV0FFaEMsR0FEQU4sRUFBZ0JPLFdBQWFwTyxFQUFNNkIsc0JBQy9CZ00sRUFBZ0JPLFdBQWEsR0FBakMsQ0FHQSxJQURBLEdBQUlDLEdBQVFuTyxLQUFLQyxNQUFNME4sRUFBZ0JPLFdBQWF4VCxLQUFLb1QsWUFDakRLLEVBQVEsR0FBT1IsRUFBZ0JTLE9BQVMxVCxLQUFLMlQsUUFDakQzVCxLQUFLc1QsWUFDTEcsSUFDQVIsRUFBZ0JTLE9BRWhCVCxHQUFnQlMsUUFBVTFULEtBQUsyVCxRQUMvQjNULEtBQUs0VCxTQUdiWCxFQUFnQjFTLFVBQVVzVCxNQUFRLFdBQzlCN1QsS0FBSzhULFFBQVUxTyxFQUFNNkIsb0JBQ3JCakgsS0FBS3FULGFBQWV2SSxZQUFZOUssS0FBS3VULFFBQVN2VCxLQUFLb1QsV0FBYSxNQUVwRUgsRUFBZ0IxUyxVQUFVcVQsS0FBTyxXQUN6QjVULEtBQUtxVCxjQUNMVSxjQUFjL1QsS0FBS3FULGVBRTNCSixFQUFnQjFTLFVBQVU0TSxVQUFZLGFBRXRDOEYsRUFBZ0IxUyxVQUFVOE0sUUFBVSxhQUVwQzRGLEVBQWdCUyxNQUFRLEVBQ2pCVCxHQUNUakcsRUFDRnRNLEdBQU11UyxnQkFBa0JBLENBQ3hCLElBQUllLEdBQWMsU0FBVS9HLEdBRXhCLFFBQVMrRyxHQUFXdkgsRUFBVXdILEVBQVVDLEVBQWNDLEdBQ2xEbEgsRUFBT0MsS0FBS2xOLEtBQU15TSxHQUNsQnpNLEtBQUtvVSxVQUFZLEtBQ2pCcFUsS0FBS3dSLFNBQVcsS0FDaEJ4UixLQUFLcVUsU0FBVyxLQUNoQnJVLEtBQUtzVSxVQUFZTCxHQUFZLEtBQzdCalUsS0FBS3VVLGNBQWdCTCxHQUFnQixLQUNyQ2xVLEtBQUt3VSxhQUFlTCxHQUFlLEtBK0h2QyxNQXZJQXBVLFdBQVVpVSxFQUFZL0csR0FVdEIrRyxFQUFXelQsVUFBVWtVLFlBQWMsU0FBVXBELEVBQVV4RyxHQUNuRDdLLEtBQUtxVSxTQUFXLEdBQUl0RixHQUFVQyxZQUFZaFAsS0FBSytNLFNBQy9DL00sS0FBS3FVLFNBQVMvQyxPQUFTekcsRUFDdkI3SyxLQUFLcVUsU0FBU25GLElBQU1tQyxHQUV4QjJDLEVBQVd6VCxVQUFVbVUsWUFBYyxTQUFVckQsRUFBVXhHLEdBQ25EN0ssS0FBS3dSLFNBQVcsR0FBSXpDLEdBQVVrQyxZQUFZalIsS0FBSytNLFNBQy9DL00sS0FBS3dSLFNBQVNGLE9BQVN6RyxFQUN2QjdLLEtBQUt3UixTQUFTdEMsSUFBTW1DLEdBRXhCN1EsT0FBT21NLGVBQWVxSCxFQUFXelQsVUFBVyxZQUN4Q3NOLElBQUssU0FBVThCLEdBQ1gzUCxLQUFLb1UsVUFBWXpFLEdBRXJCOUMsWUFBWSxFQUNaQyxjQUFjLElBRWxCa0gsRUFBV3pULFVBQVVvVSxhQUFlLFNBQVV0RCxFQUFVeEcsR0FDcEQ3SyxLQUFLb1UsVUFBWSxHQUFJckYsR0FBVTBDLGFBQWF6UixLQUFLK00sU0FDakQvTSxLQUFLb1UsVUFBVTlDLE9BQVN6RyxFQUN4QjdLLEtBQUtvVSxVQUFVbEYsSUFBTW1DLEdBRXpCMkMsRUFBV3pULFVBQVVxVSxTQUFXLFNBQVUvSixHQUN0QyxHQUFJc0UsR0FBUW5QLEtBQ1JvUCxFQUFPcFAsSUFDWDZVLE9BQU1DLFdBQ0YsU0FBVUMsR0FDTixNQUFLM0YsR0FBS2tGLFdBR1ZwUSxRQUFRQyxJQUFJLHVCQUNaaUwsR0FBS3FGLFlBQVlyRixFQUFLa0YsVUFBVyxXQUM3QnBRLFFBQVFDLElBQUksa0JBQ1o0USxPQUxPQSxLQVFmLFNBQVVBLEdBQ04sTUFBSzVGLEdBQU1xRixjQUdYdFEsUUFBUUMsSUFBSSx1QkFDWmlMLEdBQUtzRixZQUFZdEYsRUFBS29GLGFBQWMsV0FDaEN0USxRQUFRQyxJQUFJLGtCQUNaNFEsT0FMT0EsS0FRZixTQUFVQSxHQUNOLE1BQUszRixHQUFLbUYsZUFHVnJRLFFBQVFDLElBQUksd0JBQ1ppTCxHQUFLdUYsYUFBYXZGLEVBQUttRixjQUFlLFdBQ2xDclEsUUFBUUMsSUFBSSxtQkFDWjRRLE9BTE9BLE1BUWhCLFNBQVVDLEdBQ1QsTUFBSUEsR0FDTzlRLFFBQVFDLElBQUk2USxRQUNuQm5LLEdBQ0FBLFFBR1ptSixFQUFXelQsVUFBVTBVLGlCQUFtQixTQUFVbEosR0FDOUMvTCxLQUFLcVUsU0FBVyxHQUFJdEYsR0FBVUMsWUFBWWhQLEtBQUsrTSxTQUMvQy9NLEtBQUtxVSxTQUFTN0UsY0FBY3pELElBRWhDaUksRUFBV3pULFVBQVUyVSxxQkFBdUIsU0FBVW5KLEdBQ2xEL0wsS0FBS29VLFVBQVksR0FBSXJGLEdBQVUwQyxhQUFhelIsS0FBSytNLFNBQzdDaEIsRUFBSTJGLFVBQ0oxUixLQUFLb1UsVUFBVTFDLFFBQVUzRixFQUFJMkYsU0FFN0IzRixFQUFJNkYsV0FDSjVSLEtBQUtvVSxVQUFVeEMsU0FBVzdGLEVBQUk2RixVQUU5QjdGLEVBQUk0RixVQUNKM1IsS0FBS29VLFVBQVV6QyxRQUFVNUYsRUFBSTRGLFNBRTdCNUYsRUFBSThGLFlBQ0o3UixLQUFLb1UsVUFBVXZDLFVBQVk5RixFQUFJOEYsWUFHdkNtQyxFQUFXelQsVUFBVTRVLG9CQUFzQixXQUN2QyxHQUFJblYsS0FBS29VLFVBQVcsQ0FDaEIsR0FBSTFTLEdBQUsxQixLQUFLMEIsRUFDZCxJQUFJMUIsS0FBS29VLFVBQVUxQyxRQUFTLENBQ3hCLEdBQUkwRCxHQUFtQnBWLEtBQUswSixXQUFXLG1CQUNuQzBMLElBQ0ExVCxFQUFHMlQsV0FBV0QsRUFBa0JwVixLQUFLb1UsVUFBVTFDLFNBRXZELEdBQUkxUixLQUFLb1UsVUFBVXpDLFFBQVMsQ0FDeEIsR0FBSTJELEdBQW1CdFYsS0FBSzBKLFdBQVcsbUJBQ25DNEwsSUFDQTVULEVBQUcyVCxXQUFXQyxFQUFrQnRWLEtBQUtvVSxVQUFVekMsU0FFdkQsR0FBSTNSLEtBQUtvVSxVQUFVeEMsU0FBVSxDQUN6QixHQUFJMkQsR0FBb0J2VixLQUFLMEosV0FBVyxvQkFDcEM2TCxJQUNBN1QsRUFBRzJULFdBQVdFLEVBQW1CdlYsS0FBS29VLFVBQVV4QyxVQUV4RCxHQUFJNVIsS0FBS29VLFVBQVV2QyxVQUFXLENBQzFCLEdBQUkyRCxHQUFheFYsS0FBSzBKLFdBQVcsYUFDN0I4TCxJQUNBOVQsRUFBRytULFVBQVVELEVBQVl4VixLQUFLb1UsVUFBVXZDLGNBSXhEbUMsRUFBV3pULFVBQVU0TSxVQUFZLFdBQzdCLEdBQUl6TCxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLbVYsc0JBQ0x6VCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBS3FVLFNBQVNxQixLQUM3Q3JOLEVBQU0yQixhQUFhaEssS0FBSytNLFFBQVMsY0FDakNyTCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBS3FVLFNBQVNzQixLQUM3Q3ROLEVBQU0yQixhQUFhaEssS0FBSytNLFFBQVMsV0FDakMsSUFBSTZJLEdBQU81VixLQUFLcVUsU0FBU3VCLElBQ3pCbFUsR0FBR0ssV0FBV0wsRUFBR29CLHFCQUFzQjhTLEdBQ3ZDbFUsRUFBR21VLGFBQWFuVSxFQUFHb1UsVUFBV0YsRUFBS2pULFNBQVVqQixFQUFHcVUsZUFBZ0IsSUFFcEUvQixFQUFXelQsVUFBVThNLFFBQVUsV0FDM0IsR0FBSTNMLEdBQUsxQixLQUFLMEIsRUFDZDJHLEdBQU1xQyxjQUFjMUssS0FBSytNLFFBQVMsY0FDbEMxRSxFQUFNcUMsY0FBYzFLLEtBQUsrTSxRQUFTLFlBQ2xDckwsRUFBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMvQk4sRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQixPQUVwQ2tSLEdBQ1RoSCxFQUNGdE0sR0FBTXNULFdBQWFBLENBQ25CLElBQUlnQyxHQUFtQixTQUFVL0ksR0FFN0IsUUFBUytJLEdBQWdCdkosRUFBVXdKLEVBQVU1TCxFQUFNNkwsR0FDL0NqSixFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBS21XLFFBQVUxSSxLQUFLaE4sU0FDcEJULEtBQUtvVyxVQUFZSCxHQUFZSSxLQUFLNVYsU0FDbENULEtBQUtzVyxNQUFRak0sR0FBUWdNLEtBQUs1VixRQUFRLEVBQUcsRUFBRyxJQUN4Q1QsS0FBS3VXLFVBQVlMLElBQWNNLE1BQU8sRUFBR0MsS0FBTUosS0FBSzVWLFVBd0d4RCxNQTlHQVYsV0FBVWlXLEVBQWlCL0ksR0FRM0IrSSxFQUFnQnpWLFVBQVUyTixTQUFXLFdBQ2pDVCxLQUFLUyxTQUFTbE8sS0FBS21XLFVBRXZCSCxFQUFnQnpWLFVBQVVtVyxVQUFZLFNBQVVDLEdBQzVDM1csS0FBS21XLFFBQVVRLEdBRW5CWCxFQUFnQnpWLFVBQVVpTyxVQUFZLFdBQ2xDZixLQUFLZSxVQUFVeE8sS0FBS21XLFFBQVNuVyxLQUFLbVcsVUFFdEMzVixPQUFPbU0sZUFBZXFKLEVBQWdCelYsVUFBVyxZQUM3Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS29XLFdBRWhCdkksSUFBSyxTQUFVb0ksR0FDWGpXLEtBQUtvVyxVQUFZSCxHQUVyQnBKLFlBQVksRUFDWkMsY0FBYyxJQUVsQmtKLEVBQWdCelYsVUFBVXFXLG9CQUFzQixTQUFVblAsRUFBR0MsRUFBR0MsR0FDNUQzSCxLQUFLb1csV0FBYTNPLEVBQUdDLEVBQUdDLElBRTVCcU8sRUFBZ0J6VixVQUFVc1csVUFBWSxTQUFVcFAsRUFBR0MsRUFBR0MsR0FDeEMsU0FBTkYsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxHQUNkLFNBQU5DLElBQWdCQSxFQUFJLEVBQ3hCLElBQUltUCxHQUFXOVcsS0FBS29XLFVBQ2hCVyxFQUFXVixLQUFLNVYsUUFBUWdILEVBQUdDLEVBQUdDLEdBQ2xDME8sTUFBS1csSUFBSUYsRUFBVUMsRUFBVS9XLEtBQUtvVyxZQUV0QzVWLE9BQU9tTSxlQUFlcUosRUFBZ0J6VixVQUFXLFFBQzdDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLc1csT0FFaEJ6SSxJQUFLLFNBQVV4RCxHQUNYckssS0FBS3NXLE1BQVFqTSxHQUVqQndDLFlBQVksRUFDWkMsY0FBYyxJQUVsQmtKLEVBQWdCelYsVUFBVTBXLFFBQVUsU0FBVXhQLEVBQUdDLEVBQUdDLEdBQ2hEM0gsS0FBS3NXLE9BQVM3TyxFQUFHQyxFQUFHQyxJQUV4QnFPLEVBQWdCelYsVUFBVTJXLE1BQVEsU0FBVXpQLEVBQUdDLEVBQUdDLEdBQ3BDLFNBQU5GLElBQWdCQSxFQUFJLEdBQ2QsU0FBTkMsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxFQUN4QixJQUFJbVAsR0FBVzlXLEtBQUtzVyxNQUNoQlMsRUFBV1YsS0FBSzVWLFFBQVFnSCxFQUFHQyxFQUFHQyxHQUNsQzBPLE1BQUtXLElBQUlGLEVBQVVDLEVBQVUvVyxLQUFLc1csUUFFdEM5VixPQUFPbU0sZUFBZXFKLEVBQWdCelYsVUFBVyxZQUM3Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS3VXLFdBRWhCMUksSUFBSyxTQUFVcUksR0FDWGxXLEtBQUt1VyxVQUFZTCxHQUVyQnJKLFlBQVksRUFDWkMsY0FBYyxJQUVsQmtKLEVBQWdCelYsVUFBVTRXLFlBQWMsU0FBVVgsRUFBT0MsR0FDakRELElBQ0F4VyxLQUFLdVcsVUFBVUMsTUFBUUEsR0FDdkJDLElBQ0F6VyxLQUFLdVcsVUFBVUUsS0FBT0EsSUFFOUJULEVBQWdCelYsVUFBVTZXLFNBQVcsU0FBVVosR0FDM0N4VyxLQUFLdVcsVUFBVUMsTUFBUUEsR0FFM0JSLEVBQWdCelYsVUFBVThXLFFBQVUsU0FBVVosR0FDMUN6VyxLQUFLdVcsVUFBVUUsS0FBT0EsR0FFMUJULEVBQWdCelYsVUFBVStXLFlBQWMsU0FBVWQsR0FDaEMsU0FBVkEsSUFBb0JBLEVBQVEsR0FDaEN4VyxLQUFLdVcsVUFBVUMsT0FBU0EsR0FFNUJSLEVBQWdCelYsVUFBVWdYLFNBQVcsU0FBVTlQLEVBQUdDLEVBQUdDLEdBQ3ZDLFNBQU5GLElBQWdCQSxFQUFJLEdBQ2QsU0FBTkMsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxFQUN4QixJQUFJbVAsR0FBVzlXLEtBQUt1VyxVQUFVRSxLQUMxQk0sRUFBV1YsS0FBSzVWLFFBQVFnSCxFQUFHQyxFQUFHQyxHQUNsQzBPLE1BQUtXLElBQUlGLEVBQVVDLEVBQVUvVyxLQUFLdVcsVUFBVUUsT0FFaERULEVBQWdCelYsVUFBVTRNLFVBQVksU0FBVUMsR0FRNUMsR0FQQUEsRUFBWWxDLE9BQ1prQyxFQUFZVyxZQUNaL04sS0FBS21XLFFBQVUvSSxFQUFZdUIsU0FDTCxRQUFsQjNPLEtBQUtvVyxXQUNMM0ksS0FBS29KLFVBQVU3VyxLQUFLbVcsUUFBU25XLEtBQUtvVyxXQUNwQixRQUFkcFcsS0FBS3NXLE9BQ0w3SSxLQUFLeUosTUFBTWxYLEtBQUttVyxRQUFTblcsS0FBS3NXLE9BQ1osUUFBbEJ0VyxLQUFLdVcsVUFBcUIsQ0FDMUIsR0FBSWlCLEdBQU14WCxLQUFLdVcsVUFBVUMsTUFBUWxSLEtBQUsrQixHQUFLLEdBQzNDb0csTUFBS2dLLE9BQU96WCxLQUFLbVcsUUFBU3FCLEVBQUt4WCxLQUFLdVcsVUFBVUUsTUFFbERySixFQUFZc0IsU0FFaEJzSCxFQUFnQnpWLFVBQVU4TSxRQUFVLFNBQVVELEdBQzFDQSxFQUFZVSxPQUVUa0ksR0FDVGhKLEVBQ0Z0TSxHQUFNc1YsZ0JBQWtCQSxDQUN4QixJQUFJMEIsR0FBZSxTQUFVekssR0FFekIsUUFBU3lLLEdBQVlqTCxFQUFVaUYsRUFBU0MsRUFBU3NFLEVBQVVyRSxFQUFVK0YsRUFBV0MsR0FDNUUzSyxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBSzhSLFNBQVdKLEVBQVVLLEtBQUt0UixPQUFPaVIsR0FBVyxLQUNqRDFSLEtBQUtnUyxTQUFXTCxFQUFVSSxLQUFLdFIsT0FBT2tSLEdBQVcsS0FDakQzUixLQUFLb1csVUFBWUgsRUFBV2xFLEtBQUt0UixPQUFPd1YsR0FBWSxLQUNwRGpXLEtBQUtpUyxVQUFZTCxFQUFXRyxLQUFLdFIsT0FBT21SLEdBQVksS0FDcEQ1UixLQUFLNlgsV0FBYUYsRUFBWXRCLEtBQUs1VixPQUFPa1gsR0FBYSxLQUN2RDNYLEtBQUs4WCxRQUFVRixFQWlHbkIsTUF6R0E3WCxXQUFVMlgsRUFBYXpLLEdBVXZCek0sT0FBT21NLGVBQWUrSyxFQUFZblgsVUFBVyxXQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzhSLFVBRWhCakUsSUFBSyxTQUFVNkQsR0FDWDFSLEtBQUs4UixTQUFXMU0sRUFBTVUsYUFBYWlNLEtBQUt0UixPQUFPaVIsS0FFbkQ3RSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZStLLEVBQVluWCxVQUFXLFdBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLZ1MsVUFFaEJuRSxJQUFLLFNBQVU4RCxHQUNYM1IsS0FBS2dTLFNBQVc1TSxFQUFNVSxhQUFhaU0sS0FBS3RSLE9BQU9rUixLQUVuRDlFLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlK0ssRUFBWW5YLFVBQVcsWUFDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUtpUyxXQUVoQnBFLElBQUssU0FBVStELEdBQ1g1UixLQUFLaVMsVUFBWTdNLEVBQU1VLGFBQWFpTSxLQUFLdFIsT0FBT21SLEtBRXBEL0UsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWUrSyxFQUFZblgsVUFBVyxZQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS2dTLFVBRWhCbkUsSUFBSyxTQUFVb0ksR0FDWGpXLEtBQUtvVyxVQUFZaFIsRUFBTVUsYUFBYXVRLEtBQUs1VixPQUFPd1YsS0FFcERwSixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZStLLEVBQVluWCxVQUFXLGFBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLNlgsWUFFaEJoSyxJQUFLLFNBQVU4SixHQUNYM1gsS0FBSzZYLFdBQWF6UyxFQUFNVSxhQUFhdVEsS0FBSzVWLE9BQU9rWCxLQUVyRDlLLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlK0ssRUFBWW5YLFVBQVcsVUFDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUs4WCxTQUVoQmpLLElBQUssU0FBVStKLEdBQ1g1WCxLQUFLOFgsUUFBVUYsR0FFbkIvSyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEI0SyxFQUFZblgsVUFBVTRNLFVBQVksV0FDOUIsR0FBSXpMLEdBQUsxQixLQUFLMEIsRUFDZCxJQUFJMUIsS0FBSzhSLFNBQVUsQ0FDZixHQUFJaUcsR0FBZ0IvWCxLQUFLMEosV0FBVyxnQkFDaENxTyxJQUNBclcsRUFBRzJULFdBQVcwQyxFQUFlL1gsS0FBSzhSLFVBRTFDLEdBQUk5UixLQUFLZ1MsU0FBVSxDQUNmLEdBQUlnRyxHQUFnQmhZLEtBQUswSixXQUFXLGdCQUNoQ3NPLElBQ0F0VyxFQUFHMlQsV0FBVzJDLEVBQWVoWSxLQUFLZ1MsVUFFMUMsR0FBSWhTLEtBQUtpUyxVQUFXLENBQ2hCLEdBQUlnRyxHQUFpQmpZLEtBQUswSixXQUFXLGlCQUNqQ3VPLElBQ0F2VyxFQUFHMlQsV0FBVzRDLEVBQWdCalksS0FBS2lTLFdBRTNDLEdBQUlqUyxLQUFLb1csVUFBVyxDQUNoQixHQUFJOEIsR0FBaUJsWSxLQUFLMEosV0FBVyxpQkFDakN3TyxJQUNBeFcsRUFBR3lXLFdBQVdELEVBQWdCbFksS0FBS29XLFdBRTNDLEdBQUlwVyxLQUFLNlgsV0FBWSxDQUNqQixHQUFJTyxHQUFhcFksS0FBSzBKLFdBQVcsa0JBQzdCME8sSUFDQTFXLEVBQUd5VyxXQUFXQyxFQUFZcFksS0FBSzZYLFlBRXZDLEdBQUk3WCxLQUFLOFgsUUFBUyxDQUNkLEdBQUlPLEdBQVVyWSxLQUFLMEosV0FBVyxVQUMxQjJPLElBQ0EzVyxFQUFHK1QsVUFBVTRDLEVBQVNyWSxLQUFLOFgsV0FHdkNKLEVBQVluWCxVQUFVOE0sUUFBVSxhQUV6QnFLLEdBQ1QxSyxFQUNGdE0sR0FBTWdYLFlBQWNBLENBQ3BCLElBQUlZLEdBQWlCLFNBQVVyTCxHQUUzQixRQUFTcUwsR0FBYzdMLEVBQVVrRCxHQUM3QjFDLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLdVksT0FBUzVJLEVBb0JsQixNQXZCQTVQLFdBQVV1WSxFQUFlckwsR0FLekJ6TSxPQUFPbU0sZUFBZTJMLEVBQWMvWCxVQUFXLFNBQzNDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLdVksUUFFaEIxSyxJQUFLLFNBQVU4QixHQUNYM1AsS0FBS3VZLE9BQVM1SSxHQUVsQjlDLFlBQVksRUFDWkMsY0FBYyxJQUVsQndMLEVBQWMvWCxVQUFVNE0sVUFBWSxXQUNoQyxHQUFJekwsR0FBSzFCLEtBQUswQixHQUNWNFQsRUFBbUJ0VixLQUFLMEosV0FBVyxtQkFDbkM0TCxJQUNBNVQsRUFBRzJULFdBQVdDLEVBQWtCdFYsS0FBS3VZLFNBRTdDRCxFQUFjL1gsVUFBVThNLFFBQVUsYUFFM0JpTCxHQUNUdEwsRUFDRnRNLEdBQU00WCxjQUFnQkEsQ0FDdEIsSUFBSUUsR0FBa0IsU0FBVXZMLEdBRTVCLFFBQVN1TCxHQUFlL0wsRUFBVWdNLEdBQzlCeEwsRUFBT0MsS0FBS2xOLEtBQU15TSxHQUNsQnpNLEtBQUswWSxXQUFhRCxHQUFhLEVBQy9CelksS0FBSzJZLFFBQVUsS0FDZjNZLEtBQUs0WSxZQUFjLEdBaUR2QixNQXREQTdZLFdBQVV5WSxFQUFnQnZMLEdBTzFCdUwsRUFBZWpZLFVBQVVzWSxVQUFZLFNBQVVDLEVBQVdDLEdBQ3RELEdBQUlyWCxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLMlksUUFBVWpYLEVBQUdELGVBQ2xCQyxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzJZLFNBQ3BDalgsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhMFcsR0FBWXBYLEVBQUdXLGFBQy9EWCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE1BQy9CaEMsS0FBS2daLFVBQVlGLEVBQVU3WCxPQUMzQmpCLEtBQUs0WSxZQUFjeFQsRUFBTU8sS0FBSyxXQUM5QjNGLEtBQUt3UixTQUFXN1EsRUFBV3FDLGNBQWN0QixFQUFJcVgsR0FDN0MxUSxFQUFNMEMsV0FBVy9LLEtBQUsrTSxRQUFTL00sS0FBSzRZLGNBRXhDSixFQUFlalksVUFBVTBZLE9BQVMsU0FBVXRYLEdBQ3hDLEdBQUlELEdBQUsxQixLQUFLMEIsRUFDZEEsR0FBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUsyWSxTQUNwQ2pYLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYVQsR0FBT0QsRUFBR1csYUFDMURYLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDL0JoQyxLQUFLZ1osVUFBWXJYLEVBQUtWLFFBRTFCVCxPQUFPbU0sZUFBZTZMLEVBQWVqWSxVQUFXLGFBQzVDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLNFksYUFFaEIvTCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZTZMLEVBQWVqWSxVQUFXLGFBQzVDc04sSUFBSyxTQUFVOEIsR0FDWDNQLEtBQUswWSxXQUFhL0ksR0FFdEI5QyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEIwTCxFQUFlalksVUFBVTRNLFVBQVksV0FDakMsR0FBSXpMLEdBQUsxQixLQUFLMEIsR0FDVndYLEVBQWFsWixLQUFLMEosV0FBVyxhQUM3QndQLElBQ0F4WCxFQUFHK1QsVUFBVXlELEVBQVlsWixLQUFLMFksWUFDbENoWCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzJZLFNBQ3BDdFEsRUFBTTJCLGFBQWFoSyxLQUFLK00sUUFBUyxjQUNqQzFFLEVBQU1pRCxjQUFjdEwsS0FBSytNLFFBQVMvTSxLQUFLNFksWUFBYTVZLEtBQUt3UixVQUN6RDlQLEVBQUd5WCxXQUFXelgsRUFBRzBYLE9BQVEsRUFBR3BaLEtBQUtnWixVQUFZLElBRWpEUixFQUFlalksVUFBVThNLFFBQVUsV0FDL0IsR0FBSTNMLEdBQUsxQixLQUFLMEIsRUFDZDJHLEdBQU1xQyxjQUFjMUssS0FBSytNLFFBQVMsY0FDbENyTCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE9BRTVCd1csR0FDVHhMLEVBQ0Z0TSxHQUFNOFgsZUFBaUJBLENBQ3ZCLElBQUlhLEdBQWdCLFNBQVVwTSxHQUUxQixRQUFTb00sR0FBYTVNLEVBQVU3SSxHQUM1QnFKLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLc1osTUFBUTFWLEdBQVF3RSxFQUFZbVIsU0FDakN2WixLQUFLd1osU0FBVy9MLEtBQUtoTixTQUNyQmdOLEtBQUtTLFNBQVNsTyxLQUFLd1osVUFDbkJ4WixLQUFLeVosSUFBTXBELEtBQUs1VixTQUNoQlQsS0FBSzBaLE9BQVNyRCxLQUFLNVYsU0FDbkJULEtBQUsyWixRQUFVdEQsS0FBSzVWLFNBQ3BCVCxLQUFLb1csVUFBWUMsS0FBSzVWLFNBQ3RCVCxLQUFLNFosU0FBVyxFQUNoQjVaLEtBQUs2WixXQUFhLEVBQ2xCN1osS0FBSzhaLE9BQVMsRUFtSGxCLE1BL0hBL1osV0FBVXNaLEVBQWNwTSxHQWN4QnpNLE9BQU9tTSxlQUFlME0sRUFBYTlZLFVBQVcsUUFDMUNzTixJQUFLLFNBQVVqSyxHQUNYNUQsS0FBS3NaLE1BQVExVixHQUVqQmlKLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlME0sRUFBYTlZLFVBQVcsWUFDMUNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUtvVyxXQUVoQnZJLElBQUssU0FBVWtNLEdBQ1gvWixLQUFLb1csVUFBWTJELEdBRXJCbE4sWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWUwTSxFQUFhOVksVUFBVyxXQUMxQ3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzRaLFVBRWhCL0wsSUFBSyxTQUFVbU0sR0FDWCxHQUFJQyxHQUFVRCxFQUFLaGEsS0FBSzRaLFFBQ3hCNVosTUFBS2thLGNBQWNELElBRXZCcE4sWUFBWSxFQUNaQyxjQUFjLElBRWxCdU0sRUFBYTlZLFVBQVUyWixjQUFnQixTQUFVRixHQUM3Q2hhLEtBQUs0WixVQUFZSSxHQUNiaGEsS0FBSzRaLFNBQVcsS0FBTzVaLEtBQUs0WixTQUFXLFFBQ3ZDNVosS0FBSzRaLFNBQVc1WixLQUFLNFosU0FBVyxNQUd4Q3BaLE9BQU9tTSxlQUFlME0sRUFBYTlZLFVBQVcsYUFDMUNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUs2WixZQUVoQmhNLElBQUssU0FBVXNNLEdBQ1gsR0FBSUMsR0FBVUQsRUFBS25hLEtBQUs2WixVQUN4QjdaLE1BQUtxYSxnQkFBZ0JELElBRXpCdk4sWUFBWSxFQUNaQyxjQUFjLElBRWxCdU0sRUFBYTlZLFVBQVU4WixnQkFBa0IsU0FBVUYsR0FDL0NuYSxLQUFLNlosWUFBY00sR0FDZm5hLEtBQUs2WixXQUFhLEtBQU83WixLQUFLNlosV0FBYSxRQUMzQzdaLEtBQUs2WixXQUFhN1osS0FBSzZaLFdBQWEsTUFHNUNyWixPQUFPbU0sZUFBZTBNLEVBQWE5WSxVQUFXLFFBQzFDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLOFosUUFFaEJqTSxJQUFLLFNBQVVwRCxHQUNYLEdBQUlwSyxHQUFJZ1csS0FBSzVWLFNBQ1Q2WixFQUFJakUsS0FBSzVWLFFBQ2JKLEdBQUlMLEtBQUtpVyxRQUNULElBQUlzRSxHQUFPOVAsRUFBU3pLLEtBQUs4WixNQUN6QnpELE1BQUttRSxVQUFVeGEsS0FBSzJaLFFBQVNXLEVBQzdCLElBQUlHLEdBQWVwRSxLQUFLNVYsUUFDcEJULE1BQUtzWixRQUFVbFIsRUFBWXNTLFVBQzNCRCxFQUFhLEdBQUtwYSxFQUFFLEdBQUtrYSxFQUFPRCxFQUFFLEdBQ2xDRyxFQUFhLEdBQUtwYSxFQUFFLEdBQUtrYSxFQUFPRCxFQUFFLEdBQ2xDRyxFQUFhLEdBQUtwYSxFQUFFLEdBQUtrYSxFQUFPRCxFQUFFLEtBR2xDRyxFQUFhLEdBQUtwYSxFQUFFLEdBQ3BCb2EsRUFBYSxHQUFLcGEsRUFBRSxHQUNwQm9hLEVBQWEsR0FBS3BhLEVBQUUsR0FBS2thLEdBRTdCdmEsS0FBS2lXLFNBQVd3RSxFQUNoQnphLEtBQUs4WixPQUFTclAsR0FFbEJvQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ1TSxFQUFhOVksVUFBVW9hLHFCQUF1QjtBQUMxQyxHQUFJQyxHQUFJNWEsS0FBS3daLFFBQ2IvTCxNQUFLb04sYUFBYUQsR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJNWEsS0FBSzBaLFFBQ3hDak0sS0FBS29OLGFBQWFELEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSTVhLEtBQUt5WixLQUN4Q2hNLEtBQUtvTixhQUFhRCxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUk1YSxLQUFLMlosVUFFNUNOLEVBQWE5WSxVQUFVNE0sVUFBWSxXQUMvQk0sS0FBS1MsU0FBU2xPLEtBQUt3WixVQUNuQnhaLEtBQUsyYSx1QkFDRDNhLEtBQUtzWixRQUFVbFIsRUFBWXNTLFVBQzNCak4sS0FBS29KLFVBQVU3VyxLQUFLd1osU0FBVXhaLEtBQUtvVyxXQUNuQzNJLEtBQUtxTixRQUFROWEsS0FBS3daLFNBQVV4WixLQUFLNFosU0FBV3RVLEtBQUsrQixHQUFLLEtBQ3REb0csS0FBS3NOLFFBQVEvYSxLQUFLd1osU0FBVXhaLEtBQUs2WixXQUFhdlUsS0FBSytCLEdBQUssT0FHeERvRyxLQUFLcU4sUUFBUTlhLEtBQUt3WixTQUFVeFosS0FBSzRaLFNBQVd0VSxLQUFLK0IsR0FBSyxLQUN0RG9HLEtBQUtzTixRQUFRL2EsS0FBS3daLFNBQVV4WixLQUFLNlosV0FBYXZVLEtBQUsrQixHQUFLLEtBQ3hEb0csS0FBS29KLFVBQVU3VyxLQUFLd1osU0FBVXhaLEtBQUtvVyxZQUV2Q3BXLEtBQUsyYSx1QkFDRDNhLEtBQUtzWixRQUFVbFIsRUFBWXNTLFVBQzNCak4sS0FBS29OLGFBQWE3YSxLQUFLd1osVUFBVyxFQUFHLEVBQUcsRUFBRyxHQUFJeFosS0FBS29XLFlBRzVENVYsT0FBT21NLGVBQWUwTSxFQUFhOVksVUFBVyxhQUMxQ3FNLElBQUssV0FDRCxHQUFJZ08sR0FBSW5OLEtBQUtoTixRQUViLE9BREFnTixNQUFLYyxRQUFRdk8sS0FBS3daLFNBQVVvQixHQUNyQkEsR0FFWC9OLFlBQVksRUFDWkMsY0FBYyxJQUVsQnVNLEVBQWE5WSxVQUFVOE0sUUFBVSxhQUUxQmdNLEdBQ1RyTSxFQUNGdE0sR0FBTTJZLGFBQWVBLENBQ3JCLElBQUkyQixHQUFjLFNBQVUvTixHQUV4QixRQUFTK04sR0FBV3ZPLEVBQVV4TSxHQUMxQmdOLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ4TSxFQUFJQSxHQUFLLElBQ1RELEtBQUtpYixXQUFhLEVBQUssRUFBSyxFQUFLaGIsRUFBRyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBS0EsRUFBRyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBS0EsR0FDbkdELEtBQUtrYixVQUFZLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQ2xiLEtBQUttYixTQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQTRDekYsTUFsREFwYixXQUFVaWIsRUFBWS9OLEdBUXRCK04sRUFBV3phLFVBQVVrTyxLQUFPLFdBQ3hCLEdBQUkvTSxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLMlEsS0FBT2pQLEVBQUdELGVBQ2ZDLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLMlEsTUFDcENqUCxFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFwQyxLQUFLaWIsV0FBWXZaLEVBQUdXLGFBQ3BFckMsS0FBS29iLEtBQU8xWixFQUFHRCxlQUNmQyxFQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCOUMsS0FBS29iLE1BQzVDMVosRUFBR1MsV0FBV1QsRUFBR29CLHFCQUFzQixHQUFJQyxhQUFZL0MsS0FBS2tiLFVBQVd4WixFQUFHVyxhQUMxRXJDLEtBQUtxYixLQUFPM1osRUFBR0QsZUFDZkMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUtxYixNQUNwQzNaLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYXBDLEtBQUttYixTQUFVelosRUFBR1csYUFDbEVYLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDL0JOLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0IsT0FFM0NrWSxFQUFXemEsVUFBVTRNLFVBQVksV0FDN0IsR0FBSXpMLEdBQUsxQixLQUFLMEIsR0FDVjRaLEVBQWF0YixLQUFLMEosV0FBVyxhQUM3QjRSLElBQ0E1WixFQUFHK0osVUFBVTZQLEdBQVksRUFDN0IsSUFBSUMsR0FBa0J2YixLQUFLMEosV0FBVyxrQkFDbEM2UixJQUNBN1osRUFBRytKLFVBQVU4UCxHQUFpQixHQUNsQzdaLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLMlEsTUFDcEN0SSxFQUFNMkIsYUFBYWhLLEtBQUsrTSxRQUFTLGNBQ2pDckwsRUFBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUtxYixNQUNwQ2hULEVBQU0yQixhQUFhaEssS0FBSytNLFFBQVMsV0FBYTFDLEtBQU0sSUFDcEQzSSxFQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCOUMsS0FBS29iLE1BQzVDMVosRUFBR21VLGFBQWFuVSxFQUFHOFosTUFBT3hiLEtBQUtrYixTQUFTamEsT0FBUVMsRUFBR3FVLGVBQWdCLElBRXZFaUYsRUFBV3phLFVBQVU4TSxRQUFVLFdBQzNCLEdBQUkzTCxHQUFLMUIsS0FBSzBCLEdBQ1Y0WixFQUFhdGIsS0FBSzBKLFdBQVcsYUFDN0I0UixJQUNBNVosRUFBRytKLFVBQVU2UCxHQUFZLEVBQzdCLElBQUlDLEdBQWtCdmIsS0FBSzBKLFdBQVcsa0JBQ2xDNlIsSUFDQTdaLEVBQUcrSixVQUFVOFAsR0FBaUIsR0FDbENsVCxFQUFNcUMsY0FBYzFLLEtBQUsrTSxRQUFTLGNBQ2xDMUUsRUFBTXFDLGNBQWMxSyxLQUFLK00sUUFBUyxXQUNsQ3JMLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDL0JOLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0IsT0FFcENrWSxHQUNUaE8sRUFDRnRNLEdBQU1zYSxXQUFhQSxDQUNuQixJQUFJUyxHQUFjLFNBQVV4TyxHQUV4QixRQUFTd08sR0FBV2hQLEVBQVV4TSxFQUFHa0IsR0FDN0I4TCxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBSzBiLFlBQ0RDLElBQUsxYixHQUFLLEdBQUlnUSxNQUFPOU8sR0FBSyxJQThEbEMsTUFsRUFwQixXQUFVMGIsRUFBWXhPLEdBT3RCd08sRUFBV2xiLFVBQVVrTyxLQUFPLFdBQ3hCLEdBQUkvTSxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLNGIsUUFDTDViLEtBQUsyUSxLQUFPalAsRUFBR0QsZUFDZkMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUsyUSxNQUNwQ2pQLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYXBDLEtBQUtpYixXQUFZdlosRUFBR1csYUFDcEVyQyxLQUFLb2IsS0FBTzFaLEVBQUdELGVBQ2ZDLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0I5QyxLQUFLb2IsTUFDNUMxWixFQUFHUyxXQUFXVCxFQUFHb0IscUJBQXNCLEdBQUlDLGFBQVkvQyxLQUFLa2IsVUFBV3haLEVBQUdXLGFBQzFFWCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE1BQy9CTixFQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCLE9BRTNDMlksRUFBV2xiLFVBQVVxYixNQUFRLFdBSXpCLElBQUssR0FIREMsR0FBTSxFQUFJN2IsS0FBSzBiLFdBQVdDLElBQU0zYixLQUFLMGIsV0FBV3pMLE1BQ2hETixLQUNBM08sS0FDSzhhLEVBQUksRUFBR0EsR0FBSzliLEtBQUswYixXQUFXekwsTUFBTzZMLElBQ3hDbk0sRUFBRSxFQUFJbU0sSUFBTTliLEtBQUswYixXQUFXQyxJQUM1QmhNLEVBQUUsRUFBSW1NLEVBQUksSUFBTSxHQUNoQm5NLEVBQUUsRUFBSW1NLEVBQUksSUFBTTliLEtBQUswYixXQUFXQyxJQUFPRyxFQUFJRCxFQUMzQ2xNLEVBQUUsRUFBSW1NLEVBQUksR0FBSzliLEtBQUswYixXQUFXQyxJQUMvQmhNLEVBQUUsRUFBSW1NLEVBQUksSUFBTSxHQUNoQm5NLEVBQUUsRUFBSW1NLEVBQUksSUFBTTliLEtBQUswYixXQUFXQyxJQUFPRyxFQUFJRCxFQUMzQ2xNLEVBQUUsR0FBSzNQLEtBQUswYixXQUFXekwsTUFBUSxHQUFLLEVBQUk2TCxJQUFNOWIsS0FBSzBiLFdBQVdDLElBQU9HLEVBQUlELEVBQ3pFbE0sRUFBRSxHQUFLM1AsS0FBSzBiLFdBQVd6TCxNQUFRLEdBQUssRUFBSTZMLEVBQUksSUFBTSxHQUNsRG5NLEVBQUUsR0FBSzNQLEtBQUswYixXQUFXekwsTUFBUSxHQUFLLEVBQUk2TCxFQUFJLElBQU05YixLQUFLMGIsV0FBV0MsSUFDbEVoTSxFQUFFLEdBQUszUCxLQUFLMGIsV0FBV3pMLE1BQVEsR0FBSyxFQUFJNkwsRUFBSSxJQUFNOWIsS0FBSzBiLFdBQVdDLElBQU9HLEVBQUlELEVBQzdFbE0sRUFBRSxHQUFLM1AsS0FBSzBiLFdBQVd6TCxNQUFRLEdBQUssRUFBSTZMLEVBQUksSUFBTSxHQUNsRG5NLEVBQUUsR0FBSzNQLEtBQUswYixXQUFXekwsTUFBUSxHQUFLLEVBQUk2TCxFQUFJLEdBQUs5YixLQUFLMGIsV0FBV0MsSUFDakUzYSxFQUFFLEVBQUk4YSxHQUFLLEVBQUlBLEVBQ2Y5YSxFQUFFLEVBQUk4YSxFQUFJLEdBQUssRUFBSUEsRUFBSSxFQUN2QjlhLEVBQUUsR0FBS2hCLEtBQUswYixXQUFXekwsTUFBUSxHQUFLLEVBQUk2TCxHQUFLLEdBQUs5YixLQUFLMGIsV0FBV3pMLE1BQVEsR0FBSyxFQUFJNkwsRUFDbkY5YSxFQUFFLEdBQUtoQixLQUFLMGIsV0FBV3pMLE1BQVEsR0FBSyxFQUFJNkwsRUFBSSxHQUFLLEdBQUs5YixLQUFLMGIsV0FBV3pMLE1BQVEsR0FBSyxFQUFJNkwsRUFBSSxDQUUvRjliLE1BQUtpYixVQUFZdEwsRUFDakIzUCxLQUFLa2IsU0FBV2xhLEdBRXBCeWEsRUFBV2xiLFVBQVU0TSxVQUFZLFdBQzdCLEdBQUl6TCxHQUFLMUIsS0FBSzBCLEdBQ1Y0WixFQUFhdGIsS0FBSzBKLFdBQVcsYUFDN0I0UixJQUNBNVosRUFBRytKLFVBQVU2UCxHQUFZLEVBQzdCLElBQUloRyxHQUFtQnRWLEtBQUswSixXQUFXLG1CQUNuQzRMLElBQ0E1VCxFQUFHMlQsV0FBV0MsR0FBbUIsR0FBSyxHQUFLLEdBQUssSUFDcEQ1VCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzJRLE1BQ3BDdEksRUFBTTJCLGFBQWFoSyxLQUFLK00sUUFBUyxjQUNqQ3JMLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0I5QyxLQUFLb2IsTUFDNUMxWixFQUFHbVUsYUFBYW5VLEVBQUc4WixNQUFPeGIsS0FBS2tiLFNBQVNqYSxPQUFRUyxFQUFHcVUsZUFBZ0IsSUFFdkUwRixFQUFXbGIsVUFBVThNLFFBQVUsV0FDM0IsR0FBSTNMLEdBQUsxQixLQUFLMEIsR0FDVjRaLEVBQWF0YixLQUFLMEosV0FBVyxhQUM3QjRSLElBQ0E1WixFQUFHK0osVUFBVTZQLEdBQVksR0FDN0JqVCxFQUFNcUMsY0FBYzFLLEtBQUsrTSxRQUFTLGNBQ2xDckwsRUFBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMvQk4sRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQixPQUVwQzJZLEdBQ1R6TyxFQUNGdE0sR0FBTSthLFdBQWFBLENBQ25CLElBQUlNLEdBQWdCLFNBQVU5TyxHQUUxQixRQUFTOE8sR0FBYXRQLEVBQVU5SyxHQUM1QnNMLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLZ2MsT0FBU2hjLEtBQUtpYyxzQkFDbkJqYyxLQUFLa2MsTUFBUXZhLEVBc0NqQixNQTFDQTVCLFdBQVVnYyxFQUFjOU8sR0FNeEJ6TSxPQUFPbU0sZUFBZW9QLEVBQWF4YixVQUFXLFFBQzFDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLa2MsT0FFaEJyUCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZW9QLEVBQWF4YixVQUFXLFNBQzFDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLZ2MsUUFFaEJuUCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJpUCxFQUFheGIsVUFBVTBiLG9CQUFzQixXQU16QyxJQUxBLEdBQUk5UCxHQUNBZ1EsRUFBVyxTQUFXaFEsR0FDdEIsTUFBc0QsU0FBL0M5RCxFQUFNNkQsaUJBQWlCbE0sS0FBSytNLFFBQVNaLElBQzdDaVEsS0FBS3BjLE1BQ0pxYyxHQUFRLEVBQ0xBLEdBQ0hsUSxHQUFTakcsT0FBT1osS0FBS0UsU0FBUzhXLFFBQVEsSUFBS3BXLE9BQU9aLEtBQUtFLFNBQVM4VyxRQUFRLElBQUtwVyxPQUFPWixLQUFLRSxTQUFTOFcsUUFBUSxJQUFLLEdBQy9HRCxFQUFRRixFQUFTaFEsRUFFckIsT0FBT0EsSUFFWDRQLEVBQWF4YixVQUFVNE0sVUFBWSxXQUMvQixHQUFJOUUsRUFBTXFELFlBQVkxTCxLQUFLK00sU0FBVSxDQUNqQyxHQUFJckwsR0FBSzFCLEtBQUswQixHQUNWNmEsRUFBZXZjLEtBQUswSixXQUFXLGVBQy9CNlMsSUFDQTdhLEVBQUcyVCxXQUFXa0gsRUFBY3ZjLEtBQUtnYyxVQUc3Q0QsRUFBYXhiLFVBQVU4TSxRQUFVLGFBRTFCME8sR0FDVC9PLEVBQ0Z0TSxHQUFNcWIsYUFBZUEsQ0FDckIsSUFBSVMsR0FBWSxTQUFVdlAsR0FFdEIsUUFBU3VQLEdBQVMvUCxFQUFVZ1EsR0FDeEJ4UCxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBSzBjLFlBQWNELEVBQ25CemMsS0FBSzJjLGFBQWUsS0FDcEIzYyxLQUFLNGMsY0FBZ0IsS0FDckI1YyxLQUFLd1IsU0FBVyxLQUNoQnhSLEtBQUs2WSxZQStDVCxNQXREQTlZLFdBQVV5YyxFQUFVdlAsR0FTcEJ1UCxFQUFTamMsVUFBVXNZLFVBQVksV0FDM0IsR0FBSW5YLEdBQUsxQixLQUFLMEIsRUFDZDFCLE1BQUt3UixTQUFXOVAsRUFBR3NCLGdCQUNuQnRCLEVBQUd3QixZQUFZeEIsRUFBR3lCLFdBQVluRCxLQUFLd1IsVUFDbkM5UCxFQUFHMEIsV0FBVzFCLEVBQUd5QixXQUFZLEVBQUd6QixFQUFHMkIsS0FBTXJELEtBQUswYyxZQUFZcGIsTUFBT3RCLEtBQUswYyxZQUFZbGIsT0FBUSxFQUFHRSxFQUFHMkIsS0FBTTNCLEVBQUc0QixjQUFlLE1BQ3hIdEQsS0FBSzRjLGNBQWdCbGIsRUFBR21iLHFCQUN4Qm5iLEVBQUdvYixpQkFBaUJwYixFQUFHcWIsYUFBYy9jLEtBQUs0YyxlQUMxQ2xiLEVBQUdzYixvQkFBb0J0YixFQUFHcWIsYUFBY3JiLEVBQUd1YixrQkFBbUJqZCxLQUFLMGMsWUFBWXBiLE1BQU90QixLQUFLMGMsWUFBWWxiLFFBQ3ZHeEIsS0FBSzJjLGFBQWVqYixFQUFHd2Isb0JBQ3ZCeGIsRUFBR3liLGdCQUFnQnpiLEVBQUcwYixZQUFhcGQsS0FBSzJjLGNBQ3hDamIsRUFBRzJiLHFCQUFxQjNiLEVBQUcwYixZQUFhMWIsRUFBRzRiLGtCQUFtQjViLEVBQUd5QixXQUFZbkQsS0FBS3dSLFNBQVUsR0FDNUY5UCxFQUFHNmIsd0JBQXdCN2IsRUFBRzBiLFlBQWExYixFQUFHOGIsaUJBQWtCOWIsRUFBR3FiLGFBQWMvYyxLQUFLNGMsZUFDdEZsYixFQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZLE1BQzlCekIsRUFBR29iLGlCQUFpQnBiLEVBQUdxYixhQUFjLE1BQ3JDcmIsRUFBR3liLGdCQUFnQnpiLEVBQUcwYixZQUFhLE9BRXZDWixFQUFTamMsVUFBVWtkLEtBQU8sU0FBVTFSLEdBQ2hDMUQsRUFBTXlELG1CQUFtQjlMLEtBQUsrTSxRQUFTaEIsSUFFM0N5USxFQUFTamMsVUFBVW1kLE1BQVEsV0FDdkJyVixFQUFNNEQsb0JBQW9Cak0sS0FBSytNLFVBRW5DeVAsRUFBU2pjLFVBQVU4TCxLQUFPLFNBQVUwTixHQUNoQyxHQUFJclksR0FBSzFCLEtBQUswQixHQUNWaWMsRUFBVSxHQUFJQyxZQUFXLEVBQzdCbGMsR0FBR3liLGdCQUFnQnpiLEVBQUcwYixZQUFhcGQsS0FBSzJjLGNBQ3hDamIsRUFBR21jLFdBQVc5RCxFQUFJdFMsRUFBR3NTLEVBQUlyUyxFQUFHLEVBQUcsRUFBR2hHLEVBQUcyQixLQUFNM0IsRUFBRzRCLGNBQWVxYSxHQUM3RGpjLEVBQUd5YixnQkFBZ0J6YixFQUFHMGIsWUFBYSxLQUNuQyxJQUFJVSxNQUFXdk4sTUFBTXJELEtBQUt5USxHQUFTM1gsSUFBSSxTQUFVb0ssR0FDN0MsTUFBTzJOLGFBQVkzTixFQUFPLEtBQUtrTSxRQUFRLE1BRXZDdlEsRUFBTTFELEVBQU02RCxpQkFBaUJsTSxLQUFLK00sUUFBUytRLEVBQy9DLE9BQU8vUixHQUFNQSxFQUFJcEssS0FBTyxRQUU1QjZhLEVBQVNqYyxVQUFVeWQsT0FBUyxTQUFVQyxHQUNsQyxHQUFJdmMsR0FBSzFCLEtBQUswQixFQUNkQSxHQUFHeWIsZ0JBQWdCemIsRUFBRzBiLFlBQWFwZCxLQUFLMmMsYUFDeEMsSUFBSXVCLEdBQWFsZSxLQUFLMEosV0FBVyxhQUNqQ2hJLEdBQUcrSixVQUFVeVMsR0FBWSxHQUN6QjdWLEVBQU11RCxnQkFBZ0I1TCxLQUFLK00sU0FDM0JrUixJQUNBdmMsRUFBRytKLFVBQVV5UyxHQUFZLEdBQ3pCN1YsRUFBTXdELGlCQUFpQjdMLEtBQUsrTSxTQUM1QnJMLEVBQUd5YixnQkFBZ0J6YixFQUFHMGIsWUFBYSxPQUVoQ1osR0FDVGhRLEVBQ0Y5TCxHQUFNOGIsU0FBV0EsQ0FFakIsSUFBSTJCLEdBQWUsV0FDZixRQUFTQSxHQUFZQyxFQUFReGEsRUFBTXlhLEdBQy9CcmUsS0FBS3NlLFlBQWNGLEVBQ2ZwZSxLQUFLc2UsYUFDTHRlLEtBQUtzZSxZQUFZQyxhQUFhdmUsTUFDbENBLEtBQUt3ZSxlQUNMeGUsS0FBS3NaLE1BQVExVixFQUNiNUQsS0FBS29SLEtBQU9oTSxFQUFNTyxLQUFLM0YsS0FBS3NaLE9BQVN0WixLQUFLSSxZQUFZd0YsTUFDdEQ1RixLQUFLeWUsUUFBVUosRUFzSG5CLE1BcEhBN2QsUUFBT21NLGVBQWV3UixFQUFZNWQsVUFBVyxPQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS29SLE1BRWhCdkUsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWV3UixFQUFZNWQsVUFBVyxVQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS3NlLGFBRWhCelIsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWV3UixFQUFZNWQsVUFBVyxVQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS3llLFNBRWhCNVEsSUFBSyxTQUFVd1EsR0FDWHJlLEtBQUt5ZSxRQUFVSixHQUVuQnhSLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFld1IsRUFBWTVkLFVBQVcsY0FDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUt3ZSxhQUVoQjNSLFlBQVksRUFDWkMsY0FBYyxJQUVsQnFSLEVBQVk1ZCxVQUFVZ2UsYUFBZSxTQUFVRyxHQUMzQzFlLEtBQUt3ZSxZQUFZdFQsS0FBS3dULElBRTFCUCxFQUFZNWQsVUFBVW9lLGdCQUFrQixTQUFVRCxHQUM5QyxHQUFJeFUsR0FBUWxLLEtBQUtvTCxRQUFRc1QsRUFDckJ4VSxHQUFRLElBQ1JsSyxLQUFLd2UsWUFBWW5ULE9BQU9uQixFQUFPLElBRXZDaVUsRUFBWTVkLFVBQVVxZSxvQkFBc0IsU0FBVTFVLEdBQ2xELE1BQU9sSyxNQUFLd2UsWUFBWXRVLElBQVUsUUFFdENpVSxFQUFZNWQsVUFBVXNlLGdCQUFrQixTQUFVM1UsR0FDOUMsTUFBbUMsVUFBNUJsSyxLQUFLd2UsWUFBWXRVLElBRTVCaVUsRUFBWTVkLFVBQVo0ZCxVQUErQixXQUMzQm5lLEtBQUtzZSxZQUFZSyxnQkFBZ0IzZSxPQUVyQ21lLEVBQVk1ZCxVQUFVdWUsZ0JBQWtCLFNBQVVsYixFQUFNeWEsR0FDcEQsTUFBTyxJQUFJRixHQUFZbmUsS0FBTTRELEVBQU15YSxJQUV2Q0YsRUFBWTVkLFVBQVV3ZSxPQUFTLFdBQzNCLE1BQTRCLFVBQXJCL2UsS0FBS3NlLGFBRWhCSCxFQUFZNWQsVUFBVTZLLFFBQVUsU0FBVXNULEdBQ3RDLEdBQUlNLEdBQU1OLEVBQU1NLEdBQ2hCLE9BQU81UyxHQUFFNlMsVUFBVWpmLEtBQUt3ZSxZQUFhLFNBQVVVLEdBQUssTUFBT0EsR0FBRUYsTUFBUUEsS0FFekViLEVBQVk1ZCxVQUFVNGUsY0FBZ0IsV0FDbEMsR0FBSWpWLEdBQVEsRUFHWixPQUZLbEssTUFBSytlLFdBQ043VSxFQUFRbEssS0FBS3NlLFlBQVlsVCxRQUFRcEwsT0FDOUJrSyxHQUVYaVUsRUFBWTVkLFVBQVU2ZSxXQUFhLFNBQVVoVyxHQUN6QyxHQUFJaVcsSUFBUSxDQUNaLEtBQUtyZixLQUFLK2UsU0FBVSxDQUNoQixHQUFJN1UsR0FBUWxLLEtBQUtzZSxZQUFZbFQsUUFBUXBMLEtBQ2pDa0ssR0FBUSxLQUNKZCxFQUNJcEosS0FBS3NlLFlBQVlNLG9CQUFvQjFVLEVBQVEsS0FDN0NtVixHQUFRLEdBR1JyZixLQUFLc2UsWUFBWU0sb0JBQW9CMVUsRUFBUSxLQUM3Q21WLEdBQVEsSUFJeEIsTUFBT0EsSUFFWGxCLEVBQVk1ZCxVQUFVK2UsWUFBYyxXQUNoQyxHQUFJQyxHQUFVLElBQ2QsS0FBS3ZmLEtBQUsrZSxVQUFZL2UsS0FBS29mLGFBQWMsQ0FDckMsR0FBSWxWLEdBQVFsSyxLQUFLc2UsWUFBWWxULFFBQVFwTCxLQUNyQ3VmLEdBQVV2ZixLQUFLc2UsWUFBWU0sb0JBQW9CMVUsRUFBUSxHQUUzRCxNQUFPcVYsSUFFWHBCLEVBQVk1ZCxVQUFVaWYsZ0JBQWtCLFdBQ3BDLEdBQUlELEdBQVUsSUFDZCxLQUFLdmYsS0FBSytlLFVBQVkvZSxLQUFLb2YsWUFBVyxHQUFPLENBQ3pDLEdBQUlsVixHQUFRbEssS0FBS3NlLFlBQVlsVCxRQUFRcEwsS0FDckN1ZixHQUFVdmYsS0FBS3NlLFlBQVlNLG9CQUFvQjFVLEVBQVEsR0FFM0QsTUFBT3FWLElBRVhwQixFQUFZNWQsVUFBVWtmLFdBQWEsV0FDL0IsTUFBT3pmLE1BQUs0ZSxvQkFBb0IsSUFFcENULEVBQVk1ZCxVQUFVbWYsVUFBWSxXQUM5QixNQUFPMWYsTUFBSzRlLG9CQUFvQjVlLEtBQUt3ZSxZQUFZdmQsT0FBUyxJQUU5RGtkLEVBQVk1ZCxVQUFVb2YsaUJBQW1CLFdBQ3JDM2YsS0FBS3dlLGdCQUVUTCxFQUFZNWQsVUFBVTBkLEtBQU8sU0FBVTdRLEdBQy9CcE4sS0FBS3llLFNBQ0x6ZSxLQUFLeWUsUUFBUXRSLFVBQVVDLEVBQzNCLEtBQUssR0FBSXBNLEdBQUksRUFBR0EsRUFBSWhCLEtBQUt3ZSxZQUFZdmQsT0FBUUQsSUFBSyxDQUM5QyxHQUFJMGQsR0FBUTFlLEtBQUt3ZSxZQUFZeGQsRUFDN0IwZCxHQUFNVCxLQUFLN1EsR0FFWHBOLEtBQUt5ZSxTQUNMemUsS0FBS3llLFFBQVFwUixRQUFRRCxJQUV0QitRLElBRVh6ZCxHQUFNeWQsWUFBY0EsQ0FDcEIsSUFBSXlCLEdBQWMsU0FBVTNTLEdBRXhCLFFBQVMyUyxLQUNMLEdBQUlaLEdBQU01WixFQUFNTyxNQUNoQnNILEdBQU9DLEtBQUtsTixLQUFNZ2YsR0FDbEJoZixLQUFLb1IsS0FBTzROLEVBQ1poZixLQUFLNmYsT0FBUyxHQUFJMUIsR0FBWSxPQUFRLFNBQ3RDbmUsS0FBSzhmLGFBQWUsR0FBSXhTLEdBQVl0TixLQUFLb1IsTUFDekNwUixLQUFLK2YsaUJBQ0wxWCxFQUFNUSxXQUFXN0ksS0FBS29SLE1BQ3RCcFIsS0FBS2dnQixVQUFZLEtBc0tyQixNQS9LQWpnQixXQUFVNmYsRUFBWTNTLEdBV3RCek0sT0FBT21NLGVBQWVpVCxFQUFXcmYsVUFBVyxTQUN4Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzZmLFFBRWhCaFQsWUFBWSxFQUNaQyxjQUFjLElBRWxCOFMsRUFBV3JmLFVBQVUwZixZQUFjLFNBQVUvZixHQUN6QyxHQUFJd0IsR0FBSzFCLEtBQUswQixFQUNkeEIsR0FBSUEsTUFDSndCLEVBQUd3ZSxPQUFPeGUsRUFBR3llLFlBQ2J6ZSxFQUFHMGUsVUFBVTFlLEVBQUcyZSxRQUNoQjNlLEVBQUd3ZSxPQUFPeGUsRUFBRzRlLE9BQ2I1ZSxFQUFHNmUsVUFBVTdlLEVBQUc4ZSxVQUFXOWUsRUFBRytlLHFCQUM5Qi9lLEVBQUdnZixZQUFZaGYsRUFBR2lmLHFCQUFxQixHQUN2Q2pmLEVBQUdrZixXQUFXMWdCLEVBQUUsSUFBTSxFQUFHQSxFQUFFLElBQU0sRUFBR0EsRUFBRSxJQUFNLEVBQUcsR0FDL0N3QixFQUFHbWYsV0FBVyxJQUVsQmpCLEVBQVdyZixVQUFVeWQsT0FBUyxXQUMxQixHQUFJdGMsR0FBSzFCLEtBQUswQixFQUNkQSxHQUFHb2YsU0FBUyxFQUFHLEVBQUdwZixFQUFHTCxjQUFlSyxFQUFHSCxnQkFDdkNHLEVBQUdnYyxNQUFNaGMsRUFBR3FmLGlCQUFtQnJmLEVBQUdzZixpQkFDbEMsSUFBSS9DLEdBQU8sV0FDUGplLEtBQUs2ZixPQUFPNUIsS0FBS2plLEtBQUs4ZixlQUN2QjFELEtBQUtwYyxLQUNKQSxNQUFLZ2dCLFdBQ0xoZ0IsS0FBS2dnQixVQUFVaEMsT0FBT0MsR0FFMUJBLEtBRUoyQixFQUFXcmYsVUFBVTBnQixvQkFBc0IsU0FBVXJkLEVBQU15YSxHQUN2RCxNQUFPcmUsTUFBSzZmLE9BQU9mLGdCQUFnQmxiLEVBQU15YSxJQUU3Q3VCLEVBQVdyZixVQUFVMmdCLG9CQUFzQixTQUFVQyxHQUNqRG5oQixLQUFLNmYsT0FBT2xCLGdCQUFnQndDLElBRWhDM2dCLE9BQU9tTSxlQUFlaVQsRUFBV3JmLFVBQVcsT0FDeENxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUtvUixNQUVoQnZFLFlBQVksRUFDWkMsY0FBYyxJQUVsQjhTLEVBQVdyZixVQUFVa0ksV0FBYSxTQUFVNUgsR0FDeEN3SCxFQUFNQyxtQkFBbUJ0SSxLQUFLZ2YsSUFBS25lLElBRXZDK2UsRUFBV3JmLFVBQVU2Z0IsUUFBVSxTQUFVeGQsR0FDckNBLEVBQU9BLEdBQVEsUUFDZnlFLEVBQU1oRSxjQUFjckUsS0FBS29SLE1BQ3JCM00sU0FBVWlPLEVBQVFDLFNBQVMvTyxJQUFTOE8sRUFBUUMsU0FBZ0IsTUFDNUQvTixPQUFROE4sRUFBUU0sT0FBT3BQLElBQVM4TyxFQUFRTSxPQUFjLFNBRzlENE0sRUFBV3JmLFVBQVU4Z0IsV0FBYSxTQUFVQyxHQUN4QyxHQUFJQyxHQUFhLEdBQUl2TixHQUFXaFUsS0FBS2dmLElBT3JDLE9BTklzQyxHQUFPRSxNQUNQRCxFQUFXdE0saUJBQWlCcU0sRUFBT0UsTUFFbkNGLEVBQU9HLFVBQ1BGLEVBQVdyTSxxQkFBcUJvTSxFQUFPRyxVQUVwQ0YsR0FFWDNCLEVBQVdyZixVQUFVbWhCLGNBQWdCLFNBQVUvUixHQUMzQyxNQUFPLElBQUkySSxHQUFjdFksS0FBS2dmLElBQUtyUCxJQUV2Q2lRLEVBQVdyZixVQUFVb2hCLG1CQUFxQixTQUFVTCxHQUNoRCxHQUFJRSxHQUFPLEdBQUl4TixHQUFXaFUsS0FBS2dmLElBQUtzQyxFQUFPRSxLQUFNRixFQUFPRyxTQUFVSCxFQUFPcmUsUUFFekUsT0FEQWpELE1BQUsrZixjQUFjN1UsS0FBS3NXLEdBQ2pCQSxHQUVYNUIsRUFBV3JmLFVBQVVxaEIsZ0JBQWtCLFNBQVUzTCxFQUFVNUwsRUFBTTZMLEdBQzdELE1BQU8sSUFBSUYsR0FBZ0JoVyxLQUFLZ2YsSUFBSy9JLEVBQVU1TCxFQUFNNkwsSUFFekQwSixFQUFXcmYsVUFBVXNoQixZQUFjLFNBQVVQLEdBQ3pDLE1BQU8sSUFBSTVKLEdBQVkxWCxLQUFLZ2YsSUFBS3NDLEVBQU81UCxRQUFTNFAsRUFBTzNQLFFBQVMyUCxFQUFPckwsU0FBVXFMLEVBQU8xUCxTQUFVMFAsRUFBTzNKLFVBQVcySixFQUFPMUosU0FFaElnSSxFQUFXcmYsVUFBVXVoQixhQUFlLFNBQVVsZSxHQUMxQyxNQUFPLElBQUl5VixHQUFhclosS0FBS2dmLElBQUtwYixJQUV0Q2djLEVBQVdyZixVQUFVd2hCLGVBQWlCLFNBQVV0SixHQUM1QyxNQUFPLElBQUlELEdBQWV4WSxLQUFLZ2YsSUFBS3ZHLElBRXhDbUgsRUFBV3JmLFVBQVV5aEIsV0FBYSxTQUFVL2dCLEdBQ3hDLE1BQU8sSUFBSStaLEdBQVdoYixLQUFLZ2YsSUFBSy9kLElBRXBDMmUsRUFBV3JmLFVBQVUwaEIsV0FBYSxTQUFVdEcsRUFBSzFMLEdBQzdDLE1BQU8sSUFBSXdMLEdBQVd6YixLQUFLZ2YsSUFBS3JELEVBQUsxTCxJQUV6QzJQLEVBQVdyZixVQUFVMmhCLGFBQWUsU0FBVXZnQixHQUMxQyxNQUFPLElBQUlvYSxHQUFhL2IsS0FBS2dmLElBQUtyZCxJQUV0Q2llLEVBQVdyZixVQUFVNGhCLGVBQWlCLFNBQVUxRixHQUM1Q3pjLEtBQUtnZ0IsVUFBWSxHQUFJeEQsR0FBU3hjLEtBQUtnZixJQUFLdkMsSUFFNUNtRCxFQUFXcmYsVUFBVTZoQixhQUFlLFNBQVVyVyxHQUN0Qy9MLEtBQUtnZ0IsV0FDTGhnQixLQUFLZ2dCLFVBQVV2QyxLQUFLMVIsSUFHNUI2VCxFQUFXcmYsVUFBVThoQixjQUFnQixTQUFVdFcsR0FDdkMvTCxLQUFLZ2dCLFdBQ0xoZ0IsS0FBS2dnQixVQUFVdEMsU0FHdkJrQyxFQUFXcmYsVUFBVStoQixPQUFTLFNBQVV2SSxHQUNwQyxNQUFJL1osTUFBS2dnQixVQUNFaGdCLEtBQUtnZ0IsVUFBVTNULEtBQUswTixHQUQvQixRQUlKdlosT0FBT21NLGVBQWVpVCxFQUFXcmYsVUFBVyxjQUN4Q3NOLElBQUssU0FBVU0sR0FDWG5PLEtBQUs4ZixhQUFheUMsV0FBYXBVLEdBRW5DdEIsWUFBWSxFQUNaQyxjQUFjLElBRWxCOFMsRUFBV3JmLFVBQVU0SyxjQUFnQixTQUFVdEYsR0FDM0N3QyxFQUFNOEMsY0FBY25MLEtBQUtnZixJQUFLblosSUFFbEMrWixFQUFXcmYsVUFBVWlpQixZQUFjLFNBQVUzWCxHQUN6Q2dLLE1BQU00TixXQUFXemlCLEtBQUsrZixjQUFlLFNBQVUzUCxFQUFNMkUsR0FDakQzRSxFQUFLd0UsU0FBUyxXQUNWMVEsUUFBUUMsSUFBSWlNLEdBQ1oyRSxPQUVMbEssSUFFUCtVLEVBQVdyZixVQUFVc1ksVUFBWSxTQUFVeUksR0FDdkMsR0FBSWxTLEdBQU9wUCxJQUNYc2hCLEdBQVNBLE1BQ1RsUyxFQUFLNlEsWUFBWXFCLEVBQU9vQixZQUN4QnRULEVBQUtnUyxRQUFRRSxFQUFPcUIsWUFDcEJ0YSxFQUFNUyxzQkFBc0JzRyxFQUFLZ0MsS0FBTXdPLEVBQVdnRCxZQUNsRHZhLEVBQU13QixvQkFBb0J1RixFQUFLZ0MsS0FBTXdPLEVBQVdpRCxVQUNoRDdpQixLQUFLOGYsYUFBYXJSLFFBRXRCbVIsRUFBV3JmLFVBQVV1aUIsb0JBQXNCLFNBQVVqWSxHQUNqRCxHQUFJdUUsR0FBT3BQLElBQ1hvUCxHQUFLeUosWUFDTHpKLEVBQUtvVCxZQUFZM1gsSUFFckIrVSxFQUFXaUQsVUFDUCxXQUNBLFlBQ0EsV0FDQSxpQkFDQSxrQkFDQSxVQUNBLGdCQUNBLG1CQUNBLGdCQUNBLG1CQUNBLGlCQUNBLG9CQUNBLGFBQ0EsYUFDQSxXQUNBLGFBQ0Esa0JBQ0EsZUFDQSxjQUVKakQsRUFBV2dELFlBQWMsYUFBYyxXQUFZLFdBQzVDaEQsR0FDVHBULEVBQ0Y5TCxHQUFNa2YsV0FBYUEsR0FDcEJsZixRQUFVQSIsImZpbGUiOiJibGF6ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBCbGF6ZTtcclxuKGZ1bmN0aW9uIChCbGF6ZSkge1xyXG4gICAgdmFyIFdlYkdMVXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKFdlYkdMVXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBnZXRHTENvbnRleHQoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBbXCJ3ZWJnbFwiLCBcImV4cGVyaW1lbnRhbC13ZWJnbFwiLCBcIndlYmtpdC0zZFwiLCBcIm1vei13ZWJnbFwiXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN0eCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgaW5pdGlhbGlzZSBXZWJHTFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0V2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjdHgudmlld3BvcnRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmdldEdMQ29udGV4dCA9IGdldEdMQ29udGV4dDtcclxuICAgICAgICAoZnVuY3Rpb24gKEJVRkZFUl9EUkFXKSB7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiU1RBVElDXCJdID0gMF0gPSBcIlNUQVRJQ1wiO1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUUkVBTVwiXSA9IDFdID0gXCJTVFJFQU1cIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJEWU5BTUlDXCJdID0gMl0gPSBcIkRZTkFNSUNcIjtcclxuICAgICAgICB9KShXZWJHTFV0aWxzLkJVRkZFUl9EUkFXIHx8IChXZWJHTFV0aWxzLkJVRkZFUl9EUkFXID0ge30pKTtcclxuICAgICAgICB2YXIgQlVGRkVSX0RSQVcgPSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihnbCwgZGF0YSwgaXMyRCwgdHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuRFlOQU1JQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpZiAoaXMyRCkge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLml0ZW1TaXplID0gMjtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDM7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIgPSBjcmVhdGVCdWZmZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUUkVBTTpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5pdGVtU2l6ZSA9IDE7XHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleEJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVJbmRleEJ1ZmZlciA9IGNyZWF0ZUluZGV4QnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGRhdGEpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlID0gY3JlYXRlVGV4dHVyZTtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTaGFkZXIoZ2wsIHR5cGUsIHNoYWRlclNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gICAgICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xyXG4gICAgICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVTaGFkZXIgPSBjcmVhdGVTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgc2hhZGVycy5mcmFnbWVudCk7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHNoYWRlcnMudmVydGV4KTtcclxuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW07XHJcbiAgICB9KShXZWJHTFV0aWxzID0gQmxhemUuV2ViR0xVdGlscyB8fCAoQmxhemUuV2ViR0xVdGlscyA9IHt9KSk7XHJcbiAgICB2YXIgdXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKHV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gczQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuczQgPSBzNDtcclxuICAgICAgICBmdW5jdGlvbiB1dWlkKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gczQoKSArIHM0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lID8gbmFtZSArIGlkIDogaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnV1aWQgPSB1dWlkO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hTih2ZWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlYy5tYXAoZnVuY3Rpb24gKGEpIHsgaWYgKE51bWJlci5pc05hTihhKSlcclxuICAgICAgICAgICAgICAgIGEgPSAwOyByZXR1cm4gYTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vcm1hbGl6ZU5hTiA9IG5vcm1hbGl6ZU5hTjtcclxuICAgICAgICBmdW5jdGlvbiBsb2FkKHVybCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubG9hZCA9IGxvYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKHN0cikge1xyXG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBzdHIuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbXNbZWxlbXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmdldEV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbjtcclxuICAgICAgICBmdW5jdGlvbiBub3dJbk1pbGxpc2Vjb25kcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzID0gbm93SW5NaWxsaXNlY29uZHM7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVnVG9SYWQoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmRlZ1RvUmFkID0gZGVnVG9SYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFscyh2cywgaW5kKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICAgICAgdmFyIHkgPSAxO1xyXG4gICAgICAgICAgICB2YXIgeiA9IDI7XHJcbiAgICAgICAgICAgIHZhciBucyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuc1tpXSA9IDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZC5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYxID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgdjIgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWwgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vcDEgLSBwMFxyXG4gICAgICAgICAgICAgICAgdjFbeF0gPSB2c1szICogaW5kW2kgKyAxXSArIHhdIC0gdnNbMyAqIGluZFtpXSArIHhdO1xyXG4gICAgICAgICAgICAgICAgdjFbeV0gPSB2c1szICogaW5kW2kgKyAxXSArIHldIC0gdnNbMyAqIGluZFtpXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjFbel0gPSB2c1szICogaW5kW2kgKyAxXSArIHpdIC0gdnNbMyAqIGluZFtpXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgdjJbeF0gPSB2c1szICogaW5kW2kgKyAyXSArIHhdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYyW3ldID0gdnNbMyAqIGluZFtpICsgMl0gKyB5XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeV07XHJcbiAgICAgICAgICAgICAgICB2Mlt6XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgel0gLSB2c1szICogaW5kW2kgKyAxXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy9wMiAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2MVt4XSA9IHZzWzMqaW5kW2krMl0reF0gLSB2c1szKmluZFtpKzFdK3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gdjFbeV0gPSB2c1szKmluZFtpKzJdK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3pdID0gdnNbMyppbmRbaSsyXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvLyBwMCAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt4XSA9IHZzWzMqaW5kW2ldK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3ldID0gdnNbMyppbmRbaV0reV0gLSB2c1szKmluZFtpKzFdK3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gdjJbel0gPSB2c1szKmluZFtpXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvL2Nyb3NzIHByb2R1Y3QgYnkgU2FycnVzIFJ1bGVcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt4XSA9IHYxW3ldICogdjJbel0gLSB2MVt6XSAqIHYyW3ldO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3ldID0gdjFbel0gKiB2Mlt4XSAtIHYxW3hdICogdjJbel07XHJcbiAgICAgICAgICAgICAgICBub3JtYWxbel0gPSB2MVt4XSAqIHYyW3ldIC0gdjFbeV0gKiB2Mlt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3hdICs9IG5vcm1hbFt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3ldICs9IG5vcm1hbFt5XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3pdICs9IG5vcm1hbFt6XTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB4XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeF0gKyBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB5XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeV0gKyBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB6XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgel0gKyBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9ub3JtYWxpemUgdGhlIHJlc3VsdFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm4gPSBbXTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbnNbaSArIHhdO1xyXG4gICAgICAgICAgICAgICAgbm5beV0gPSBuc1tpICsgeV07XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5zW2kgKyB6XTtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLnNxcnQoKG5uW3hdICogbm5beF0pICsgKG5uW3ldICogbm5beV0pICsgKG5uW3pdICogbm5bel0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMClcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSAwLjAwMDAxO1xyXG4gICAgICAgICAgICAgICAgbm5beF0gPSBublt4XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbm5beV0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5uW3pdIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHhdID0gbm5beF07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgeV0gPSBublt5XTtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB6XSA9IG5uW3pdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBucztcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuY2FsY3VsYXRlTm9ybWFscyA9IGNhbGN1bGF0ZU5vcm1hbHM7XHJcbiAgICB9KSh1dGlscyA9IEJsYXplLnV0aWxzIHx8IChCbGF6ZS51dGlscyA9IHt9KSk7XHJcbiAgICAoZnVuY3Rpb24gKENBTUVSQV9UWVBFKSB7XHJcbiAgICAgICAgQ0FNRVJBX1RZUEVbQ0FNRVJBX1RZUEVbXCJPUkJJVElOR1wiXSA9IDBdID0gXCJPUkJJVElOR1wiO1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiVFJBQ0tJTkdcIl0gPSAxXSA9IFwiVFJBQ0tJTkdcIjtcclxuICAgIH0pKEJsYXplLkNBTUVSQV9UWVBFIHx8IChCbGF6ZS5DQU1FUkFfVFlQRSA9IHt9KSk7XHJcbiAgICB2YXIgQ0FNRVJBX1RZUEUgPSBCbGF6ZS5DQU1FUkFfVFlQRTtcclxuICAgIHZhciBLZXRjaCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gS2V0Y2goKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCA9IGZ1bmN0aW9uIChrZXksIGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IFdlYkdMVXRpbHMuZ2V0R0xDb250ZXh0KGNhbnZhcyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENvbnRleHQoa2V5LCBjb250ZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtID0gZnVuY3Rpb24gKGtleSwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KGtleSk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gV2ViR0xVdGlscy5jcmVhdGVQcm9ncmFtKGdsLCBzaGFkZXJzKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbShrZXksIHByb2dyYW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHByb2dyYW0pIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbSA9IHByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRQcm9ncmFtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmNyZWF0ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldID0ge307XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJzX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmlldy5hdHRyaWJzID0gYXR0cmlic19uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHByZXZbYXR0cl0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcmcsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldEF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0uYXR0cmlic1thdHRyX2tleV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRVbmlmb3JtID0gZnVuY3Rpb24gKHZpZXdfa2V5LCB1bmlmb3JtX2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS51bmlmb3Jtc1t1bmlmb3JtX2tleV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zID0gZnVuY3Rpb24gKGtleSwgdW5pZm9ybV9uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZpZXcudW5pZm9ybXMgPSB1bmlmb3JtX25hbWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgcHJldlthdHRyXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXksIHBvaW50ZXIpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gS2V0Y2guZ2V0QXR0cmliKHZpZXdfa2V5LCBhdHRyX2tleSk7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQodmlld19rZXkpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGluZGV4LCBwb2ludGVyLnNpemUgfHwgMywgZ2wuRkxPQVQsIHBvaW50ZXIubm9ybWFsaXplZCB8fCBmYWxzZSwgcG9pbnRlci5zdHJpZGUgfHwgMCwgcG9pbnRlci5vZmZzZXQgfHwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGluZGV4LCAzLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBLZXRjaC5nZXRBdHRyaWIodmlld19rZXksIGF0dHJfa2V5KTtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dCh2aWV3X2tleSk7XHJcbiAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5yZW5kZXJMb29wID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHNldEludGVydmFsKGNiLCAzMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5hZGRUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzID0gdmlldy50ZXh0dXJlcyB8fCBbXTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcy5wdXNoKHRleHR1cmVfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2gucmVtb3ZlVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcyA9IHZpZXcudGV4dHVyZXMgfHwgW107XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZpZXcudGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlX2lkKTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guYWN0aXZlVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQsIHRleHR1cmUpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB2aWV3LnRleHR1cmVzLmluZGV4T2YodGV4dHVyZV9pZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGluZGV4ID09PSAwID8gZ2wuVEVYVFVSRTAgOiBnbC5URVhUVVJFMCArIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVTYW1wbGVyID0gS2V0Y2guZ2V0VW5pZm9ybShrZXksIFwidVNhbXBsZXJcIik7XHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVNhbXBsZXIsIGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guaXNPZmZTY3JlZW4gPSBmdW5jdGlvbiAodmlld19rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0ub2Zmc2NyZWVuO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZW5hYmxlT2ZmU2NyZWVuID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1t2aWV3X2tleV0ub2Zmc2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmRpc2FibGVPZmZTY3JlZW4gPSBmdW5jdGlvbiAodmlld19rZXkpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5vZmZzY3JlZW4gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZmlsbFNlbGVjdG9yQnVmZmVyID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBvYmopIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nbdmlld19rZXldO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMgPSB2aWV3LnNlbGVjdE9iamVjdHMgfHwgW107XHJcbiAgICAgICAgICAgIHZpZXcuc2VsZWN0T2JqZWN0cy5wdXNoKG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jbGVhclNlbGVjdG9yQnVmZmVyID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XTtcclxuICAgICAgICAgICAgdmlldy5zZWxlY3RPYmplY3RzID0gW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRTZWxlY3RCeUNvbG9yID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBjb2xvcikge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1t2aWV3X2tleV07XHJcbiAgICAgICAgICAgIHZpZXcuc2VsZWN0T2JqZWN0cyA9IHZpZXcuc2VsZWN0T2JqZWN0cyB8fCBbXTtcclxuICAgICAgICAgICAgcmV0dXJuIF8uZmluZCh2aWV3LnNlbGVjdE9iamVjdHMsIGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5pc0VxdWFsKG8uY29sb3IsIGNvbG9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5fdmlld3MgPSB7fTtcclxuICAgICAgICByZXR1cm4gS2V0Y2g7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuS2V0Y2ggPSBLZXRjaDtcclxuICAgIHZhciBSZW5kZXJhYmxlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBSZW5kZXJhYmxlKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyYXBoX2lkID0gZ3JhcGhfaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJhYmxlLnByb3RvdHlwZSwgXCJncmFwaElEXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ3JhcGhfaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJhYmxlLnByb3RvdHlwZSwgXCJnbFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldENvbnRleHQodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcInByb2dyYW1cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRQcm9ncmFtKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFJlbmRlcmFibGUucHJvdG90eXBlLmdldFVuaWZvcm0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRVbmlmb3JtKHRoaXMuZ3JhcGhJRCwga2V5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBSZW5kZXJhYmxlO1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLlJlbmRlcmFibGUgPSBSZW5kZXJhYmxlO1xyXG4gICAgdmFyIEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBFbnRpdHkoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRW50aXR5O1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5FbnRpdHkgPSBFbnRpdHk7XHJcbiAgICB2YXIgTWF0cml4U3RhY2sgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhNYXRyaXhTdGFjaywgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBNYXRyaXhTdGFjayhncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcE1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX25NYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNvcHkgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICBtYXQ0LnNldCh0aGlzLl9tdk1hdHJpeCwgY29weSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrLnB1c2goY29weSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhY2subGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcImludmFsaWQgcG9wTWF0cml4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gdGhpcy5fc3RhY2sucG9wKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuTW9kZWxWaWV3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tdk1hdHJpeCA9IHRoaXMuX2NhbWVyYS5tb2RlbFZpZXc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX212TWF0cml4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJtdk1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX212TWF0cml4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcInBNYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wTWF0cml4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIm5NYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uTWF0cml4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIk1haW5DYW1lcmFcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbWVyYSA9IGNhbWVyYTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLlBlcnNwZWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LnBlcnNwZWN0aXZlKDQ1LCBnbC52aWV3cG9ydFdpZHRoIC8gZ2wudmlld3BvcnRIZWlnaHQsIDAuMSwgMTAwMC4wLCB0aGlzLl9wTWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5Ob3JtYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQuc2V0KHRoaXMuX212TWF0cml4LCB0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5pbnZlcnNlKHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LnRyYW5zcG9zZSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLk1vZGVsVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLlBlcnNwZWN0aXZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTm9ybWFsKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuc2V0VXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuTm9ybWFsKCk7XHJcbiAgICAgICAgICAgIHZhciBtdk1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVNVk1hdHJpeFwiKTtcclxuICAgICAgICAgICAgaWYgKG12TWF0cml4KVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihtdk1hdHJpeCwgZmFsc2UsIHRoaXMuX212TWF0cml4KTtcclxuICAgICAgICAgICAgdmFyIHBNYXRyaXggPSB0aGlzLmdldFVuaWZvcm0oXCJ1UE1hdHJpeFwiKTtcclxuICAgICAgICAgICAgaWYgKHBNYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHBNYXRyaXgsIGZhbHNlLCB0aGlzLl9wTWF0cml4KTtcclxuICAgICAgICAgICAgdmFyIG5NYXRyaXggPSB0aGlzLmdldFVuaWZvcm0oXCJ1Tk1hdHJpeFwiKTtcclxuICAgICAgICAgICAgaWYgKG5NYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KG5NYXRyaXgsIGZhbHNlLCB0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBNYXRyaXhTdGFjaztcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuTWF0cml4U3RhY2sgPSBNYXRyaXhTdGFjaztcclxuICAgIHZhciBSZXNvdXJjZXM7XHJcbiAgICAoZnVuY3Rpb24gKFJlc291cmNlcykge1xyXG4gICAgICAgIHZhciBNZXNoQnVmZmVycyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoQnVmZmVycywgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaEJ1ZmZlcnMoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIm9ubG9hZFwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwic3JjXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBleHQgPSB1dGlscy5nZXRFeHRlbnNpb24oc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlscy5sb2FkKHNyYywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJvYmpcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBzZWxmLnBhcnNlT0JKKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBzZWxmLnBhcnNlSlNPTihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZUJ1ZmZlcnMob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vbmxvYWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb25sb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLnBhcnNlSlNPTiA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLnBhcnNlT0JKID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdm46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZ0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaW46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0OiBbXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmVydGV4ID0gbGluZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gPT09ICd2JztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gbGluZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gPT09ICdmJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmVydGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnJlcGxhY2UoXCJcXHJcIiwgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBlbGVtc1swXTtcclxuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IG9ialtrZXldLmNvbmNhdChlbGVtcy5zbGljZSgxKS5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgIT09IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEluZGV4ID0gW107XHJcbiAgICAgICAgICAgICAgICBpbmRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gaXRlbS5yZXBsYWNlKFwiXFxyXCIsIFwiXCIpLnJlcGxhY2UoXCJmXCIsIFwiXCIpLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wSW5kZXggPSB0ZW1wSW5kZXguY29uY2F0KGVsZW1zLnNsaWNlKDEpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAhPT0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRlbXBJbmRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gaXRlbS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLml2LnB1c2gocGFyc2VJbnQoZWxlbXNbMF0pIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmluLnB1c2gocGFyc2VJbnQoZWxlbXNbMV0pIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLml0LnB1c2gocGFyc2VJbnQoZWxlbXNbMl0pIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE1lc2hCdWZmZXJzLnByb3RvdHlwZS5jcmVhdGVCdWZmZXJzID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgICAgIF8uZGVmYXVsdHMob2JqLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdm46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZ0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaW46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0OiBbXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVCdWZmZXIoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJHTFV0aWxzLmNyZWF0ZUJ1ZmZlcihnbCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnYubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92Ym8gPSBjcmVhdGVCdWZmZXIob2JqLnYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai52Lmxlbmd0aCA+IDAgJiYgb2JqLml2Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYm8gPSBjcmVhdGVCdWZmZXIodXRpbHMuY2FsY3VsYXRlTm9ybWFscyhvYmoudiwgb2JqLml2KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnZ0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90Ym8gPSBXZWJHTFV0aWxzLmNyZWF0ZUJ1ZmZlcihnbCwgb2JqLnZ0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4QnVmZmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV2ViR0xVdGlscy5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLml2Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXZibyA9IGNyZWF0ZUluZGV4QnVmZmVyKG9iai5pdik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLmluLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5ibyA9IGNyZWF0ZUluZGV4QnVmZmVyKG9iai5pbik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLml0Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRibyA9IGNyZWF0ZUluZGV4QnVmZmVyKG9iai5pdCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwidmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJuYm9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcInRib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaXZib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXZibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcImluYm9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luYm87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpdGJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoQnVmZmVycztcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnMgPSBNZXNoQnVmZmVycztcclxuICAgICAgICB2YXIgTWVzaFRleHR1cmUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICBfX2V4dGVuZHMoTWVzaFRleHR1cmUsIF9zdXBlcik7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1lc2hUZXh0dXJlKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb2lkID0gdXRpbHMudXVpZCh0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoVGV4dHVyZS5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbWFnZS5vbmxvYWQgPSB0aGlzLmxvYWRUZXh0dXJlSW1hZ2UodGhpcy5fb25sb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoVGV4dHVyZS5wcm90b3R5cGUubG9hZFRleHR1cmVJbWFnZSA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBXZWJHTFV0aWxzLmNyZWF0ZVRleHR1cmUoc2VsZi5nbCwgc2VsZi5faW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIEtldGNoLmFkZFRleHR1cmUoc2VsZi5ncmFwaElELCBzZWxmLl9vaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYilcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoVGV4dHVyZS5wcm90b3R5cGUsIFwiY29udGVudFwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gTWVzaFRleHR1cmU7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hUZXh0dXJlID0gTWVzaFRleHR1cmU7XHJcbiAgICAgICAgdmFyIE1lc2hNYXRlcmlhbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoTWF0ZXJpYWwsIF9zdXBlcik7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1lc2hNYXRlcmlhbChncmFwaF9pZCwgYW1iaWVudCwgZGlmZnVzZSwgc3BlY3VsYXIsIHNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IGFtYmllbnQgPyB2ZWM0LmNyZWF0ZShhbWJpZW50KSA6IHZlYzQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gZGlmZnVzZSA/IHZlYzQuY3JlYXRlKGRpZmZ1c2UpIDogdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSBzcGVjdWxhciA/IHZlYzQuY3JlYXRlKHNwZWN1bGFyKSA6IHZlYzQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSBzaGluaW5lc3MgfHwgMjAwLjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic3JjXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHNlbGYucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9hbWJpZW50ID0gdGVtcC5LYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RpZmZ1c2UgPSB0ZW1wLktkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3BlY3VsYXIgPSB0ZW1wLktzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaGluaW5lc3MgPSB0ZW1wLk5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gW1wiS2FcIiwgXCJLZFwiLCBcIktzXCIsIFwiTnNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSBkYXRhLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGxpbmUuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBlbGVtc1swXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5pbmRleE9mKGtleSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5zXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW1wiTnNcIl0gPSBOdW1iZXIoZWxlbXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZWxlbXMuc2xpY2UoMSkubWFwKGZ1bmN0aW9uIChhKSB7IHJldHVybiBOdW1iZXIoYSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaCgxLjApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiYW1iaWVudFwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW1iaWVudDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShhbWJpZW50KSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiZGlmZnVzZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShkaWZmdXNlKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic3BlY3VsYXJcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWN1bGFyO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoc3BlY3VsYXIpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzaGluaW5lc3NcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoaW5pbmVzcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hpbmluZXNzID0gdjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoTWF0ZXJpYWwgPSBNZXNoTWF0ZXJpYWw7XHJcbiAgICB9KShSZXNvdXJjZXMgPSBCbGF6ZS5SZXNvdXJjZXMgfHwgKEJsYXplLlJlc291cmNlcyA9IHt9KSk7XHJcbiAgICB2YXIgU2hhZGVycztcclxuICAgIChmdW5jdGlvbiAoU2hhZGVycykge1xyXG4gICAgICAgIHZhciBGcmFnbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEZyYWdtZW50KCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlBhcnRpY2xlID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcblxcbmJvb2wgaXNCbGFjayh2ZWM0IGNvbG9yKXtcXG5yZXR1cm4gY29sb3Iucj09MC4wICYmY29sb3IuZz09MC4wJiZjb2xvci5iPT0wLjA7XFxufVxcbnZvaWQgbWFpbih2b2lkKSB7IFxcbiAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgfWVsc2V7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgZ2xfUG9pbnRDb29yZCk7XFxuICAgIGlmKGdsX0ZyYWdDb2xvci5hIDwgMC41IHx8IGlzQmxhY2soZ2xfRnJhZ0NvbG9yKSkgZGlzY2FyZDtcXG4gICAgfVxcbn1cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuUGhvbmcgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdVNoaW5pbmVzcztcXG51bmlmb3JtIHZlYzMgdUxpZ2h0RGlyZWN0aW9uO1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TGlnaHREaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TGlnaHRTcGVjdWxhcjtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG5cXG51bmlmb3JtIGJvb2wgdU9mZnNjcmVlbjtcXG51bmlmb3JtIHZlYzQgdVNlbGVjdENvbG9yO1xcblxcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxTcGVjdWxhcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICBcXG5cXG4gICAgICAgIGlmKHVPZmZzY3JlZW4pe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj11U2VsZWN0Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICBcXG4gICAgICAgIHZlYzMgTD0gbm9ybWFsaXplKHVMaWdodERpcmVjdGlvbik7XFxuICAgICAgICB2ZWMzIE49IG5vcm1hbGl6ZSh2Tm9ybWFsKTtcXG4gICAgICAgIGZsb2F0IGxhbWJlcnRUZXJtPWRvdChOLCAtTCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWE9IHVMaWdodEFtYmllbnQqdU1hdGVyaWFsQW1iaWVudDtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJZD12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSXM9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZihsYW1iZXJ0VGVybT4wLjApXFxuICAgICAgICB7XFxuICAgICAgICAgICAgSWQ9dUxpZ2h0RGlmZnVzZSp1TWF0ZXJpYWxEaWZmdXNlKmxhbWJlcnRUZXJtO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHZlYzMgRT0gbm9ybWFsaXplKHZFeWVWZWMpO1xcbiAgICAgICAgICAgIHZlYzMgUj0gcmVmbGVjdChMLCBOKTtcXG4gICAgICAgICAgICBmbG9hdCBzcGVjdWxhcj1wb3cobWF4KGRvdChSLEUpLDAuMCksIHVTaGluaW5lc3MpO1xcbiAgICAgICAgICAgIElzPXVMaWdodFNwZWN1bGFyKnVNYXRlcmlhbFNwZWN1bGFyKnNwZWN1bGFyO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGZpbmFsQ29sb3I9SWErSWQrSXM7XFxuICAgICAgICBmaW5hbENvbG9yLmE9MS4wO1xcbiAgICBcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9ZmluYWxDb2xvcjtcXG4gICAgICAgIFxcbiAgICAgICAgXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5QaG9uZ19wb3NpdGlvbmFsID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxuXFxudW5pZm9ybSB2ZWM0IHVMaWdodEFtYmllbnQ7XFxudW5pZm9ybSB2ZWM0IHVMaWdodERpZmZ1c2U7XFxuXFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBib29sIHVPZmZzY3JlZW47XFxudW5pZm9ybSB2ZWM0IHVTZWxlY3RDb2xvcjtcXG5cXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RGlyO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgICAgICBpZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgIFxcblxcbiAgICAgICAgaWYodU9mZnNjcmVlbil7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPXVTZWxlY3RDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgIFxcbiAgICAgICAgdmVjMyBMPSBub3JtYWxpemUodkxpZ2h0RGlyKTtcXG4gICAgICAgIHZlYzMgTj0gbm9ybWFsaXplKHZOb3JtYWwpO1xcbiAgICAgICAgZmxvYXQgbGFtYmVydFRlcm09ZG90KE4sIC1MKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJYT0gdUxpZ2h0QW1iaWVudDtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJZD12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSXM9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZihsYW1iZXJ0VGVybT4wLjApXFxuICAgICAgICB7XFxuICAgICAgICAgICAgSWQ9dU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHREaWZmdXNlKnNwZWN1bGFyO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGZpbmFsQ29sb3I9SWErSWQrSXM7XFxuICAgICAgICBmaW5hbENvbG9yLmE9MS4wO1xcbiAgICBcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9ZmluYWxDb2xvcjtcXG4gICAgICAgIFxcbiAgICAgICAgXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5Ub29uID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxudW5pZm9ybSB2ZWMzIHVMaWdodERpcmVjdGlvbjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TGlnaHREaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcblxcbnVuaWZvcm0gYm9vbCB1T2Zmc2NyZWVuO1xcbnVuaWZvcm0gdmVjNCB1U2VsZWN0Q29sb3I7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdlZlcnRleDtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG4gICAgICBcXG5cXG4gICAgICAgIGlmKHVPZmZzY3JlZW4pe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj11U2VsZWN0Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdmVjNCBjb2xvcjA9dmVjNCh1TWF0ZXJpYWxEaWZmdXNlLnJnYiwxLjApO1xcbiAgICAgICAgdmVjNCBjb2xvcjE9dmVjNCgwLjAsMC4wLDAuMCwgMS4wKTtcXG4gICAgICAgIHZlYzQgY29sb3IyPXZlYzQodU1hdGVyaWFsRGlmZnVzZS5yZ2IsIDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzMgTj0gdk5vcm1hbDtcXG4gICAgICAgIHZlYzMgTCA9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb24pO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGV5ZVBvcz0gdU1WTWF0cml4KnZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjMyBFeWVWZXJ0ID0gbm9ybWFsaXplKC1leWVQb3MueHl6KTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjMyBFeWVMaWdodD1ub3JtYWxpemUoTCtFeWVWZXJ0KTtcXG4gICAgICAgIFxcbiAgICAgICAgZmxvYXQgc2lsPSBtYXgoZG90KE4sIEV5ZVZlcnQpLCAwLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZiggc2lsPDAuNCl7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPWNvbG9yMTtcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgICBnbF9GcmFnQ29sb3I9Y29sb3IwO1xcbiAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgZmxvYXQgc3BlYz1wb3cobWF4KGRvdChOLCBFeWVMaWdodCksIDAuMCksIHVTaGluaW5lc3MpO1xcbiAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgaWYoc3BlYzwwLjIpIGdsX0ZyYWdDb2xvcio9MC44O1xcbiAgICAgICAgICAgICBlbHNlIGdsX0ZyYWdDb2xvcj1jb2xvcjI7XFxuICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICBmbG9hdCBkaWZmdXNlPW1heChkb3QoTiwgTCksIDAuMCk7XFxuICAgICAgICAgICAgIGlmKGRpZmZ1c2U8MC41KWdsX0ZyYWdDb2xvcio9MC44O1xcbiAgICAgICAgfVxcblxcblxcblxcblxcblxcbn1cXG5cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgcmV0dXJuIEZyYWdtZW50O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5GcmFnbWVudCA9IEZyYWdtZW50O1xyXG4gICAgICAgIHZhciBWZXJ0ZXggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBWZXJ0ZXgoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVmVydGV4LlBhcnRpY2xlID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBmbG9hdCB1UG9pbnRTaXplO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcbnVuaWZvcm0gYm9vbCB1UGVyVmVydGV4Q29sb3I7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxuXFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcblxcbiBpZih1V2lyZWZyYW1lKXtcXG5cXHQgXFxuXFx0IFxcdGlmKHVQZXJWZXJ0ZXhDb2xvcil7XFxuXFx0IFxcdFxcdCB2Q29sb3I9YV9jb2xvcjtcXG5cXHQgXFx0fWVsc2V7XFxuXFx0IFxcdFxcdHZDb2xvcj11TWF0ZXJpYWxEaWZmdXNlO1xcblxcdCBcXHR9XFxuXFx0IFxcblxcdFxcblxcdCB9XFxuICAgIFxcbiAgICBnbF9Qb3NpdGlvbiA9IHVQTWF0cml4ICogdU1WTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLnh5eiwgMS4wKTtcXG4gICAgZ2xfUG9pbnRTaXplID0gdVBvaW50U2l6ZTtcXG59XCI7XHJcbiAgICAgICAgICAgIFZlcnRleC5QaG9uZyA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Tk1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgIHZlYzQgdmVydGV4ID0gdU1WTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApO1xcblxcdFxcblxcdFxcblxcdCBpZih1V2lyZWZyYW1lKXtcXG5cXHQgXFxuXFx0IFxcdGlmKHVQZXJWZXJ0ZXhDb2xvcil7XFxuXFx0IFxcdFxcdCB2Q29sb3I9YV9jb2xvcjtcXG5cXHQgXFx0fWVsc2V7XFxuXFx0IFxcdFxcdHZDb2xvcj11TWF0ZXJpYWxEaWZmdXNlO1xcblxcdCBcXHR9XFxuXFx0IFxcblxcdFxcblxcdCB9ZWxzZXtcXG5cXHRcXG5cXHR2Tm9ybWFsID0gdmVjMyh1Tk1hdHJpeCAqIHZlYzQoYV9ub3JtYWwsIDEuMCkpO1xcblxcdHZFeWVWZWM9LXZlYzModmVydGV4Lnh5eik7ICBcXG5cXHRcXG5cXHR9XFxuXFx0IFxcblxcdGdsX1Bvc2l0aW9uID11UE1hdHJpeCAqIHZlcnRleDtcXG5cXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIFZlcnRleC5QaG9uZ19wb3NpdGlvbmFsID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFfbm9ybWFsO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVOTWF0cml4O1xcblxcbnVuaWZvcm0gdmVjMyB1TGlnaHRQb3NpdGlvbjtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjMyB2TGlnaHREaXI7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgdmVjNCB2ZXJ0ZXggPSB1TVZNYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuXFx0XFxuXFx0XFxuXFx0IGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1lbHNle1xcblxcdFxcblxcdHZOb3JtYWwgPSB2ZWMzKHVOTWF0cml4ICogdmVjNChhX25vcm1hbCwgMS4wKSk7XFxuICAgIHZMaWdodERpcj12ZXJ0ZXgueHl6LXVMaWdodFBvc2l0aW9uOyAgXFxuXFx0dkV5ZVZlYz0tdmVjMyh2ZXJ0ZXgueHl6KTsgIFxcblxcdFxcblxcdH1cXG5cXHQgXFxuXFx0Z2xfUG9zaXRpb24gPXVQTWF0cml4ICogdmVydGV4O1xcblxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgVmVydGV4LlRvb24gPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU5NYXRyaXg7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSBib29sIHVQZXJWZXJ0ZXhDb2xvcjtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdlZlcnRleDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcbiAgICBcXG4gICAgdmVjNCBub3JtYWw9IHVOTWF0cml4ICogdmVjNChhX25vcm1hbCwxLjApO1xcbiAgICBcXG4gICAgIGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1lbHNle1xcbiAgICBcXG4gICAgdk5vcm1hbD1ub3JtYWwueHl6O1xcbiAgICB2VmVydGV4PWFfcG9zaXRpb247XFxuICAgIH1cXG4gICAgXFxuICAgIGdsX1Bvc2l0aW9uPXVQTWF0cml4KnVNVk1hdHJpeCp2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuICAgIFxcbiAgICBcXG4gICAgXFxuICAgIFxcblxcbn1cIjtcclxuICAgICAgICAgICAgcmV0dXJuIFZlcnRleDtcclxuICAgICAgICB9KCkpO1xyXG4gICAgICAgIFNoYWRlcnMuVmVydGV4ID0gVmVydGV4O1xyXG4gICAgfSkoU2hhZGVycyA9IEJsYXplLlNoYWRlcnMgfHwgKEJsYXplLlNoYWRlcnMgPSB7fSkpO1xyXG4gICAgdmFyIEFuaW1hdGlvbkVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEFuaW1hdGlvbkVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb25FbnRpdHkoZ3JhcGhfaWQsIGZyZXF1ZW5jeSwgdGltZXMsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fZnJlcXVlbmN5ID0gZnJlcXVlbmN5O1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbF9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUub25GcmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgPSB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICBpZiAoQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgPCA1KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSBNYXRoLmZsb29yKEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lIC8gdGhpcy5fZnJlcXVlbmN5KTtcclxuICAgICAgICAgICAgd2hpbGUgKChzdGVwcyA+IDApICYmIChBbmltYXRpb25FbnRpdHkuQ291bnQgIT0gdGhpcy5fdGltZXMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgc3RlcHMtLTtcclxuICAgICAgICAgICAgICAgIEFuaW1hdGlvbkVudGl0eS5Db3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChBbmltYXRpb25FbnRpdHkuQ291bnQgPT09IHRoaXMuX3RpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5faW50aW1lID0gdXRpbHMubm93SW5NaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxfaWQgPSBzZXRJbnRlcnZhbCh0aGlzLm9uRnJhbWUsIHRoaXMuX2ZyZXF1ZW5jeSAvIDEwMDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWxfaWQpXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LkNvdW50ID0gMDtcclxuICAgICAgICByZXR1cm4gQW5pbWF0aW9uRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkFuaW1hdGlvbkVudGl0eSA9IEFuaW1hdGlvbkVudGl0eTtcclxuICAgIHZhciBNZXNoRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTWVzaEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBNZXNoRW50aXR5KGdyYXBoX2lkLCBtZXNoZmlsZSwgbWF0ZXJpYWxmaWxlLCB0ZXh0dXJlZmlsZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXNoZmlsZSA9IG1lc2hmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsZmlsZSA9IG1hdGVyaWFsZmlsZSB8fCBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlZmlsZSA9IHRleHR1cmVmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRCdWZmZXJzID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbmV3IFJlc291cmNlcy5NZXNoQnVmZmVycyh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZFRleHR1cmUgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBuZXcgUmVzb3VyY2VzLk1lc2hUZXh0dXJlKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEVudGl0eS5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNYXRlcmlhbCA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBuZXcgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWVzaCA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGFzeW5jLndhdGVyZmFsbChbXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5fbWVzaGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIEJ1ZmZlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkQnVmZmVycyhzZWxmLl9tZXNoZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBCdWZmZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl90ZXh0dXJlZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRUZXh0dXJlKHNlbGYuX3RleHR1cmVmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIFRleHR1cmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5fbWF0ZXJpYWxmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBNYXRlcmlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRNYXRlcmlhbChzZWxmLl9tYXRlcmlhbGZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgTWF0ZXJpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXSwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycilcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYilcclxuICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNZXNoQnlPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgUmVzb3VyY2VzLk1lc2hCdWZmZXJzKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1hdGVyaWFsQnlPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbmV3IFJlc291cmNlcy5NZXNoTWF0ZXJpYWwodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgaWYgKG9iai5hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5hbWJpZW50ID0gb2JqLmFtYmllbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIgPSBvYmouc3BlY3VsYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlID0gb2JqLmRpZmZ1c2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5zaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcyA9IG9iai5zaGluaW5lc3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLnNldE1hdGVyaWFsVW5pZm9ybXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbEFtYmllbnQgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxBbWJpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxBbWJpZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbEFtYmllbnQsIHRoaXMuX21hdGVyaWFsLmFtYmllbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgdGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsU3BlY3VsYXIgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxTcGVjdWxhclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsU3BlY3VsYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsU3BlY3VsYXIsIHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdVNoaW5pbmVzcyA9IHRoaXMuZ2V0VW5pZm9ybShcInVTaGluaW5lc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVTaGluaW5lc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1U2hpbmluZXNzLCB0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TWF0ZXJpYWxVbmlmb3JtcygpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVycy52Ym8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLm5ibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9ub3JtYWxcIik7XHJcbiAgICAgICAgICAgIHZhciBpdmJvID0gdGhpcy5fYnVmZmVycy5pdmJvO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpdmJvKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgaXZiby5udW1JdGVtcywgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9ub3JtYWxcIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTWVzaEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5NZXNoRW50aXR5ID0gTWVzaEVudGl0eTtcclxuICAgIHZhciBUcmFuc2Zvcm1FbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhUcmFuc2Zvcm1FbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNmb3JtRW50aXR5KGdyYXBoX2lkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplIHx8IHZlYzMuY3JlYXRlKFsxLCAxLCAxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb24gfHwgeyBhbmdsZTogMCwgYXhpczogdmVjMy5jcmVhdGUoKSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldE1hdHJpeCA9IGZ1bmN0aW9uIChuZXdfbWF0cml4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG5ld19tYXRyaXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnRyYW5zcG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC50cmFuc3Bvc2UodGhpcy5fbWF0cml4LCB0aGlzLl9tYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QWJzb2x1dGVQb3NpdGlvbiA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gW3gsIHksIHpdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJzaXplXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBbeCwgeSwgel07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9zaXplKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gKGFuZ2xlLCBheGlzKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmdsZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgICAgIGlmIChheGlzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYXhpcyA9IGF4aXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEFuZ2xlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEF4aXMgPSBmdW5jdGlvbiAoYXhpcykge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5heGlzID0gYXhpcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUucm90YXRlQW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlICs9IGFuZ2xlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5tb3ZlQXhpcyA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3JvdGF0aW9uLmF4aXM7XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fcm90YXRpb24uYXhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5wdXNoKCk7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLk1vZGVsVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXhTdGFjay5tdk1hdHJpeDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uICE9IHZvaWQgMClcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2l6ZSAhPSB2b2lkIDApXHJcbiAgICAgICAgICAgICAgICBtYXQ0LnNjYWxlKHRoaXMuX21hdHJpeCwgdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPSB2b2lkIDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByYWQgPSB0aGlzLl9yb3RhdGlvbi5hbmdsZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZSh0aGlzLl9tYXRyaXgsIHJhZCwgdGhpcy5fcm90YXRpb24uYXhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF0cml4U3RhY2suc2V0VXAoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBUcmFuc2Zvcm1FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuVHJhbnNmb3JtRW50aXR5ID0gVHJhbnNmb3JtRW50aXR5O1xyXG4gICAgdmFyIExpZ2h0RW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTGlnaHRFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTGlnaHRFbnRpdHkoZ3JhcGhfaWQsIGFtYmllbnQsIGRpZmZ1c2UsIHBvc2l0aW9uLCBzcGVjdWxhciwgZGlyZWN0aW9uLCBjdXRvZmYpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IGRpZmZ1c2UgPyB2ZWM0LmNyZWF0ZShkaWZmdXNlKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb24gPyB2ZWM0LmNyZWF0ZShwb3NpdGlvbikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uID8gdmVjMy5jcmVhdGUoZGlyZWN0aW9uKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1dG9mZiA9IGN1dG9mZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW1iaWVudDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShhbWJpZW50KSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiZGlmZnVzZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoZGlmZnVzZSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcInNwZWN1bGFyXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzMuY3JlYXRlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiZGlyZWN0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWMzLmNyZWF0ZShkaXJlY3Rpb24pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJjdXRPZmZcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXRvZmY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGN1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3V0b2ZmID0gY3V0b2ZmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBMaWdodEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodEFtYmllbnQgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRBbWJpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRBbWJpZW50LCB0aGlzLl9hbWJpZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHREaWZmdXNlLCB0aGlzLl9kaWZmdXNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodFNwZWN1bGFyKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0U3BlY3VsYXIsIHRoaXMuX3NwZWN1bGFyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRQb3NpdGlvbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodFBvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodUxpZ2h0UG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdURpcmVjdGlvbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodERpcmVjdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1RGlyZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodURpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUN1dE9mZiA9IHRoaXMuZ2V0VW5pZm9ybShcInVDdXRPZmZcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUN1dE9mZilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodUN1dE9mZiwgdGhpcy5fY3V0b2ZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTGlnaHRFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTGlnaHRFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuTGlnaHRFbnRpdHkgPSBMaWdodEVudGl0eTtcclxuICAgIHZhciBEaWZmdXNlRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRGlmZnVzZUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBEaWZmdXNlRW50aXR5KGdyYXBoX2lkLCB2KSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlmZnVzZUVudGl0eS5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBEaWZmdXNlRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIHRoaXMuX3ZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRGlmZnVzZUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5EaWZmdXNlRW50aXR5ID0gRGlmZnVzZUVudGl0eTtcclxuICAgIHZhciBQYXJ0aWNsZUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFBhcnRpY2xlRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFBhcnRpY2xlRW50aXR5KGdyYXBoX2lkLCBwb2ludFNpemUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludFNpemUgPSBwb2ludFNpemUgfHwgMTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZV9pZCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoZGF0YV9tZXNoLCBkYXRhX3RleHR1cmUpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhX21lc2gpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fbnVtSXRlbXMgPSBkYXRhX21lc2gubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlX2lkID0gdXRpbHMudXVpZChcIlRleHR1cmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBXZWJHTFV0aWxzLmNyZWF0ZVRleHR1cmUoZ2wsIGRhdGFfdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmFkZFRleHR1cmUodGhpcy5ncmFwaElELCB0aGlzLl90ZXh0dXJlX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9udW1JdGVtcyA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZSwgXCJ0ZXh0dXJlSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlX2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVFbnRpdHkucHJvdG90eXBlLCBcInBvaW50U2l6ZVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50U2l6ZSA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1UG9pbnRTaXplID0gdGhpcy5nZXRVbmlmb3JtKFwidVBvaW50U2l6ZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVQb2ludFNpemUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodVBvaW50U2l6ZSwgdGhpcy5fcG9pbnRTaXplKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgS2V0Y2guYWN0aXZlVGV4dHVyZSh0aGlzLmdyYXBoSUQsIHRoaXMuX3RleHR1cmVfaWQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlBPSU5UUywgMCwgdGhpcy5fbnVtSXRlbXMgLyAzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUGFydGljbGVFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuUGFydGljbGVFbnRpdHkgPSBQYXJ0aWNsZUVudGl0eTtcclxuICAgIHZhciBDYW1lcmFFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhDYW1lcmFFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FtZXJhRW50aXR5KGdyYXBoX2lkLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGUgfHwgQ0FNRVJBX1RZUEUuT1JCSVRJTkc7XHJcbiAgICAgICAgICAgIHRoaXMuX2NtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX2NtYXRyaXgpO1xyXG4gICAgICAgICAgICB0aGlzLl91cCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0ID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbm9ybWFsID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9hemltdXRoID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gPSAwLjA7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZXBzID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwidHlwZVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJhemltdXRoXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXppbXV0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYXopIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wX2F6ID0gYXogLSB0aGlzLl9hemltdXRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBemltdXRoKHRlbXBfYXopO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNoYW5nZUF6aW11dGggPSBmdW5jdGlvbiAoYXopIHtcclxuICAgICAgICAgICAgdGhpcy5fYXppbXV0aCArPSBhejtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2F6aW11dGggPiAzNjAgfHwgdGhpcy5fYXppbXV0aCA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2F6aW11dGggPSB0aGlzLl9hemltdXRoICUgMzYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJlbGV2YXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGV2YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcF9lbCA9IGVsIC0gdGhpcy5fZWxldmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VFbGV2YXRpb24odGVtcF9lbCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2hhbmdlRWxldmF0aW9uID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiArPSBlbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VsZXZhdGlvbiA+IDM2MCB8fCB0aGlzLl9lbGV2YXRpb24gPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb24gJSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInpvb21cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGVwcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBwID0gdGhpcy5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIHZhciBzdGVwID0gb2Zmc2V0IC0gdGhpcy5fc3RlcHM7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl9ub3JtYWwsIG4pO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld19wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMF0gPSBwWzBdIC0gc3RlcCAqIG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzFdID0gcFsxXSAtIHN0ZXAgKiBuWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsyXSA9IHBbMl0gLSBzdGVwICogblsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblswXSA9IHBbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzFdID0gcFsxXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMl0gPSBwWzJdIC0gc3RlcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXdfcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGVwcyA9IG9mZnNldDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jYWxjdWxhdGVPcmllbnRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG0gPSB0aGlzLl9jbWF0cml4O1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMSwgMCwgMCwgMF0sIHRoaXMuX3JpZ2h0KTtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzAsIDEsIDAsIDBdLCB0aGlzLl91cCk7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAwLCAxLCAwXSwgdGhpcy5fbm9ybWFsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX2NtYXRyaXgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fY21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVZKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2F6aW11dGggKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWCh0aGlzLl9jbWF0cml4LCB0aGlzLl9lbGV2YXRpb24gKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWSh0aGlzLl9jbWF0cml4LCB0aGlzLl9hemltdXRoICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVgodGhpcy5fY21hdHJpeCwgdGhpcy5fZWxldmF0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9jbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KHRoaXMuX2NtYXRyaXgsIFswLCAwLCAwLCAxXSwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJtb2RlbFZpZXdcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIG1hdDQuaW52ZXJzZSh0aGlzLl9jbWF0cml4LCBtKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQ2FtZXJhRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkNhbWVyYUVudGl0eSA9IENhbWVyYUVudGl0eTtcclxuICAgIHZhciBBeGlzRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQXhpc0VudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBBeGlzRW50aXR5KGdyYXBoX2lkLCBkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgZCA9IGQgfHwgMTAwO1xyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IFswLjAsIDAuMCwgMC4wLCBkLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBkLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBkXTtcclxuICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IFswLCAxLCAyLCAzLCA0LCA1XTtcclxuICAgICAgICAgICAgdGhpcy5fY29sb3JzID0gWzEsIDEsIDAsIDEsIDEsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDAsIDEsIDEsIDAsIDAsIDEsIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl92Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZlcnRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KHRoaXMuX2luZGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fY2JvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fY29sb3JzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXhpc0VudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdVBlclZlcnRleENvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVBlclZlcnRleENvbG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBlclZlcnRleENvbG9yKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVQZXJWZXJ0ZXhDb2xvciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9jYm8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfY29sb3JcIiwgeyBzaXplOiA0IH0pO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuTElORVMsIHRoaXMuX2luZGljZXMubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgdmFyIHVQZXJWZXJ0ZXhDb2xvciA9IHRoaXMuZ2V0VW5pZm9ybShcInVQZXJWZXJ0ZXhDb2xvclwiKTtcclxuICAgICAgICAgICAgaWYgKHVQZXJWZXJ0ZXhDb2xvcilcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1UGVyVmVydGV4Q29sb3IsIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9jb2xvclwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBBeGlzRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkF4aXNFbnRpdHkgPSBBeGlzRW50aXR5O1xyXG4gICAgdmFyIEdyaWRFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhHcmlkRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEdyaWRFbnRpdHkoZ3JhcGhfaWQsIGQsIGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaW1lc2lvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBkaW06IGQgfHwgNTAsIGxpbmVzOiBlIHx8IDUwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoKTtcclxuICAgICAgICAgICAgdGhpcy5fdmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLl92ZXJ0aWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5faWJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheSh0aGlzLl9pbmRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmMgPSAyICogdGhpcy5fZGltZXNpb25zLmRpbSAvIHRoaXMuX2RpbWVzaW9ucy5saW5lcztcclxuICAgICAgICAgICAgdmFyIHYgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPD0gdGhpcy5fZGltZXNpb25zLmxpbmVzOyBsKyspIHtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGxdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgMV0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDJdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgM10gPSB0aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDRdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyA1XSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGxdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDFdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgMl0gPSAtdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgM10gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgNF0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyA1XSA9IHRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICBpWzIgKiBsXSA9IDIgKiBsO1xyXG4gICAgICAgICAgICAgICAgaVsyICogbCArIDFdID0gMiAqIGwgKyAxO1xyXG4gICAgICAgICAgICAgICAgaVsyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGxdID0gMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsO1xyXG4gICAgICAgICAgICAgICAgaVsyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGwgKyAxXSA9IDIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbCArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdmVydGljZXMgPSB2O1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VzID0gaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgWzAuNywgMC43LCAwLjcsIDFdKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLkxJTkVTLCB0aGlzLl9pbmRpY2VzLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gR3JpZEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5HcmlkRW50aXR5ID0gR3JpZEVudGl0eTtcclxuICAgIHZhciBTZWxlY3RFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTZWxlY3RFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2VsZWN0RW50aXR5KGdyYXBoX2lkLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fY29sb3IgPSB0aGlzLmdlbmVyYXRlVW5pcXVlQ29sb3IoKTtcclxuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWxlY3RFbnRpdHkucHJvdG90eXBlLCBcImRhdGFcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VsZWN0RW50aXR5LnByb3RvdHlwZSwgXCJjb2xvclwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTZWxlY3RFbnRpdHkucHJvdG90eXBlLmdlbmVyYXRlVW5pcXVlQ29sb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2xvcjtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5zID0gKGZ1bmN0aW9uIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFNlbGVjdEJ5Q29sb3IodGhpcy5ncmFwaElELCBjb2xvcikgIT0gdm9pZCAwO1xyXG4gICAgICAgICAgICB9KS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB3aGlsZSAoZm91bmQpIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gW051bWJlcihNYXRoLnJhbmRvbSgpLnRvRml4ZWQoMikpLCBOdW1iZXIoTWF0aC5yYW5kb20oKS50b0ZpeGVkKDIpKSwgTnVtYmVyKE1hdGgucmFuZG9tKCkudG9GaXhlZCgyKSksIDEuMF07XHJcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNvbnRhaW5zKGNvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3RFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKEtldGNoLmlzT2ZmU2NyZWVuKHRoaXMuZ3JhcGhJRCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgICAgICB2YXIgdVNlbGVjdENvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVNlbGVjdENvbG9yXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVTZWxlY3RDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVTZWxlY3RDb2xvciwgdGhpcy5fY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3RFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gU2VsZWN0RW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLlNlbGVjdEVudGl0eSA9IFNlbGVjdEVudGl0eTtcclxuICAgIHZhciBTZWxlY3RvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNlbGVjdG9yLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNlbGVjdG9yKGdyYXBoX2lkLCBkaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHRoaXMuX2RpbWVuc2lvbnMud2lkdGgsIHRoaXMuX2RpbWVuc2lvbnMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyYnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLl9yZW5kZXJidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHRoaXMuX2RpbWVuc2lvbnMud2lkdGgsIHRoaXMuX2RpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5fZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLl90ZXh0dXJlLCAwKTtcclxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5fcmVuZGVyYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICBLZXRjaC5maWxsU2VsZWN0b3JCdWZmZXIodGhpcy5ncmFwaElELCBvYmopO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBLZXRjaC5jbGVhclNlbGVjdG9yQnVmZmVyKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHJlYWRvdXQgPSBuZXcgVWludDhBcnJheSgxICogMSAqIDQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wucmVhZFBpeGVscyhwb3MueCwgcG9zLnksIDEsIDEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHJlYWRvdXQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICB2YXIgZml4ZWQgPSBbXS5zbGljZS5jYWxsKHJlYWRvdXQpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoKGl0ZW0gLyAyNTUpLnRvRml4ZWQoMikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IEtldGNoLmdldFNlbGVjdEJ5Q29sb3IodGhpcy5ncmFwaElELCBmaXhlZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmogPyBvYmouZGF0YSA6IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyKTtcclxuICAgICAgICAgICAgdmFyIHVPZmZzY3JlZW4gPSB0aGlzLmdldFVuaWZvcm0oXCJ1T2Zmc2NyZWVuXCIpO1xyXG4gICAgICAgICAgICBnbC51bmlmb3JtMWkodU9mZnNjcmVlbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZU9mZlNjcmVlbih0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBkcmF3KCk7XHJcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1T2Zmc2NyZWVuLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVPZmZTY3JlZW4odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBTZWxlY3RvcjtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2VsZWN0b3IgPSBTZWxlY3RvcjtcclxuICAgIDtcclxuICAgIHZhciBOb2RlRWxlbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gTm9kZUVsZW1lbnQocGFyZW50LCB0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZSA9IHBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlLmFkZENoaWxkTm9kZSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgdGhpcy5fb2lkID0gdXRpbHMudXVpZCh0aGlzLl90eXBlIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJvaWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwicGFyZW50XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJlbnRpdHlcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbnRpdHk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcImNoaWxkTm9kZXNcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuYWRkQ2hpbGROb2RlID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGROb2RlID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihjaGlsZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGROb2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmdldENoaWxkTm9kZUJ5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXNbaW5kZXhdIHx8IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5leGlzdHNDaGlsZE5vZGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXNbaW5kZXhdICE9PSB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlLnJlbW92ZUNoaWxkTm9kZSh0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9kZUVsZW1lbnQodGhpcywgdHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pc1Jvb3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROb2RlID09PSB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgb2lkID0gY2hpbGQub2lkO1xyXG4gICAgICAgICAgICByZXR1cm4gXy5maW5kSW5kZXgodGhpcy5fY2hpbGROb2RlcywgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMub2lkID09PSBvaWQ7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmluZGV4SW5QYXJlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkpXHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmhhc1NpYmxpbmcgPSBmdW5jdGlvbiAocHJldikge1xyXG4gICAgICAgICAgICB2YXIgX2hhdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggLSAxKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggKyAxKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF9oYXZlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLm5leHRTaWJsaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2libGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSAmJiB0aGlzLmhhc1NpYmxpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2libGluZyA9IHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnByZXZpb3VzU2libGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkgJiYgdGhpcy5oYXNTaWJsaW5nKHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5nID0gdGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZmlyc3RDaGlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGROb2RlQnlJbmRleCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5sYXN0Q2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZUJ5SW5kZXgodGhpcy5fY2hpbGROb2Rlcy5sZW5ndGggLSAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZE5vZGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5LmJlZ2luRHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5fY2hpbGROb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIGNoaWxkLmRyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuZW5kRHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTm9kZUVsZW1lbnQ7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuTm9kZUVsZW1lbnQgPSBOb2RlRWxlbWVudDtcclxuICAgIHZhciBTY2VuZUdyYXBoID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2NlbmVHcmFwaCwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTY2VuZUdyYXBoKCkge1xyXG4gICAgICAgICAgICB2YXIgb2lkID0gdXRpbHMudXVpZCgpO1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBvaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9vaWQgPSBvaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lID0gbmV3IE5vZGVFbGVtZW50KHZvaWQgMCwgXCJTY2VuZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4U3RhY2sgPSBuZXcgTWF0cml4U3RhY2sodGhpcy5fb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyID0gW107XHJcbiAgICAgICAgICAgIEtldGNoLmNyZWF0ZVZpZXcodGhpcy5fb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwic2NlbmVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2VuZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuRW52aXJvbm1lbnQgPSBmdW5jdGlvbiAoYikge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBiID0gYiB8fCBbXTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG4gICAgICAgICAgICBnbC5kZXB0aEZ1bmMoZ2wuTEVRVUFMKTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XHJcbiAgICAgICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIHRydWUpO1xyXG4gICAgICAgICAgICBnbC5jbGVhckNvbG9yKGJbMF0gfHwgMCwgYlsxXSB8fCAwLCBiWzJdIHx8IDAsIDEpO1xyXG4gICAgICAgICAgICBnbC5jbGVhckRlcHRoKDEuMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIGdsLnZpZXdwb3J0V2lkdGgsIGdsLnZpZXdwb3J0SGVpZ2h0KTtcclxuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xyXG4gICAgICAgICAgICB2YXIgZHJhdyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zY2VuZS5kcmF3KHRoaXMuX21hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgfSkuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rvci5yZW5kZXIoZHJhdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWFpbkNoaWxkTm9kZSA9IGZ1bmN0aW9uICh0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lLmNyZWF0ZUNoaWxkTm9kZSh0eXBlLCBlbnRpdHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUucmVtb3ZlTWFpbkNoaWxkTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lLnJlbW92ZUNoaWxkTm9kZShub2RlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJvaWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnNldENvbnRleHQgPSBmdW5jdGlvbiAoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCh0aGlzLm9pZCwgY2FudmFzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLlByb2dyYW0gPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICB0eXBlID0gdHlwZSB8fCBcIlBob25nXCI7XHJcbiAgICAgICAgICAgIEtldGNoLmNyZWF0ZVByb2dyYW0odGhpcy5fb2lkLCB7XHJcbiAgICAgICAgICAgICAgICBmcmFnbWVudDogU2hhZGVycy5GcmFnbWVudFt0eXBlXSB8fCBTaGFkZXJzLkZyYWdtZW50W1wiUGhvbmdcIl0sXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXg6IFNoYWRlcnMuVmVydGV4W3R5cGVdIHx8IFNoYWRlcnMuVmVydGV4W1wiUGhvbmdcIl1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNZXNoID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICB2YXIgbWVzaEVudGl0eSA9IG5ldyBNZXNoRW50aXR5KHRoaXMub2lkKTtcclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tZXNoKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNZXNoQnlPYmplY3QoY29uZmlnLm1lc2gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgICAgIG1lc2hFbnRpdHkubG9hZE1hdGVyaWFsQnlPYmplY3QoY29uZmlnLm1hdGVyaWFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWVzaEVudGl0eTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZURpZmZ1c2UgPSBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERpZmZ1c2VFbnRpdHkodGhpcy5vaWQsIHYpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWVzaEJ5TG9hZGVyID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICB2YXIgbWVzaCA9IG5ldyBNZXNoRW50aXR5KHRoaXMub2lkLCBjb25maWcubWVzaCwgY29uZmlnLm1hdGVyaWFsLCBjb25maWcudGV4dHVyZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckJ1ZmZlci5wdXNoKG1lc2gpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWVzaDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1FbnRpdHkodGhpcy5vaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVMaWdodCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaWdodEVudGl0eSh0aGlzLm9pZCwgY29uZmlnLmFtYmllbnQsIGNvbmZpZy5kaWZmdXNlLCBjb25maWcucG9zaXRpb24sIGNvbmZpZy5zcGVjdWxhciwgY29uZmlnLmRpcmVjdGlvbiwgY29uZmlnLmN1dG9mZik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVDYW1lcmEgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbWVyYUVudGl0eSh0aGlzLm9pZCwgdHlwZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVQYXJ0aWNsZSA9IGZ1bmN0aW9uIChwb2ludFNpemUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZUVudGl0eSh0aGlzLm9pZCwgcG9pbnRTaXplKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUF4aXMgPSBmdW5jdGlvbiAobGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXhpc0VudGl0eSh0aGlzLm9pZCwgbGVuZ3RoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUdyaWQgPSBmdW5jdGlvbiAoZGltLCBsaW5lcykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEdyaWRFbnRpdHkodGhpcy5vaWQsIGRpbSwgbGluZXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlU2VsZWN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3RFbnRpdHkodGhpcy5vaWQsIGRhdGEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlU2VsZWN0b3IgPSBmdW5jdGlvbiAoZGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RvciA9IG5ldyBTZWxlY3Rvcih0aGlzLm9pZCwgZGltZW5zaW9ucyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5maWxsU2VsZWN0b3IgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IuZmlsbChvYmopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jbGVhclNlbGVjdG9yID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnNlbGVjdCA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0b3IuZmluZChwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0cml4U3RhY2suTWFpbkNhbWVyYSA9IGNhbWVyYTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUucmVtb3ZlVGV4dHVyZSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBLZXRjaC5yZW1vdmVUZXh0dXJlKHRoaXMub2lkLCBpZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zdGFydExvYWRlciA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2xvYWRlckJ1ZmZlciwgZnVuY3Rpb24gKGl0ZW0sIG5leHQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubG9hZE1lc2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCBjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xyXG4gICAgICAgICAgICBzZWxmLkVudmlyb25tZW50KGNvbmZpZy5iYWNrZ3JvdW5kKTtcclxuICAgICAgICAgICAgc2VsZi5Qcm9ncmFtKGNvbmZpZy50eXBlU2hhZGVyKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5BVFRSSUJVVEVTKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyhzZWxmLl9vaWQsIFNjZW5lR3JhcGguVU5JRk9STVMpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5pbml0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmVXaXRoTG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5jb25maWd1cmUoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFydExvYWRlcihjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLlVOSUZPUk1TID0gW1xyXG4gICAgICAgICAgICAndVBNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU1WTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VOTWF0cml4JyxcclxuICAgICAgICAgICAgXCJ1TGlnaHRQb3NpdGlvblwiLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlyZWN0aW9uJyxcclxuICAgICAgICAgICAgXCJ1Q3V0T2ZmXCIsXHJcbiAgICAgICAgICAgICd1TGlnaHRBbWJpZW50JyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlmZnVzZScsXHJcbiAgICAgICAgICAgICd1TWF0ZXJpYWxEaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VMaWdodFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VTaGluaW5lc3MnLFxyXG4gICAgICAgICAgICAndVBvaW50U2l6ZScsXHJcbiAgICAgICAgICAgIFwidVNhbXBsZXJcIixcclxuICAgICAgICAgICAgXCJ1V2lyZWZyYW1lXCIsXHJcbiAgICAgICAgICAgIFwidVBlclZlcnRleENvbG9yXCIsXHJcbiAgICAgICAgICAgIFwidVNlbGVjdENvbG9yXCIsXHJcbiAgICAgICAgICAgIFwidU9mZnNjcmVlblwiXHJcbiAgICAgICAgXTtcclxuICAgICAgICBTY2VuZUdyYXBoLkFUVFJJQlVURVMgPSBbJ2FfcG9zaXRpb24nLCAnYV9ub3JtYWwnLCBcImFfY29sb3JcIl07XHJcbiAgICAgICAgcmV0dXJuIFNjZW5lR3JhcGg7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLlNjZW5lR3JhcGggPSBTY2VuZUdyYXBoO1xyXG59KShCbGF6ZSB8fCAoQmxhemUgPSB7fSkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
