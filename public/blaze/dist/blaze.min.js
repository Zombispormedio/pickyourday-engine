var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Blaze;!function(t){var e;!function(t){function e(t){for(var e=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{e=t.getContext(i[n])}catch(r){}if(e)break}return null===e?(alert("Could not initialise WebGL"),null):(e.viewportWidth=t.width,e.viewportHeight=t.height,e)}function i(e,i,n,r){var o=e.createBuffer();switch(e.bindBuffer(e.ARRAY_BUFFER,o),r){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ARRAY_BUFFER,null),n?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function n(e,i,n){var r=e.createBuffer(e.ELEMENT_ARRAY_BUFFER);switch(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),n){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),r.itemSize=1,r.numItems=i.length,r}function r(t,e){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),i}function o(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)}function a(t,e){var i=o(t,t.FRAGMENT_SHADER,e.fragment),n=o(t,t.VERTEX_SHADER,e.vertex),r=t.createProgram();return t.attachShader(r,n),t.attachShader(r,i),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)||console.log(t.getProgramInfoLog(r)),t.useProgram(r),r}t.getGLContext=e,function(t){t[t.STATIC=0]="STATIC",t[t.STREAM=1]="STREAM",t[t.DYNAMIC=2]="DYNAMIC"}(t.BUFFER_DRAW||(t.BUFFER_DRAW={}));t.BUFFER_DRAW;t.createBuffer=i,t.createIndexBuffer=n,t.createTexture=r,t.createShader=o,t.createProgram=a}(e=t.WebGLUtils||(t.WebGLUtils={}));var i;!function(t){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(t){var i=e()+e();return t?t+i:i}function n(t){return t.map(function(t){return Number.isNaN(t)&&(t=0),t})}function r(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",function(){e(i.responseText)}),i.send()}function o(t){var e=t.split(".");return e[e.length-1]}function a(){return(new Date).getTime()}function s(t){return t*Math.PI/180}function u(t,e){for(var i=0,n=1,r=2,o=[],a=0;a<t.length;a++)o[a]=0;for(var a=0;a<e.length;a+=3){var s=[],u=[],f=[];s[i]=t[3*e[a+1]+i]-t[3*e[a]+i],s[n]=t[3*e[a+1]+n]-t[3*e[a]+n],s[r]=t[3*e[a+1]+r]-t[3*e[a]+r],u[i]=t[3*e[a+2]+i]-t[3*e[a+1]+i],u[n]=t[3*e[a+2]+n]-t[3*e[a+1]+n],u[r]=t[3*e[a+2]+r]-t[3*e[a+1]+r],f[i]=s[n]*u[r]-s[r]*u[n],f[n]=s[r]*u[i]-s[i]*u[r],f[r]=s[i]*u[n]-s[n]*u[i];for(var c=0;3>c;c++)o[3*e[a+c]+i]=o[3*e[a+c]+i]+f[i],o[3*e[a+c]+n]=o[3*e[a+c]+n]+f[n],o[3*e[a+c]+r]=o[3*e[a+c]+r]+f[r]}for(var a=0;a<t.length;a+=3){var l=[];l[i]=o[a+i],l[n]=o[a+n],l[r]=o[a+r];var h=Math.sqrt(l[i]*l[i]+l[n]*l[n]+l[r]*l[r]);0==h&&(h=1e-5),l[i]=l[i]/h,l[n]=l[n]/h,l[r]=l[r]/h,o[a+i]=l[i],o[a+n]=l[n],o[a+r]=l[r]}return o}t.s4=e,t.uuid=i,t.normalizeNaN=n,t.load=r,t.getExtension=o,t.nowInMilliseconds=a,t.degToRad=s,t.calculateNormals=u}(i=t.utils||(t.utils={})),function(t){t[t.ORBITING=0]="ORBITING",t[t.TRACKING=1]="TRACKING"}(t.CAMERA_TYPE||(t.CAMERA_TYPE={}));var n=t.CAMERA_TYPE,r=function(){function t(){}return t.setCanvasToContext=function(i,n){var r=e.getGLContext(n);t.setContext(i,r)},t.setContext=function(e,i){t._views[e].context=i},t.getContext=function(e){return t._views[e].context},t.createProgram=function(i,n){var r=t.getContext(i),o=e.createProgram(r,n);t.setProgram(i,o)},t.setProgram=function(e,i){t._views[e].program=i},t.getProgram=function(e){return t._views[e].program},t.createView=function(e){t._views[e]={}},t.setAttributeLocations=function(e,i){var n=t._views[e],r=n.context,o=n.program;n.attribs=i.reduce(function(t,e){return t[e]=r.getAttribLocation(o,e),t},{})},t.getAttrib=function(e,i){return t._views[e].attribs[i]},t.getUniform=function(e,i){return t._views[e].uniforms[i]},t.setUniformLocations=function(e,i){var n=t._views[e],r=n.context,o=n.program;n.uniforms=i.reduce(function(t,e){return t[e]=r.getUniformLocation(o,e),t},{})},t.enableAttrib=function(e,i,n){var r=t.getAttrib(e,i),o=t.getContext(e);o.enableVertexAttribArray(r),n?o.vertexAttribPointer(r,n.size||3,o.FLOAT,n.normalized||!1,n.stride||0,n.offset||0):o.vertexAttribPointer(r,3,o.FLOAT,!1,0,0)},t.disableAttrib=function(e,i){var n=t.getAttrib(e,i),r=t.getContext(e);r.disableVertexAttribArray(n)},t.renderLoop=function(t){setInterval(t,30)},t.addTexture=function(e,i){var n=t._views[e];n.textures=n.textures||[],n.textures.push(i)},t.removeTexture=function(e,i){var n=t._views[e];n.textures=n.textures||[];var r=n.textures.indexOf(i);n.textures.splice(r,1)},t.activeTexture=function(e,i,n){var r=t._views[e],o=r.context,a=(r.program,r.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,n);var s=t.getUniform(e,"uSampler");o.uniform1i(s,a)}},t.isOffScreen=function(e){return t._views[e].offscreen},t.enableOffScreen=function(e){t._views[e].offscreen=!0},t.disableOffScreen=function(e){t._views[e].offscreen=!0},t.fillSelectorBuffer=function(e,i){var n=t._views[e];n.selectObjects=n.selectObjects||[],n.selectObjects.push(i)},t.clearSelectorBuffer=function(e){var i=t._views[e];i.selectObjects=[]},t.getSelectByColor=function(e,i){var n=t._views[e];return n.selectObjects=n.selectObjects||[],_.find(n.selectObjects,function(t){return _.isEqual(t.color,i)})},t._views={},t}();t.Ketch=r;var o=function(){function t(t){this._graph_id=t}return Object.defineProperty(t.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return r.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"program",{get:function(){return r.getProgram(this.graphID)},enumerable:!0,configurable:!0}),t.prototype.getUniform=function(t){return r.getUniform(this.graphID,t)},t}();t.Renderable=o;var a=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.beginDraw=function(t){},e.prototype.endDraw=function(t){},e}(o);t.Entity=a;var s=function(t){function e(e){t.call(this,e),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(e,t),e.prototype.push=function(){var t=mat4.create();mat4.set(this._mvMatrix,t),this._stack.push(t)},e.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},e.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(e.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._camera=t},enumerable:!0,configurable:!0}),e.prototype.Perspective=function(){var t=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,t.viewportWidth/t.viewportHeight,.1,1e3,this._pMatrix)},e.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},e.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},e.prototype.setUp=function(){var t=this.gl;this.Normal();var e=this.getUniform("uMVMatrix");e&&t.uniformMatrix4fv(e,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&t.uniformMatrix4fv(i,!1,this._pMatrix);var n=this.getUniform("uNMatrix");n&&t.uniformMatrix4fv(n,!1,this._nMatrix)},e}(o);t.MatrixStack=s;var u;!function(t){var n=function(t){function n(e){t.call(this,e)}return __extends(n,t),Object.defineProperty(n.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(t){var e=this,n=this,r=i.getExtension(t);i.load(t,function(t){var i;switch(r){case"obj":i=n.parseOBJ(t);break;case"json":i=n.parseJSON(t)}n.createBuffers(i),e._onload&&e._onload()})},enumerable:!0,configurable:!0}),n.prototype.parseJSON=function(t){var e={};try{e=JSON.parse(t)}catch(i){console.log(i)}return e},n.prototype.parseOBJ=function(t){var e={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=t.split("\n"),n=i.filter(function(t){return"v"===t[0]}),r=i.filter(function(t){return"f"===t[0]});n.forEach(function(t){var i=t.replace("\r","").split(" "),n=i[0];e[n]=e[n].concat(i.slice(1).filter(function(t){return""!==t}))});var o=[];return r.forEach(function(t){var e=t.replace("\r","").replace("f","").split(" ");o=o.concat(e.slice(1).filter(function(t){return""!==t}))}),o.forEach(function(t){var i=t.split("/");e.iv.push(parseInt(i[0])-1),e["in"].push(parseInt(i[1])-1),e.it.push(parseInt(i[2])-1)}),e},n.prototype.createBuffers=function(t){function n(t){return e.createBuffer(o,t)}function r(t){return e.createIndexBuffer(o,t)}var o=this.gl;_.defaults(t,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),t.v.length>0&&(this._vbo=n(t.v)),t.v.length>0&&t.iv.length>0&&(this._nbo=n(i.calculateNormals(t.v,t.iv))),t.vt.length>0&&(this._tbo=e.createBuffer(o,t.vt,!0)),t.iv.length>0&&(this._ivbo=r(t.iv)),t["in"].length>0&&(this._inbo=r(t["in"])),t.it.length>0&&(this._itbo=r(t.it))},Object.defineProperty(n.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),n}(o);t.MeshBuffers=n;var a=function(t){function n(e){t.call(this,e),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(n,t),Object.defineProperty(n.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(t){this._image.onload=this.loadTextureImage(this._onload),this._image.src=t},enumerable:!0,configurable:!0}),n.prototype.loadTextureImage=function(t){var i=this,n=this;return function(){i._texture=e.createTexture(n.gl,n._image),r.addTexture(n.graphID,n._oid),t&&t()}},Object.defineProperty(n.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),n}(o);t.MeshTexture=a;var s=function(t){function e(e,i,n,r,o){t.call(this,e),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=n?vec4.create(n):void 0,this._specular=r?vec4.create(r):vec4.create(),this._shininess=o||200}return __extends(e,t),Object.defineProperty(e.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{set:function(t){var e=this,n=this;i.load(t,function(t){var i=n.parse(t);e._ambient=i.Ka,e._diffuse=i.Kd,e._specular=i.Ks,e.shininess=i.Ns,e._onload&&e._onload()})},enumerable:!0,configurable:!0}),e.prototype.parse=function(t){var e={},i=["Ka","Kd","Ks","Ns"],n=t.split("\n");return n.forEach(function(t){var n=t.split(" "),r=n[0];if(i.indexOf(r)>-1)switch(r){case"Ns":e.Ns=Number(n[1]);break;default:var o=n.slice(1).map(function(t){return Number(t)});o.push(1),e[r]=o}}),e},Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shininess",{get:function(){return this._shininess},set:function(t){this._shininess=t},enumerable:!0,configurable:!0}),e}(o);t.MeshMaterial=s}(u=t.Resources||(t.Resources={}));var f;!function(t){var e=function(){function t(){}return t.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform bool uWireframe;\n\nuniform sampler2D uSampler;\n\nvarying vec4 vColor;\n\n\nbool isBlack(vec4 color){\nreturn color.r==0.0 &&color.g==0.0&&color.b==0.0;\n}\nvoid main(void) { \n     if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n    gl_FragColor = texture2D(uSampler, gl_PointCoord);\n    if(gl_FragColor.a < 0.5 || isBlack(gl_FragColor)) discard;\n    }\n}",t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",t.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform mat4 uMVMatrix;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uMaterialDiffuse;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nvarying vec4 vColor;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\n\nvoid main(){\n\n       if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n        vec4 color0=vec4(uMaterialDiffuse.rgb,1.0);\n        vec4 color1=vec4(0.0,0.0,0.0, 1.0);\n        vec4 color2=vec4(uMaterialDiffuse.rgb, 1.0);\n        \n        vec3 N= vNormal;\n        vec3 L = normalize(uLightDirection);\n        \n        vec4 eyePos= uMVMatrix*vec4(0.0,0.0,0.0,1.0);\n        \n        vec3 EyeVert = normalize(-eyePos.xyz);\n        \n        vec3 EyeLight=normalize(L+EyeVert);\n        \n        float sil= max(dot(N, EyeVert), 0.0);\n        \n        if( sil<0.4){\n            gl_FragColor=color1;\n        }else{\n             gl_FragColor=color0;\n             \n             float spec=pow(max(dot(N, EyeLight), 0.0), uShininess);\n             \n             if(spec<0.2) gl_FragColor*=0.8;\n             else gl_FragColor=color2;\n             \n             float diffuse=max(dot(N, L), 0.0);\n             if(diffuse<0.5)gl_FragColor*=0.8;\n        }\n\n\n\n\n\n}\n\n\n\n",t}();t.Fragment=e;var i=function(){function t(){}return t.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec3 a_position;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform float uPointSize;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec4 vColor;\n\nvoid main(void) {\n\n if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }\n    \n    gl_Position = uPMatrix * uMVMatrix * vec4(a_position.xyz, 1.0);\n    gl_PointSize = uPointSize;\n}",t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",t.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\nvarying vec4 vColor;\n\nvoid main(){\n    \n    vec4 normal= uNMatrix * vec4(a_normal,1.0);\n    \n     if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n    \n    vNormal=normal.xyz;\n    vVertex=a_position;\n    }\n    \n    gl_Position=uPMatrix*uMVMatrix*vec4(a_position, 1.0);\n    \n    \n    \n    \n\n}",t}();t.Vertex=i}(f=t.Shaders||(t.Shaders={}));var c=function(t){function e(e,i,n,r){t.call(this,e),this._frequency=i,this._interval_id=null,this._callback=r}return __extends(e,t),e.prototype.onFrame=function(){if(e.ElapseTime=i.nowInMilliseconds(),!(e.ElapseTime<5)){for(var t=Math.floor(e.ElapseTime/this._frequency);t>0&&e.Count!=this._times;)this._callback(),t--,e.Count++;e.Count===this._times&&this.stop()}},e.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},e.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},e.prototype.beginDraw=function(){},e.prototype.endDraw=function(){},e.Count=0,e}(a);t.AnimationEntity=c;var l=function(t){function e(e,i,n,r){t.call(this,e),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=n||null,this._texturefile=r||null}return __extends(e,t),e.prototype.loadBuffers=function(t,e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=e,this._buffers.src=t},e.prototype.loadTexture=function(t,e){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=e,this._texture.src=t},Object.defineProperty(e.prototype,"material",{set:function(t){this._material=t},enumerable:!0,configurable:!0}),e.prototype.loadMaterial=function(t,e){this._material=new u.MeshMaterial(this.graphID),this._material.onload=e,this._material.src=t},e.prototype.loadMesh=function(t){var e=this,i=this;async.waterfall([function(t){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),t()})):t()},function(t){return e._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),t()})):t()},function(t){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),t()})):t()}],function(e){return e?console.log(e):void(t&&t())})},e.prototype.loadMeshByObject=function(t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(t)},e.prototype.loadMaterialByObject=function(t){this._material=new u.MeshMaterial(this.graphID),t.ambient&&(this._material.ambient=t.ambient),t.specular&&(this._material.specular=t.specular),t.diffuse&&(this._material.diffuse=t.diffuse),t.shininess&&(this._material.shininess=t.shininess)},e.prototype.setMaterialUniforms=function(){if(this._material){var t=this.gl;if(this._material.ambient){var e=this.getUniform("uMaterialAmbient");e&&t.uniform4fv(e,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var n=this.getUniform("uMaterialSpecular");n&&t.uniform4fv(n,this._material.specular)}if(this._material.shininess){var r=this.getUniform("uShininess");r&&t.uniform1f(r,this._material.shininess)}}},e.prototype.beginDraw=function(){var t=this.gl;this.setMaterialUniforms(),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.nbo),r.enableAttrib(this.graphID,"a_normal");var e=this._buffers.ivbo;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.drawElements(t.TRIANGLES,e.numItems,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl;r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_normal"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.MeshEntity=l;var h=function(t){function e(e,i,n,r){t.call(this,e),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=n||vec3.create([1,1,1]),this._rotation=r||{angle:0,axis:vec3.create()}}return __extends(e,t),e.prototype.identity=function(){mat4.identity(this._matrix)},e.prototype.setMatrix=function(t){this._matrix=t},e.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),e.prototype.setAbsolutePosition=function(t,e,i){this._position=[t,e,i]},e.prototype.translate=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._position,r=vec3.create([t,e,i]);vec3.add(n,r,this._position)},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),e.prototype.setSize=function(t,e,i){this._size=[t,e,i]},e.prototype.scale=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._size,r=vec3.create([t,e,i]);vec3.add(n,r,this._size)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t},enumerable:!0,configurable:!0}),e.prototype.setRotation=function(t,e){t&&(this._rotation.angle=t),e&&(this._rotation.axis=e)},e.prototype.setAngle=function(t){this._rotation.angle=t},e.prototype.setAxis=function(t){this._rotation.axis=t},e.prototype.rotateAngle=function(t){void 0===t&&(t=0),this._rotation.angle+=t},e.prototype.moveAxis=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._rotation.axis,r=vec3.create([t,e,i]);vec3.add(n,r,this._rotation.axis)},e.prototype.beginDraw=function(t){if(t.push(),t.ModelView(),this._matrix=t.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var e=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,e,this._rotation.axis)}t.setUp()},e.prototype.endDraw=function(t){t.pop()},e}(a);t.TransformEntity=h;var p=function(t){function e(e,i,n,r,o,a,s){t.call(this,e),this._ambient=i?vec4.create(i):null,this._diffuse=n?vec4.create(n):null,this._position=r?vec4.create(r):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(e,t),Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._diffuse},set:function(t){this._position=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutOff",{get:function(){return this._cutoff},set:function(t){this._cutoff=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl;if(this._ambient){var e=this.getUniform("uLightAmbient");e&&t.uniform4fv(e,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&t.uniform4fv(i,this._diffuse)}if(this._specular){var n=this.getUniform("uLightSpecular");n&&t.uniform4fv(n,this._specular)}if(this._position){var r=this.getUniform("uLightPosition");r&&t.uniform3fv(r,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&t.uniform3fv(o,this._direction)}if(this._cutoff){var a=this.getUniform("uCutOff");a&&t.uniform1f(a,this._cutoff)}},e.prototype.endDraw=function(){},e}(a);t.LightEntity=p;var d=function(t){function e(e,i){t.call(this,e),this._value=i}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uMaterialDiffuse");e&&t.uniform4fv(e,this._value)},e.prototype.endDraw=function(){},e}(a);t.DiffuseEntity=d;var m=function(t){function n(e,i){t.call(this,e),this._pointSize=i||1,this._buffer=null,this._texture_id=""}return __extends(n,t),n.prototype.configure=function(t,n){var o=this.gl;this._buffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this._numItems=t.length,this._texture_id=i.uuid("Texture"),this._texture=e.createTexture(o,n),r.addTexture(this.graphID,this._texture_id)},n.prototype.update=function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this._buffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._numItems=t.length},Object.defineProperty(n.prototype,"textureID",{get:function(){return this._texture_id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointSize",{set:function(t){this._pointSize=t},enumerable:!0,configurable:!0}),n.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uPointSize");e&&t.uniform1f(e,this._pointSize),t.bindBuffer(t.ARRAY_BUFFER,this._buffer),r.enableAttrib(this.graphID,"a_position"),r.activeTexture(this.graphID,this._texture_id,this._texture),t.drawArrays(t.POINTS,0,this._numItems/3)},n.prototype.endDraw=function(){var t=this.gl;r.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null)},n}(a);t.ParticleEntity=m;var v=function(t){function e(e,i){t.call(this,e),this._type=i||n.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(e,t),Object.defineProperty(e.prototype,"type",{set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"azimuth",{get:function(){return this._azimuth},set:function(t){var e=t-this._azimuth;this.changeAzimuth(e)},enumerable:!0,configurable:!0}),e.prototype.changeAzimuth=function(t){this._azimuth+=t,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(e.prototype,"elevation",{get:function(){return this._elevation},set:function(t){var e=t-this._elevation;this.changeElevation(e)},enumerable:!0,configurable:!0}),e.prototype.changeElevation=function(t){this._elevation+=t,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(e.prototype,"zoom",{get:function(){return this._steps},set:function(t){var e=vec3.create(),i=vec3.create();e=this.position;var r=t-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===n.TRACKING?(o[0]=e[0]-r*i[0],o[1]=e[1]-r*i[1],o[2]=e[2]-r*i[2]):(o[0]=e[0],o[1]=e[1],o[2]=e[2]-r),this.position=o,this._steps=t},enumerable:!0,configurable:!0}),e.prototype.calculateOrientation=function(){var t=this._cmatrix;mat4.multiplyVec4(t,[1,0,0,0],this._right),mat4.multiplyVec4(t,[0,1,0,0],this._up),mat4.multiplyVec4(t,[0,0,1,0],this._normal)},e.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===n.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===n.TRACKING&&mat4.multiplyVec4(this._cmatrix,[0,0,0,1],this._position)},Object.defineProperty(e.prototype,"modelView",{get:function(){var t=mat4.create();return mat4.inverse(this._cmatrix,t),t},enumerable:!0,configurable:!0}),e.prototype.endDraw=function(){},e}(a);t.CameraEntity=v;var b=function(t){function e(e,i){t.call(this,e),i=i||100,this._vertices=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],this._indices=[0,1,2,3,4,5],this._colors=[1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1]}return __extends(e,t),e.prototype.init=function(){var t=this.gl;this._vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._vertices),t.STATIC_DRAW),this._ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),t.STATIC_DRAW),this._cbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._cbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._colors),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!0);var i=this.getUniform("uPerVertexColor");i&&t.uniform1i(i,!0),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._cbo),r.enableAttrib(this.graphID,"a_color",{size:4}),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.drawElements(t.LINES,this._indices.length,t.UNSIGNED_SHORT,0);
},e.prototype.endDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!1);var i=this.getUniform("uPerVertexColor");i&&t.uniform1i(i,!1),r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_color"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.AxisEntity=b;var g=function(t){function e(e,i,n){t.call(this,e),this._dimesions={dim:i||50,lines:n||50}}return __extends(e,t),e.prototype.init=function(){var t=this.gl;this.build(),this._vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._vertices),t.STATIC_DRAW),this._ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e.prototype.build=function(){for(var t=2*this._dimesions.dim/this._dimesions.lines,e=[],i=[],n=0;n<=this._dimesions.lines;n++)e[6*n]=-this._dimesions.dim,e[6*n+1]=-.5,e[6*n+2]=-this._dimesions.dim+n*t,e[6*n+3]=this._dimesions.dim,e[6*n+4]=-.5,e[6*n+5]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n+1]=-.5,e[6*(this._dimesions.lines+1)+6*n+2]=-this._dimesions.dim,e[6*(this._dimesions.lines+1)+6*n+3]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n+4]=-.5,e[6*(this._dimesions.lines+1)+6*n+5]=this._dimesions.dim,i[2*n]=2*n,i[2*n+1]=2*n+1,i[2*(this._dimesions.lines+1)+2*n]=2*(this._dimesions.lines+1)+2*n,i[2*(this._dimesions.lines+1)+2*n+1]=2*(this._dimesions.lines+1)+2*n+1;this._vertices=e,this._indices=i},e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!0);var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,[.7,.7,.7,1]),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.drawElements(t.LINES,this._indices.length,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!1),r.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.GridEntity=g;var y=function(t){function e(e,i){t.call(this,e),this._color=this.generateUniqueColor(),this._data=i}return __extends(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),e.prototype.generateUniqueColor=function(){for(var t,e=function(t){return void 0!=r.getSelectByColor(this.graphID,t)}.bind(this),i=!0;i;)t=[Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),1],i=e(t);return t},e.prototype.beginDraw=function(){if(r.isOffScreen(this.graphID)){var t=this.gl,e=this.getUniform("uSelectColor");e&&t.uniform4fv(e,this._color)}},e.prototype.endDraw=function(){},e}(a);t.SelectEntity=y;var R=function(t){function e(e,i){t.call(this,e),this._dimensions=i,this._framebuffer=null,this._renderbuffer=null,this._texture=null,this.configure()}return __extends(e,t),e.prototype.configure=function(){var t=this.gl;this._texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this._texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this._dimensions.width,this._dimensions.height,0,t.RGBA,t.UNSIGNED_BYTE,null),this._renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this._renderbuffer),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this._dimensions.width,this._dimensions.height),this._framebuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._texture,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,this._renderbuffer),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null)},e.prototype.fill=function(t){r.fillSelectorBuffer(this.graphID,t)},e.prototype.clear=function(){r.clearSelectorBuffer(this.graphID)},e.prototype.find=function(t){var e=this.gl,i=new Uint8Array(4);e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.readPixels(t.x,t.y,1,1,e.RGBA,e.UNSIGNED_BYTE,i),e.bindFramebuffer(e.FRAMEBUFFER,null);var n=[].slice.call(i).map(function(t){return parseFloat((t/255).toFixed(2))}),o=r.getSelectByColor(this.graphID,n);return o?o.data:void 0},e.prototype.render=function(t){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer);var i=this.getUniform("uOffscreen");e.uniform1i(i,!0),r.enableOffScreen(this.graphID),t(),e.uniform1i(i,!1),r.disableOffScreen(this.graphID),e.bindFramebuffer(e.FRAMEBUFFER,null)},e}(o);t.Selector=R;var E=function(){function t(t,e,n){this._parentNode=t,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=e,this._oid=i.uuid(this._type||this.constructor.name),this._entity=n}return Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"entity",{get:function(){return this._entity},set:function(t){this._entity=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),t.prototype.addChildNode=function(t){this._childNodes.push(t)},t.prototype.removeChildNode=function(t){var e=this.indexOf(t);e>-1&&this._childNodes.splice(e,1)},t.prototype.getChildNodeByIndex=function(t){return this._childNodes[t]||void 0},t.prototype.existsChildNode=function(t){return void 0!==this._childNodes[t]},t.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},t.prototype.createChildNode=function(e,i){return new t(this,e,i)},t.prototype.isRoot=function(){return void 0===this._parentNode},t.prototype.indexOf=function(t){var e=t.oid;return _.findIndex(this._childNodes,function(t){return t.oid===e})},t.prototype.indexInParent=function(){var t=-1;return this.isRoot()||(t=this._parentNode.indexOf(this)),t},t.prototype.hasSibling=function(t){var e=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(t?this._parentNode.getChildNodeByIndex(i-1)&&(e=!0):this._parentNode.getChildNodeByIndex(i+1)&&(e=!0))}return e},t.prototype.nextSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling()){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e+1)}return t},t.prototype.previousSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling(!0)){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e-1)}return t},t.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},t.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},t.prototype.removeChildNodes=function(){this._childNodes=[]},t.prototype.draw=function(t){this._entity&&this._entity.beginDraw(t);for(var e=0;e<this._childNodes.length;e++){var i=this._childNodes[e];i.draw(t)}this._entity&&this._entity.endDraw(t)},t}();t.NodeElement=E;var A=function(t){function e(){var e=i.uuid();t.call(this,e),this._oid=e,this._scene=new E(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],r.createView(this._oid),this._selector=null}return __extends(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype.Environment=function(t){var e=this.gl;t=t||[],e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.clearColor(t[0]||0,t[1]||0,t[2]||0,1),e.clearDepth(1)},e.prototype.render=function(){var t=this.gl;t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT);var e=function(){this._scene.draw(this._matrixStack)}.bind(this);this._selector&&this._selector.render(e),e()},e.prototype.createMainChildNode=function(t,e){return this._scene.createChildNode(t,e)},e.prototype.removeMainChildNode=function(t){this._scene.removeChildNode(t)},Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),e.prototype.setContext=function(t){r.setCanvasToContext(this.oid,t)},e.prototype.Program=function(t){t=t||"Phong",r.createProgram(this._oid,{fragment:f.Fragment[t]||f.Fragment.Phong,vertex:f.Vertex[t]||f.Vertex.Phong})},e.prototype.createMesh=function(t){var e=new l(this.oid);return t.mesh&&e.loadMeshByObject(t.mesh),t.material&&e.loadMaterialByObject(t.material),e},e.prototype.createDiffuse=function(t){return new d(this.oid,t)},e.prototype.createMeshByLoader=function(t){var e=new l(this.oid,t.mesh,t.material,t.texture);return this._loaderBuffer.push(e),e},e.prototype.createTransform=function(t,e,i){return new h(this.oid,t,e,i)},e.prototype.createLight=function(t){return new p(this.oid,t.ambient,t.diffuse,t.position,t.specular,t.direction,t.cutoff)},e.prototype.createCamera=function(t){return new v(this.oid,t)},e.prototype.createParticle=function(t){return new m(this.oid,t)},e.prototype.createAxis=function(t){return new b(this.oid,t)},e.prototype.createGrid=function(t,e){return new g(this.oid,t,e)},e.prototype.createSelect=function(t){return new y(this.oid,t)},e.prototype.createSelector=function(t){this._selector=new R(this.oid,t)},e.prototype.fillSelector=function(t){this._selector&&this._selector.fill(t)},e.prototype.clearSelector=function(t){this._selector&&this._selector.clear()},e.prototype.select=function(t){return this._selector?this._selector.find(t):void 0},Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._matrixStack.MainCamera=t},enumerable:!0,configurable:!0}),e.prototype.removeTexture=function(t){r.removeTexture(this.oid,t)},e.prototype.startLoader=function(t){async.eachSeries(this._loaderBuffer,function(t,e){t.loadMesh(function(){console.log(t),e()})},t)},e.prototype.configure=function(t){var i=this;t=t||{},i.Environment(t.background),i.Program(t.typeShader),r.setAttributeLocations(i._oid,e.ATTRIBUTES),r.setUniformLocations(i._oid,e.UNIFORMS),this._matrixStack.init()},e.prototype.configureWithLoader=function(t){var e=this;e.configure(),e.startLoader(t)},e.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightPosition","uLightDirection","uCutOff","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uPointSize","uSampler","uWireframe","uPerVertexColor","uSelectColor","uOffscreen"],e.ATTRIBUTES=["a_position","a_normal","a_color"],e}(o);t.SceneGraph=A}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiY3JlYXRlU2hhZGVyIiwidHlwZSIsInNoYWRlclNvdXJjZSIsInNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiY3JlYXRlUHJvZ3JhbSIsInNoYWRlcnMiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImZyYWdtZW50IiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsInZlcnRleCIsInByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwidXNlUHJvZ3JhbSIsInV0aWxzIiwiczQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInV1aWQiLCJuYW1lIiwiaWQiLCJub3JtYWxpemVOYU4iLCJ2ZWMiLCJtYXAiLCJhIiwiTnVtYmVyIiwiaXNOYU4iLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJnZXRFeHRlbnNpb24iLCJzdHIiLCJlbGVtcyIsInNwbGl0Iiwibm93SW5NaWxsaXNlY29uZHMiLCJEYXRlIiwiZ2V0VGltZSIsImRlZ1RvUmFkIiwiUEkiLCJjYWxjdWxhdGVOb3JtYWxzIiwidnMiLCJpbmQiLCJ4IiwieSIsInoiLCJucyIsInYxIiwidjIiLCJub3JtYWwiLCJqIiwibm4iLCJsZW4iLCJzcXJ0IiwiQ0FNRVJBX1RZUEUiLCJLZXRjaCIsInNldENhbnZhc1RvQ29udGV4dCIsImtleSIsImNvbnRleHQiLCJzZXRDb250ZXh0IiwiX3ZpZXdzIiwic2V0UHJvZ3JhbSIsImdldFByb2dyYW0iLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsInZpZXciLCJwcmciLCJhdHRyaWJzIiwicmVkdWNlIiwicHJldiIsImF0dHIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImdldEF0dHJpYiIsInZpZXdfa2V5IiwiYXR0cl9rZXkiLCJnZXRVbmlmb3JtIiwidW5pZm9ybV9rZXkiLCJ1bmlmb3JtcyIsInNldFVuaWZvcm1Mb2NhdGlvbnMiLCJ1bmlmb3JtX25hbWVzIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZW5hYmxlQXR0cmliIiwicG9pbnRlciIsImluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwic2l6ZSIsIkZMT0FUIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIm9mZnNldCIsImRpc2FibGVBdHRyaWIiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJyZW5kZXJMb29wIiwiY2IiLCJzZXRJbnRlcnZhbCIsImFkZFRleHR1cmUiLCJ0ZXh0dXJlX2lkIiwidGV4dHVyZXMiLCJwdXNoIiwicmVtb3ZlVGV4dHVyZSIsImluZGV4T2YiLCJzcGxpY2UiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1U2FtcGxlciIsInVuaWZvcm0xaSIsImlzT2ZmU2NyZWVuIiwib2Zmc2NyZWVuIiwiZW5hYmxlT2ZmU2NyZWVuIiwiZGlzYWJsZU9mZlNjcmVlbiIsImZpbGxTZWxlY3RvckJ1ZmZlciIsIm9iaiIsInNlbGVjdE9iamVjdHMiLCJjbGVhclNlbGVjdG9yQnVmZmVyIiwiZ2V0U2VsZWN0QnlDb2xvciIsImNvbG9yIiwiXyIsImZpbmQiLCJvIiwiaXNFcXVhbCIsIlJlbmRlcmFibGUiLCJncmFwaF9pZCIsIl9ncmFwaF9pZCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdyYXBoSUQiLCJFbnRpdHkiLCJfc3VwZXIiLCJjYWxsIiwiYmVnaW5EcmF3IiwibWF0cml4U3RhY2siLCJlbmREcmF3IiwiTWF0cml4U3RhY2siLCJfc3RhY2siLCJfbXZNYXRyaXgiLCJtYXQ0IiwiX3BNYXRyaXgiLCJfbk1hdHJpeCIsImNvcHkiLCJzZXQiLCJwb3AiLCJNb2RlbFZpZXciLCJfY2FtZXJhIiwibW9kZWxWaWV3IiwiaWRlbnRpdHkiLCJjYW1lcmEiLCJQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwiTm9ybWFsIiwiaW52ZXJzZSIsInRyYW5zcG9zZSIsImluaXQiLCJzZXRVcCIsIm12TWF0cml4IiwidW5pZm9ybU1hdHJpeDRmdiIsInBNYXRyaXgiLCJuTWF0cml4IiwiUmVzb3VyY2VzIiwiTWVzaEJ1ZmZlcnMiLCJfb25sb2FkIiwic3JjIiwiX3RoaXMiLCJzZWxmIiwiZXh0IiwicGFyc2VPQkoiLCJwYXJzZUpTT04iLCJjcmVhdGVCdWZmZXJzIiwiSlNPTiIsInBhcnNlIiwidiIsInZuIiwidnQiLCJpdiIsImluIiwiaXQiLCJsaW5lcyIsImZpbHRlciIsImZvckVhY2giLCJpdGVtIiwicmVwbGFjZSIsImNvbmNhdCIsInNsaWNlIiwidGVtcEluZGV4IiwicGFyc2VJbnQiLCJkZWZhdWx0cyIsIl92Ym8iLCJfbmJvIiwiX3RibyIsIl9pdmJvIiwiX2luYm8iLCJfaXRibyIsIk1lc2hUZXh0dXJlIiwiX2ltYWdlIiwiSW1hZ2UiLCJfb2lkIiwiZmlsZW5hbWUiLCJvbmxvYWQiLCJsb2FkVGV4dHVyZUltYWdlIiwiX3RleHR1cmUiLCJNZXNoTWF0ZXJpYWwiLCJhbWJpZW50IiwiZGlmZnVzZSIsInNwZWN1bGFyIiwic2hpbmluZXNzIiwiX2FtYmllbnQiLCJ2ZWM0IiwiX2RpZmZ1c2UiLCJfc3BlY3VsYXIiLCJfc2hpbmluZXNzIiwidGVtcCIsIkthIiwiS2QiLCJLcyIsIk5zIiwia2V5cyIsImxpbmUiLCJTaGFkZXJzIiwiRnJhZ21lbnQiLCJQYXJ0aWNsZSIsIlBob25nIiwiVG9vbiIsIlZlcnRleCIsIkFuaW1hdGlvbkVudGl0eSIsImZyZXF1ZW5jeSIsInRpbWVzIiwiX2ZyZXF1ZW5jeSIsIl9pbnRlcnZhbF9pZCIsIl9jYWxsYmFjayIsIm9uRnJhbWUiLCJFbGFwc2VUaW1lIiwic3RlcHMiLCJDb3VudCIsIl90aW1lcyIsInN0b3AiLCJzdGFydCIsIl9pbnRpbWUiLCJjbGVhckludGVydmFsIiwiTWVzaEVudGl0eSIsIm1lc2hmaWxlIiwibWF0ZXJpYWxmaWxlIiwidGV4dHVyZWZpbGUiLCJfbWF0ZXJpYWwiLCJfYnVmZmVycyIsIl9tZXNoZmlsZSIsIl9tYXRlcmlhbGZpbGUiLCJfdGV4dHVyZWZpbGUiLCJsb2FkQnVmZmVycyIsImxvYWRUZXh0dXJlIiwibG9hZE1hdGVyaWFsIiwibG9hZE1lc2giLCJhc3luYyIsIndhdGVyZmFsbCIsIm5leHQiLCJlcnIiLCJsb2FkTWVzaEJ5T2JqZWN0IiwibG9hZE1hdGVyaWFsQnlPYmplY3QiLCJzZXRNYXRlcmlhbFVuaWZvcm1zIiwidU1hdGVyaWFsQW1iaWVudCIsInVuaWZvcm00ZnYiLCJ1TWF0ZXJpYWxEaWZmdXNlIiwidU1hdGVyaWFsU3BlY3VsYXIiLCJ1U2hpbmluZXNzIiwidW5pZm9ybTFmIiwidmJvIiwibmJvIiwiaXZibyIsImRyYXdFbGVtZW50cyIsIlRSSUFOR0xFUyIsIlVOU0lHTkVEX1NIT1JUIiwiVHJhbnNmb3JtRW50aXR5IiwicG9zaXRpb24iLCJyb3RhdGlvbiIsIl9tYXRyaXgiLCJfcG9zaXRpb24iLCJ2ZWMzIiwiX3NpemUiLCJfcm90YXRpb24iLCJhbmdsZSIsImF4aXMiLCJzZXRNYXRyaXgiLCJuZXdfbWF0cml4Iiwic2V0QWJzb2x1dGVQb3NpdGlvbiIsInRyYW5zbGF0ZSIsIm9wZXJhbmQxIiwib3BlcmFuZDIiLCJhZGQiLCJzZXRTaXplIiwic2NhbGUiLCJzZXRSb3RhdGlvbiIsInNldEFuZ2xlIiwic2V0QXhpcyIsInJvdGF0ZUFuZ2xlIiwibW92ZUF4aXMiLCJyYWQiLCJyb3RhdGUiLCJMaWdodEVudGl0eSIsImRpcmVjdGlvbiIsImN1dG9mZiIsIl9kaXJlY3Rpb24iLCJfY3V0b2ZmIiwidUxpZ2h0QW1iaWVudCIsInVMaWdodERpZmZ1c2UiLCJ1TGlnaHRTcGVjdWxhciIsInVMaWdodFBvc2l0aW9uIiwidW5pZm9ybTNmdiIsInVEaXJlY3Rpb24iLCJ1Q3V0T2ZmIiwiRGlmZnVzZUVudGl0eSIsIl92YWx1ZSIsIlBhcnRpY2xlRW50aXR5IiwicG9pbnRTaXplIiwiX3BvaW50U2l6ZSIsIl9idWZmZXIiLCJfdGV4dHVyZV9pZCIsImNvbmZpZ3VyZSIsImRhdGFfbWVzaCIsImRhdGFfdGV4dHVyZSIsIl9udW1JdGVtcyIsInVwZGF0ZSIsInVQb2ludFNpemUiLCJkcmF3QXJyYXlzIiwiUE9JTlRTIiwiQ2FtZXJhRW50aXR5IiwiX3R5cGUiLCJPUkJJVElORyIsIl9jbWF0cml4IiwiX3VwIiwiX3JpZ2h0IiwiX25vcm1hbCIsIl9hemltdXRoIiwiX2VsZXZhdGlvbiIsIl9zdGVwcyIsInBvcyIsImF6IiwidGVtcF9heiIsImNoYW5nZUF6aW11dGgiLCJlbCIsInRlbXBfZWwiLCJjaGFuZ2VFbGV2YXRpb24iLCJuIiwic3RlcCIsIm5vcm1hbGl6ZSIsIm5ld19wb3NpdGlvbiIsIlRSQUNLSU5HIiwiY2FsY3VsYXRlT3JpZW50YXRpb24iLCJtIiwibXVsdGlwbHlWZWM0Iiwicm90YXRlWSIsInJvdGF0ZVgiLCJBeGlzRW50aXR5IiwiX3ZlcnRpY2VzIiwiX2luZGljZXMiLCJfY29sb3JzIiwiX2libyIsIl9jYm8iLCJ1V2lyZWZyYW1lIiwidVBlclZlcnRleENvbG9yIiwiTElORVMiLCJHcmlkRW50aXR5IiwiX2RpbWVzaW9ucyIsImRpbSIsImJ1aWxkIiwiaW5jIiwibCIsIlNlbGVjdEVudGl0eSIsIl9jb2xvciIsImdlbmVyYXRlVW5pcXVlQ29sb3IiLCJfZGF0YSIsImNvbnRhaW5zIiwiYmluZCIsImZvdW5kIiwidG9GaXhlZCIsInVTZWxlY3RDb2xvciIsIlNlbGVjdG9yIiwiZGltZW5zaW9ucyIsIl9kaW1lbnNpb25zIiwiX2ZyYW1lYnVmZmVyIiwiX3JlbmRlcmJ1ZmZlciIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJyZW5kZXJidWZmZXJTdG9yYWdlIiwiREVQVEhfQ09NUE9ORU5UMTYiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfQVRUQUNITUVOVCIsImZpbGwiLCJjbGVhciIsInJlYWRvdXQiLCJVaW50OEFycmF5IiwicmVhZFBpeGVscyIsImZpeGVkIiwicGFyc2VGbG9hdCIsInJlbmRlciIsImRyYXciLCJ1T2Zmc2NyZWVuIiwiTm9kZUVsZW1lbnQiLCJwYXJlbnQiLCJlbnRpdHkiLCJfcGFyZW50Tm9kZSIsImFkZENoaWxkTm9kZSIsIl9jaGlsZE5vZGVzIiwiX2VudGl0eSIsImNoaWxkIiwicmVtb3ZlQ2hpbGROb2RlIiwiZ2V0Q2hpbGROb2RlQnlJbmRleCIsImV4aXN0c0NoaWxkTm9kZSIsImNyZWF0ZUNoaWxkTm9kZSIsImlzUm9vdCIsIm9pZCIsImZpbmRJbmRleCIsInMiLCJpbmRleEluUGFyZW50IiwiaGFzU2libGluZyIsIl9oYXZlIiwibmV4dFNpYmxpbmciLCJzaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkTm9kZXMiLCJTY2VuZUdyYXBoIiwiX3NjZW5lIiwiX21hdHJpeFN0YWNrIiwiX2xvYWRlckJ1ZmZlciIsIl9zZWxlY3RvciIsIkVudmlyb25tZW50IiwiZW5hYmxlIiwiREVQVEhfVEVTVCIsImRlcHRoRnVuYyIsIkxFUVVBTCIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsImNsZWFyQ29sb3IiLCJjbGVhckRlcHRoIiwidmlld3BvcnQiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsImNyZWF0ZU1haW5DaGlsZE5vZGUiLCJyZW1vdmVNYWluQ2hpbGROb2RlIiwibm9kZSIsIlByb2dyYW0iLCJjcmVhdGVNZXNoIiwiY29uZmlnIiwibWVzaEVudGl0eSIsIm1lc2giLCJtYXRlcmlhbCIsImNyZWF0ZURpZmZ1c2UiLCJjcmVhdGVNZXNoQnlMb2FkZXIiLCJjcmVhdGVUcmFuc2Zvcm0iLCJjcmVhdGVMaWdodCIsImNyZWF0ZUNhbWVyYSIsImNyZWF0ZVBhcnRpY2xlIiwiY3JlYXRlQXhpcyIsImNyZWF0ZUdyaWQiLCJjcmVhdGVTZWxlY3QiLCJjcmVhdGVTZWxlY3RvciIsImZpbGxTZWxlY3RvciIsImNsZWFyU2VsZWN0b3IiLCJzZWxlY3QiLCJNYWluQ2FtZXJhIiwic3RhcnRMb2FkZXIiLCJlYWNoU2VyaWVzIiwiYmFja2dyb3VuZCIsInR5cGVTaGFkZXIiLCJBVFRSSUJVVEVTIiwiVU5JRk9STVMiLCJjb25maWd1cmVXaXRoTG9hZGVyIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxXQUFhQyxNQUFRQSxLQUFLRCxXQUFjLFNBQVVFLEVBQUdDLEdBRXJELFFBQVNDLEtBQU9ILEtBQUtJLFlBQWNILEVBRG5DLElBQUssR0FBSUksS0FBS0gsR0FBT0EsRUFBRUksZUFBZUQsS0FBSUosRUFBRUksR0FBS0gsRUFBRUcsR0FFbkRKLEdBQUVNLFVBQWtCLE9BQU5MLEVBQWFNLE9BQU9DLE9BQU9QLElBQU1DLEVBQUdJLFVBQVlMLEVBQUVLLFVBQVcsR0FBSUosS0FFL0VPLE9BQ0osU0FBV0EsR0FDUCxHQUFJQyxJQUNKLFNBQVdBLEdBQ1AsUUFBU0MsR0FBYUMsR0FHbEIsSUFBSyxHQUZEQyxHQUFNLEtBQ05DLEdBQVMsUUFBUyxxQkFBc0IsWUFBYSxhQUNoREMsRUFBSSxFQUFHQSxFQUFJRCxFQUFNRSxTQUFVRCxFQUFHLENBQ25DLElBQ0lGLEVBQU1ELEVBQU9LLFdBQVdILEVBQU1DLElBRWxDLE1BQU9HLElBQ1AsR0FBSUwsRUFDQSxNQUdSLE1BQVksUUFBUkEsR0FDQU0sTUFBTSw4QkFDQyxPQUdQTixFQUFJTyxjQUFnQlIsRUFBT1MsTUFDM0JSLEVBQUlTLGVBQWlCVixFQUFPVyxPQUNyQlYsR0FVZixRQUFTVyxHQUFhQyxFQUFJQyxFQUFNQyxFQUFNQyxHQUNsQyxHQUFJQyxHQUFTSixFQUFHRCxjQUVoQixRQURBQyxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjRixHQUN2QkQsR0FDSixJQUFLbEIsR0FBV3NCLFlBQVlDLE9BQ3hCUixFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFULEdBQU9ELEVBQUdXLFlBQzFELE1BQ0osS0FBSzFCLEdBQVdzQixZQUFZSyxRQUN4QlosRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhVCxHQUFPRCxFQUFHYSxhQUMxRCxNQUNKLEtBQUs1QixHQUFXc0IsWUFBWU8sT0FDeEJkLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYVQsR0FBT0QsRUFBR2UsWUFDMUQsTUFDSixTQUFTZixFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFULEdBQU9ELEVBQUdXLGFBV3ZFLE1BVEFYLEdBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDM0JKLEdBQ0FFLEVBQU9ZLFNBQVcsRUFDbEJaLEVBQU9hLFNBQVdoQixFQUFLVixPQUFTLElBR2hDYSxFQUFPWSxTQUFXLEVBQ2xCWixFQUFPYSxTQUFXaEIsRUFBS1YsT0FBUyxHQUU3QmEsRUFHWCxRQUFTYyxHQUFrQmxCLEVBQUlDLEVBQU1FLEdBQ2pDLEdBQUlnQixHQUFjbkIsRUFBR0QsYUFBYUMsRUFBR29CLHFCQUVyQyxRQURBcEIsRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQkQsR0FDL0JoQixHQUNKLElBQUtsQixHQUFXc0IsWUFBWUMsT0FDeEJSLEVBQUdTLFdBQVdULEVBQUdvQixxQkFBc0IsR0FBSUMsYUFBWXBCLEdBQU9ELEVBQUdXLFlBQ2pFLE1BQ0osS0FBSzFCLEdBQVdzQixZQUFZSyxRQUN4QlosRUFBR1MsV0FBV1QsRUFBR29CLHFCQUFzQixHQUFJQyxhQUFZcEIsR0FBT0QsRUFBR2EsYUFDakUsTUFDSixLQUFLNUIsR0FBV3NCLFlBQVlPLE9BQ3hCZCxFQUFHUyxXQUFXVCxFQUFHb0IscUJBQXNCLEdBQUlDLGFBQVlwQixHQUFPRCxFQUFHZSxZQUNqRSxNQUNKLFNBQVNmLEVBQUdTLFdBQVdULEVBQUdvQixxQkFBc0IsR0FBSUMsYUFBWXBCLEdBQU9ELEVBQUdXLGFBSzlFLE1BSEFYLEdBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0IsTUFDdkNELEVBQVlILFNBQVcsRUFDdkJHLEVBQVlGLFNBQVdoQixFQUFLVixPQUNyQjRCLEVBR1gsUUFBU0csR0FBY3RCLEVBQUlDLEdBQ3ZCLEdBQUlzQixHQUFVdkIsRUFBR3NCLGVBTWpCLE9BTEF0QixHQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZRixHQUM5QnZCLEVBQUcwQixXQUFXMUIsRUFBR3lCLFdBQVksRUFBR3pCLEVBQUcyQixLQUFNM0IsRUFBRzJCLEtBQU0zQixFQUFHNEIsY0FBZTNCLEdBQ3BFRCxFQUFHNkIsY0FBYzdCLEVBQUd5QixXQUFZekIsRUFBRzhCLG1CQUFvQjlCLEVBQUcrQixRQUMxRC9CLEVBQUc2QixjQUFjN0IsRUFBR3lCLFdBQVl6QixFQUFHZ0MsbUJBQW9CaEMsRUFBRytCLFFBQzFEL0IsRUFBR3dCLFlBQVl4QixFQUFHeUIsV0FBWSxNQUN2QkYsRUFHWCxRQUFTVSxHQUFhakMsRUFBSWtDLEVBQU1DLEdBQzVCLEdBQUlDLEdBQVNwQyxFQUFHaUMsYUFBYUMsRUFHN0IsT0FGQWxDLEdBQUdtQyxhQUFhQyxFQUFRRCxHQUN4Qm5DLEVBQUdxQyxjQUFjRCxHQUNacEMsRUFBR3NDLG1CQUFtQkYsRUFBUXBDLEVBQUd1QyxnQkFJL0JILEdBSEhJLFFBQVFDLElBQUl6QyxFQUFHMEMsaUJBQWlCTixJQUN6QixNQUtmLFFBQVNPLEdBQWMzQyxFQUFJNEMsR0FDdkIsR0FBSUMsR0FBaUJaLEVBQWFqQyxFQUFJQSxFQUFHOEMsZ0JBQWlCRixFQUFRRyxVQUM5REMsRUFBZWYsRUFBYWpDLEVBQUlBLEVBQUdpRCxjQUFlTCxFQUFRTSxRQUMxREMsRUFBVW5ELEVBQUcyQyxlQU9qQixPQU5BM0MsR0FBR29ELGFBQWFELEVBQVNILEdBQ3pCaEQsRUFBR29ELGFBQWFELEVBQVNOLEdBQ3pCN0MsRUFBR3FELFlBQVlGLEdBQ1ZuRCxFQUFHc0Qsb0JBQW9CSCxFQUFTbkQsRUFBR3VELGNBQ3BDZixRQUFRQyxJQUFJekMsRUFBR3dELGtCQUFrQkwsSUFDckNuRCxFQUFHeUQsV0FBV04sR0FDUEEsRUF0RlhsRSxFQUFXQyxhQUFlQSxFQUMxQixTQUFXcUIsR0FDUEEsRUFBWUEsRUFBb0IsT0FBSSxHQUFLLFNBQ3pDQSxFQUFZQSxFQUFvQixPQUFJLEdBQUssU0FDekNBLEVBQVlBLEVBQXFCLFFBQUksR0FBSyxXQUMzQ3RCLEVBQVdzQixjQUFnQnRCLEVBQVdzQixnQkFDdkJ0QixHQUFXc0IsV0EyQjdCdEIsR0FBV2MsYUFBZUEsRUFxQjFCZCxFQUFXaUMsa0JBQW9CQSxFQVUvQmpDLEVBQVdxQyxjQUFnQkEsRUFXM0JyQyxFQUFXZ0QsYUFBZUEsRUFhMUJoRCxFQUFXMEQsY0FBZ0JBLEdBQzVCMUQsRUFBYUQsRUFBTUMsYUFBZUQsRUFBTUMsZUFDM0MsSUFBSXlFLElBQ0osU0FBV0EsR0FDUCxRQUFTQyxLQUNMLE1BQU9DLE1BQUtDLE1BQTRCLE9BQXJCLEVBQUlELEtBQUtFLFdBQ3ZCQyxTQUFTLElBQ1RDLFVBQVUsR0FHbkIsUUFBU0MsR0FBS0MsR0FDVixHQUFJQyxHQUFLUixJQUFPQSxHQUNoQixPQUFPTyxHQUFPQSxFQUFPQyxFQUFLQSxFQUc5QixRQUFTQyxHQUFhQyxHQUNsQixNQUFPQSxHQUFJQyxJQUFJLFNBQVVDLEdBQ2QsTUFEdUJDLFFBQU9DLE1BQU1GLEtBQzNDQSxFQUFJLEdBQVVBLElBR3RCLFFBQVNHLEdBQUtDLEVBQUtDLEdBQ2YsR0FBSUMsR0FBVSxHQUFJQyxlQUNsQkQsR0FBUUUsS0FBSyxNQUFPSixHQUFLLEdBQ3pCRSxFQUFRRyxpQkFBaUIsT0FBUSxXQUM3QkosRUFBU0MsRUFBUUksZ0JBRXJCSixFQUFRSyxPQUdaLFFBQVNDLEdBQWFDLEdBQ2xCLEdBQUlDLEdBQVFELEVBQUlFLE1BQU0sSUFDdEIsT0FBT0QsR0FBTUEsRUFBTTlGLE9BQVMsR0FHaEMsUUFBU2dHLEtBQ0wsT0FBTyxHQUFLQyxPQUFRQyxVQUd4QixRQUFTQyxHQUFTbkgsR0FDZCxNQUFPQSxHQUFJcUYsS0FBSytCLEdBQUssSUFHekIsUUFBU0MsR0FBaUJDLEVBQUlDLEdBSzFCLElBQUssR0FKREMsR0FBSSxFQUNKQyxFQUFJLEVBQ0pDLEVBQUksRUFDSkMsS0FDSzVHLEVBQUksRUFBR0EsRUFBSXVHLEVBQUd0RyxPQUFRRCxJQUMzQjRHLEVBQUc1RyxHQUFLLENBRVosS0FBSyxHQUFJQSxHQUFJLEVBQUdBLEVBQUl3RyxFQUFJdkcsT0FBUUQsR0FBUSxFQUFHLENBQ3ZDLEdBQUk2RyxNQUNBQyxLQUNBQyxJQUVKRixHQUFHSixHQUFLRixFQUFHLEVBQUlDLEVBQUl4RyxFQUFJLEdBQUt5RyxHQUFLRixFQUFHLEVBQUlDLEVBQUl4RyxHQUFLeUcsR0FDakRJLEVBQUdILEdBQUtILEVBQUcsRUFBSUMsRUFBSXhHLEVBQUksR0FBSzBHLEdBQUtILEVBQUcsRUFBSUMsRUFBSXhHLEdBQUswRyxHQUNqREcsRUFBR0YsR0FBS0osRUFBRyxFQUFJQyxFQUFJeEcsRUFBSSxHQUFLMkcsR0FBS0osRUFBRyxFQUFJQyxFQUFJeEcsR0FBSzJHLEdBRWpERyxFQUFHTCxHQUFLRixFQUFHLEVBQUlDLEVBQUl4RyxFQUFJLEdBQUt5RyxHQUFLRixFQUFHLEVBQUlDLEVBQUl4RyxFQUFJLEdBQUt5RyxHQUNyREssRUFBR0osR0FBS0gsRUFBRyxFQUFJQyxFQUFJeEcsRUFBSSxHQUFLMEcsR0FBS0gsRUFBRyxFQUFJQyxFQUFJeEcsRUFBSSxHQUFLMEcsR0FDckRJLEVBQUdILEdBQUtKLEVBQUcsRUFBSUMsRUFBSXhHLEVBQUksR0FBSzJHLEdBQUtKLEVBQUcsRUFBSUMsRUFBSXhHLEVBQUksR0FBSzJHLEdBVXJESSxFQUFPTixHQUFLSSxFQUFHSCxHQUFLSSxFQUFHSCxHQUFLRSxFQUFHRixHQUFLRyxFQUFHSixHQUN2Q0ssRUFBT0wsR0FBS0csRUFBR0YsR0FBS0csRUFBR0wsR0FBS0ksRUFBR0osR0FBS0ssRUFBR0gsR0FDdkNJLEVBQU9KLEdBQUtFLEVBQUdKLEdBQUtLLEVBQUdKLEdBQUtHLEVBQUdILEdBQUtJLEVBQUdMLEVBSXZDLEtBQUssR0FBSU8sR0FBSSxFQUFPLEVBQUpBLEVBQU9BLElBQ25CSixFQUFHLEVBQUlKLEVBQUl4RyxFQUFJZ0gsR0FBS1AsR0FBS0csRUFBRyxFQUFJSixFQUFJeEcsRUFBSWdILEdBQUtQLEdBQUtNLEVBQU9OLEdBQ3pERyxFQUFHLEVBQUlKLEVBQUl4RyxFQUFJZ0gsR0FBS04sR0FBS0UsRUFBRyxFQUFJSixFQUFJeEcsRUFBSWdILEdBQUtOLEdBQUtLLEVBQU9MLEdBQ3pERSxFQUFHLEVBQUlKLEVBQUl4RyxFQUFJZ0gsR0FBS0wsR0FBS0MsRUFBRyxFQUFJSixFQUFJeEcsRUFBSWdILEdBQUtMLEdBQUtJLEVBQU9KLEdBSWpFLElBQUssR0FBSTNHLEdBQUksRUFBR0EsRUFBSXVHLEVBQUd0RyxPQUFRRCxHQUFRLEVBQUcsQ0FDdEMsR0FBSWlILEtBQ0pBLEdBQUdSLEdBQUtHLEVBQUc1RyxFQUFJeUcsR0FDZlEsRUFBR1AsR0FBS0UsRUFBRzVHLEVBQUkwRyxHQUNmTyxFQUFHTixHQUFLQyxFQUFHNUcsRUFBSTJHLEVBQ2YsSUFBSU8sR0FBTTVDLEtBQUs2QyxLQUFNRixFQUFHUixHQUFLUSxFQUFHUixHQUFPUSxFQUFHUCxHQUFLTyxFQUFHUCxHQUFPTyxFQUFHTixHQUFLTSxFQUFHTixHQUN6RCxJQUFQTyxJQUNBQSxFQUFNLE1BQ1ZELEVBQUdSLEdBQUtRLEVBQUdSLEdBQUtTLEVBQ2hCRCxFQUFHUCxHQUFLTyxFQUFHUCxHQUFLUSxFQUNoQkQsRUFBR04sR0FBS00sRUFBR04sR0FBS08sRUFDaEJOLEVBQUc1RyxFQUFJeUcsR0FBS1EsRUFBR1IsR0FDZkcsRUFBRzVHLEVBQUkwRyxHQUFLTyxFQUFHUCxHQUNmRSxFQUFHNUcsRUFBSTJHLEdBQUtNLEVBQUdOLEdBRW5CLE1BQU9DLEdBMUZYeEMsRUFBTUMsR0FBS0EsRUFLWEQsRUFBTU8sS0FBT0EsRUFLYlAsRUFBTVUsYUFBZUEsRUFTckJWLEVBQU1nQixLQUFPQSxFQUtiaEIsRUFBTXlCLGFBQWVBLEVBSXJCekIsRUFBTTZCLGtCQUFvQkEsRUFJMUI3QixFQUFNZ0MsU0FBV0EsRUE0RGpCaEMsRUFBTWtDLGlCQUFtQkEsR0FDMUJsQyxFQUFRMUUsRUFBTTBFLFFBQVUxRSxFQUFNMEUsV0FDakMsU0FBV2dELEdBQ1BBLEVBQVlBLEVBQXNCLFNBQUksR0FBSyxXQUMzQ0EsRUFBWUEsRUFBc0IsU0FBSSxHQUFLLFlBQzVDMUgsRUFBTTBILGNBQWdCMUgsRUFBTTBILGdCQUMvQixJQUFJQSxHQUFjMUgsRUFBTTBILFlBQ3BCQyxFQUFTLFdBQ1QsUUFBU0EsTUFzSFQsTUFwSEFBLEdBQU1DLG1CQUFxQixTQUFVQyxFQUFLMUgsR0FDdEMsR0FBSTJILEdBQVU3SCxFQUFXQyxhQUFhQyxFQUN0Q3dILEdBQU1JLFdBQVdGLEVBQUtDLElBRTFCSCxFQUFNSSxXQUFhLFNBQVVGLEVBQUtDLEdBQzlCSCxFQUFNSyxPQUFPSCxHQUFLQyxRQUFVQSxHQUVoQ0gsRUFBTW5ILFdBQWEsU0FBVXFILEdBQ3pCLE1BQU9GLEdBQU1LLE9BQU9ILEdBQUtDLFNBRTdCSCxFQUFNaEUsY0FBZ0IsU0FBVWtFLEVBQUtqRSxHQUNqQyxHQUFJNUMsR0FBSzJHLEVBQU1uSCxXQUFXcUgsR0FDdEIxRCxFQUFVbEUsRUFBVzBELGNBQWMzQyxFQUFJNEMsRUFDM0MrRCxHQUFNTSxXQUFXSixFQUFLMUQsSUFFMUJ3RCxFQUFNTSxXQUFhLFNBQVVKLEVBQUsxRCxHQUM5QndELEVBQU1LLE9BQU9ILEdBQUsxRCxRQUFVQSxHQUVoQ3dELEVBQU1PLFdBQWEsU0FBVUwsR0FDekIsTUFBT0YsR0FBTUssT0FBT0gsR0FBSzFELFNBRTdCd0QsRUFBTVEsV0FBYSxTQUFVTixHQUN6QkYsRUFBTUssT0FBT0gsT0FFakJGLEVBQU1TLHNCQUF3QixTQUFVUCxFQUFLUSxHQUN6QyxHQUFJQyxHQUFPWCxFQUFNSyxPQUFPSCxHQUNwQjdHLEVBQUtzSCxFQUFLUixRQUNWUyxFQUFNRCxFQUFLbkUsT0FDZm1FLEdBQUtFLFFBQVVILEVBQWNJLE9BQU8sU0FBVUMsRUFBTUMsR0FFaEQsTUFEQUQsR0FBS0MsR0FBUTNILEVBQUc0SCxrQkFBa0JMLEVBQUtJLEdBQ2hDRCxRQUdmZixFQUFNa0IsVUFBWSxTQUFVQyxFQUFVQyxHQUNsQyxNQUFPcEIsR0FBTUssT0FBT2MsR0FBVU4sUUFBUU8sSUFFMUNwQixFQUFNcUIsV0FBYSxTQUFVRixFQUFVRyxHQUNuQyxNQUFPdEIsR0FBTUssT0FBT2MsR0FBVUksU0FBU0QsSUFFM0N0QixFQUFNd0Isb0JBQXNCLFNBQVV0QixFQUFLdUIsR0FDdkMsR0FBSWQsR0FBT1gsRUFBTUssT0FBT0gsR0FDcEI3RyxFQUFLc0gsRUFBS1IsUUFDVlMsRUFBTUQsRUFBS25FLE9BQ2ZtRSxHQUFLWSxTQUFXRSxFQUFjWCxPQUFPLFNBQVVDLEVBQU1DLEdBRWpELE1BREFELEdBQUtDLEdBQVEzSCxFQUFHcUksbUJBQW1CZCxFQUFLSSxHQUNqQ0QsUUFHZmYsRUFBTTJCLGFBQWUsU0FBVVIsRUFBVUMsRUFBVVEsR0FDL0MsR0FBSUMsR0FBUTdCLEVBQU1rQixVQUFVQyxFQUFVQyxHQUNsQy9ILEVBQUsyRyxFQUFNbkgsV0FBV3NJLEVBQzFCOUgsR0FBR3lJLHdCQUF3QkQsR0FDdkJELEVBQ0F2SSxFQUFHMEksb0JBQW9CRixFQUFPRCxFQUFRSSxNQUFRLEVBQUczSSxFQUFHNEksTUFBT0wsRUFBUU0sYUFBYyxFQUFPTixFQUFRTyxRQUFVLEVBQUdQLEVBQVFRLFFBQVUsR0FHL0gvSSxFQUFHMEksb0JBQW9CRixFQUFPLEVBQUd4SSxFQUFHNEksT0FBTyxFQUFPLEVBQUcsSUFHN0RqQyxFQUFNcUMsY0FBZ0IsU0FBVWxCLEVBQVVDLEdBQ3RDLEdBQUlTLEdBQVE3QixFQUFNa0IsVUFBVUMsRUFBVUMsR0FDbEMvSCxFQUFLMkcsRUFBTW5ILFdBQVdzSSxFQUMxQjlILEdBQUdpSix5QkFBeUJULElBRWhDN0IsRUFBTXVDLFdBQWEsU0FBVUMsR0FDekJDLFlBQVlELEVBQUksS0FFcEJ4QyxFQUFNMEMsV0FBYSxTQUFVeEMsRUFBS3lDLEdBQzlCLEdBQUloQyxHQUFPWCxFQUFNSyxPQUFPSCxFQUN4QlMsR0FBS2lDLFNBQVdqQyxFQUFLaUMsYUFDckJqQyxFQUFLaUMsU0FBU0MsS0FBS0YsSUFFdkIzQyxFQUFNOEMsY0FBZ0IsU0FBVTVDLEVBQUt5QyxHQUNqQyxHQUFJaEMsR0FBT1gsRUFBTUssT0FBT0gsRUFDeEJTLEdBQUtpQyxTQUFXakMsRUFBS2lDLFlBQ3JCLElBQUlmLEdBQVFsQixFQUFLaUMsU0FBU0csUUFBUUosRUFDbENoQyxHQUFLaUMsU0FBU0ksT0FBT25CLEVBQU8sSUFFaEM3QixFQUFNaUQsY0FBZ0IsU0FBVS9DLEVBQUt5QyxFQUFZL0gsR0FDN0MsR0FBSStGLEdBQU9YLEVBQU1LLE9BQU9ILEdBQ3BCN0csRUFBS3NILEVBQUtSLFFBRVYwQixHQURNbEIsRUFBS25FLFFBQ0htRSxFQUFLaUMsU0FBU0csUUFBUUosR0FDbEMsSUFBSWQsRUFBUSxHQUFJLENBQ1p4SSxFQUFHNEosY0FBd0IsSUFBVnBCLEVBQWN4SSxFQUFHNkosU0FBVzdKLEVBQUc2SixTQUFXckIsR0FDM0R4SSxFQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZRixFQUM5QixJQUFJdUksR0FBV25ELEVBQU1xQixXQUFXbkIsRUFBSyxXQUNyQzdHLEdBQUcrSixVQUFVRCxFQUFVdEIsS0FHL0I3QixFQUFNcUQsWUFBYyxTQUFVbEMsR0FDMUIsTUFBT25CLEdBQU1LLE9BQU9jLEdBQVVtQyxXQUVsQ3RELEVBQU11RCxnQkFBa0IsU0FBVXBDLEdBQzlCbkIsRUFBTUssT0FBT2MsR0FBVW1DLFdBQVksR0FFdkN0RCxFQUFNd0QsaUJBQW1CLFNBQVVyQyxHQUMvQm5CLEVBQU1LLE9BQU9jLEdBQVVtQyxXQUFZLEdBRXZDdEQsRUFBTXlELG1CQUFxQixTQUFVdEMsRUFBVXVDLEdBQzNDLEdBQUkvQyxHQUFPWCxFQUFNSyxPQUFPYyxFQUN4QlIsR0FBS2dELGNBQWdCaEQsRUFBS2dELGtCQUMxQmhELEVBQUtnRCxjQUFjZCxLQUFLYSxJQUU1QjFELEVBQU00RCxvQkFBc0IsU0FBVXpDLEdBQ2xDLEdBQUlSLEdBQU9YLEVBQU1LLE9BQU9jLEVBQ3hCUixHQUFLZ0Qsa0JBRVQzRCxFQUFNNkQsaUJBQW1CLFNBQVUxQyxFQUFVMkMsR0FDekMsR0FBSW5ELEdBQU9YLEVBQU1LLE9BQU9jLEVBRXhCLE9BREFSLEdBQUtnRCxjQUFnQmhELEVBQUtnRCxrQkFDbkJJLEVBQUVDLEtBQUtyRCxFQUFLZ0QsY0FBZSxTQUFVTSxHQUN4QyxNQUFPRixHQUFFRyxRQUFRRCxFQUFFSCxNQUFPQSxNQUdsQzlELEVBQU1LLFVBQ0NMLElBRVgzSCxHQUFNMkgsTUFBUUEsQ0FDZCxJQUFJbUUsR0FBYyxXQUNkLFFBQVNBLEdBQVdDLEdBQ2hCek0sS0FBSzBNLFVBQVlELEVBMEJyQixNQXhCQWpNLFFBQU9tTSxlQUFlSCxFQUFXak0sVUFBVyxXQUN4Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzBNLFdBRWhCRyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZUgsRUFBV2pNLFVBQVcsTUFDeENxTSxJQUFLLFdBQ0QsTUFBT3ZFLEdBQU1uSCxXQUFXbEIsS0FBSytNLFVBRWpDRixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZUgsRUFBV2pNLFVBQVcsV0FDeENxTSxJQUFLLFdBQ0QsTUFBT3ZFLEdBQU1PLFdBQVc1SSxLQUFLK00sVUFFakNGLFlBQVksRUFDWkMsY0FBYyxJQUVsQk4sRUFBV2pNLFVBQVVtSixXQUFhLFNBQVVuQixHQUN4QyxNQUFPRixHQUFNcUIsV0FBVzFKLEtBQUsrTSxRQUFTeEUsSUFFbkNpRSxJQUVYOUwsR0FBTThMLFdBQWFBLENBQ25CLElBQUlRLEdBQVUsU0FBVUMsR0FFcEIsUUFBU0QsR0FBT1AsR0FDWlEsRUFBT0MsS0FBS2xOLEtBQU15TSxHQU10QixNQVJBMU0sV0FBVWlOLEVBQVFDLEdBSWxCRCxFQUFPek0sVUFBVTRNLFVBQVksU0FBVUMsS0FFdkNKLEVBQU96TSxVQUFVOE0sUUFBVSxTQUFVRCxLQUU5QkosR0FDVFIsRUFDRjlMLEdBQU1zTSxPQUFTQSxDQUNmLElBQUlNLEdBQWUsU0FBVUwsR0FFekIsUUFBU0ssR0FBWWIsR0FDakJRLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLdU4sVUFDTHZOLEtBQUt3TixVQUFZQyxLQUFLaE4sU0FDdEJULEtBQUswTixTQUFXRCxLQUFLaE4sU0FDckJULEtBQUsyTixTQUFXRixLQUFLaE4sU0E2RXpCLE1BbkZBVixXQUFVdU4sRUFBYUwsR0FRdkJLLEVBQVkvTSxVQUFVMkssS0FBTyxXQUN6QixHQUFJMEMsR0FBT0gsS0FBS2hOLFFBQ2hCZ04sTUFBS0ksSUFBSTdOLEtBQUt3TixVQUFXSSxHQUN6QjVOLEtBQUt1TixPQUFPckMsS0FBSzBDLElBRXJCTixFQUFZL00sVUFBVXVOLElBQU0sV0FDeEIsR0FBMEIsR0FBdEI5TixLQUFLdU4sT0FBT3RNLE9BQ1osS0FBTSxtQkFDVmpCLE1BQUt3TixVQUFZeE4sS0FBS3VOLE9BQU9PLE9BRWpDUixFQUFZL00sVUFBVXdOLFVBQVksV0FDMUIvTixLQUFLZ08sUUFDTGhPLEtBQUt3TixVQUFZeE4sS0FBS2dPLFFBQVFDLFVBRzlCUixLQUFLUyxTQUFTbE8sS0FBS3dOLFlBRzNCaE4sT0FBT21NLGVBQWVXLEVBQVkvTSxVQUFXLFlBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLd04sV0FFaEJYLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlVyxFQUFZL00sVUFBVyxXQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzBOLFVBRWhCYixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZVcsRUFBWS9NLFVBQVcsV0FDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUsyTixVQUVoQmQsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVXLEVBQVkvTSxVQUFXLGNBQ3pDc04sSUFBSyxTQUFVTSxHQUNYbk8sS0FBS2dPLFFBQVVHLEdBRW5CdEIsWUFBWSxFQUNaQyxjQUFjLElBRWxCUSxFQUFZL00sVUFBVTZOLFlBQWMsV0FDaEMsR0FBSTFNLEdBQUsxQixLQUFLMEIsRUFDZCtMLE1BQUtTLFNBQVNsTyxLQUFLME4sVUFDbkJELEtBQUtZLFlBQVksR0FBSTNNLEVBQUdMLGNBQWdCSyxFQUFHSCxlQUFnQixHQUFLLElBQVF2QixLQUFLME4sV0FFakZKLEVBQVkvTSxVQUFVK04sT0FBUyxXQUMzQmIsS0FBS1MsU0FBU2xPLEtBQUsyTixVQUNuQkYsS0FBS0ksSUFBSTdOLEtBQUt3TixVQUFXeE4sS0FBSzJOLFVBQzlCRixLQUFLYyxRQUFRdk8sS0FBSzJOLFVBQ2xCRixLQUFLZSxVQUFVeE8sS0FBSzJOLFdBRXhCTCxFQUFZL00sVUFBVWtPLEtBQU8sV0FDekJ6TyxLQUFLK04sWUFDTC9OLEtBQUtvTyxjQUNMcE8sS0FBS3NPLFVBRVRoQixFQUFZL00sVUFBVW1PLE1BQVEsV0FDMUIsR0FBSWhOLEdBQUsxQixLQUFLMEIsRUFDZDFCLE1BQUtzTyxRQUNMLElBQUlLLEdBQVczTyxLQUFLMEosV0FBVyxZQUMzQmlGLElBQ0FqTixFQUFHa04saUJBQWlCRCxHQUFVLEVBQU8zTyxLQUFLd04sVUFDOUMsSUFBSXFCLEdBQVU3TyxLQUFLMEosV0FBVyxXQUMxQm1GLElBQ0FuTixFQUFHa04saUJBQWlCQyxHQUFTLEVBQU83TyxLQUFLME4sU0FDN0MsSUFBSW9CLEdBQVU5TyxLQUFLMEosV0FBVyxXQUMxQm9GLElBQ0FwTixFQUFHa04saUJBQWlCRSxHQUFTLEVBQU85TyxLQUFLMk4sV0FFMUNMLEdBQ1RkLEVBQ0Y5TCxHQUFNNE0sWUFBY0EsQ0FDcEIsSUFBSXlCLElBQ0osU0FBV0EsR0FDUCxHQUFJQyxHQUFlLFNBQVUvQixHQUV6QixRQUFTK0IsR0FBWXZDLEdBQ2pCUSxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBeUp0QixNQTNKQTFNLFdBQVVpUCxFQUFhL0IsR0FJdkJ6TSxPQUFPbU0sZUFBZXFDLEVBQVl6TyxVQUFXLFVBQ3pDc04sSUFBSyxTQUFVaEQsR0FDWDdLLEtBQUtpUCxRQUFVcEUsR0FFbkJnQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZXFDLEVBQVl6TyxVQUFXLE9BQ3pDc04sSUFBSyxTQUFVcUIsR0FDWCxHQUFJQyxHQUFRblAsS0FDUm9QLEVBQU9wUCxLQUNQcVAsRUFBTWpLLEVBQU15QixhQUFhcUksRUFDN0I5SixHQUFNZ0IsS0FBSzhJLEVBQUssU0FBVXZOLEdBQ3RCLEdBQUlvSyxFQUNKLFFBQVFzRCxHQUNKLElBQUssTUFDRHRELEVBQU1xRCxFQUFLRSxTQUFTM04sRUFDcEIsTUFDSixLQUFLLE9BQ0RvSyxFQUFNcUQsRUFBS0csVUFBVTVOLEdBRzdCeU4sRUFBS0ksY0FBY3pELEdBQ2ZvRCxFQUFNRixTQUNORSxFQUFNRixhQUdsQnBDLFlBQVksRUFDWkMsY0FBYyxJQUVsQmtDLEVBQVl6TyxVQUFVZ1AsVUFBWSxTQUFVNU4sR0FDeEMsR0FBSW9LLEtBQ0osS0FDSUEsRUFBTTBELEtBQUtDLE1BQU0vTixHQUVyQixNQUFPUixHQUNIK0MsUUFBUUMsSUFBSWhELEdBRWhCLE1BQU80SyxJQUVYaUQsRUFBWXpPLFVBQVUrTyxTQUFXLFNBQVUzTixHQUN2QyxHQUFJb0ssSUFDQTRELEtBQ0FDLE1BQ0FDLE1BQ0FDLE1BQ0FDLFFBQ0FDLE9BRUFDLEVBQVF0TyxFQUFLcUYsTUFBTSxNQUNuQnBDLEVBQVNxTCxFQUFNQyxPQUFPLFNBQVVqSyxHQUNoQyxNQUFnQixNQUFUQSxFQUFFLEtBRVRpRSxFQUFRK0YsRUFBTUMsT0FBTyxTQUFVakssR0FDL0IsTUFBZ0IsTUFBVEEsRUFBRSxJQUVickIsR0FBT3VMLFFBQVEsU0FBVUMsR0FDckIsR0FBSXJKLEdBQVFxSixFQUFLQyxRQUFRLEtBQU0sSUFBSXJKLE1BQU0sS0FDckN1QixFQUFNeEIsRUFBTSxFQUNoQmdGLEdBQUl4RCxHQUFPd0QsRUFBSXhELEdBQUsrSCxPQUFPdkosRUFBTXdKLE1BQU0sR0FBR0wsT0FBTyxTQUFVakssR0FDdkQsTUFBYSxLQUFOQSxNQUdmLElBQUl1SyxLQWFKLE9BWkF0RyxHQUFNaUcsUUFBUSxTQUFVQyxHQUNwQixHQUFJckosR0FBUXFKLEVBQUtDLFFBQVEsS0FBTSxJQUFJQSxRQUFRLElBQUssSUFBSXJKLE1BQU0sSUFDMUR3SixHQUFZQSxFQUFVRixPQUFPdkosRUFBTXdKLE1BQU0sR0FBR0wsT0FBTyxTQUFVakssR0FDekQsTUFBYSxLQUFOQSxPQUdmdUssRUFBVUwsUUFBUSxTQUFVQyxHQUN4QixHQUFJckosR0FBUXFKLEVBQUtwSixNQUFNLElBQ3ZCK0UsR0FBSStELEdBQUc1RSxLQUFLdUYsU0FBUzFKLEVBQU0sSUFBTSxHQUNqQ2dGLEVBQUFBLE1BQU9iLEtBQUt1RixTQUFTMUosRUFBTSxJQUFNLEdBQ2pDZ0YsRUFBSWlFLEdBQUc5RSxLQUFLdUYsU0FBUzFKLEVBQU0sSUFBTSxLQUU5QmdGLEdBRVhpRCxFQUFZek8sVUFBVWlQLGNBQWdCLFNBQVV6RCxHQVU1QyxRQUFTdEssR0FBYUUsR0FDbEIsTUFBT2hCLEdBQVdjLGFBQWFDLEVBQUlDLEdBVXZDLFFBQVNpQixHQUFrQmpCLEdBQ3ZCLE1BQU9oQixHQUFXaUMsa0JBQWtCbEIsRUFBSUMsR0FyQjVDLEdBQUlELEdBQUsxQixLQUFLMEIsRUFDZDBLLEdBQUVzRSxTQUFTM0UsR0FDUDRELEtBQ0FDLE1BQ0FDLE1BQ0FDLE1BQ0FDLFFBQ0FDLFFBS0FqRSxFQUFJNEQsRUFBRTFPLE9BQVMsSUFDZmpCLEtBQUsyUSxLQUFPbFAsRUFBYXNLLEVBQUk0RCxJQUM3QjVELEVBQUk0RCxFQUFFMU8sT0FBUyxHQUFLOEssRUFBSStELEdBQUc3TyxPQUFTLElBQ3BDakIsS0FBSzRRLEtBQU9uUCxFQUFhMkQsRUFBTWtDLGlCQUFpQnlFLEVBQUk0RCxFQUFHNUQsRUFBSStELE1BRTNEL0QsRUFBSThELEdBQUc1TyxPQUFTLElBQ2hCakIsS0FBSzZRLEtBQU9sUSxFQUFXYyxhQUFhQyxFQUFJcUssRUFBSThELElBQUksSUFLaEQ5RCxFQUFJK0QsR0FBRzdPLE9BQVMsSUFDaEJqQixLQUFLOFEsTUFBUWxPLEVBQWtCbUosRUFBSStELEtBQ25DL0QsRUFBQUEsTUFBTzlLLE9BQVMsSUFDaEJqQixLQUFLK1EsTUFBUW5PLEVBQWtCbUosRUFBQUEsUUFDL0JBLEVBQUlpRSxHQUFHL08sT0FBUyxJQUNoQmpCLEtBQUtnUixNQUFRcE8sRUFBa0JtSixFQUFJaUUsTUFFM0N4UCxPQUFPbU0sZUFBZXFDLEVBQVl6TyxVQUFXLE9BQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLMlEsTUFFaEI5RCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZXFDLEVBQVl6TyxVQUFXLE9BQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLNFEsTUFFaEIvRCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZXFDLEVBQVl6TyxVQUFXLE9BQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLNlEsTUFFaEJoRSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZXFDLEVBQVl6TyxVQUFXLFFBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLOFEsT0FFaEJqRSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZXFDLEVBQVl6TyxVQUFXLFFBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLK1EsT0FFaEJsRSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZXFDLEVBQVl6TyxVQUFXLFFBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLZ1IsT0FFaEJuRSxZQUFZLEVBQ1pDLGNBQWMsSUFFWGtDLEdBQ1R4QyxFQUNGdUMsR0FBVUMsWUFBY0EsQ0FDeEIsSUFBSWlDLEdBQWUsU0FBVWhFLEdBRXpCLFFBQVNnRSxHQUFZeEUsR0FDakJRLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLa1IsT0FBUyxHQUFJQyxPQUNsQm5SLEtBQUtvUixLQUFPaE0sRUFBTU8sS0FBSzNGLEtBQUtJLFlBQVl3RixNQWtDNUMsTUF0Q0E3RixXQUFVa1IsRUFBYWhFLEdBTXZCek0sT0FBT21NLGVBQWVzRSxFQUFZMVEsVUFBVyxVQUN6Q3NOLElBQUssU0FBVWhELEdBQ1g3SyxLQUFLaVAsUUFBVXBFLEdBRW5CZ0MsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWVzRSxFQUFZMVEsVUFBVyxPQUN6Q3NOLElBQUssU0FBVXdELEdBQ1hyUixLQUFLa1IsT0FBT0ksT0FBU3RSLEtBQUt1UixpQkFBaUJ2UixLQUFLaVAsU0FDaERqUCxLQUFLa1IsT0FBT2hDLElBQU1tQyxHQUV0QnhFLFlBQVksRUFDWkMsY0FBYyxJQUVsQm1FLEVBQVkxUSxVQUFVZ1IsaUJBQW1CLFNBQVUxRyxHQUMvQyxHQUFJc0UsR0FBUW5QLEtBQ1JvUCxFQUFPcFAsSUFDWCxPQUFPLFlBQ0htUCxFQUFNcUMsU0FBVzdRLEVBQVdxQyxjQUFjb00sRUFBSzFOLEdBQUkwTixFQUFLOEIsUUFDeEQ3SSxFQUFNMEMsV0FBV3FFLEVBQUtyQyxRQUFTcUMsRUFBS2dDLE1BQ2hDdkcsR0FDQUEsTUFHWnJLLE9BQU9tTSxlQUFlc0UsRUFBWTFRLFVBQVcsV0FDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUt3UixVQUVoQjNFLFlBQVksRUFDWkMsY0FBYyxJQUVYbUUsR0FDVHpFLEVBQ0Z1QyxHQUFVa0MsWUFBY0EsQ0FDeEIsSUFBSVEsR0FBZ0IsU0FBVXhFLEdBRTFCLFFBQVN3RSxHQUFhaEYsRUFBVWlGLEVBQVNDLEVBQVNDLEVBQVVDLEdBQ3hENUUsRUFBT0MsS0FBS2xOLEtBQU15TSxHQUNsQnpNLEtBQUs4UixTQUFXSixFQUFVSyxLQUFLdFIsT0FBT2lSLEdBQVdLLEtBQUt0UixTQUN0RFQsS0FBS2dTLFNBQVdMLEVBQVVJLEtBQUt0UixPQUFPa1IsR0FBVyxPQUNqRDNSLEtBQUtpUyxVQUFZTCxFQUFXRyxLQUFLdFIsT0FBT21SLEdBQVlHLEtBQUt0UixTQUN6RFQsS0FBS2tTLFdBQWFMLEdBQWEsSUF3Rm5DLE1BOUZBOVIsV0FBVTBSLEVBQWN4RSxHQVF4QnpNLE9BQU9tTSxlQUFlOEUsRUFBYWxSLFVBQVcsVUFDMUNzTixJQUFLLFNBQVVoRCxHQUNYN0ssS0FBS2lQLFFBQVVwRSxHQUVuQmdDLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlOEUsRUFBYWxSLFVBQVcsT0FDMUNzTixJQUFLLFNBQVVxQixHQUNYLEdBQUlDLEdBQVFuUCxLQUNSb1AsRUFBT3BQLElBQ1hvRixHQUFNZ0IsS0FBSzhJLEVBQUssU0FBVXZOLEdBQ3RCLEdBQUl3USxHQUFPL0MsRUFBS00sTUFBTS9OLEVBQ3RCd04sR0FBTTJDLFNBQVdLLEVBQUtDLEdBQ3RCakQsRUFBTTZDLFNBQVdHLEVBQUtFLEdBQ3RCbEQsRUFBTThDLFVBQVlFLEVBQUtHLEdBQ3ZCbkQsRUFBTTBDLFVBQVlNLEVBQUtJLEdBQ25CcEQsRUFBTUYsU0FDTkUsRUFBTUYsYUFHbEJwQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEIyRSxFQUFhbFIsVUFBVW1QLE1BQVEsU0FBVS9OLEdBQ3JDLEdBQUlvSyxNQUNBeUcsR0FBUSxLQUFNLEtBQU0sS0FBTSxNQUMxQnZDLEVBQVF0TyxFQUFLcUYsTUFBTSxLQWlCdkIsT0FoQkFpSixHQUFNRSxRQUFRLFNBQVVzQyxHQUNwQixHQUFJMUwsR0FBUTBMLEVBQUt6TCxNQUFNLEtBQ25CdUIsRUFBTXhCLEVBQU0sRUFDaEIsSUFBSXlMLEVBQUtwSCxRQUFRN0MsR0FBTyxHQUNwQixPQUFRQSxHQUNKLElBQUssS0FDRHdELEVBQVEsR0FBSTdGLE9BQU9hLEVBQU0sR0FDekIsTUFDSixTQUNJLEdBQUlvTCxHQUFPcEwsRUFBTXdKLE1BQU0sR0FBR3ZLLElBQUksU0FBVUMsR0FBSyxNQUFPQyxRQUFPRCxJQUMzRGtNLEdBQUtqSCxLQUFLLEdBQ1ZhLEVBQUl4RCxHQUFPNEosS0FLcEJwRyxHQUVYdkwsT0FBT21NLGVBQWU4RSxFQUFhbFIsVUFBVyxXQUMxQ3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzhSLFVBRWhCakUsSUFBSyxTQUFVNkQsR0FDWDFSLEtBQUs4UixTQUFXMU0sRUFBTVUsYUFBYWlNLEtBQUt0UixPQUFPaVIsS0FFbkQ3RSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZThFLEVBQWFsUixVQUFXLFdBQzFDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLZ1MsVUFFaEJuRSxJQUFLLFNBQVU4RCxHQUNYM1IsS0FBS2dTLFNBQVc1TSxFQUFNVSxhQUFhaU0sS0FBS3RSLE9BQU9rUixLQUVuRDlFLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlOEUsRUFBYWxSLFVBQVcsWUFDMUNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUtpUyxXQUVoQnBFLElBQUssU0FBVStELEdBQ1g1UixLQUFLaVMsVUFBWTdNLEVBQU1VLGFBQWFpTSxLQUFLdFIsT0FBT21SLEtBRXBEL0UsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWU4RSxFQUFhbFIsVUFBVyxhQUMxQ3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS2tTLFlBRWhCckUsSUFBSyxTQUFVOEIsR0FDWDNQLEtBQUtrUyxXQUFhdkMsR0FFdEI5QyxZQUFZLEVBQ1pDLGNBQWMsSUFFWDJFLEdBQ1RqRixFQUNGdUMsR0FBVTBDLGFBQWVBLEdBQzFCMUMsRUFBWXJPLEVBQU1xTyxZQUFjck8sRUFBTXFPLGNBQ3pDLElBQUkyRCxJQUNKLFNBQVdBLEdBQ1AsR0FBSUMsR0FBWSxXQUNaLFFBQVNBLE1BS1QsTUFIQUEsR0FBU0MsU0FBVyxvYkFDcEJELEVBQVNFLE1BQVEsNjVDQUNqQkYsRUFBU0csS0FBTyxnL0NBQ1RILElBRVhELEdBQVFDLFNBQVdBLENBQ25CLElBQUlJLEdBQVUsV0FDVixRQUFTQSxNQUtULE1BSEFBLEdBQU9ILFNBQVcsOGlCQUNsQkcsRUFBT0YsTUFBUSw4c0JBQ2ZFLEVBQU9ELEtBQU8saXVCQUNQQyxJQUVYTCxHQUFRSyxPQUFTQSxHQUNsQkwsRUFBVWhTLEVBQU1nUyxVQUFZaFMsRUFBTWdTLFlBQ3JDLElBQUlNLEdBQW1CLFNBQVUvRixHQUU3QixRQUFTK0YsR0FBZ0J2RyxFQUFVd0csRUFBV0MsRUFBTzVNLEdBQ2pEMkcsRUFBT0MsS0FBS2xOLEtBQU15TSxHQUNsQnpNLEtBQUttVCxXQUFhRixFQUNsQmpULEtBQUtvVCxhQUFlLEtBQ3BCcFQsS0FBS3FULFVBQVkvTSxFQTZCckIsTUFsQ0F2RyxXQUFVaVQsRUFBaUIvRixHQU8zQitGLEVBQWdCelMsVUFBVStTLFFBQVUsV0FFaEMsR0FEQU4sRUFBZ0JPLFdBQWFuTyxFQUFNNkIsc0JBQy9CK0wsRUFBZ0JPLFdBQWEsR0FBakMsQ0FHQSxJQURBLEdBQUlDLEdBQVFsTyxLQUFLQyxNQUFNeU4sRUFBZ0JPLFdBQWF2VCxLQUFLbVQsWUFDakRLLEVBQVEsR0FBT1IsRUFBZ0JTLE9BQVN6VCxLQUFLMFQsUUFDakQxVCxLQUFLcVQsWUFDTEcsSUFDQVIsRUFBZ0JTLE9BRWhCVCxHQUFnQlMsUUFBVXpULEtBQUswVCxRQUMvQjFULEtBQUsyVCxTQUdiWCxFQUFnQnpTLFVBQVVxVCxNQUFRLFdBQzlCNVQsS0FBSzZULFFBQVV6TyxFQUFNNkIsb0JBQ3JCakgsS0FBS29ULGFBQWV0SSxZQUFZOUssS0FBS3NULFFBQVN0VCxLQUFLbVQsV0FBYSxNQUVwRUgsRUFBZ0J6UyxVQUFVb1QsS0FBTyxXQUN6QjNULEtBQUtvVCxjQUNMVSxjQUFjOVQsS0FBS29ULGVBRTNCSixFQUFnQnpTLFVBQVU0TSxVQUFZLGFBRXRDNkYsRUFBZ0J6UyxVQUFVOE0sUUFBVSxhQUVwQzJGLEVBQWdCUyxNQUFRLEVBQ2pCVCxHQUNUaEcsRUFDRnRNLEdBQU1zUyxnQkFBa0JBLENBQ3hCLElBQUllLEdBQWMsU0FBVTlHLEdBRXhCLFFBQVM4RyxHQUFXdEgsRUFBVXVILEVBQVVDLEVBQWNDLEdBQ2xEakgsRUFBT0MsS0FBS2xOLEtBQU15TSxHQUNsQnpNLEtBQUttVSxVQUFZLEtBQ2pCblUsS0FBS3dSLFNBQVcsS0FDaEJ4UixLQUFLb1UsU0FBVyxLQUNoQnBVLEtBQUtxVSxVQUFZTCxHQUFZLEtBQzdCaFUsS0FBS3NVLGNBQWdCTCxHQUFnQixLQUNyQ2pVLEtBQUt1VSxhQUFlTCxHQUFlLEtBK0h2QyxNQXZJQW5VLFdBQVVnVSxFQUFZOUcsR0FVdEI4RyxFQUFXeFQsVUFBVWlVLFlBQWMsU0FBVW5ELEVBQVV4RyxHQUNuRDdLLEtBQUtvVSxTQUFXLEdBQUlyRixHQUFVQyxZQUFZaFAsS0FBSytNLFNBQy9DL00sS0FBS29VLFNBQVM5QyxPQUFTekcsRUFDdkI3SyxLQUFLb1UsU0FBU2xGLElBQU1tQyxHQUV4QjBDLEVBQVd4VCxVQUFVa1UsWUFBYyxTQUFVcEQsRUFBVXhHLEdBQ25EN0ssS0FBS3dSLFNBQVcsR0FBSXpDLEdBQVVrQyxZQUFZalIsS0FBSytNLFNBQy9DL00sS0FBS3dSLFNBQVNGLE9BQVN6RyxFQUN2QjdLLEtBQUt3UixTQUFTdEMsSUFBTW1DLEdBRXhCN1EsT0FBT21NLGVBQWVvSCxFQUFXeFQsVUFBVyxZQUN4Q3NOLElBQUssU0FBVThCLEdBQ1gzUCxLQUFLbVUsVUFBWXhFLEdBRXJCOUMsWUFBWSxFQUNaQyxjQUFjLElBRWxCaUgsRUFBV3hULFVBQVVtVSxhQUFlLFNBQVVyRCxFQUFVeEcsR0FDcEQ3SyxLQUFLbVUsVUFBWSxHQUFJcEYsR0FBVTBDLGFBQWF6UixLQUFLK00sU0FDakQvTSxLQUFLbVUsVUFBVTdDLE9BQVN6RyxFQUN4QjdLLEtBQUttVSxVQUFVakYsSUFBTW1DLEdBRXpCMEMsRUFBV3hULFVBQVVvVSxTQUFXLFNBQVU5SixHQUN0QyxHQUFJc0UsR0FBUW5QLEtBQ1JvUCxFQUFPcFAsSUFDWDRVLE9BQU1DLFdBQ0YsU0FBVUMsR0FDTixNQUFLMUYsR0FBS2lGLFdBR1ZuUSxRQUFRQyxJQUFJLHVCQUNaaUwsR0FBS29GLFlBQVlwRixFQUFLaUYsVUFBVyxXQUM3Qm5RLFFBQVFDLElBQUksa0JBQ1oyUSxPQUxPQSxLQVFmLFNBQVVBLEdBQ04sTUFBSzNGLEdBQU1vRixjQUdYclEsUUFBUUMsSUFBSSx1QkFDWmlMLEdBQUtxRixZQUFZckYsRUFBS21GLGFBQWMsV0FDaENyUSxRQUFRQyxJQUFJLGtCQUNaMlEsT0FMT0EsS0FRZixTQUFVQSxHQUNOLE1BQUsxRixHQUFLa0YsZUFHVnBRLFFBQVFDLElBQUksd0JBQ1ppTCxHQUFLc0YsYUFBYXRGLEVBQUtrRixjQUFlLFdBQ2xDcFEsUUFBUUMsSUFBSSxtQkFDWjJRLE9BTE9BLE1BUWhCLFNBQVVDLEdBQ1QsTUFBSUEsR0FDTzdRLFFBQVFDLElBQUk0USxRQUNuQmxLLEdBQ0FBLFFBR1prSixFQUFXeFQsVUFBVXlVLGlCQUFtQixTQUFVakosR0FDOUMvTCxLQUFLb1UsU0FBVyxHQUFJckYsR0FBVUMsWUFBWWhQLEtBQUsrTSxTQUMvQy9NLEtBQUtvVSxTQUFTNUUsY0FBY3pELElBRWhDZ0ksRUFBV3hULFVBQVUwVSxxQkFBdUIsU0FBVWxKLEdBQ2xEL0wsS0FBS21VLFVBQVksR0FBSXBGLEdBQVUwQyxhQUFhelIsS0FBSytNLFNBQzdDaEIsRUFBSTJGLFVBQ0oxUixLQUFLbVUsVUFBVXpDLFFBQVUzRixFQUFJMkYsU0FFN0IzRixFQUFJNkYsV0FDSjVSLEtBQUttVSxVQUFVdkMsU0FBVzdGLEVBQUk2RixVQUU5QjdGLEVBQUk0RixVQUNKM1IsS0FBS21VLFVBQVV4QyxRQUFVNUYsRUFBSTRGLFNBRTdCNUYsRUFBSThGLFlBQ0o3UixLQUFLbVUsVUFBVXRDLFVBQVk5RixFQUFJOEYsWUFHdkNrQyxFQUFXeFQsVUFBVTJVLG9CQUFzQixXQUN2QyxHQUFJbFYsS0FBS21VLFVBQVcsQ0FDaEIsR0FBSXpTLEdBQUsxQixLQUFLMEIsRUFDZCxJQUFJMUIsS0FBS21VLFVBQVV6QyxRQUFTLENBQ3hCLEdBQUl5RCxHQUFtQm5WLEtBQUswSixXQUFXLG1CQUNuQ3lMLElBQ0F6VCxFQUFHMFQsV0FBV0QsRUFBa0JuVixLQUFLbVUsVUFBVXpDLFNBRXZELEdBQUkxUixLQUFLbVUsVUFBVXhDLFFBQVMsQ0FDeEIsR0FBSTBELEdBQW1CclYsS0FBSzBKLFdBQVcsbUJBQ25DMkwsSUFDQTNULEVBQUcwVCxXQUFXQyxFQUFrQnJWLEtBQUttVSxVQUFVeEMsU0FFdkQsR0FBSTNSLEtBQUttVSxVQUFVdkMsU0FBVSxDQUN6QixHQUFJMEQsR0FBb0J0VixLQUFLMEosV0FBVyxvQkFDcEM0TCxJQUNBNVQsRUFBRzBULFdBQVdFLEVBQW1CdFYsS0FBS21VLFVBQVV2QyxVQUV4RCxHQUFJNVIsS0FBS21VLFVBQVV0QyxVQUFXLENBQzFCLEdBQUkwRCxHQUFhdlYsS0FBSzBKLFdBQVcsYUFDN0I2TCxJQUNBN1QsRUFBRzhULFVBQVVELEVBQVl2VixLQUFLbVUsVUFBVXRDLGNBSXhEa0MsRUFBV3hULFVBQVU0TSxVQUFZLFdBQzdCLEdBQUl6TCxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLa1Ysc0JBQ0x4VCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBS29VLFNBQVNxQixLQUM3Q3BOLEVBQU0yQixhQUFhaEssS0FBSytNLFFBQVMsY0FDakNyTCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBS29VLFNBQVNzQixLQUM3Q3JOLEVBQU0yQixhQUFhaEssS0FBSytNLFFBQVMsV0FDakMsSUFBSTRJLEdBQU8zVixLQUFLb1UsU0FBU3VCLElBQ3pCalUsR0FBR0ssV0FBV0wsRUFBR29CLHFCQUFzQjZTLEdBQ3ZDalUsRUFBR2tVLGFBQWFsVSxFQUFHbVUsVUFBV0YsRUFBS2hULFNBQVVqQixFQUFHb1UsZUFBZ0IsSUFFcEUvQixFQUFXeFQsVUFBVThNLFFBQVUsV0FDM0IsR0FBSTNMLEdBQUsxQixLQUFLMEIsRUFDZDJHLEdBQU1xQyxjQUFjMUssS0FBSytNLFFBQVMsY0FDbEMxRSxFQUFNcUMsY0FBYzFLLEtBQUsrTSxRQUFTLFlBQ2xDckwsRUFBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMvQk4sRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQixPQUVwQ2lSLEdBQ1QvRyxFQUNGdE0sR0FBTXFULFdBQWFBLENBQ25CLElBQUlnQyxHQUFtQixTQUFVOUksR0FFN0IsUUFBUzhJLEdBQWdCdEosRUFBVXVKLEVBQVUzTCxFQUFNNEwsR0FDL0NoSixFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBS2tXLFFBQVV6SSxLQUFLaE4sU0FDcEJULEtBQUttVyxVQUFZSCxHQUFZSSxLQUFLM1YsU0FDbENULEtBQUtxVyxNQUFRaE0sR0FBUStMLEtBQUszVixRQUFRLEVBQUcsRUFBRyxJQUN4Q1QsS0FBS3NXLFVBQVlMLElBQWNNLE1BQU8sRUFBR0MsS0FBTUosS0FBSzNWLFVBd0d4RCxNQTlHQVYsV0FBVWdXLEVBQWlCOUksR0FRM0I4SSxFQUFnQnhWLFVBQVUyTixTQUFXLFdBQ2pDVCxLQUFLUyxTQUFTbE8sS0FBS2tXLFVBRXZCSCxFQUFnQnhWLFVBQVVrVyxVQUFZLFNBQVVDLEdBQzVDMVcsS0FBS2tXLFFBQVVRLEdBRW5CWCxFQUFnQnhWLFVBQVVpTyxVQUFZLFdBQ2xDZixLQUFLZSxVQUFVeE8sS0FBS2tXLFFBQVNsVyxLQUFLa1csVUFFdEMxVixPQUFPbU0sZUFBZW9KLEVBQWdCeFYsVUFBVyxZQUM3Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS21XLFdBRWhCdEksSUFBSyxTQUFVbUksR0FDWGhXLEtBQUttVyxVQUFZSCxHQUVyQm5KLFlBQVksRUFDWkMsY0FBYyxJQUVsQmlKLEVBQWdCeFYsVUFBVW9XLG9CQUFzQixTQUFVbFAsRUFBR0MsRUFBR0MsR0FDNUQzSCxLQUFLbVcsV0FBYTFPLEVBQUdDLEVBQUdDLElBRTVCb08sRUFBZ0J4VixVQUFVcVcsVUFBWSxTQUFVblAsRUFBR0MsRUFBR0MsR0FDeEMsU0FBTkYsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxHQUNkLFNBQU5DLElBQWdCQSxFQUFJLEVBQ3hCLElBQUlrUCxHQUFXN1csS0FBS21XLFVBQ2hCVyxFQUFXVixLQUFLM1YsUUFBUWdILEVBQUdDLEVBQUdDLEdBQ2xDeU8sTUFBS1csSUFBSUYsRUFBVUMsRUFBVTlXLEtBQUttVyxZQUV0QzNWLE9BQU9tTSxlQUFlb0osRUFBZ0J4VixVQUFXLFFBQzdDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLcVcsT0FFaEJ4SSxJQUFLLFNBQVV4RCxHQUNYckssS0FBS3FXLE1BQVFoTSxHQUVqQndDLFlBQVksRUFDWkMsY0FBYyxJQUVsQmlKLEVBQWdCeFYsVUFBVXlXLFFBQVUsU0FBVXZQLEVBQUdDLEVBQUdDLEdBQ2hEM0gsS0FBS3FXLE9BQVM1TyxFQUFHQyxFQUFHQyxJQUV4Qm9PLEVBQWdCeFYsVUFBVTBXLE1BQVEsU0FBVXhQLEVBQUdDLEVBQUdDLEdBQ3BDLFNBQU5GLElBQWdCQSxFQUFJLEdBQ2QsU0FBTkMsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxFQUN4QixJQUFJa1AsR0FBVzdXLEtBQUtxVyxNQUNoQlMsRUFBV1YsS0FBSzNWLFFBQVFnSCxFQUFHQyxFQUFHQyxHQUNsQ3lPLE1BQUtXLElBQUlGLEVBQVVDLEVBQVU5VyxLQUFLcVcsUUFFdEM3VixPQUFPbU0sZUFBZW9KLEVBQWdCeFYsVUFBVyxZQUM3Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS3NXLFdBRWhCekksSUFBSyxTQUFVb0ksR0FDWGpXLEtBQUtzVyxVQUFZTCxHQUVyQnBKLFlBQVksRUFDWkMsY0FBYyxJQUVsQmlKLEVBQWdCeFYsVUFBVTJXLFlBQWMsU0FBVVgsRUFBT0MsR0FDakRELElBQ0F2VyxLQUFLc1csVUFBVUMsTUFBUUEsR0FDdkJDLElBQ0F4VyxLQUFLc1csVUFBVUUsS0FBT0EsSUFFOUJULEVBQWdCeFYsVUFBVTRXLFNBQVcsU0FBVVosR0FDM0N2VyxLQUFLc1csVUFBVUMsTUFBUUEsR0FFM0JSLEVBQWdCeFYsVUFBVTZXLFFBQVUsU0FBVVosR0FDMUN4VyxLQUFLc1csVUFBVUUsS0FBT0EsR0FFMUJULEVBQWdCeFYsVUFBVThXLFlBQWMsU0FBVWQsR0FDaEMsU0FBVkEsSUFBb0JBLEVBQVEsR0FDaEN2VyxLQUFLc1csVUFBVUMsT0FBU0EsR0FFNUJSLEVBQWdCeFYsVUFBVStXLFNBQVcsU0FBVTdQLEVBQUdDLEVBQUdDLEdBQ3ZDLFNBQU5GLElBQWdCQSxFQUFJLEdBQ2QsU0FBTkMsSUFBZ0JBLEVBQUksR0FDZCxTQUFOQyxJQUFnQkEsRUFBSSxFQUN4QixJQUFJa1AsR0FBVzdXLEtBQUtzVyxVQUFVRSxLQUMxQk0sRUFBV1YsS0FBSzNWLFFBQVFnSCxFQUFHQyxFQUFHQyxHQUNsQ3lPLE1BQUtXLElBQUlGLEVBQVVDLEVBQVU5VyxLQUFLc1csVUFBVUUsT0FFaERULEVBQWdCeFYsVUFBVTRNLFVBQVksU0FBVUMsR0FRNUMsR0FQQUEsRUFBWWxDLE9BQ1prQyxFQUFZVyxZQUNaL04sS0FBS2tXLFFBQVU5SSxFQUFZdUIsU0FDTCxRQUFsQjNPLEtBQUttVyxXQUNMMUksS0FBS21KLFVBQVU1VyxLQUFLa1csUUFBU2xXLEtBQUttVyxXQUNwQixRQUFkblcsS0FBS3FXLE9BQ0w1SSxLQUFLd0osTUFBTWpYLEtBQUtrVyxRQUFTbFcsS0FBS3FXLE9BQ1osUUFBbEJyVyxLQUFLc1csVUFBcUIsQ0FDMUIsR0FBSWlCLEdBQU12WCxLQUFLc1csVUFBVUMsTUFBUWpSLEtBQUsrQixHQUFLLEdBQzNDb0csTUFBSytKLE9BQU94WCxLQUFLa1csUUFBU3FCLEVBQUt2WCxLQUFLc1csVUFBVUUsTUFFbERwSixFQUFZc0IsU0FFaEJxSCxFQUFnQnhWLFVBQVU4TSxRQUFVLFNBQVVELEdBQzFDQSxFQUFZVSxPQUVUaUksR0FDVC9JLEVBQ0Z0TSxHQUFNcVYsZ0JBQWtCQSxDQUN4QixJQUFJMEIsR0FBZSxTQUFVeEssR0FFekIsUUFBU3dLLEdBQVloTCxFQUFVaUYsRUFBU0MsRUFBU3FFLEVBQVVwRSxFQUFVOEYsRUFBV0MsR0FDNUUxSyxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBSzhSLFNBQVdKLEVBQVVLLEtBQUt0UixPQUFPaVIsR0FBVyxLQUNqRDFSLEtBQUtnUyxTQUFXTCxFQUFVSSxLQUFLdFIsT0FBT2tSLEdBQVcsS0FDakQzUixLQUFLbVcsVUFBWUgsRUFBV2pFLEtBQUt0UixPQUFPdVYsR0FBWSxLQUNwRGhXLEtBQUtpUyxVQUFZTCxFQUFXRyxLQUFLdFIsT0FBT21SLEdBQVksS0FDcEQ1UixLQUFLNFgsV0FBYUYsRUFBWXRCLEtBQUszVixPQUFPaVgsR0FBYSxLQUN2RDFYLEtBQUs2WCxRQUFVRixFQWlHbkIsTUF6R0E1WCxXQUFVMFgsRUFBYXhLLEdBVXZCek0sT0FBT21NLGVBQWU4SyxFQUFZbFgsVUFBVyxXQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzhSLFVBRWhCakUsSUFBSyxTQUFVNkQsR0FDWDFSLEtBQUs4UixTQUFXMU0sRUFBTVUsYUFBYWlNLEtBQUt0UixPQUFPaVIsS0FFbkQ3RSxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZThLLEVBQVlsWCxVQUFXLFdBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLZ1MsVUFFaEJuRSxJQUFLLFNBQVU4RCxHQUNYM1IsS0FBS2dTLFNBQVc1TSxFQUFNVSxhQUFhaU0sS0FBS3RSLE9BQU9rUixLQUVuRDlFLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlOEssRUFBWWxYLFVBQVcsWUFDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUtpUyxXQUVoQnBFLElBQUssU0FBVStELEdBQ1g1UixLQUFLaVMsVUFBWTdNLEVBQU1VLGFBQWFpTSxLQUFLdFIsT0FBT21SLEtBRXBEL0UsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWU4SyxFQUFZbFgsVUFBVyxZQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS2dTLFVBRWhCbkUsSUFBSyxTQUFVbUksR0FDWGhXLEtBQUttVyxVQUFZL1EsRUFBTVUsYUFBYXNRLEtBQUszVixPQUFPdVYsS0FFcERuSixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZThLLEVBQVlsWCxVQUFXLGFBQ3pDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLNFgsWUFFaEIvSixJQUFLLFNBQVU2SixHQUNYMVgsS0FBSzRYLFdBQWF4UyxFQUFNVSxhQUFhc1EsS0FBSzNWLE9BQU9pWCxLQUVyRDdLLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFlOEssRUFBWWxYLFVBQVcsVUFDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUs2WCxTQUVoQmhLLElBQUssU0FBVThKLEdBQ1gzWCxLQUFLNlgsUUFBVUYsR0FFbkI5SyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEIySyxFQUFZbFgsVUFBVTRNLFVBQVksV0FDOUIsR0FBSXpMLEdBQUsxQixLQUFLMEIsRUFDZCxJQUFJMUIsS0FBSzhSLFNBQVUsQ0FDZixHQUFJZ0csR0FBZ0I5WCxLQUFLMEosV0FBVyxnQkFDaENvTyxJQUNBcFcsRUFBRzBULFdBQVcwQyxFQUFlOVgsS0FBSzhSLFVBRTFDLEdBQUk5UixLQUFLZ1MsU0FBVSxDQUNmLEdBQUkrRixHQUFnQi9YLEtBQUswSixXQUFXLGdCQUNoQ3FPLElBQ0FyVyxFQUFHMFQsV0FBVzJDLEVBQWUvWCxLQUFLZ1MsVUFFMUMsR0FBSWhTLEtBQUtpUyxVQUFXLENBQ2hCLEdBQUkrRixHQUFpQmhZLEtBQUswSixXQUFXLGlCQUNqQ3NPLElBQ0F0VyxFQUFHMFQsV0FBVzRDLEVBQWdCaFksS0FBS2lTLFdBRTNDLEdBQUlqUyxLQUFLbVcsVUFBVyxDQUNoQixHQUFJOEIsR0FBaUJqWSxLQUFLMEosV0FBVyxpQkFDakN1TyxJQUNBdlcsRUFBR3dXLFdBQVdELEVBQWdCalksS0FBS21XLFdBRTNDLEdBQUluVyxLQUFLNFgsV0FBWSxDQUNqQixHQUFJTyxHQUFhblksS0FBSzBKLFdBQVcsa0JBQzdCeU8sSUFDQXpXLEVBQUd3VyxXQUFXQyxFQUFZblksS0FBSzRYLFlBRXZDLEdBQUk1WCxLQUFLNlgsUUFBUyxDQUNkLEdBQUlPLEdBQVVwWSxLQUFLMEosV0FBVyxVQUMxQjBPLElBQ0ExVyxFQUFHOFQsVUFBVTRDLEVBQVNwWSxLQUFLNlgsV0FHdkNKLEVBQVlsWCxVQUFVOE0sUUFBVSxhQUV6Qm9LLEdBQ1R6SyxFQUNGdE0sR0FBTStXLFlBQWNBLENBQ3BCLElBQUlZLEdBQWlCLFNBQVVwTCxHQUUzQixRQUFTb0wsR0FBYzVMLEVBQVVrRCxHQUM3QjFDLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLc1ksT0FBUzNJLEVBb0JsQixNQXZCQTVQLFdBQVVzWSxFQUFlcEwsR0FLekJ6TSxPQUFPbU0sZUFBZTBMLEVBQWM5WCxVQUFXLFNBQzNDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLc1ksUUFFaEJ6SyxJQUFLLFNBQVU4QixHQUNYM1AsS0FBS3NZLE9BQVMzSSxHQUVsQjlDLFlBQVksRUFDWkMsY0FBYyxJQUVsQnVMLEVBQWM5WCxVQUFVNE0sVUFBWSxXQUNoQyxHQUFJekwsR0FBSzFCLEtBQUswQixHQUNWMlQsRUFBbUJyVixLQUFLMEosV0FBVyxtQkFDbkMyTCxJQUNBM1QsRUFBRzBULFdBQVdDLEVBQWtCclYsS0FBS3NZLFNBRTdDRCxFQUFjOVgsVUFBVThNLFFBQVUsYUFFM0JnTCxHQUNUckwsRUFDRnRNLEdBQU0yWCxjQUFnQkEsQ0FDdEIsSUFBSUUsR0FBa0IsU0FBVXRMLEdBRTVCLFFBQVNzTCxHQUFlOUwsRUFBVStMLEdBQzlCdkwsRUFBT0MsS0FBS2xOLEtBQU15TSxHQUNsQnpNLEtBQUt5WSxXQUFhRCxHQUFhLEVBQy9CeFksS0FBSzBZLFFBQVUsS0FDZjFZLEtBQUsyWSxZQUFjLEdBaUR2QixNQXREQTVZLFdBQVV3WSxFQUFnQnRMLEdBTzFCc0wsRUFBZWhZLFVBQVVxWSxVQUFZLFNBQVVDLEVBQVdDLEdBQ3RELEdBQUlwWCxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLMFksUUFBVWhYLEVBQUdELGVBQ2xCQyxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzBZLFNBQ3BDaFgsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFheVcsR0FBWW5YLEVBQUdXLGFBQy9EWCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE1BQy9CaEMsS0FBSytZLFVBQVlGLEVBQVU1WCxPQUMzQmpCLEtBQUsyWSxZQUFjdlQsRUFBTU8sS0FBSyxXQUM5QjNGLEtBQUt3UixTQUFXN1EsRUFBV3FDLGNBQWN0QixFQUFJb1gsR0FDN0N6USxFQUFNMEMsV0FBVy9LLEtBQUsrTSxRQUFTL00sS0FBSzJZLGNBRXhDSixFQUFlaFksVUFBVXlZLE9BQVMsU0FBVXJYLEdBQ3hDLEdBQUlELEdBQUsxQixLQUFLMEIsRUFDZEEsR0FBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUswWSxTQUNwQ2hYLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYVQsR0FBT0QsRUFBR1csYUFDMURYLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDL0JoQyxLQUFLK1ksVUFBWXBYLEVBQUtWLFFBRTFCVCxPQUFPbU0sZUFBZTRMLEVBQWVoWSxVQUFXLGFBQzVDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLMlksYUFFaEI5TCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZTRMLEVBQWVoWSxVQUFXLGFBQzVDc04sSUFBSyxTQUFVOEIsR0FDWDNQLEtBQUt5WSxXQUFhOUksR0FFdEI5QyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ5TCxFQUFlaFksVUFBVTRNLFVBQVksV0FDakMsR0FBSXpMLEdBQUsxQixLQUFLMEIsR0FDVnVYLEVBQWFqWixLQUFLMEosV0FBVyxhQUM3QnVQLElBQ0F2WCxFQUFHOFQsVUFBVXlELEVBQVlqWixLQUFLeVksWUFDbEMvVyxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzBZLFNBQ3BDclEsRUFBTTJCLGFBQWFoSyxLQUFLK00sUUFBUyxjQUNqQzFFLEVBQU1pRCxjQUFjdEwsS0FBSytNLFFBQVMvTSxLQUFLMlksWUFBYTNZLEtBQUt3UixVQUN6RDlQLEVBQUd3WCxXQUFXeFgsRUFBR3lYLE9BQVEsRUFBR25aLEtBQUsrWSxVQUFZLElBRWpEUixFQUFlaFksVUFBVThNLFFBQVUsV0FDL0IsR0FBSTNMLEdBQUsxQixLQUFLMEIsRUFDZDJHLEdBQU1xQyxjQUFjMUssS0FBSytNLFFBQVMsY0FDbENyTCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE9BRTVCdVcsR0FDVHZMLEVBQ0Z0TSxHQUFNNlgsZUFBaUJBLENBQ3ZCLElBQUlhLEdBQWdCLFNBQVVuTSxHQUUxQixRQUFTbU0sR0FBYTNNLEVBQVU3SSxHQUM1QnFKLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLcVosTUFBUXpWLEdBQVF3RSxFQUFZa1IsU0FDakN0WixLQUFLdVosU0FBVzlMLEtBQUtoTixTQUNyQmdOLEtBQUtTLFNBQVNsTyxLQUFLdVosVUFDbkJ2WixLQUFLd1osSUFBTXBELEtBQUszVixTQUNoQlQsS0FBS3laLE9BQVNyRCxLQUFLM1YsU0FDbkJULEtBQUswWixRQUFVdEQsS0FBSzNWLFNBQ3BCVCxLQUFLbVcsVUFBWUMsS0FBSzNWLFNBQ3RCVCxLQUFLMlosU0FBVyxFQUNoQjNaLEtBQUs0WixXQUFhLEVBQ2xCNVosS0FBSzZaLE9BQVMsRUFtSGxCLE1BL0hBOVosV0FBVXFaLEVBQWNuTSxHQWN4QnpNLE9BQU9tTSxlQUFleU0sRUFBYTdZLFVBQVcsUUFDMUNzTixJQUFLLFNBQVVqSyxHQUNYNUQsS0FBS3FaLE1BQVF6VixHQUVqQmlKLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFleU0sRUFBYTdZLFVBQVcsWUFDMUNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUttVyxXQUVoQnRJLElBQUssU0FBVWlNLEdBQ1g5WixLQUFLbVcsVUFBWTJELEdBRXJCak4sWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWV5TSxFQUFhN1ksVUFBVyxXQUMxQ3FNLElBQUssV0FDRCxNQUFPNU0sTUFBSzJaLFVBRWhCOUwsSUFBSyxTQUFVa00sR0FDWCxHQUFJQyxHQUFVRCxFQUFLL1osS0FBSzJaLFFBQ3hCM1osTUFBS2lhLGNBQWNELElBRXZCbk4sWUFBWSxFQUNaQyxjQUFjLElBRWxCc00sRUFBYTdZLFVBQVUwWixjQUFnQixTQUFVRixHQUM3Qy9aLEtBQUsyWixVQUFZSSxHQUNiL1osS0FBSzJaLFNBQVcsS0FBTzNaLEtBQUsyWixTQUFXLFFBQ3ZDM1osS0FBSzJaLFNBQVczWixLQUFLMlosU0FBVyxNQUd4Q25aLE9BQU9tTSxlQUFleU0sRUFBYTdZLFVBQVcsYUFDMUNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUs0WixZQUVoQi9MLElBQUssU0FBVXFNLEdBQ1gsR0FBSUMsR0FBVUQsRUFBS2xhLEtBQUs0WixVQUN4QjVaLE1BQUtvYSxnQkFBZ0JELElBRXpCdE4sWUFBWSxFQUNaQyxjQUFjLElBRWxCc00sRUFBYTdZLFVBQVU2WixnQkFBa0IsU0FBVUYsR0FDL0NsYSxLQUFLNFosWUFBY00sR0FDZmxhLEtBQUs0WixXQUFhLEtBQU81WixLQUFLNFosV0FBYSxRQUMzQzVaLEtBQUs0WixXQUFhNVosS0FBSzRaLFdBQWEsTUFHNUNwWixPQUFPbU0sZUFBZXlNLEVBQWE3WSxVQUFXLFFBQzFDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLNlosUUFFaEJoTSxJQUFLLFNBQVVwRCxHQUNYLEdBQUlwSyxHQUFJK1YsS0FBSzNWLFNBQ1Q0WixFQUFJakUsS0FBSzNWLFFBQ2JKLEdBQUlMLEtBQUtnVyxRQUNULElBQUlzRSxHQUFPN1AsRUFBU3pLLEtBQUs2WixNQUN6QnpELE1BQUttRSxVQUFVdmEsS0FBSzBaLFFBQVNXLEVBQzdCLElBQUlHLEdBQWVwRSxLQUFLM1YsUUFDcEJULE1BQUtxWixRQUFValIsRUFBWXFTLFVBQzNCRCxFQUFhLEdBQUtuYSxFQUFFLEdBQUtpYSxFQUFPRCxFQUFFLEdBQ2xDRyxFQUFhLEdBQUtuYSxFQUFFLEdBQUtpYSxFQUFPRCxFQUFFLEdBQ2xDRyxFQUFhLEdBQUtuYSxFQUFFLEdBQUtpYSxFQUFPRCxFQUFFLEtBR2xDRyxFQUFhLEdBQUtuYSxFQUFFLEdBQ3BCbWEsRUFBYSxHQUFLbmEsRUFBRSxHQUNwQm1hLEVBQWEsR0FBS25hLEVBQUUsR0FBS2lhLEdBRTdCdGEsS0FBS2dXLFNBQVd3RSxFQUNoQnhhLEtBQUs2WixPQUFTcFAsR0FFbEJvQyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJzTSxFQUFhN1ksVUFBVW1hLHFCQUF1QixXQUMxQyxHQUFJQyxHQUFJM2EsS0FBS3VaLFFBQ2I5TCxNQUFLbU4sYUFBYUQsR0FBSSxFQUFHLEVBQUcsRUFBRyxHQUFJM2EsS0FBS3laLFFBQ3hDaE0sS0FBS21OLGFBQWFELEdBQUksRUFBRyxFQUFHLEVBQUcsR0FBSTNhLEtBQUt3WixLQUN4Qy9MLEtBQUttTixhQUFhRCxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUkzYSxLQUFLMFosVUFFNUNOLEVBQWE3WSxVQUFVNE0sVUFBWSxXQUMvQk0sS0FBS1MsU0FBU2xPLEtBQUt1WixVQUNuQnZaLEtBQUswYSx1QkFDRDFhLEtBQUtxWixRQUFValIsRUFBWXFTLFVBQzNCaE4sS0FBS21KLFVBQVU1VyxLQUFLdVosU0FBVXZaLEtBQUttVyxXQUNuQzFJLEtBQUtvTixRQUFRN2EsS0FBS3VaLFNBQVV2WixLQUFLMlosU0FBV3JVLEtBQUsrQixHQUFLLEtBQ3REb0csS0FBS3FOLFFBQVE5YSxLQUFLdVosU0FBVXZaLEtBQUs0WixXQUFhdFUsS0FBSytCLEdBQUssT0FHeERvRyxLQUFLb04sUUFBUTdhLEtBQUt1WixTQUFVdlosS0FBSzJaLFNBQVdyVSxLQUFLK0IsR0FBSyxLQUN0RG9HLEtBQUtxTixRQUFROWEsS0FBS3VaLFNBQVV2WixLQUFLNFosV0FBYXRVLEtBQUsrQixHQUFLLEtBQ3hEb0csS0FBS21KLFVBQVU1VyxLQUFLdVosU0FBVXZaLEtBQUttVyxZQUV2Q25XLEtBQUswYSx1QkFDRDFhLEtBQUtxWixRQUFValIsRUFBWXFTLFVBQzNCaE4sS0FBS21OLGFBQWE1YSxLQUFLdVosVUFBVyxFQUFHLEVBQUcsRUFBRyxHQUFJdlosS0FBS21XLFlBRzVEM1YsT0FBT21NLGVBQWV5TSxFQUFhN1ksVUFBVyxhQUMxQ3FNLElBQUssV0FDRCxHQUFJK04sR0FBSWxOLEtBQUtoTixRQUViLE9BREFnTixNQUFLYyxRQUFRdk8sS0FBS3VaLFNBQVVvQixHQUNyQkEsR0FFWDlOLFlBQVksRUFDWkMsY0FBYyxJQUVsQnNNLEVBQWE3WSxVQUFVOE0sUUFBVSxhQUUxQitMLEdBQ1RwTSxFQUNGdE0sR0FBTTBZLGFBQWVBLENBQ3JCLElBQUkyQixHQUFjLFNBQVU5TixHQUV4QixRQUFTOE4sR0FBV3RPLEVBQVV4TSxHQUMxQmdOLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ4TSxFQUFJQSxHQUFLLElBQ1RELEtBQUtnYixXQUFhLEVBQUssRUFBSyxFQUFLL2EsRUFBRyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBS0EsRUFBRyxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssRUFBS0EsR0FDbkdELEtBQUtpYixVQUFZLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQ2piLEtBQUtrYixTQUFXLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQTRDekYsTUFsREFuYixXQUFVZ2IsRUFBWTlOLEdBUXRCOE4sRUFBV3hhLFVBQVVrTyxLQUFPLFdBQ3hCLEdBQUkvTSxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLMlEsS0FBT2pQLEVBQUdELGVBQ2ZDLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLMlEsTUFDcENqUCxFQUFHUyxXQUFXVCxFQUFHTSxhQUFjLEdBQUlJLGNBQWFwQyxLQUFLZ2IsV0FBWXRaLEVBQUdXLGFBQ3BFckMsS0FBS21iLEtBQU96WixFQUFHRCxlQUNmQyxFQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCOUMsS0FBS21iLE1BQzVDelosRUFBR1MsV0FBV1QsRUFBR29CLHFCQUFzQixHQUFJQyxhQUFZL0MsS0FBS2liLFVBQVd2WixFQUFHVyxhQUMxRXJDLEtBQUtvYixLQUFPMVosRUFBR0QsZUFDZkMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUtvYixNQUNwQzFaLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYXBDLEtBQUtrYixTQUFVeFosRUFBR1csYUFDbEVYLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDL0JOLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0IsT0FFM0NpWSxFQUFXeGEsVUFBVTRNLFVBQVksV0FDN0IsR0FBSXpMLEdBQUsxQixLQUFLMEIsR0FDVjJaLEVBQWFyYixLQUFLMEosV0FBVyxhQUM3QjJSLElBQ0EzWixFQUFHK0osVUFBVTRQLEdBQVksRUFDN0IsSUFBSUMsR0FBa0J0YixLQUFLMEosV0FBVyxrQkFDbEM0UixJQUNBNVosRUFBRytKLFVBQVU2UCxHQUFpQixHQUNsQzVaLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNoQyxLQUFLMlEsTUFDcEN0SSxFQUFNMkIsYUFBYWhLLEtBQUsrTSxRQUFTLGNBQ2pDckwsRUFBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUtvYixNQUNwQy9TLEVBQU0yQixhQUFhaEssS0FBSytNLFFBQVMsV0FBYTFDLEtBQU0sSUFDcEQzSSxFQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCOUMsS0FBS21iLE1BQzVDelosRUFBR2tVLGFBQWFsVSxFQUFHNlosTUFBT3ZiLEtBQUtpYixTQUFTaGEsT0FBUVMsRUFBR29VLGVBQWdCO0VBRXZFaUYsRUFBV3hhLFVBQVU4TSxRQUFVLFdBQzNCLEdBQUkzTCxHQUFLMUIsS0FBSzBCLEdBQ1YyWixFQUFhcmIsS0FBSzBKLFdBQVcsYUFDN0IyUixJQUNBM1osRUFBRytKLFVBQVU0UCxHQUFZLEVBQzdCLElBQUlDLEdBQWtCdGIsS0FBSzBKLFdBQVcsa0JBQ2xDNFIsSUFDQTVaLEVBQUcrSixVQUFVNlAsR0FBaUIsR0FDbENqVCxFQUFNcUMsY0FBYzFLLEtBQUsrTSxRQUFTLGNBQ2xDMUUsRUFBTXFDLGNBQWMxSyxLQUFLK00sUUFBUyxXQUNsQ3JMLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWMsTUFDL0JOLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0IsT0FFcENpWSxHQUNUL04sRUFDRnRNLEdBQU1xYSxXQUFhQSxDQUNuQixJQUFJUyxHQUFjLFNBQVV2TyxHQUV4QixRQUFTdU8sR0FBVy9PLEVBQVV4TSxFQUFHa0IsR0FDN0I4TCxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBS3liLFlBQ0RDLElBQUt6YixHQUFLLEdBQUlnUSxNQUFPOU8sR0FBSyxJQThEbEMsTUFsRUFwQixXQUFVeWIsRUFBWXZPLEdBT3RCdU8sRUFBV2piLFVBQVVrTyxLQUFPLFdBQ3hCLEdBQUkvTSxHQUFLMUIsS0FBSzBCLEVBQ2QxQixNQUFLMmIsUUFDTDNiLEtBQUsyUSxLQUFPalAsRUFBR0QsZUFDZkMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY2hDLEtBQUsyUSxNQUNwQ2pQLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYXBDLEtBQUtnYixXQUFZdFosRUFBR1csYUFDcEVyQyxLQUFLbWIsS0FBT3paLEVBQUdELGVBQ2ZDLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0I5QyxLQUFLbWIsTUFDNUN6WixFQUFHUyxXQUFXVCxFQUFHb0IscUJBQXNCLEdBQUlDLGFBQVkvQyxLQUFLaWIsVUFBV3ZaLEVBQUdXLGFBQzFFWCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjLE1BQy9CTixFQUFHSyxXQUFXTCxFQUFHb0IscUJBQXNCLE9BRTNDMFksRUFBV2piLFVBQVVvYixNQUFRLFdBSXpCLElBQUssR0FIREMsR0FBTSxFQUFJNWIsS0FBS3liLFdBQVdDLElBQU0xYixLQUFLeWIsV0FBV3hMLE1BQ2hETixLQUNBM08sS0FDSzZhLEVBQUksRUFBR0EsR0FBSzdiLEtBQUt5YixXQUFXeEwsTUFBTzRMLElBQ3hDbE0sRUFBRSxFQUFJa00sSUFBTTdiLEtBQUt5YixXQUFXQyxJQUM1Qi9MLEVBQUUsRUFBSWtNLEVBQUksSUFBTSxHQUNoQmxNLEVBQUUsRUFBSWtNLEVBQUksSUFBTTdiLEtBQUt5YixXQUFXQyxJQUFPRyxFQUFJRCxFQUMzQ2pNLEVBQUUsRUFBSWtNLEVBQUksR0FBSzdiLEtBQUt5YixXQUFXQyxJQUMvQi9MLEVBQUUsRUFBSWtNLEVBQUksSUFBTSxHQUNoQmxNLEVBQUUsRUFBSWtNLEVBQUksSUFBTTdiLEtBQUt5YixXQUFXQyxJQUFPRyxFQUFJRCxFQUMzQ2pNLEVBQUUsR0FBSzNQLEtBQUt5YixXQUFXeEwsTUFBUSxHQUFLLEVBQUk0TCxJQUFNN2IsS0FBS3liLFdBQVdDLElBQU9HLEVBQUlELEVBQ3pFak0sRUFBRSxHQUFLM1AsS0FBS3liLFdBQVd4TCxNQUFRLEdBQUssRUFBSTRMLEVBQUksSUFBTSxHQUNsRGxNLEVBQUUsR0FBSzNQLEtBQUt5YixXQUFXeEwsTUFBUSxHQUFLLEVBQUk0TCxFQUFJLElBQU03YixLQUFLeWIsV0FBV0MsSUFDbEUvTCxFQUFFLEdBQUszUCxLQUFLeWIsV0FBV3hMLE1BQVEsR0FBSyxFQUFJNEwsRUFBSSxJQUFNN2IsS0FBS3liLFdBQVdDLElBQU9HLEVBQUlELEVBQzdFak0sRUFBRSxHQUFLM1AsS0FBS3liLFdBQVd4TCxNQUFRLEdBQUssRUFBSTRMLEVBQUksSUFBTSxHQUNsRGxNLEVBQUUsR0FBSzNQLEtBQUt5YixXQUFXeEwsTUFBUSxHQUFLLEVBQUk0TCxFQUFJLEdBQUs3YixLQUFLeWIsV0FBV0MsSUFDakUxYSxFQUFFLEVBQUk2YSxHQUFLLEVBQUlBLEVBQ2Y3YSxFQUFFLEVBQUk2YSxFQUFJLEdBQUssRUFBSUEsRUFBSSxFQUN2QjdhLEVBQUUsR0FBS2hCLEtBQUt5YixXQUFXeEwsTUFBUSxHQUFLLEVBQUk0TCxHQUFLLEdBQUs3YixLQUFLeWIsV0FBV3hMLE1BQVEsR0FBSyxFQUFJNEwsRUFDbkY3YSxFQUFFLEdBQUtoQixLQUFLeWIsV0FBV3hMLE1BQVEsR0FBSyxFQUFJNEwsRUFBSSxHQUFLLEdBQUs3YixLQUFLeWIsV0FBV3hMLE1BQVEsR0FBSyxFQUFJNEwsRUFBSSxDQUUvRjdiLE1BQUtnYixVQUFZckwsRUFDakIzUCxLQUFLaWIsU0FBV2phLEdBRXBCd2EsRUFBV2piLFVBQVU0TSxVQUFZLFdBQzdCLEdBQUl6TCxHQUFLMUIsS0FBSzBCLEdBQ1YyWixFQUFhcmIsS0FBSzBKLFdBQVcsYUFDN0IyUixJQUNBM1osRUFBRytKLFVBQVU0UCxHQUFZLEVBQzdCLElBQUloRyxHQUFtQnJWLEtBQUswSixXQUFXLG1CQUNuQzJMLElBQ0EzVCxFQUFHMFQsV0FBV0MsR0FBbUIsR0FBSyxHQUFLLEdBQUssSUFDcEQzVCxFQUFHSyxXQUFXTCxFQUFHTSxhQUFjaEMsS0FBSzJRLE1BQ3BDdEksRUFBTTJCLGFBQWFoSyxLQUFLK00sUUFBUyxjQUNqQ3JMLEVBQUdLLFdBQVdMLEVBQUdvQixxQkFBc0I5QyxLQUFLbWIsTUFDNUN6WixFQUFHa1UsYUFBYWxVLEVBQUc2WixNQUFPdmIsS0FBS2liLFNBQVNoYSxPQUFRUyxFQUFHb1UsZUFBZ0IsSUFFdkUwRixFQUFXamIsVUFBVThNLFFBQVUsV0FDM0IsR0FBSTNMLEdBQUsxQixLQUFLMEIsR0FDVjJaLEVBQWFyYixLQUFLMEosV0FBVyxhQUM3QjJSLElBQ0EzWixFQUFHK0osVUFBVTRQLEdBQVksR0FDN0JoVCxFQUFNcUMsY0FBYzFLLEtBQUsrTSxRQUFTLGNBQ2xDckwsRUFBR0ssV0FBV0wsRUFBR00sYUFBYyxNQUMvQk4sRUFBR0ssV0FBV0wsRUFBR29CLHFCQUFzQixPQUVwQzBZLEdBQ1R4TyxFQUNGdE0sR0FBTThhLFdBQWFBLENBQ25CLElBQUlNLEdBQWdCLFNBQVU3TyxHQUUxQixRQUFTNk8sR0FBYXJQLEVBQVU5SyxHQUM1QnNMLEVBQU9DLEtBQUtsTixLQUFNeU0sR0FDbEJ6TSxLQUFLK2IsT0FBUy9iLEtBQUtnYyxzQkFDbkJoYyxLQUFLaWMsTUFBUXRhLEVBc0NqQixNQTFDQTVCLFdBQVUrYixFQUFjN08sR0FNeEJ6TSxPQUFPbU0sZUFBZW1QLEVBQWF2YixVQUFXLFFBQzFDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLaWMsT0FFaEJwUCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJ0TSxPQUFPbU0sZUFBZW1QLEVBQWF2YixVQUFXLFNBQzFDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLK2IsUUFFaEJsUCxZQUFZLEVBQ1pDLGNBQWMsSUFFbEJnUCxFQUFhdmIsVUFBVXliLG9CQUFzQixXQU16QyxJQUxBLEdBQUk3UCxHQUNBK1AsRUFBVyxTQUFXL1AsR0FDdEIsTUFBc0QsU0FBL0M5RCxFQUFNNkQsaUJBQWlCbE0sS0FBSytNLFFBQVNaLElBQzdDZ1EsS0FBS25jLE1BQ0pvYyxHQUFRLEVBQ0xBLEdBQ0hqUSxHQUFTakcsT0FBT1osS0FBS0UsU0FBUzZXLFFBQVEsSUFBS25XLE9BQU9aLEtBQUtFLFNBQVM2VyxRQUFRLElBQUtuVyxPQUFPWixLQUFLRSxTQUFTNlcsUUFBUSxJQUFLLEdBQy9HRCxFQUFRRixFQUFTL1AsRUFFckIsT0FBT0EsSUFFWDJQLEVBQWF2YixVQUFVNE0sVUFBWSxXQUMvQixHQUFJOUUsRUFBTXFELFlBQVkxTCxLQUFLK00sU0FBVSxDQUNqQyxHQUFJckwsR0FBSzFCLEtBQUswQixHQUNWNGEsRUFBZXRjLEtBQUswSixXQUFXLGVBQy9CNFMsSUFDQTVhLEVBQUcwVCxXQUFXa0gsRUFBY3RjLEtBQUsrYixVQUc3Q0QsRUFBYXZiLFVBQVU4TSxRQUFVLGFBRTFCeU8sR0FDVDlPLEVBQ0Z0TSxHQUFNb2IsYUFBZUEsQ0FDckIsSUFBSVMsR0FBWSxTQUFVdFAsR0FFdEIsUUFBU3NQLEdBQVM5UCxFQUFVK1AsR0FDeEJ2UCxFQUFPQyxLQUFLbE4sS0FBTXlNLEdBQ2xCek0sS0FBS3ljLFlBQWNELEVBQ25CeGMsS0FBSzBjLGFBQWUsS0FDcEIxYyxLQUFLMmMsY0FBZ0IsS0FDckIzYyxLQUFLd1IsU0FBVyxLQUNoQnhSLEtBQUs0WSxZQStDVCxNQXREQTdZLFdBQVV3YyxFQUFVdFAsR0FTcEJzUCxFQUFTaGMsVUFBVXFZLFVBQVksV0FDM0IsR0FBSWxYLEdBQUsxQixLQUFLMEIsRUFDZDFCLE1BQUt3UixTQUFXOVAsRUFBR3NCLGdCQUNuQnRCLEVBQUd3QixZQUFZeEIsRUFBR3lCLFdBQVluRCxLQUFLd1IsVUFDbkM5UCxFQUFHMEIsV0FBVzFCLEVBQUd5QixXQUFZLEVBQUd6QixFQUFHMkIsS0FBTXJELEtBQUt5YyxZQUFZbmIsTUFBT3RCLEtBQUt5YyxZQUFZamIsT0FBUSxFQUFHRSxFQUFHMkIsS0FBTTNCLEVBQUc0QixjQUFlLE1BQ3hIdEQsS0FBSzJjLGNBQWdCamIsRUFBR2tiLHFCQUN4QmxiLEVBQUdtYixpQkFBaUJuYixFQUFHb2IsYUFBYzljLEtBQUsyYyxlQUMxQ2piLEVBQUdxYixvQkFBb0JyYixFQUFHb2IsYUFBY3BiLEVBQUdzYixrQkFBbUJoZCxLQUFLeWMsWUFBWW5iLE1BQU90QixLQUFLeWMsWUFBWWpiLFFBQ3ZHeEIsS0FBSzBjLGFBQWVoYixFQUFHdWIsb0JBQ3ZCdmIsRUFBR3diLGdCQUFnQnhiLEVBQUd5YixZQUFhbmQsS0FBSzBjLGNBQ3hDaGIsRUFBRzBiLHFCQUFxQjFiLEVBQUd5YixZQUFhemIsRUFBRzJiLGtCQUFtQjNiLEVBQUd5QixXQUFZbkQsS0FBS3dSLFNBQVUsR0FDNUY5UCxFQUFHNGIsd0JBQXdCNWIsRUFBR3liLFlBQWF6YixFQUFHNmIsaUJBQWtCN2IsRUFBR29iLGFBQWM5YyxLQUFLMmMsZUFDdEZqYixFQUFHd0IsWUFBWXhCLEVBQUd5QixXQUFZLE1BQzlCekIsRUFBR21iLGlCQUFpQm5iLEVBQUdvYixhQUFjLE1BQ3JDcGIsRUFBR3diLGdCQUFnQnhiLEVBQUd5YixZQUFhLE9BRXZDWixFQUFTaGMsVUFBVWlkLEtBQU8sU0FBVXpSLEdBQ2hDMUQsRUFBTXlELG1CQUFtQjlMLEtBQUsrTSxRQUFTaEIsSUFFM0N3USxFQUFTaGMsVUFBVWtkLE1BQVEsV0FDdkJwVixFQUFNNEQsb0JBQW9Cak0sS0FBSytNLFVBRW5Dd1AsRUFBU2hjLFVBQVU4TCxLQUFPLFNBQVV5TixHQUNoQyxHQUFJcFksR0FBSzFCLEtBQUswQixHQUNWZ2MsRUFBVSxHQUFJQyxZQUFXLEVBQzdCamMsR0FBR3diLGdCQUFnQnhiLEVBQUd5YixZQUFhbmQsS0FBSzBjLGNBQ3hDaGIsRUFBR2tjLFdBQVc5RCxFQUFJclMsRUFBR3FTLEVBQUlwUyxFQUFHLEVBQUcsRUFBR2hHLEVBQUcyQixLQUFNM0IsRUFBRzRCLGNBQWVvYSxHQUM3RGhjLEVBQUd3YixnQkFBZ0J4YixFQUFHeWIsWUFBYSxLQUNuQyxJQUFJVSxNQUFXdE4sTUFBTXJELEtBQUt3USxHQUFTMVgsSUFBSSxTQUFVb0ssR0FDN0MsTUFBTzBOLGFBQVkxTixFQUFPLEtBQUtpTSxRQUFRLE1BRXZDdFEsRUFBTTFELEVBQU02RCxpQkFBaUJsTSxLQUFLK00sUUFBUzhRLEVBQy9DLE9BQU85UixHQUFNQSxFQUFJcEssS0FBTyxRQUU1QjRhLEVBQVNoYyxVQUFVd2QsT0FBUyxTQUFVQyxHQUNsQyxHQUFJdGMsR0FBSzFCLEtBQUswQixFQUNkQSxHQUFHd2IsZ0JBQWdCeGIsRUFBR3liLFlBQWFuZCxLQUFLMGMsYUFDeEMsSUFBSXVCLEdBQWFqZSxLQUFLMEosV0FBVyxhQUNqQ2hJLEdBQUcrSixVQUFVd1MsR0FBWSxHQUN6QjVWLEVBQU11RCxnQkFBZ0I1TCxLQUFLK00sU0FDM0JpUixJQUNBdGMsRUFBRytKLFVBQVV3UyxHQUFZLEdBQ3pCNVYsRUFBTXdELGlCQUFpQjdMLEtBQUsrTSxTQUM1QnJMLEVBQUd3YixnQkFBZ0J4YixFQUFHeWIsWUFBYSxPQUVoQ1osR0FDVC9QLEVBQ0Y5TCxHQUFNNmIsU0FBV0EsQ0FFakIsSUFBSTJCLEdBQWUsV0FDZixRQUFTQSxHQUFZQyxFQUFRdmEsRUFBTXdhLEdBQy9CcGUsS0FBS3FlLFlBQWNGLEVBQ2ZuZSxLQUFLcWUsYUFDTHJlLEtBQUtxZSxZQUFZQyxhQUFhdGUsTUFDbENBLEtBQUt1ZSxlQUNMdmUsS0FBS3FaLE1BQVF6VixFQUNiNUQsS0FBS29SLEtBQU9oTSxFQUFNTyxLQUFLM0YsS0FBS3FaLE9BQVNyWixLQUFLSSxZQUFZd0YsTUFDdEQ1RixLQUFLd2UsUUFBVUosRUFzSG5CLE1BcEhBNWQsUUFBT21NLGVBQWV1UixFQUFZM2QsVUFBVyxPQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS29SLE1BRWhCdkUsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWV1UixFQUFZM2QsVUFBVyxVQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS3FlLGFBRWhCeFIsWUFBWSxFQUNaQyxjQUFjLElBRWxCdE0sT0FBT21NLGVBQWV1UixFQUFZM2QsVUFBVyxVQUN6Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS3dlLFNBRWhCM1EsSUFBSyxTQUFVdVEsR0FDWHBlLEtBQUt3ZSxRQUFVSixHQUVuQnZSLFlBQVksRUFDWkMsY0FBYyxJQUVsQnRNLE9BQU9tTSxlQUFldVIsRUFBWTNkLFVBQVcsY0FDekNxTSxJQUFLLFdBQ0QsTUFBTzVNLE1BQUt1ZSxhQUVoQjFSLFlBQVksRUFDWkMsY0FBYyxJQUVsQm9SLEVBQVkzZCxVQUFVK2QsYUFBZSxTQUFVRyxHQUMzQ3plLEtBQUt1ZSxZQUFZclQsS0FBS3VULElBRTFCUCxFQUFZM2QsVUFBVW1lLGdCQUFrQixTQUFVRCxHQUM5QyxHQUFJdlUsR0FBUWxLLEtBQUtvTCxRQUFRcVQsRUFDckJ2VSxHQUFRLElBQ1JsSyxLQUFLdWUsWUFBWWxULE9BQU9uQixFQUFPLElBRXZDZ1UsRUFBWTNkLFVBQVVvZSxvQkFBc0IsU0FBVXpVLEdBQ2xELE1BQU9sSyxNQUFLdWUsWUFBWXJVLElBQVUsUUFFdENnVSxFQUFZM2QsVUFBVXFlLGdCQUFrQixTQUFVMVUsR0FDOUMsTUFBbUMsVUFBNUJsSyxLQUFLdWUsWUFBWXJVLElBRTVCZ1UsRUFBWTNkLFVBQVoyZCxVQUErQixXQUMzQmxlLEtBQUtxZSxZQUFZSyxnQkFBZ0IxZSxPQUVyQ2tlLEVBQVkzZCxVQUFVc2UsZ0JBQWtCLFNBQVVqYixFQUFNd2EsR0FDcEQsTUFBTyxJQUFJRixHQUFZbGUsS0FBTTRELEVBQU13YSxJQUV2Q0YsRUFBWTNkLFVBQVV1ZSxPQUFTLFdBQzNCLE1BQTRCLFVBQXJCOWUsS0FBS3FlLGFBRWhCSCxFQUFZM2QsVUFBVTZLLFFBQVUsU0FBVXFULEdBQ3RDLEdBQUlNLEdBQU1OLEVBQU1NLEdBQ2hCLE9BQU8zUyxHQUFFNFMsVUFBVWhmLEtBQUt1ZSxZQUFhLFNBQVVVLEdBQUssTUFBT0EsR0FBRUYsTUFBUUEsS0FFekViLEVBQVkzZCxVQUFVMmUsY0FBZ0IsV0FDbEMsR0FBSWhWLEdBQVEsRUFHWixPQUZLbEssTUFBSzhlLFdBQ041VSxFQUFRbEssS0FBS3FlLFlBQVlqVCxRQUFRcEwsT0FDOUJrSyxHQUVYZ1UsRUFBWTNkLFVBQVU0ZSxXQUFhLFNBQVUvVixHQUN6QyxHQUFJZ1csSUFBUSxDQUNaLEtBQUtwZixLQUFLOGUsU0FBVSxDQUNoQixHQUFJNVUsR0FBUWxLLEtBQUtxZSxZQUFZalQsUUFBUXBMLEtBQ2pDa0ssR0FBUSxLQUNKZCxFQUNJcEosS0FBS3FlLFlBQVlNLG9CQUFvQnpVLEVBQVEsS0FDN0NrVixHQUFRLEdBR1JwZixLQUFLcWUsWUFBWU0sb0JBQW9CelUsRUFBUSxLQUM3Q2tWLEdBQVEsSUFJeEIsTUFBT0EsSUFFWGxCLEVBQVkzZCxVQUFVOGUsWUFBYyxXQUNoQyxHQUFJQyxHQUFVLElBQ2QsS0FBS3RmLEtBQUs4ZSxVQUFZOWUsS0FBS21mLGFBQWMsQ0FDckMsR0FBSWpWLEdBQVFsSyxLQUFLcWUsWUFBWWpULFFBQVFwTCxLQUNyQ3NmLEdBQVV0ZixLQUFLcWUsWUFBWU0sb0JBQW9CelUsRUFBUSxHQUUzRCxNQUFPb1YsSUFFWHBCLEVBQVkzZCxVQUFVZ2YsZ0JBQWtCLFdBQ3BDLEdBQUlELEdBQVUsSUFDZCxLQUFLdGYsS0FBSzhlLFVBQVk5ZSxLQUFLbWYsWUFBVyxHQUFPLENBQ3pDLEdBQUlqVixHQUFRbEssS0FBS3FlLFlBQVlqVCxRQUFRcEwsS0FDckNzZixHQUFVdGYsS0FBS3FlLFlBQVlNLG9CQUFvQnpVLEVBQVEsR0FFM0QsTUFBT29WLElBRVhwQixFQUFZM2QsVUFBVWlmLFdBQWEsV0FDL0IsTUFBT3hmLE1BQUsyZSxvQkFBb0IsSUFFcENULEVBQVkzZCxVQUFVa2YsVUFBWSxXQUM5QixNQUFPemYsTUFBSzJlLG9CQUFvQjNlLEtBQUt1ZSxZQUFZdGQsT0FBUyxJQUU5RGlkLEVBQVkzZCxVQUFVbWYsaUJBQW1CLFdBQ3JDMWYsS0FBS3VlLGdCQUVUTCxFQUFZM2QsVUFBVXlkLEtBQU8sU0FBVTVRLEdBQy9CcE4sS0FBS3dlLFNBQ0x4ZSxLQUFLd2UsUUFBUXJSLFVBQVVDLEVBQzNCLEtBQUssR0FBSXBNLEdBQUksRUFBR0EsRUFBSWhCLEtBQUt1ZSxZQUFZdGQsT0FBUUQsSUFBSyxDQUM5QyxHQUFJeWQsR0FBUXplLEtBQUt1ZSxZQUFZdmQsRUFDN0J5ZCxHQUFNVCxLQUFLNVEsR0FFWHBOLEtBQUt3ZSxTQUNMeGUsS0FBS3dlLFFBQVFuUixRQUFRRCxJQUV0QjhRLElBRVh4ZCxHQUFNd2QsWUFBY0EsQ0FDcEIsSUFBSXlCLEdBQWMsU0FBVTFTLEdBRXhCLFFBQVMwUyxLQUNMLEdBQUlaLEdBQU0zWixFQUFNTyxNQUNoQnNILEdBQU9DLEtBQUtsTixLQUFNK2UsR0FDbEIvZSxLQUFLb1IsS0FBTzJOLEVBQ1ovZSxLQUFLNGYsT0FBUyxHQUFJMUIsR0FBWSxPQUFRLFNBQ3RDbGUsS0FBSzZmLGFBQWUsR0FBSXZTLEdBQVl0TixLQUFLb1IsTUFDekNwUixLQUFLOGYsaUJBQ0x6WCxFQUFNUSxXQUFXN0ksS0FBS29SLE1BQ3RCcFIsS0FBSytmLFVBQVksS0FzS3JCLE1BL0tBaGdCLFdBQVU0ZixFQUFZMVMsR0FXdEJ6TSxPQUFPbU0sZUFBZWdULEVBQVdwZixVQUFXLFNBQ3hDcU0sSUFBSyxXQUNELE1BQU81TSxNQUFLNGYsUUFFaEIvUyxZQUFZLEVBQ1pDLGNBQWMsSUFFbEI2UyxFQUFXcGYsVUFBVXlmLFlBQWMsU0FBVTlmLEdBQ3pDLEdBQUl3QixHQUFLMUIsS0FBSzBCLEVBQ2R4QixHQUFJQSxNQUNKd0IsRUFBR3VlLE9BQU92ZSxFQUFHd2UsWUFDYnhlLEVBQUd5ZSxVQUFVemUsRUFBRzBlLFFBQ2hCMWUsRUFBR3VlLE9BQU92ZSxFQUFHMmUsT0FDYjNlLEVBQUc0ZSxVQUFVNWUsRUFBRzZlLFVBQVc3ZSxFQUFHOGUscUJBQzlCOWUsRUFBRytlLFlBQVkvZSxFQUFHZ2YscUJBQXFCLEdBQ3ZDaGYsRUFBR2lmLFdBQVd6Z0IsRUFBRSxJQUFNLEVBQUdBLEVBQUUsSUFBTSxFQUFHQSxFQUFFLElBQU0sRUFBRyxHQUMvQ3dCLEVBQUdrZixXQUFXLElBRWxCakIsRUFBV3BmLFVBQVV3ZCxPQUFTLFdBQzFCLEdBQUlyYyxHQUFLMUIsS0FBSzBCLEVBQ2RBLEdBQUdtZixTQUFTLEVBQUcsRUFBR25mLEVBQUdMLGNBQWVLLEVBQUdILGdCQUN2Q0csRUFBRytiLE1BQU0vYixFQUFHb2YsaUJBQW1CcGYsRUFBR3FmLGlCQUNsQyxJQUFJL0MsR0FBTyxXQUNQaGUsS0FBSzRmLE9BQU81QixLQUFLaGUsS0FBSzZmLGVBQ3ZCMUQsS0FBS25jLEtBQ0pBLE1BQUsrZixXQUNML2YsS0FBSytmLFVBQVVoQyxPQUFPQyxHQUUxQkEsS0FFSjJCLEVBQVdwZixVQUFVeWdCLG9CQUFzQixTQUFVcGQsRUFBTXdhLEdBQ3ZELE1BQU9wZSxNQUFLNGYsT0FBT2YsZ0JBQWdCamIsRUFBTXdhLElBRTdDdUIsRUFBV3BmLFVBQVUwZ0Isb0JBQXNCLFNBQVVDLEdBQ2pEbGhCLEtBQUs0ZixPQUFPbEIsZ0JBQWdCd0MsSUFFaEMxZ0IsT0FBT21NLGVBQWVnVCxFQUFXcGYsVUFBVyxPQUN4Q3FNLElBQUssV0FDRCxNQUFPNU0sTUFBS29SLE1BRWhCdkUsWUFBWSxFQUNaQyxjQUFjLElBRWxCNlMsRUFBV3BmLFVBQVVrSSxXQUFhLFNBQVU1SCxHQUN4Q3dILEVBQU1DLG1CQUFtQnRJLEtBQUsrZSxJQUFLbGUsSUFFdkM4ZSxFQUFXcGYsVUFBVTRnQixRQUFVLFNBQVV2ZCxHQUNyQ0EsRUFBT0EsR0FBUSxRQUNmeUUsRUFBTWhFLGNBQWNyRSxLQUFLb1IsTUFDckIzTSxTQUFVaU8sRUFBUUMsU0FBUy9PLElBQVM4TyxFQUFRQyxTQUFnQixNQUM1RC9OLE9BQVE4TixFQUFRSyxPQUFPblAsSUFBUzhPLEVBQVFLLE9BQWMsU0FHOUQ0TSxFQUFXcGYsVUFBVTZnQixXQUFhLFNBQVVDLEdBQ3hDLEdBQUlDLEdBQWEsR0FBSXZOLEdBQVcvVCxLQUFLK2UsSUFPckMsT0FOSXNDLEdBQU9FLE1BQ1BELEVBQVd0TSxpQkFBaUJxTSxFQUFPRSxNQUVuQ0YsRUFBT0csVUFDUEYsRUFBV3JNLHFCQUFxQm9NLEVBQU9HLFVBRXBDRixHQUVYM0IsRUFBV3BmLFVBQVVraEIsY0FBZ0IsU0FBVTlSLEdBQzNDLE1BQU8sSUFBSTBJLEdBQWNyWSxLQUFLK2UsSUFBS3BQLElBRXZDZ1EsRUFBV3BmLFVBQVVtaEIsbUJBQXFCLFNBQVVMLEdBQ2hELEdBQUlFLEdBQU8sR0FBSXhOLEdBQVcvVCxLQUFLK2UsSUFBS3NDLEVBQU9FLEtBQU1GLEVBQU9HLFNBQVVILEVBQU9wZSxRQUV6RSxPQURBakQsTUFBSzhmLGNBQWM1VSxLQUFLcVcsR0FDakJBLEdBRVg1QixFQUFXcGYsVUFBVW9oQixnQkFBa0IsU0FBVTNMLEVBQVUzTCxFQUFNNEwsR0FDN0QsTUFBTyxJQUFJRixHQUFnQi9WLEtBQUsrZSxJQUFLL0ksRUFBVTNMLEVBQU00TCxJQUV6RDBKLEVBQVdwZixVQUFVcWhCLFlBQWMsU0FBVVAsR0FDekMsTUFBTyxJQUFJNUosR0FBWXpYLEtBQUsrZSxJQUFLc0MsRUFBTzNQLFFBQVMyUCxFQUFPMVAsUUFBUzBQLEVBQU9yTCxTQUFVcUwsRUFBT3pQLFNBQVV5UCxFQUFPM0osVUFBVzJKLEVBQU8xSixTQUVoSWdJLEVBQVdwZixVQUFVc2hCLGFBQWUsU0FBVWplLEdBQzFDLE1BQU8sSUFBSXdWLEdBQWFwWixLQUFLK2UsSUFBS25iLElBRXRDK2IsRUFBV3BmLFVBQVV1aEIsZUFBaUIsU0FBVXRKLEdBQzVDLE1BQU8sSUFBSUQsR0FBZXZZLEtBQUsrZSxJQUFLdkcsSUFFeENtSCxFQUFXcGYsVUFBVXdoQixXQUFhLFNBQVU5Z0IsR0FDeEMsTUFBTyxJQUFJOFosR0FBVy9hLEtBQUsrZSxJQUFLOWQsSUFFcEMwZSxFQUFXcGYsVUFBVXloQixXQUFhLFNBQVV0RyxFQUFLekwsR0FDN0MsTUFBTyxJQUFJdUwsR0FBV3hiLEtBQUsrZSxJQUFLckQsRUFBS3pMLElBRXpDMFAsRUFBV3BmLFVBQVUwaEIsYUFBZSxTQUFVdGdCLEdBQzFDLE1BQU8sSUFBSW1hLEdBQWE5YixLQUFLK2UsSUFBS3BkLElBRXRDZ2UsRUFBV3BmLFVBQVUyaEIsZUFBaUIsU0FBVTFGLEdBQzVDeGMsS0FBSytmLFVBQVksR0FBSXhELEdBQVN2YyxLQUFLK2UsSUFBS3ZDLElBRTVDbUQsRUFBV3BmLFVBQVU0aEIsYUFBZSxTQUFVcFcsR0FDdEMvTCxLQUFLK2YsV0FDTC9mLEtBQUsrZixVQUFVdkMsS0FBS3pSLElBRzVCNFQsRUFBV3BmLFVBQVU2aEIsY0FBZ0IsU0FBVXJXLEdBQ3ZDL0wsS0FBSytmLFdBQ0wvZixLQUFLK2YsVUFBVXRDLFNBR3ZCa0MsRUFBV3BmLFVBQVU4aEIsT0FBUyxTQUFVdkksR0FDcEMsTUFBSTlaLE1BQUsrZixVQUNFL2YsS0FBSytmLFVBQVUxVCxLQUFLeU4sR0FEL0IsUUFJSnRaLE9BQU9tTSxlQUFlZ1QsRUFBV3BmLFVBQVcsY0FDeENzTixJQUFLLFNBQVVNLEdBQ1huTyxLQUFLNmYsYUFBYXlDLFdBQWFuVSxHQUVuQ3RCLFlBQVksRUFDWkMsY0FBYyxJQUVsQjZTLEVBQVdwZixVQUFVNEssY0FBZ0IsU0FBVXRGLEdBQzNDd0MsRUFBTThDLGNBQWNuTCxLQUFLK2UsSUFBS2xaLElBRWxDOFosRUFBV3BmLFVBQVVnaUIsWUFBYyxTQUFVMVgsR0FDekMrSixNQUFNNE4sV0FBV3hpQixLQUFLOGYsY0FBZSxTQUFVMVAsRUFBTTBFLEdBQ2pEMUUsRUFBS3VFLFNBQVMsV0FDVnpRLFFBQVFDLElBQUlpTSxHQUNaMEUsT0FFTGpLLElBRVA4VSxFQUFXcGYsVUFBVXFZLFVBQVksU0FBVXlJLEdBQ3ZDLEdBQUlqUyxHQUFPcFAsSUFDWHFoQixHQUFTQSxNQUNUalMsRUFBSzRRLFlBQVlxQixFQUFPb0IsWUFDeEJyVCxFQUFLK1IsUUFBUUUsRUFBT3FCLFlBQ3BCcmEsRUFBTVMsc0JBQXNCc0csRUFBS2dDLEtBQU11TyxFQUFXZ0QsWUFDbER0YSxFQUFNd0Isb0JBQW9CdUYsRUFBS2dDLEtBQU11TyxFQUFXaUQsVUFDaEQ1aUIsS0FBSzZmLGFBQWFwUixRQUV0QmtSLEVBQVdwZixVQUFVc2lCLG9CQUFzQixTQUFVaFksR0FDakQsR0FBSXVFLEdBQU9wUCxJQUNYb1AsR0FBS3dKLFlBQ0x4SixFQUFLbVQsWUFBWTFYLElBRXJCOFUsRUFBV2lELFVBQ1AsV0FDQSxZQUNBLFdBQ0EsaUJBQ0Esa0JBQ0EsVUFDQSxnQkFDQSxtQkFDQSxnQkFDQSxtQkFDQSxpQkFDQSxvQkFDQSxhQUNBLGFBQ0EsV0FDQSxhQUNBLGtCQUNBLGVBQ0EsY0FFSmpELEVBQVdnRCxZQUFjLGFBQWMsV0FBWSxXQUM1Q2hELEdBQ1RuVCxFQUNGOUwsR0FBTWlmLFdBQWFBLEdBQ3BCamYsUUFBVUEiLCJmaWxlIjoiYmxhemUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59O1xyXG52YXIgQmxhemU7XHJcbihmdW5jdGlvbiAoQmxhemUpIHtcclxuICAgIHZhciBXZWJHTFV0aWxzO1xyXG4gICAgKGZ1bmN0aW9uIChXZWJHTFV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0R0xDb250ZXh0KGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY3R4ID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIG5hbWVzID0gW1wid2ViZ2xcIiwgXCJleHBlcmltZW50YWwtd2ViZ2xcIiwgXCJ3ZWJraXQtM2RcIiwgXCJtb3otd2ViZ2xcIl07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQobmFtZXNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN0eCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdHggPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiQ291bGQgbm90IGluaXRpYWxpc2UgV2ViR0xcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC52aWV3cG9ydFdpZHRoID0gY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0SGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5nZXRHTENvbnRleHQgPSBnZXRHTENvbnRleHQ7XHJcbiAgICAgICAgKGZ1bmN0aW9uIChCVUZGRVJfRFJBVykge1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUQVRJQ1wiXSA9IDBdID0gXCJTVEFUSUNcIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJTVFJFQU1cIl0gPSAxXSA9IFwiU1RSRUFNXCI7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiRFlOQU1JQ1wiXSA9IDJdID0gXCJEWU5BTUlDXCI7XHJcbiAgICAgICAgfSkoV2ViR0xVdGlscy5CVUZGRVJfRFJBVyB8fCAoV2ViR0xVdGlscy5CVUZGRVJfRFJBVyA9IHt9KSk7XHJcbiAgICAgICAgdmFyIEJVRkZFUl9EUkFXID0gV2ViR0xVdGlscy5CVUZGRVJfRFJBVztcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVCdWZmZXIoZ2wsIGRhdGEsIGlzMkQsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUQVRJQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLkRZTkFNSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RSRUFNOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVFJFQU1fRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgaWYgKGlzMkQpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDI7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIuaXRlbVNpemUgPSAzO1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGggLyAzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBidWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyID0gY3JlYXRlQnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhLCB0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaW5kZXhCdWZmZXIpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUQVRJQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5EWU5BTUlDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5TVFJFQU1fRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgaW5kZXhCdWZmZXIuaXRlbVNpemUgPSAxO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5kZXhCdWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlSW5kZXhCdWZmZXIgPSBjcmVhdGVJbmRleEJ1ZmZlcjtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUZXh0dXJlKGdsLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBkYXRhKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmU7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsLCB0eXBlLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICAgICAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcclxuICAgICAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlU2hhZGVyID0gY3JlYXRlU2hhZGVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2wsIHNoYWRlcnMpIHtcclxuICAgICAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHNoYWRlcnMuZnJhZ21lbnQpO1xyXG4gICAgICAgICAgICB2YXIgdmVydGV4U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCBzaGFkZXJzLnZlcnRleCk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICAgICAgICAgICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgICAgICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XHJcbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9ncmFtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZVByb2dyYW0gPSBjcmVhdGVQcm9ncmFtO1xyXG4gICAgfSkoV2ViR0xVdGlscyA9IEJsYXplLldlYkdMVXRpbHMgfHwgKEJsYXplLldlYkdMVXRpbHMgPSB7fSkpO1xyXG4gICAgdmFyIHV0aWxzO1xyXG4gICAgKGZ1bmN0aW9uICh1dGlscykge1xyXG4gICAgICAgIGZ1bmN0aW9uIHM0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMClcclxuICAgICAgICAgICAgICAgIC50b1N0cmluZygxNilcclxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnM0ID0gczQ7XHJcbiAgICAgICAgZnVuY3Rpb24gdXVpZChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHM0KCkgKyBzNCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZSA/IG5hbWUgKyBpZCA6IGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy51dWlkID0gdXVpZDtcclxuICAgICAgICBmdW5jdGlvbiBub3JtYWxpemVOYU4odmVjKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWMubWFwKGZ1bmN0aW9uIChhKSB7IGlmIChOdW1iZXIuaXNOYU4oYSkpXHJcbiAgICAgICAgICAgICAgICBhID0gMDsgcmV0dXJuIGE7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5ub3JtYWxpemVOYU4gPSBub3JtYWxpemVOYU47XHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZCh1cmwsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmxvYWQgPSBsb2FkO1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEV4dGVuc2lvbihzdHIpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1zID0gc3RyLnNwbGl0KFwiLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1zW2VsZW1zLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5nZXRFeHRlbnNpb24gPSBnZXRFeHRlbnNpb247XHJcbiAgICAgICAgZnVuY3Rpb24gbm93SW5NaWxsaXNlY29uZHMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcyA9IG5vd0luTWlsbGlzZWNvbmRzO1xyXG4gICAgICAgIGZ1bmN0aW9uIGRlZ1RvUmFkKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5kZWdUb1JhZCA9IGRlZ1RvUmFkO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU5vcm1hbHModnMsIGluZCkge1xyXG4gICAgICAgICAgICB2YXIgeCA9IDA7XHJcbiAgICAgICAgICAgIHZhciB5ID0gMTtcclxuICAgICAgICAgICAgdmFyIHogPSAyO1xyXG4gICAgICAgICAgICB2YXIgbnMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbnNbaV0gPSAwLjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmQubGVuZ3RoOyBpID0gaSArIDMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2MSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHYyID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsID0gW107XHJcbiAgICAgICAgICAgICAgICAvL3AxIC0gcDBcclxuICAgICAgICAgICAgICAgIHYxW3hdID0gdnNbMyAqIGluZFtpICsgMV0gKyB4XSAtIHZzWzMgKiBpbmRbaV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYxW3ldID0gdnNbMyAqIGluZFtpICsgMV0gKyB5XSAtIHZzWzMgKiBpbmRbaV0gKyB5XTtcclxuICAgICAgICAgICAgICAgIHYxW3pdID0gdnNbMyAqIGluZFtpICsgMV0gKyB6XSAtIHZzWzMgKiBpbmRbaV0gKyB6XTtcclxuICAgICAgICAgICAgICAgIC8vIHAwIC0gcDFcclxuICAgICAgICAgICAgICAgIHYyW3hdID0gdnNbMyAqIGluZFtpICsgMl0gKyB4XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeF07XHJcbiAgICAgICAgICAgICAgICB2Mlt5XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgeV0gLSB2c1szICogaW5kW2kgKyAxXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjJbel0gPSB2c1szICogaW5kW2kgKyAyXSArIHpdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB6XTtcclxuICAgICAgICAgICAgICAgIC8vcDIgLSBwMVxyXG4gICAgICAgICAgICAgICAgLy8gdjFbeF0gPSB2c1szKmluZFtpKzJdK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3ldID0gdnNbMyppbmRbaSsyXSt5XSAtIHZzWzMqaW5kW2krMV0reV07XHJcbiAgICAgICAgICAgICAgICAvLyB2MVt6XSA9IHZzWzMqaW5kW2krMl0rel0gLSB2c1szKmluZFtpKzFdK3pdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgLy8gdjJbeF0gPSB2c1szKmluZFtpXSt4XSAtIHZzWzMqaW5kW2krMV0reF07XHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt5XSA9IHZzWzMqaW5kW2ldK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3pdID0gdnNbMyppbmRbaV0rel0gLSB2c1szKmluZFtpKzFdK3pdO1xyXG4gICAgICAgICAgICAgICAgLy9jcm9zcyBwcm9kdWN0IGJ5IFNhcnJ1cyBSdWxlXHJcbiAgICAgICAgICAgICAgICBub3JtYWxbeF0gPSB2MVt5XSAqIHYyW3pdIC0gdjFbel0gKiB2Mlt5XTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt5XSA9IHYxW3pdICogdjJbeF0gLSB2MVt4XSAqIHYyW3pdO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3pdID0gdjFbeF0gKiB2Mlt5XSAtIHYxW3ldICogdjJbeF07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt4XSArPSBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt5XSArPSBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt6XSArPSBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgeF0gPSBuc1szICogaW5kW2kgKyBqXSArIHhdICsgbm9ybWFsW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgeV0gPSBuc1szICogaW5kW2kgKyBqXSArIHldICsgbm9ybWFsW3ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgel0gPSBuc1szICogaW5kW2kgKyBqXSArIHpdICsgbm9ybWFsW3pdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vbm9ybWFsaXplIHRoZSByZXN1bHRcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2cy5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5uID0gW107XHJcbiAgICAgICAgICAgICAgICBublt4XSA9IG5zW2kgKyB4XTtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbnNbaSArIHldO1xyXG4gICAgICAgICAgICAgICAgbm5bel0gPSBuc1tpICsgel07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gTWF0aC5zcXJ0KChublt4XSAqIG5uW3hdKSArIChublt5XSAqIG5uW3ldKSArIChublt6XSAqIG5uW3pdKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gMC4wMDAwMTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbm5beF0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt5XSA9IG5uW3ldIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbm5bel0gPSBublt6XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB4XSA9IG5uW3hdO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHldID0gbm5beV07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgel0gPSBublt6XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmNhbGN1bGF0ZU5vcm1hbHMgPSBjYWxjdWxhdGVOb3JtYWxzO1xyXG4gICAgfSkodXRpbHMgPSBCbGF6ZS51dGlscyB8fCAoQmxhemUudXRpbHMgPSB7fSkpO1xyXG4gICAgKGZ1bmN0aW9uIChDQU1FUkFfVFlQRSkge1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiT1JCSVRJTkdcIl0gPSAwXSA9IFwiT1JCSVRJTkdcIjtcclxuICAgICAgICBDQU1FUkFfVFlQRVtDQU1FUkFfVFlQRVtcIlRSQUNLSU5HXCJdID0gMV0gPSBcIlRSQUNLSU5HXCI7XHJcbiAgICB9KShCbGF6ZS5DQU1FUkFfVFlQRSB8fCAoQmxhemUuQ0FNRVJBX1RZUEUgPSB7fSkpO1xyXG4gICAgdmFyIENBTUVSQV9UWVBFID0gQmxhemUuQ0FNRVJBX1RZUEU7XHJcbiAgICB2YXIgS2V0Y2ggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEtldGNoKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBLZXRjaC5zZXRDYW52YXNUb0NvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjYW52YXMpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBXZWJHTFV0aWxzLmdldEdMQ29udGV4dChjYW52YXMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRDb250ZXh0KGtleSwgY29udGV4dCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGtleSwgY29udGV4dCkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XS5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nba2V5XS5jb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY3JlYXRlUHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHNoYWRlcnMpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dChrZXkpO1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldFByb2dyYW0oa2V5LCBwcm9ncmFtKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldFByb2dyYW0gPSBmdW5jdGlvbiAoa2V5LCBwcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLnByb2dyYW0gPSBwcm9ncmFtO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLnByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XSA9IHt9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zID0gZnVuY3Rpb24gKGtleSwgYXR0cmlic19uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZpZXcuYXR0cmlicyA9IGF0dHJpYnNfbmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2W2F0dHJdID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJnLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLmF0dHJpYnNbYXR0cl9rZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uICh2aWV3X2tleSwgdW5pZm9ybV9rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0udW5pZm9ybXNbdW5pZm9ybV9rZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyA9IGZ1bmN0aW9uIChrZXksIHVuaWZvcm1fbmFtZXMpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2aWV3LnVuaWZvcm1zID0gdW5pZm9ybV9uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHByZXZbYXR0cl0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5LCBwb2ludGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IEtldGNoLmdldEF0dHJpYih2aWV3X2tleSwgYXR0cl9rZXkpO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KHZpZXdfa2V5KTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgcG9pbnRlci5zaXplIHx8IDMsIGdsLkZMT0FULCBwb2ludGVyLm5vcm1hbGl6ZWQgfHwgZmFsc2UsIHBvaW50ZXIuc3RyaWRlIHx8IDAsIHBvaW50ZXIub2Zmc2V0IHx8IDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXkpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gS2V0Y2guZ2V0QXR0cmliKHZpZXdfa2V5LCBhdHRyX2tleSk7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQodmlld19rZXkpO1xyXG4gICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2gucmVuZGVyTG9vcCA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChjYiwgMzApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guYWRkVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcyA9IHZpZXcudGV4dHVyZXMgfHwgW107XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMucHVzaCh0ZXh0dXJlX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnJlbW92ZVRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMgPSB2aWV3LnRleHR1cmVzIHx8IFtdO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB2aWV3LnRleHR1cmVzLmluZGV4T2YodGV4dHVyZV9pZCk7XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFjdGl2ZVRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkLCB0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShpbmRleCA9PT0gMCA/IGdsLlRFWFRVUkUwIDogZ2wuVEVYVFVSRTAgKyBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIHZhciB1U2FtcGxlciA9IEtldGNoLmdldFVuaWZvcm0oa2V5LCBcInVTYW1wbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVTYW1wbGVyLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmlzT2ZmU2NyZWVuID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLm9mZnNjcmVlbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmVuYWJsZU9mZlNjcmVlbiA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nbdmlld19rZXldLm9mZnNjcmVlbiA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5kaXNhYmxlT2ZmU2NyZWVuID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1t2aWV3X2tleV0ub2Zmc2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmZpbGxTZWxlY3RvckJ1ZmZlciA9IGZ1bmN0aW9uICh2aWV3X2tleSwgb2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XTtcclxuICAgICAgICAgICAgdmlldy5zZWxlY3RPYmplY3RzID0gdmlldy5zZWxlY3RPYmplY3RzIHx8IFtdO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMucHVzaChvYmopO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY2xlYXJTZWxlY3RvckJ1ZmZlciA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1t2aWV3X2tleV07XHJcbiAgICAgICAgICAgIHZpZXcuc2VsZWN0T2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0U2VsZWN0QnlDb2xvciA9IGZ1bmN0aW9uICh2aWV3X2tleSwgY29sb3IpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nbdmlld19rZXldO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMgPSB2aWV3LnNlbGVjdE9iamVjdHMgfHwgW107XHJcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmQodmlldy5zZWxlY3RPYmplY3RzLCBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uaXNFcXVhbChvLmNvbG9yLCBjb2xvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guX3ZpZXdzID0ge307XHJcbiAgICAgICAgcmV0dXJuIEtldGNoO1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLktldGNoID0gS2V0Y2g7XHJcbiAgICB2YXIgUmVuZGVyYWJsZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gUmVuZGVyYWJsZShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ncmFwaF9pZCA9IGdyYXBoX2lkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwiZ3JhcGhJRFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dyYXBoX2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwiZ2xcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRDb250ZXh0KHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJhYmxlLnByb3RvdHlwZSwgXCJwcm9ncmFtXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0UHJvZ3JhbSh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBSZW5kZXJhYmxlLnByb3RvdHlwZS5nZXRVbmlmb3JtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0VW5pZm9ybSh0aGlzLmdyYXBoSUQsIGtleSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVuZGVyYWJsZTtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5SZW5kZXJhYmxlID0gUmVuZGVyYWJsZTtcclxuICAgIHZhciBFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gRW50aXR5KGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEVudGl0eTtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuRW50aXR5ID0gRW50aXR5O1xyXG4gICAgdmFyIE1hdHJpeFN0YWNrID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTWF0cml4U3RhY2ssIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTWF0cml4U3RhY2soZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFjayA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9tdk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9uTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3B5ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIGNvcHkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFjay5wdXNoKGNvcHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YWNrLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJpbnZhbGlkIHBvcE1hdHJpeFwiO1xyXG4gICAgICAgICAgICB0aGlzLl9tdk1hdHJpeCA9IHRoaXMuX3N0YWNrLnBvcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk1vZGVsVmlldyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9jYW1lcmEubW9kZWxWaWV3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9tdk1hdHJpeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibXZNYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tdk1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJwTWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcE1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJuTWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbk1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5QZXJzcGVjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9wTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5wZXJzcGVjdGl2ZSg0NSwgZ2wudmlld3BvcnRXaWR0aCAvIGdsLnZpZXdwb3J0SGVpZ2h0LCAwLjEsIDEwMDAuMCwgdGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuTm9ybWFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LnNldCh0aGlzLl9tdk1hdHJpeCwgdGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQuaW52ZXJzZSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC50cmFuc3Bvc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5Nb2RlbFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5QZXJzcGVjdGl2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLk5vcm1hbCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnNldFVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLk5vcm1hbCgpO1xyXG4gICAgICAgICAgICB2YXIgbXZNYXRyaXggPSB0aGlzLmdldFVuaWZvcm0oXCJ1TVZNYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChtdk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobXZNYXRyaXgsIGZhbHNlLCB0aGlzLl9tdk1hdHJpeCk7XHJcbiAgICAgICAgICAgIHZhciBwTWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidVBNYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChwTWF0cml4KVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwTWF0cml4LCBmYWxzZSwgdGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIHZhciBuTWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU5NYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChuTWF0cml4KVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihuTWF0cml4LCBmYWxzZSwgdGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTWF0cml4U3RhY2s7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLk1hdHJpeFN0YWNrID0gTWF0cml4U3RhY2s7XHJcbiAgICB2YXIgUmVzb3VyY2VzO1xyXG4gICAgKGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcclxuICAgICAgICB2YXIgTWVzaEJ1ZmZlcnMgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICBfX2V4dGVuZHMoTWVzaEJ1ZmZlcnMsIF9zdXBlcik7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1lc2hCdWZmZXJzKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0ID0gdXRpbHMuZ2V0RXh0ZW5zaW9uKHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbHMubG9hZChzcmMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2JqXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gc2VsZi5wYXJzZU9CSihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJqc29uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gc2VsZi5wYXJzZUpTT04oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVCdWZmZXJzKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25sb2FkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hCdWZmZXJzLnByb3RvdHlwZS5wYXJzZUpTT04gPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE1lc2hCdWZmZXJzLnByb3RvdHlwZS5wYXJzZU9CSiA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZuOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2dDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGluOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdDogW11cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSBkYXRhLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleCA9IGxpbmVzLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhWzBdID09PSAndic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGxpbmVzLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhWzBdID09PSAnZic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZlcnRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gaXRlbS5yZXBsYWNlKFwiXFxyXCIsIFwiXCIpLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZWxlbXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSBvYmpba2V5XS5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBJbmRleCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaW5kZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5yZXBsYWNlKFwiZlwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcEluZGV4ID0gdGVtcEluZGV4LmNvbmNhdChlbGVtcy5zbGljZSgxKS5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgIT09IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0ZW1wSW5kZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0uc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pdi5wdXNoKHBhcnNlSW50KGVsZW1zWzBdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pbi5wdXNoKHBhcnNlSW50KGVsZW1zWzFdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pdC5wdXNoKHBhcnNlSW50KGVsZW1zWzJdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUuY3JlYXRlQnVmZmVycyA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgICAgICBfLmRlZmF1bHRzKG9iaiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZuOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2dDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGluOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdDogW11cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnVmZmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIoZ2wsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai52Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmJvID0gY3JlYXRlQnVmZmVyKG9iai52KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwICYmIG9iai5pdi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmJvID0gY3JlYXRlQnVmZmVyKHV0aWxzLmNhbGN1bGF0ZU5vcm1hbHMob2JqLnYsIG9iai5pdikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai52dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGJvID0gV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIoZ2wsIG9iai52dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbmRleEJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pdi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l2Ym8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaXYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pbi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luYm8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaW4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pdC5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0Ym8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaXQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcInZib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwibmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYm87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l2Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpbmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaXRib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXRibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gTWVzaEJ1ZmZlcnM7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hCdWZmZXJzID0gTWVzaEJ1ZmZlcnM7XHJcbiAgICAgICAgdmFyIE1lc2hUZXh0dXJlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hUZXh0dXJlLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoVGV4dHVyZShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29pZCA9IHV0aWxzLnV1aWQodGhpcy5jb25zdHJ1Y3Rvci5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcIm9ubG9hZFwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoVGV4dHVyZS5wcm90b3R5cGUsIFwic3JjXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGVuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1hZ2Uub25sb2FkID0gdGhpcy5sb2FkVGV4dHVyZUltYWdlKHRoaXMuX29ubG9hZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTWVzaFRleHR1cmUucHJvdG90eXBlLmxvYWRUZXh0dXJlSW1hZ2UgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90ZXh0dXJlID0gV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlKHNlbGYuZ2wsIHNlbGYuX2ltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBLZXRjaC5hZGRUZXh0dXJlKHNlbGYuZ3JhcGhJRCwgc2VsZi5fb2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcImNvbnRlbnRcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hUZXh0dXJlO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoVGV4dHVyZSA9IE1lc2hUZXh0dXJlO1xyXG4gICAgICAgIHZhciBNZXNoTWF0ZXJpYWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICBfX2V4dGVuZHMoTWVzaE1hdGVyaWFsLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoTWF0ZXJpYWwoZ3JhcGhfaWQsIGFtYmllbnQsIGRpZmZ1c2UsIHNwZWN1bGFyLCBzaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSBhbWJpZW50ID8gdmVjNC5jcmVhdGUoYW1iaWVudCkgOiB2ZWM0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IGRpZmZ1c2UgPyB2ZWM0LmNyZWF0ZShkaWZmdXNlKSA6IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gc3BlY3VsYXIgPyB2ZWM0LmNyZWF0ZShzcGVjdWxhcikgOiB2ZWM0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hpbmluZXNzID0gc2hpbmluZXNzIHx8IDIwMC4wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcIm9ubG9hZFwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB1dGlscy5sb2FkKHNyYywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBzZWxmLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYW1iaWVudCA9IHRlbXAuS2E7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kaWZmdXNlID0gdGVtcC5LZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NwZWN1bGFyID0gdGVtcC5LcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hpbmluZXNzID0gdGVtcC5OcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vbmxvYWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb25sb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTWVzaE1hdGVyaWFsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtcIkthXCIsIFwiS2RcIiwgXCJLc1wiLCBcIk5zXCJdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBsaW5lLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZWxlbXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMuaW5kZXhPZihrZXkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtcIk5zXCJdID0gTnVtYmVyKGVsZW1zWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGVsZW1zLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gTnVtYmVyKGEpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goMS4wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcImFtYmllbnRcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FtYmllbnQ7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoYW1iaWVudCkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcImRpZmZ1c2VcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoZGlmZnVzZSkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNwZWN1bGFyXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zcGVjdWxhcjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKHNwZWN1bGFyKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic2hpbmluZXNzXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGluaW5lc3M7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoaW5pbmVzcyA9IHY7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hNYXRlcmlhbDtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsID0gTWVzaE1hdGVyaWFsO1xyXG4gICAgfSkoUmVzb3VyY2VzID0gQmxhemUuUmVzb3VyY2VzIHx8IChCbGF6ZS5SZXNvdXJjZXMgPSB7fSkpO1xyXG4gICAgdmFyIFNoYWRlcnM7XHJcbiAgICAoZnVuY3Rpb24gKFNoYWRlcnMpIHtcclxuICAgICAgICB2YXIgRnJhZ21lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBGcmFnbWVudCgpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBGcmFnbWVudC5QYXJ0aWNsZSA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG5cXG5ib29sIGlzQmxhY2sodmVjNCBjb2xvcil7XFxucmV0dXJuIGNvbG9yLnI9PTAuMCAmJmNvbG9yLmc9PTAuMCYmY29sb3IuYj09MC4wO1xcbn1cXG52b2lkIG1haW4odm9pZCkgeyBcXG4gICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgIH1lbHNle1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGdsX1BvaW50Q29vcmQpO1xcbiAgICBpZihnbF9GcmFnQ29sb3IuYSA8IDAuNSB8fCBpc0JsYWNrKGdsX0ZyYWdDb2xvcikpIGRpc2NhcmQ7XFxuICAgIH1cXG59XCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlBob25nID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxudW5pZm9ybSB2ZWMzIHVMaWdodERpcmVjdGlvbjtcXG5cXG51bmlmb3JtIHZlYzQgdUxpZ2h0QW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0RGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0U3BlY3VsYXI7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBib29sIHVPZmZzY3JlZW47XFxudW5pZm9ybSB2ZWM0IHVTZWxlY3RDb2xvcjtcXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsU3BlY3VsYXI7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuICAgICAgXFxuXFxuICAgICAgICBpZih1T2Zmc2NyZWVuKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3I9dVNlbGVjdENvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgXFxuICAgICAgICB2ZWMzIEw9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb24pO1xcbiAgICAgICAgdmVjMyBOPSBub3JtYWxpemUodk5vcm1hbCk7XFxuICAgICAgICBmbG9hdCBsYW1iZXJ0VGVybT1kb3QoTiwgLUwpO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElhPSB1TGlnaHRBbWJpZW50KnVNYXRlcmlhbEFtYmllbnQ7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWQ9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElzPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYobGFtYmVydFRlcm0+MC4wKVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIElkPXVMaWdodERpZmZ1c2UqdU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHRTcGVjdWxhcip1TWF0ZXJpYWxTcGVjdWxhcipzcGVjdWxhcjtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBmaW5hbENvbG9yPUlhK0lkK0lzO1xcbiAgICAgICAgZmluYWxDb2xvci5hPTEuMDtcXG4gICAgXFxuICAgICAgICBnbF9GcmFnQ29sb3IgPWZpbmFsQ29sb3I7XFxuICAgICAgICBcXG4gICAgICAgIFxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuVG9vbiA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxudW5pZm9ybSBmbG9hdCB1U2hpbmluZXNzO1xcbnVuaWZvcm0gdmVjMyB1TGlnaHREaXJlY3Rpb247XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG5cXG51bmlmb3JtIHZlYzQgdUxpZ2h0QW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0RGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG5cXG51bmlmb3JtIGJvb2wgdU9mZnNjcmVlbjtcXG51bmlmb3JtIHZlYzQgdVNlbGVjdENvbG9yO1xcblxcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZWZXJ0ZXg7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuICAgICAgXFxuXFxuICAgICAgICBpZih1T2Zmc2NyZWVuKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3I9dVNlbGVjdENvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHZlYzQgY29sb3IwPXZlYzQodU1hdGVyaWFsRGlmZnVzZS5yZ2IsMS4wKTtcXG4gICAgICAgIHZlYzQgY29sb3IxPXZlYzQoMC4wLDAuMCwwLjAsIDEuMCk7XFxuICAgICAgICB2ZWM0IGNvbG9yMj12ZWM0KHVNYXRlcmlhbERpZmZ1c2UucmdiLCAxLjApO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWMzIE49IHZOb3JtYWw7XFxuICAgICAgICB2ZWMzIEwgPSBub3JtYWxpemUodUxpZ2h0RGlyZWN0aW9uKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBleWVQb3M9IHVNVk1hdHJpeCp2ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzMgRXllVmVydCA9IG5vcm1hbGl6ZSgtZXllUG9zLnh5eik7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzMgRXllTGlnaHQ9bm9ybWFsaXplKEwrRXllVmVydCk7XFxuICAgICAgICBcXG4gICAgICAgIGZsb2F0IHNpbD0gbWF4KGRvdChOLCBFeWVWZXJ0KSwgMC4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYoIHNpbDwwLjQpe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj1jb2xvcjE7XFxuICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPWNvbG9yMDtcXG4gICAgICAgICAgICAgXFxuICAgICAgICAgICAgIGZsb2F0IHNwZWM9cG93KG1heChkb3QoTiwgRXllTGlnaHQpLCAwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICAgXFxuICAgICAgICAgICAgIGlmKHNwZWM8MC4yKSBnbF9GcmFnQ29sb3IqPTAuODtcXG4gICAgICAgICAgICAgZWxzZSBnbF9GcmFnQ29sb3I9Y29sb3IyO1xcbiAgICAgICAgICAgICBcXG4gICAgICAgICAgICAgZmxvYXQgZGlmZnVzZT1tYXgoZG90KE4sIEwpLCAwLjApO1xcbiAgICAgICAgICAgICBpZihkaWZmdXNlPDAuNSlnbF9GcmFnQ29sb3IqPTAuODtcXG4gICAgICAgIH1cXG5cXG5cXG5cXG5cXG5cXG59XFxuXFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBGcmFnbWVudDtcclxuICAgICAgICB9KCkpO1xyXG4gICAgICAgIFNoYWRlcnMuRnJhZ21lbnQgPSBGcmFnbWVudDtcclxuICAgICAgICB2YXIgVmVydGV4ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gVmVydGV4KCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFZlcnRleC5QYXJ0aWNsZSA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVBvaW50U2l6ZTtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcblxcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfVxcbiAgICBcXG4gICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbi54eXosIDEuMCk7XFxuICAgIGdsX1BvaW50U2l6ZSA9IHVQb2ludFNpemU7XFxufVwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguUGhvbmcgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU5NYXRyaXg7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSBib29sIHVQZXJWZXJ0ZXhDb2xvcjtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICB2ZWM0IHZlcnRleCA9IHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cXHRcXG5cXHRcXG5cXHQgaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfWVsc2V7XFxuXFx0XFxuXFx0dk5vcm1hbCA9IHZlYzModU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKTtcXG5cXHR2RXllVmVjPS12ZWMzKHZlcnRleC54eXopOyAgXFxuXFx0XFxuXFx0fVxcblxcdCBcXG5cXHRnbF9Qb3NpdGlvbiA9dVBNYXRyaXggKiB2ZXJ0ZXg7XFxuXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguVG9vbiA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Tk1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2VmVydGV4O1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuICAgIFxcbiAgICB2ZWM0IG5vcm1hbD0gdU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLDEuMCk7XFxuICAgIFxcbiAgICAgaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfWVsc2V7XFxuICAgIFxcbiAgICB2Tm9ybWFsPW5vcm1hbC54eXo7XFxuICAgIHZWZXJ0ZXg9YV9wb3NpdGlvbjtcXG4gICAgfVxcbiAgICBcXG4gICAgZ2xfUG9zaXRpb249dVBNYXRyaXgqdU1WTWF0cml4KnZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG4gICAgXFxuICAgIFxcbiAgICBcXG4gICAgXFxuXFxufVwiO1xyXG4gICAgICAgICAgICByZXR1cm4gVmVydGV4O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5WZXJ0ZXggPSBWZXJ0ZXg7XHJcbiAgICB9KShTaGFkZXJzID0gQmxhemUuU2hhZGVycyB8fCAoQmxhemUuU2hhZGVycyA9IHt9KSk7XHJcbiAgICB2YXIgQW5pbWF0aW9uRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQW5pbWF0aW9uRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkVudGl0eShncmFwaF9pZCwgZnJlcXVlbmN5LCB0aW1lcywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmVxdWVuY3kgPSBmcmVxdWVuY3k7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5vbkZyYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA9IHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIGlmIChBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA8IDUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBzdGVwcyA9IE1hdGguZmxvb3IoQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgLyB0aGlzLl9mcmVxdWVuY3kpO1xyXG4gICAgICAgICAgICB3aGlsZSAoKHN0ZXBzID4gMCkgJiYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCAhPSB0aGlzLl90aW1lcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICBzdGVwcy0tO1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uRW50aXR5LkNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCA9PT0gdGhpcy5fdGltZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRpbWUgPSB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbF9pZCA9IHNldEludGVydmFsKHRoaXMub25GcmFtZSwgdGhpcy5fZnJlcXVlbmN5IC8gMTAwMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbF9pZClcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkuQ291bnQgPSAwO1xyXG4gICAgICAgIHJldHVybiBBbmltYXRpb25FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQW5pbWF0aW9uRW50aXR5ID0gQW5pbWF0aW9uRW50aXR5O1xyXG4gICAgdmFyIE1lc2hFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhNZXNoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1lc2hFbnRpdHkoZ3JhcGhfaWQsIG1lc2hmaWxlLCBtYXRlcmlhbGZpbGUsIHRleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX21lc2hmaWxlID0gbWVzaGZpbGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWxmaWxlID0gbWF0ZXJpYWxmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVmaWxlID0gdGV4dHVyZWZpbGUgfHwgbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZEJ1ZmZlcnMgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgUmVzb3VyY2VzLk1lc2hCdWZmZXJzKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkVGV4dHVyZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG5ldyBSZXNvdXJjZXMuTWVzaFRleHR1cmUodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoRW50aXR5LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1hdGVyaWFsID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tZXNoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgQnVmZmVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRCdWZmZXJzKHNlbGYuX21lc2hmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIEJ1ZmZlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX3RleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZFRleHR1cmUoc2VsZi5fdGV4dHVyZWZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tYXRlcmlhbGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIE1hdGVyaWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1hdGVyaWFsKHNlbGYuX21hdGVyaWFsZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBNYXRlcmlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1lc2hCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnModGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5jcmVhdGVCdWZmZXJzKG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWF0ZXJpYWxCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBuZXcgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBpZiAob2JqLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmFtYmllbnQgPSBvYmouYW1iaWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhciA9IG9iai5zcGVjdWxhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UgPSBvYmouZGlmZnVzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzID0gb2JqLnNoaW5pbmVzcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxVbmlmb3JtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsQW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsQW1iaWVudCwgdGhpcy5fbWF0ZXJpYWwuYW1iaWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxTcGVjdWxhciwgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1U2hpbmluZXNzID0gdGhpcy5nZXRVbmlmb3JtKFwidVNoaW5pbmVzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodVNoaW5pbmVzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVTaGluaW5lc3MsIHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5zZXRNYXRlcmlhbFVuaWZvcm1zKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLnZibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMubmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgdmFyIGl2Ym8gPSB0aGlzLl9idWZmZXJzLml2Ym87XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGl2Ym8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBpdmJvLm51bUl0ZW1zLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBNZXNoRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLk1lc2hFbnRpdHkgPSBNZXNoRW50aXR5O1xyXG4gICAgdmFyIFRyYW5zZm9ybUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFRyYW5zZm9ybUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBUcmFuc2Zvcm1FbnRpdHkoZ3JhcGhfaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb24gfHwgdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemUgfHwgdmVjMy5jcmVhdGUoWzEsIDEsIDFdKTtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByb3RhdGlvbiB8fCB7IGFuZ2xlOiAwLCBheGlzOiB2ZWMzLmNyZWF0ZSgpIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gKG5ld19tYXRyaXgpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbmV3X21hdHJpeDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUudHJhbnNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LnRyYW5zcG9zZSh0aGlzLl9tYXRyaXgsIHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBYnNvbHV0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBbeCwgeSwgel07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInNpemVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IFt4LCB5LCB6XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9zaXplO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3NpemUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocm90YXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAoYW5nbGUsIGF4aXMpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ2xlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICAgICAgaWYgKGF4aXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5heGlzID0gYXhpcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QXhpcyA9IGZ1bmN0aW9uIChheGlzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmF4aXMgPSBheGlzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5yb3RhdGVBbmdsZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgKz0gYW5nbGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLm1vdmVBeGlzID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fcm90YXRpb24uYXhpcztcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9yb3RhdGlvbi5heGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnB1c2goKTtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2suTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeFN0YWNrLm12TWF0cml4O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24gIT0gdm9pZCAwKVxyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaXplICE9IHZvaWQgMClcclxuICAgICAgICAgICAgICAgIG1hdDQuc2NhbGUodGhpcy5fbWF0cml4LCB0aGlzLl9zaXplKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9IHZvaWQgMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhZCA9IHRoaXMuX3JvdGF0aW9uLmFuZ2xlICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlKHRoaXMuX21hdHJpeCwgcmFkLCB0aGlzLl9yb3RhdGlvbi5heGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5zZXRVcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnBvcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5UcmFuc2Zvcm1FbnRpdHkgPSBUcmFuc2Zvcm1FbnRpdHk7XHJcbiAgICB2YXIgTGlnaHRFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhMaWdodEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBMaWdodEVudGl0eShncmFwaF9pZCwgYW1iaWVudCwgZGlmZnVzZSwgcG9zaXRpb24sIHNwZWN1bGFyLCBkaXJlY3Rpb24sIGN1dG9mZikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSBhbWJpZW50ID8gdmVjNC5jcmVhdGUoYW1iaWVudCkgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gZGlmZnVzZSA/IHZlYzQuY3JlYXRlKGRpZmZ1c2UpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbiA/IHZlYzQuY3JlYXRlKHBvc2l0aW9uKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gc3BlY3VsYXIgPyB2ZWM0LmNyZWF0ZShzcGVjdWxhcikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBkaXJlY3Rpb24gPyB2ZWMzLmNyZWF0ZShkaXJlY3Rpb24pIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY3V0b2ZmID0gY3V0b2ZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImFtYmllbnRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbWJpZW50O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGFtYmllbnQpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJkaWZmdXNlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShkaWZmdXNlKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwic3BlY3VsYXJcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zcGVjdWxhcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKHNwZWN1bGFyKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB1dGlscy5ub3JtYWxpemVOYU4odmVjMy5jcmVhdGUocG9zaXRpb24pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJkaXJlY3Rpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzMuY3JlYXRlKGRpcmVjdGlvbikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImN1dE9mZlwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1dG9mZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXRvZmYgPSBjdXRvZmY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIExpZ2h0RW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0QW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0QW1iaWVudClcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodEFtYmllbnQsIHRoaXMuX2FtYmllbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0RGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0RGlmZnVzZSlcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodERpZmZ1c2UsIHRoaXMuX2RpZmZ1c2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodFNwZWN1bGFyID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0U3BlY3VsYXJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0U3BlY3VsYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRTcGVjdWxhciwgdGhpcy5fc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodFBvc2l0aW9uID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0UG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0UG9zaXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdih1TGlnaHRQb3NpdGlvbiwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB1RGlyZWN0aW9uID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0RGlyZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVEaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdih1RGlyZWN0aW9uLCB0aGlzLl9kaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXRvZmYpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1Q3V0T2ZmID0gdGhpcy5nZXRVbmlmb3JtKFwidUN1dE9mZlwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1Q3V0T2ZmKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1Q3V0T2ZmLCB0aGlzLl9jdXRvZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMaWdodEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBMaWdodEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5MaWdodEVudGl0eSA9IExpZ2h0RW50aXR5O1xyXG4gICAgdmFyIERpZmZ1c2VFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhEaWZmdXNlRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIERpZmZ1c2VFbnRpdHkoZ3JhcGhfaWQsIHYpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWZmdXNlRW50aXR5LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgdGhpcy5fdmFsdWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRGlmZnVzZUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBEaWZmdXNlRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkRpZmZ1c2VFbnRpdHkgPSBEaWZmdXNlRW50aXR5O1xyXG4gICAgdmFyIFBhcnRpY2xlRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoUGFydGljbGVFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gUGFydGljbGVFbnRpdHkoZ3JhcGhfaWQsIHBvaW50U2l6ZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50U2l6ZSA9IHBvaW50U2l6ZSB8fCAxO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlX2lkID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChkYXRhX21lc2gsIGRhdGFfdGV4dHVyZSkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGFfbWVzaCksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9udW1JdGVtcyA9IGRhdGFfbWVzaC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVfaWQgPSB1dGlscy51dWlkKFwiVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShnbCwgZGF0YV90ZXh0dXJlKTtcclxuICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZSh0aGlzLmdyYXBoSUQsIHRoaXMuX3RleHR1cmVfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX251bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVFbnRpdHkucHJvdG90eXBlLCBcInRleHR1cmVJRFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVfaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUsIFwicG9pbnRTaXplXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRTaXplID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVQb2ludFNpemUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1UG9pbnRTaXplXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBvaW50U2l6ZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1UG9pbnRTaXplLCB0aGlzLl9wb2ludFNpemUpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVyKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5hY3RpdmVUZXh0dXJlKHRoaXMuZ3JhcGhJRCwgdGhpcy5fdGV4dHVyZV9pZCwgdGhpcy5fdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuUE9JTlRTLCAwLCB0aGlzLl9udW1JdGVtcyAvIDMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBQYXJ0aWNsZUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5QYXJ0aWNsZUVudGl0eSA9IFBhcnRpY2xlRW50aXR5O1xyXG4gICAgdmFyIENhbWVyYUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKENhbWVyYUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBDYW1lcmFFbnRpdHkoZ3JhcGhfaWQsIHR5cGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZSB8fCBDQU1FUkFfVFlQRS5PUkJJVElORztcclxuICAgICAgICAgICAgdGhpcy5fY21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fY21hdHJpeCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9ub3JtYWwgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2F6aW11dGggPSAwLjA7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiA9IDAuMDtcclxuICAgICAgICAgICAgdGhpcy5fc3RlcHMgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJ0eXBlXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcImF6aW11dGhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hemltdXRoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChheikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBfYXogPSBheiAtIHRoaXMuX2F6aW11dGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUF6aW11dGgodGVtcF9heik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2hhbmdlQXppbXV0aCA9IGZ1bmN0aW9uIChheikge1xyXG4gICAgICAgICAgICB0aGlzLl9hemltdXRoICs9IGF6O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYXppbXV0aCA+IDM2MCB8fCB0aGlzLl9hemltdXRoIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXppbXV0aCA9IHRoaXMuX2F6aW11dGggJSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcImVsZXZhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VsZXZhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wX2VsID0gZWwgLSB0aGlzLl9lbGV2YXRpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUVsZXZhdGlvbih0ZW1wX2VsKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jaGFuZ2VFbGV2YXRpb24gPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uICs9IGVsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWxldmF0aW9uID4gMzYwIHx8IHRoaXMuX2VsZXZhdGlvbiA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiA9IHRoaXMuX2VsZXZhdGlvbiAlIDM2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiem9vbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZXBzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHAgPSB0aGlzLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBvZmZzZXQgLSB0aGlzLl9zdGVwcztcclxuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX25vcm1hbCwgbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3X3Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblswXSA9IHBbMF0gLSBzdGVwICogblswXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMV0gPSBwWzFdIC0gc3RlcCAqIG5bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzJdID0gcFsyXSAtIHN0ZXAgKiBuWzJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzBdID0gcFswXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMV0gPSBwWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsyXSA9IHBbMl0gLSBzdGVwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ld19wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0ZXBzID0gb2Zmc2V0O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNhbGN1bGF0ZU9yaWVudGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuX2NtYXRyaXg7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFsxLCAwLCAwLCAwXSwgdGhpcy5fcmlnaHQpO1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMSwgMCwgMF0sIHRoaXMuX3VwKTtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzAsIDAsIDEsIDBdLCB0aGlzLl9ub3JtYWwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fY21hdHJpeCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlT3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9jbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVkodGhpcy5fY21hdHJpeCwgdGhpcy5fYXppbXV0aCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVYKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2VsZXZhdGlvbiAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVZKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2F6aW11dGggKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWCh0aGlzLl9jbWF0cml4LCB0aGlzLl9lbGV2YXRpb24gKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX2NtYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQodGhpcy5fY21hdHJpeCwgWzAsIDAsIDAsIDFdLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcIm1vZGVsVmlld1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5pbnZlcnNlKHRoaXMuX2NtYXRyaXgsIG0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDYW1lcmFFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQ2FtZXJhRW50aXR5ID0gQ2FtZXJhRW50aXR5O1xyXG4gICAgdmFyIEF4aXNFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhBeGlzRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEF4aXNFbnRpdHkoZ3JhcGhfaWQsIGQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICBkID0gZCB8fCAxMDA7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gWzAuMCwgMC4wLCAwLjAsIGQsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGQsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGRdO1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VzID0gWzAsIDEsIDIsIDMsIDQsIDVdO1xyXG4gICAgICAgICAgICB0aGlzLl9jb2xvcnMgPSBbMSwgMSwgMCwgMSwgMSwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMCwgMSwgMSwgMCwgMCwgMSwgMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEF4aXNFbnRpdHkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdmVydGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2libyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkodGhpcy5faW5kaWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5fY2JvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9jYm8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLl9jb2xvcnMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciB1UGVyVmVydGV4Q29sb3IgPSB0aGlzLmdldFVuaWZvcm0oXCJ1UGVyVmVydGV4Q29sb3JcIik7XHJcbiAgICAgICAgICAgIGlmICh1UGVyVmVydGV4Q29sb3IpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVBlclZlcnRleENvbG9yLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2Nibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9jb2xvclwiLCB7IHNpemU6IDQgfSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FUywgdGhpcy5faW5kaWNlcy5sZW5ndGgsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEF4aXNFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB2YXIgdVBlclZlcnRleENvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVBlclZlcnRleENvbG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBlclZlcnRleENvbG9yKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVQZXJWZXJ0ZXhDb2xvciwgZmFsc2UpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX2NvbG9yXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEF4aXNFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQXhpc0VudGl0eSA9IEF4aXNFbnRpdHk7XHJcbiAgICB2YXIgR3JpZEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEdyaWRFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gR3JpZEVudGl0eShncmFwaF9pZCwgZCwgZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpbWVzaW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGRpbTogZCB8fCA1MCwgbGluZXM6IGUgfHwgNTBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5idWlsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl92Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZlcnRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KHRoaXMuX2luZGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGluYyA9IDIgKiB0aGlzLl9kaW1lc2lvbnMuZGltIC8gdGhpcy5fZGltZXNpb25zLmxpbmVzO1xyXG4gICAgICAgICAgICB2YXIgdiA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8PSB0aGlzLl9kaW1lc2lvbnMubGluZXM7IGwrKykge1xyXG4gICAgICAgICAgICAgICAgdls2ICogbF0gPSAtdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyAxXSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgMl0gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyAzXSA9IHRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgNF0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDVdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbF0gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgMV0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyAyXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyAzXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyA0XSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDVdID0gdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIGlbMiAqIGxdID0gMiAqIGw7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiBsICsgMV0gPSAyICogbCArIDE7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbF0gPSAyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGw7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbCArIDFdID0gMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IHY7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSBpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCBbMC43LCAwLjcsIDAuNywgMV0pO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuTElORVMsIHRoaXMuX2luZGljZXMubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBHcmlkRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkdyaWRFbnRpdHkgPSBHcmlkRW50aXR5O1xyXG4gICAgdmFyIFNlbGVjdEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNlbGVjdEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTZWxlY3RFbnRpdHkoZ3JhcGhfaWQsIGRhdGEpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb2xvciA9IHRoaXMuZ2VuZXJhdGVVbmlxdWVDb2xvcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlbGVjdEVudGl0eS5wcm90b3R5cGUsIFwiZGF0YVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWxlY3RFbnRpdHkucHJvdG90eXBlLCBcImNvbG9yXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29sb3I7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNlbGVjdEVudGl0eS5wcm90b3R5cGUuZ2VuZXJhdGVVbmlxdWVDb2xvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yO1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbnMgPSAoZnVuY3Rpb24gKGNvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0U2VsZWN0QnlDb2xvcih0aGlzLmdyYXBoSUQsIGNvbG9yKSAhPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIH0pLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBmb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHdoaWxlIChmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBbTnVtYmVyKE1hdGgucmFuZG9tKCkudG9GaXhlZCgyKSksIE51bWJlcihNYXRoLnJhbmRvbSgpLnRvRml4ZWQoMikpLCBOdW1iZXIoTWF0aC5yYW5kb20oKS50b0ZpeGVkKDIpKSwgMS4wXTtcclxuICAgICAgICAgICAgICAgIGZvdW5kID0gY29udGFpbnMoY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoS2V0Y2guaXNPZmZTY3JlZW4odGhpcy5ncmFwaElEKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgICAgIHZhciB1U2VsZWN0Q29sb3IgPSB0aGlzLmdldFVuaWZvcm0oXCJ1U2VsZWN0Q29sb3JcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodVNlbGVjdENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodVNlbGVjdENvbG9yLCB0aGlzLl9jb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBTZWxlY3RFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuU2VsZWN0RW50aXR5ID0gU2VsZWN0RW50aXR5O1xyXG4gICAgdmFyIFNlbGVjdG9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2VsZWN0b3IsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2VsZWN0b3IoZ3JhcGhfaWQsIGRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0gZGltZW5zaW9ucztcclxuICAgICAgICAgICAgdGhpcy5fZnJhbWVidWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJidWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jb25maWd1cmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgdGhpcy5fZGltZW5zaW9ucy53aWR0aCwgdGhpcy5fZGltZW5zaW9ucy5oZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJidWZmZXIgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIHRoaXMuX3JlbmRlcmJ1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9DT01QT05FTlQxNiwgdGhpcy5fZGltZW5zaW9ucy53aWR0aCwgdGhpcy5fZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmFtZWJ1ZmZlciA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUsIDApO1xyXG4gICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCB0aGlzLl9yZW5kZXJidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIEtldGNoLmZpbGxTZWxlY3RvckJ1ZmZlcih0aGlzLmdyYXBoSUQsIG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIEtldGNoLmNsZWFyU2VsZWN0b3JCdWZmZXIodGhpcy5ncmFwaElEKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgcmVhZG91dCA9IG5ldyBVaW50OEFycmF5KDEgKiAxICogNCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKHBvcy54LCBwb3MueSwgMSwgMSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgcmVhZG91dCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIHZhciBmaXhlZCA9IFtdLnNsaWNlLmNhbGwocmVhZG91dCkubWFwKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCgoaXRlbSAvIDI1NSkudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgb2JqID0gS2V0Y2guZ2V0U2VsZWN0QnlDb2xvcih0aGlzLmdyYXBoSUQsIGZpeGVkKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9iaiA/IG9iai5kYXRhIDogdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChkcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGhpcy5fZnJhbWVidWZmZXIpO1xyXG4gICAgICAgICAgICB2YXIgdU9mZnNjcmVlbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVPZmZzY3JlZW5cIik7XHJcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1T2Zmc2NyZWVuLCB0cnVlKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlT2ZmU2NyZWVuKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIGRyYXcoKTtcclxuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVPZmZzY3JlZW4sIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZU9mZlNjcmVlbih0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdG9yO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5TZWxlY3RvciA9IFNlbGVjdG9yO1xyXG4gICAgO1xyXG4gICAgdmFyIE5vZGVFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBOb2RlRWxlbWVudChwYXJlbnQsIHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlID0gcGFyZW50O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUuYWRkQ2hpbGROb2RlKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuX3R5cGUgfHwgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcIm9pZFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJwYXJlbnRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcImVudGl0eVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0eTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwiY2hpbGROb2Rlc1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5hZGRDaGlsZE5vZGUgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2Rlcy5wdXNoKGNoaWxkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZE5vZGUgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZ2V0Q2hpbGROb2RlQnlJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2Rlc1tpbmRleF0gfHwgdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmV4aXN0c0NoaWxkTm9kZSA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2Rlc1tpbmRleF0gIT09IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUucmVtb3ZlQ2hpbGROb2RlKHRoaXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNoaWxkTm9kZSA9IGZ1bmN0aW9uICh0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlRWxlbWVudCh0aGlzLCB0eXBlLCBlbnRpdHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmlzUm9vdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudE5vZGUgPT09IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHZhciBvaWQgPSBjaGlsZC5vaWQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmRJbmRleCh0aGlzLl9jaGlsZE5vZGVzLCBmdW5jdGlvbiAocykgeyByZXR1cm4gcy5vaWQgPT09IG9pZDsgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaW5kZXhJblBhcmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSlcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaGFzU2libGluZyA9IGZ1bmN0aW9uIChwcmV2KSB7XHJcbiAgICAgICAgICAgIHZhciBfaGF2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCAtIDEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCArIDEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gX2hhdmU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUubmV4dFNpYmxpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpICYmIHRoaXMuaGFzU2libGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5nID0gdGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucHJldmlvdXNTaWJsaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2libGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSAmJiB0aGlzLmhhc1NpYmxpbmcodHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIHNpYmxpbmcgPSB0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2libGluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5maXJzdENoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZE5vZGVCeUluZGV4KDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmxhc3RDaGlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGROb2RlQnlJbmRleCh0aGlzLl9jaGlsZE5vZGVzLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkTm9kZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMgPSBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuYmVnaW5EcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLl9jaGlsZE5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuZHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0eSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5lbmREcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBOb2RlRWxlbWVudDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5Ob2RlRWxlbWVudCA9IE5vZGVFbGVtZW50O1xyXG4gICAgdmFyIFNjZW5lR3JhcGggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTY2VuZUdyYXBoLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNjZW5lR3JhcGgoKSB7XHJcbiAgICAgICAgICAgIHZhciBvaWQgPSB1dGlscy51dWlkKCk7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29pZCA9IG9pZDtcclxuICAgICAgICAgICAgdGhpcy5fc2NlbmUgPSBuZXcgTm9kZUVsZW1lbnQodm9pZCAwLCBcIlNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjayA9IG5ldyBNYXRyaXhTdGFjayh0aGlzLl9vaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJCdWZmZXIgPSBbXTtcclxuICAgICAgICAgICAgS2V0Y2guY3JlYXRlVmlldyh0aGlzLl9vaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RvciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJzY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5FbnZpcm9ubWVudCA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGIgPSBiIHx8IFtdO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcbiAgICAgICAgICAgIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyQ29sb3IoYlswXSB8fCAwLCBiWzFdIHx8IDAsIGJbMl0gfHwgMCwgMSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyRGVwdGgoMS4wKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgZ2wudmlld3BvcnRXaWR0aCwgZ2wudmlld3BvcnRIZWlnaHQpO1xyXG4gICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgICAgIHZhciBkcmF3ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NjZW5lLmRyYXcodGhpcy5fbWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB9KS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yLnJlbmRlcihkcmF3KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkcmF3KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNYWluQ2hpbGROb2RlID0gZnVuY3Rpb24gKHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NlbmUuY3JlYXRlQ2hpbGROb2RlKHR5cGUsIGVudGl0eSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5yZW1vdmVNYWluQ2hpbGROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2NlbmUucmVtb3ZlQ2hpbGROb2RlKG5vZGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcIm9pZFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICAgICAgS2V0Y2guc2V0Q2FudmFzVG9Db250ZXh0KHRoaXMub2lkLCBjYW52YXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuUHJvZ3JhbSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IFwiUGhvbmdcIjtcclxuICAgICAgICAgICAgS2V0Y2guY3JlYXRlUHJvZ3JhbSh0aGlzLl9vaWQsIHtcclxuICAgICAgICAgICAgICAgIGZyYWdtZW50OiBTaGFkZXJzLkZyYWdtZW50W3R5cGVdIHx8IFNoYWRlcnMuRnJhZ21lbnRbXCJQaG9uZ1wiXSxcclxuICAgICAgICAgICAgICAgIHZlcnRleDogU2hhZGVycy5WZXJ0ZXhbdHlwZV0gfHwgU2hhZGVycy5WZXJ0ZXhbXCJQaG9uZ1wiXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1lc2ggPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNoRW50aXR5ID0gbmV3IE1lc2hFbnRpdHkodGhpcy5vaWQpO1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1lc2gpIHtcclxuICAgICAgICAgICAgICAgIG1lc2hFbnRpdHkubG9hZE1lc2hCeU9iamVjdChjb25maWcubWVzaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5sb2FkTWF0ZXJpYWxCeU9iamVjdChjb25maWcubWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoRW50aXR5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlRGlmZnVzZSA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGlmZnVzZUVudGl0eSh0aGlzLm9pZCwgdik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNZXNoQnlMb2FkZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IE1lc2hFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5tZXNoLCBjb25maWcubWF0ZXJpYWwsIGNvbmZpZy50ZXh0dXJlKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyLnB1c2gobWVzaCk7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybUVudGl0eSh0aGlzLm9pZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxpZ2h0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0RW50aXR5KHRoaXMub2lkLCBjb25maWcuYW1iaWVudCwgY29uZmlnLmRpZmZ1c2UsIGNvbmZpZy5wb3NpdGlvbiwgY29uZmlnLnNwZWN1bGFyLCBjb25maWcuZGlyZWN0aW9uLCBjb25maWcuY3V0b2ZmKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUNhbWVyYSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FtZXJhRW50aXR5KHRoaXMub2lkLCB0eXBlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVBhcnRpY2xlID0gZnVuY3Rpb24gKHBvaW50U2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcnRpY2xlRW50aXR5KHRoaXMub2lkLCBwb2ludFNpemUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlQXhpcyA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBeGlzRW50aXR5KHRoaXMub2lkLCBsZW5ndGgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlR3JpZCA9IGZ1bmN0aW9uIChkaW0sIGxpbmVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgR3JpZEVudGl0eSh0aGlzLm9pZCwgZGltLCBsaW5lcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVTZWxlY3QgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlbGVjdEVudGl0eSh0aGlzLm9pZCwgZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVTZWxlY3RvciA9IGZ1bmN0aW9uIChkaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gbmV3IFNlbGVjdG9yKHRoaXMub2lkLCBkaW1lbnNpb25zKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmZpbGxTZWxlY3RvciA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rvci5maWxsKG9iaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNsZWFyU2VsZWN0b3IgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IuY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2VsZWN0ID0gZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZWxlY3Rvci5maW5kKHBvcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5NYWluQ2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5yZW1vdmVUZXh0dXJlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIEtldGNoLnJlbW92ZVRleHR1cmUodGhpcy5vaWQsIGlkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnN0YXJ0TG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fbG9hZGVyQnVmZmVyLCBmdW5jdGlvbiAoaXRlbSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5sb2FkTWVzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuRW52aXJvbm1lbnQoY29uZmlnLmJhY2tncm91bmQpO1xyXG4gICAgICAgICAgICBzZWxmLlByb2dyYW0oY29uZmlnLnR5cGVTaGFkZXIpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMoc2VsZi5fb2lkLCBTY2VuZUdyYXBoLkFUVFJJQlVURVMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5VTklGT1JNUyk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrLmluaXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZVdpdGhMb2FkZXIgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnN0YXJ0TG9hZGVyKGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGguVU5JRk9STVMgPSBbXHJcbiAgICAgICAgICAgICd1UE1hdHJpeCcsXHJcbiAgICAgICAgICAgICd1TVZNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU5NYXRyaXgnLFxyXG4gICAgICAgICAgICBcInVMaWdodFBvc2l0aW9uXCIsXHJcbiAgICAgICAgICAgICd1TGlnaHREaXJlY3Rpb24nLFxyXG4gICAgICAgICAgICBcInVDdXRPZmZcIixcclxuICAgICAgICAgICAgJ3VMaWdodEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsQW1iaWVudCcsXHJcbiAgICAgICAgICAgICd1TGlnaHREaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbERpZmZ1c2UnLFxyXG4gICAgICAgICAgICAndUxpZ2h0U3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsU3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndVNoaW5pbmVzcycsXHJcbiAgICAgICAgICAgICd1UG9pbnRTaXplJyxcclxuICAgICAgICAgICAgXCJ1U2FtcGxlclwiLFxyXG4gICAgICAgICAgICBcInVXaXJlZnJhbWVcIixcclxuICAgICAgICAgICAgXCJ1UGVyVmVydGV4Q29sb3JcIixcclxuICAgICAgICAgICAgXCJ1U2VsZWN0Q29sb3JcIixcclxuICAgICAgICAgICAgXCJ1T2Zmc2NyZWVuXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIFNjZW5lR3JhcGguQVRUUklCVVRFUyA9IFsnYV9wb3NpdGlvbicsICdhX25vcm1hbCcsIFwiYV9jb2xvclwiXTtcclxuICAgICAgICByZXR1cm4gU2NlbmVHcmFwaDtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2NlbmVHcmFwaCA9IFNjZW5lR3JhcGg7XHJcbn0pKEJsYXplIHx8IChCbGF6ZSA9IHt9KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
