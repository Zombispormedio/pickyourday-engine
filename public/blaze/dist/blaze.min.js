var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Blaze;!function(t){var e;!function(t){function e(t){for(var e=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=0;r<i.length;++r){try{e=t.getContext(i[r])}catch(n){}if(e)break}return null===e?(alert("Could not initialise WebGL"),null):(e.viewportWidth=t.width,e.viewportHeight=t.height,e)}function i(e,i,r,n){var o=e.createBuffer();switch(e.bindBuffer(e.ARRAY_BUFFER,o),n){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ARRAY_BUFFER,null),r?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function r(e,i,r){var n=e.createBuffer(e.ELEMENT_ARRAY_BUFFER);switch(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),r){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),n.itemSize=1,n.numItems=i.length,n}function n(t,e){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),i}function o(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)}function a(t,e){var i=o(t,t.FRAGMENT_SHADER,e.fragment),r=o(t,t.VERTEX_SHADER,e.vertex),n=t.createProgram();return t.attachShader(n,r),t.attachShader(n,i),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||console.log(t.getProgramInfoLog(n)),t.useProgram(n),n}t.getGLContext=e,function(t){t[t.STATIC=0]="STATIC",t[t.STREAM=1]="STREAM",t[t.DYNAMIC=2]="DYNAMIC"}(t.BUFFER_DRAW||(t.BUFFER_DRAW={}));t.BUFFER_DRAW;t.createBuffer=i,t.createIndexBuffer=r,t.createTexture=n,t.createShader=o,t.createProgram=a}(e=t.WebGLUtils||(t.WebGLUtils={}));var i;!function(t){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(t){var i=e()+e();return t?t+i:i}function r(t){return t.map(function(t){return Number.isNaN(t)&&(t=0),t})}function n(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",function(){e(i.responseText)}),i.send()}function o(t){var e=t.split(".");return e[e.length-1]}function a(){return(new Date).getTime()}function s(t){return t*Math.PI/180}function u(t,e){for(var i=0,r=1,n=2,o=[],a=0;a<t.length;a++)o[a]=0;for(var a=0;a<e.length;a+=3){var s=[],u=[],c=[];s[i]=t[3*e[a+1]+i]-t[3*e[a]+i],s[r]=t[3*e[a+1]+r]-t[3*e[a]+r],s[n]=t[3*e[a+1]+n]-t[3*e[a]+n],u[i]=t[3*e[a+2]+i]-t[3*e[a+1]+i],u[r]=t[3*e[a+2]+r]-t[3*e[a+1]+r],u[n]=t[3*e[a+2]+n]-t[3*e[a+1]+n],c[i]=s[r]*u[n]-s[n]*u[r],c[r]=s[n]*u[i]-s[i]*u[n],c[n]=s[i]*u[r]-s[r]*u[i];for(var f=0;3>f;f++)o[3*e[a+f]+i]=o[3*e[a+f]+i]+c[i],o[3*e[a+f]+r]=o[3*e[a+f]+r]+c[r],o[3*e[a+f]+n]=o[3*e[a+f]+n]+c[n]}for(var a=0;a<t.length;a+=3){var h=[];h[i]=o[a+i],h[r]=o[a+r],h[n]=o[a+n];var l=Math.sqrt(h[i]*h[i]+h[r]*h[r]+h[n]*h[n]);0==l&&(l=1e-5),h[i]=h[i]/l,h[r]=h[r]/l,h[n]=h[n]/l,o[a+i]=h[i],o[a+r]=h[r],o[a+n]=h[n]}return o}t.s4=e,t.uuid=i,t.normalizeNaN=r,t.load=n,t.getExtension=o,t.nowInMilliseconds=a,t.degToRad=s,t.calculateNormals=u}(i=t.utils||(t.utils={})),function(t){t[t.ORBITING=0]="ORBITING",t[t.TRACKING=1]="TRACKING"}(t.CAMERA_TYPE||(t.CAMERA_TYPE={}));var r=t.CAMERA_TYPE,n=function(){function t(){}return t.setCanvasToContext=function(i,r){var n=e.getGLContext(r);t.setContext(i,n)},t.setContext=function(e,i){t._views[e].context=i},t.getContext=function(e){return t._views[e].context},t.createProgram=function(i,r){var n=t.getContext(i),o=e.createProgram(n,r);t.setProgram(i,o)},t.setProgram=function(e,i){t._views[e].program=i},t.getProgram=function(e){return t._views[e].program},t.createView=function(e){t._views[e]={}},t.setAttributeLocations=function(e,i){var r=t._views[e],n=r.context,o=r.program;r.attribs=i.reduce(function(t,e){return t[e]=n.getAttribLocation(o,e),t},{})},t.getAttrib=function(e,i){return t._views[e].attribs[i]},t.getUniform=function(e,i){return t._views[e].uniforms[i]},t.setUniformLocations=function(e,i){var r=t._views[e],n=r.context,o=r.program;r.uniforms=i.reduce(function(t,e){return t[e]=n.getUniformLocation(o,e),t},{})},t.enableAttrib=function(e,i,r){var n=t.getAttrib(e,i),o=t.getContext(e);o.enableVertexAttribArray(n),r?o.vertexAttribPointer(n,r.size||3,o.FLOAT,r.normalized||!1,r.stride||0,r.offset||0):o.vertexAttribPointer(n,3,o.FLOAT,!1,0,0)},t.disableAttrib=function(e,i){var r=t.getAttrib(e,i),n=t.getContext(e);n.disableVertexAttribArray(r)},t.renderLoop=function(t){setInterval(t,500)},t.addTexture=function(e,i){var r=t._views[e];r.textures=r.textures||[],r.textures.push(i)},t.activeTexture=function(e,i,r){var n=t._views[e],o=n.context,a=(n.program,n.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,r);var s=t.getUniform(e,"uSampler");o.uniform1i(s,a)}},t._views={},t}();t.Ketch=n;var o=function(){function t(t){this._graph_id=t}return Object.defineProperty(t.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return n.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"program",{get:function(){return n.getProgram(this.graphID)},enumerable:!0,configurable:!0}),t.prototype.getUniform=function(t){return n.getUniform(this.graphID,t)},t}();t.Renderable=o;var a=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.beginDraw=function(t){},e.prototype.endDraw=function(t){},e}(o);t.Entity=a;var s=function(t){function e(e){t.call(this,e),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(e,t),e.prototype.push=function(){var t=mat4.create();mat4.set(this._mvMatrix,t),this._stack.push(t)},e.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},e.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(e.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._camera=t},enumerable:!0,configurable:!0}),e.prototype.Perspective=function(){var t=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,t.viewportWidth/t.viewportHeight,.1,1e3,this._pMatrix)},e.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},e.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},e.prototype.setUp=function(){var t=this.gl;this.Normal();var e=this.getUniform("uMVMatrix");e&&t.uniformMatrix4fv(e,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&t.uniformMatrix4fv(i,!1,this._pMatrix);var r=this.getUniform("uNMatrix");r&&t.uniformMatrix4fv(r,!1,this._nMatrix)},e}(o);t.MatrixStack=s;var u;!function(t){var r=function(t){function r(e){t.call(this,e)}return __extends(r,t),Object.defineProperty(r.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"src",{set:function(t){var e=this,r=this,n=i.getExtension(t);i.load(t,function(t){var i;switch(n){case"obj":i=r.parseOBJ(t);break;case"json":i=r.parseJSON(t)}r.createBuffers(i),e._onload&&e._onload()})},enumerable:!0,configurable:!0}),r.prototype.parseJSON=function(t){var e={};try{e=JSON.parse(t)}catch(i){console.log(i)}return e},r.prototype.parseOBJ=function(t){var e={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=t.split("\n"),r=i.filter(function(t){return"v"===t[0]}),n=i.filter(function(t){return"f"===t[0]});r.forEach(function(t){var i=t.replace("\r","").split(" "),r=i[0];e[r]=e[r].concat(i.slice(1).filter(function(t){return""!==t}))});var o=[];return n.forEach(function(t){var e=t.replace("\r","").replace("f","").split(" ");o=o.concat(e.slice(1).filter(function(t){return""!==t}))}),o.forEach(function(t){var i=t.split("/");e.iv.push(parseInt(i[0])-1),e["in"].push(parseInt(i[1])-1),e.it.push(parseInt(i[2])-1)}),e},r.prototype.createBuffers=function(t){function r(t){return e.createBuffer(o,t)}function n(t){return e.createIndexBuffer(o,t)}var o=this.gl;_.defaults(t,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),t.v.length>0&&(this._vbo=r(t.v)),t.v.length>0&&t.iv.length>0&&(this._nbo=r(i.calculateNormals(t.v,t.iv))),t.vt.length>0&&(this._tbo=e.createBuffer(o,t.vt,!0)),t.iv.length>0&&(this._ivbo=n(t.iv)),t["in"].length>0&&(this._inbo=n(t["in"])),t.it.length>0&&(this._itbo=n(t.it))},Object.defineProperty(r.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),r}(o);t.MeshBuffers=r;var a=function(t){function r(e){t.call(this,e),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(r,t),Object.defineProperty(r.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"src",{set:function(t){this._image.onload=this.loadTextureImage(this._onload),this._image.src=t},enumerable:!0,configurable:!0}),r.prototype.loadTextureImage=function(t){var i=this,r=this;return function(){i._texture=e.createTexture(r.gl,r._image),n.addTexture(r.graphID,r._oid),t&&t()}},Object.defineProperty(r.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),r}(o);t.MeshTexture=a;var s=function(t){function e(e,i,r,n,o){t.call(this,e),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=r?vec4.create(r):void 0,this._specular=n?vec4.create(n):vec4.create(),this._shininess=o||200}return __extends(e,t),Object.defineProperty(e.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{set:function(t){var e=this,r=this;i.load(t,function(t){var i=r.parse(t);e._ambient=i.Ka,e._diffuse=i.Kd,e._specular=i.Ks,e.shininess=i.Ns,e._onload&&e._onload()})},enumerable:!0,configurable:!0}),e.prototype.parse=function(t){var e={},i=["Ka","Kd","Ks","Ns"],r=t.split("\n");return r.forEach(function(t){var r=t.split(" "),n=r[0];if(i.indexOf(n)>-1)switch(n){case"Ns":e.Ns=Number(r[1]);break;default:var o=r.slice(1).map(function(t){return Number(t)});o.push(1),e[n]=o}}),e},Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shininess",{get:function(){return this._shininess},set:function(t){this._shininess=t},enumerable:!0,configurable:!0}),e}(o);t.MeshMaterial=s}(u=t.Resources||(t.Resources={}));var c;!function(t){var e=function(){function t(){}return t.Main="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\n\nuniform bool uWireframe;\nuniform vec4 uWireframeColor;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\n\nvoid main(){\n\nif(uWireframe){\n          gl_FragColor =uWireframeColor;\n        \n        }else{\n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        }\n    }\n\n\n",t}();t.Fragment=e;var i=function(){function t(){}return t.Main="attribute vec3 a_position;\nattribute vec3 a_normal;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n      if (!uWireframe) {\n   vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n   vEyeVec=-vec3(vertex.xyz);   \n   }\n  gl_Position =uPMatrix * vertex;\n\n}\n\n\n",t}();t.Vertex=i}(c=t.Shaders||(t.Shaders={}));var f=function(t){function e(e,i,r,n){t.call(this,e),this._frequency=i,this._interval_id=null,this._callback=n}return __extends(e,t),e.prototype.onFrame=function(){if(e.ElapseTime=i.nowInMilliseconds(),!(e.ElapseTime<5)){for(var t=Math.floor(e.ElapseTime/this._frequency);t>0&&e.Count!=this._times;)this._callback(),t--,e.Count++;e.Count===this._times&&this.stop()}},e.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},e.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},e.prototype.beginDraw=function(){},e.prototype.endDraw=function(){},e.Count=0,e}(a);t.AnimationEntity=f;var h=function(t){function e(e,i,r,n){t.call(this,e),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=r||null,this._texturefile=n||null}return __extends(e,t),e.prototype.loadBuffers=function(t,e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=e,this._buffers.src=t},e.prototype.loadTexture=function(t,e){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=e,this._texture.src=t},Object.defineProperty(e.prototype,"material",{set:function(t){this._material=t},enumerable:!0,configurable:!0}),e.prototype.loadMaterial=function(t,e){this._material=new u.MeshMaterial(this.graphID),this._material.onload=e,this._material.src=t},e.prototype.loadMesh=function(t){var e=this,i=this;async.waterfall([function(t){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),t()})):t()},function(t){return e._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),t()})):t()},function(t){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),t()})):t()}],function(e){return e?console.log(e):void(t&&t())})},e.prototype.loadMeshByObject=function(t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(t)},e.prototype.loadMaterialByObject=function(t){this._material=new u.MeshMaterial(this.graphID),t.ambient&&(this._material.ambient=t.ambient),t.specular&&(this._material.specular=t.specular),t.diffuse&&(this._material.diffuse=t.diffuse),t.shininess&&(this._material.shininess=t.shininess)},e.prototype.setWireFrame=function(t,e){this._wireframe=t,this._wireframe&&(this._wireframeColor=e)},e.prototype.WireFrame=function(){var t=this.gl,e=this.getUniform("uWireframe");if(e&&t.uniform1i(e,this._wireframe),this._wireframe){var i=this.getUniform("uWireframeColor");i&&t.uniform4fv(i,this._wireframeColor)}},e.prototype.setMaterialUniforms=function(){if(this._material){var t=this.gl;if(this._material.ambient){var e=this.getUniform("uMaterialAmbient");e&&t.uniform4fv(e,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var r=this.getUniform("uMaterialSpecular");r&&t.uniform4fv(r,this._material.specular)}if(this._material.shininess){var n=this.getUniform("uShininess");n&&t.uniform1f(n,this._material.shininess)}}},e.prototype.beginDraw=function(){var t=this.gl;this.setMaterialUniforms(),this.WireFrame(),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.vbo),n.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.nbo),n.enableAttrib(this.graphID,"a_normal");var e=this._buffers.ivbo;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.drawElements(t.TRIANGLES,e.numItems,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl;n.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.MeshEntity=h;var l=function(t){function e(e,i,r,n){t.call(this,e),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=r||vec3.create([1,1,1]),this._rotation=n||{angle:0,axis:vec3.create()}}return __extends(e,t),e.prototype.identity=function(){mat4.identity(this._matrix)},e.prototype.setMatrix=function(t){this._matrix=t},e.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),e.prototype.setAbsolutePosition=function(t,e,i){this._position=[t,e,i]},e.prototype.translate=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._position,n=vec3.create([t,e,i]);vec3.add(r,n,this._position)},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),e.prototype.setSize=function(t,e,i){this._size=[t,e,i]},e.prototype.scale=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._size,n=vec3.create([t,e,i]);vec3.add(r,n,this._size)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t},enumerable:!0,configurable:!0}),e.prototype.setRotation=function(t,e){t&&(this._rotation.angle=t),e&&(this._rotation.axis=e)},e.prototype.setAngle=function(t){this._rotation.angle=t},e.prototype.setAxis=function(t){this._rotation.axis=t},e.prototype.rotateAngle=function(t){void 0===t&&(t=0),this._rotation.angle+=t},e.prototype.moveAxis=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._rotation.axis,n=vec3.create([t,e,i]);vec3.add(r,n,this._rotation.axis)},e.prototype.beginDraw=function(t){if(t.push(),t.ModelView(),this._matrix=t.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var e=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,e,this._rotation.axis)}t.setUp()},e.prototype.endDraw=function(t){t.pop()},e}(a);t.TransformEntity=l;var p=function(t){function e(e,i,r,n,o,a,s){t.call(this,e),this._ambient=i?vec4.create(i):null,this._diffuse=r?vec4.create(r):null,this._position=n?vec4.create(n):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(e,t),Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._diffuse},set:function(t){this._position=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutOff",{get:function(){return this._cutoff},set:function(t){this._cutoff=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl;if(this._ambient){var e=this.getUniform("uLightAmbient");e&&t.uniform4fv(e,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&t.uniform4fv(i,this._diffuse)}if(this._specular){var r=this.getUniform("uLightSpecular");r&&t.uniform4fv(r,this._specular)}if(this._position){var n=this.getUniform("uLightPosition");n&&t.uniform3fv(n,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&t.uniform3fv(o,this._direction)}},e.prototype.endDraw=function(){},e}(a);t.LightEntity=p;var d=function(t){function e(e,i){t.call(this,e),this._value=i}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uMaterialDiffuse");e&&t.uniform4fv(e,this._value)},e.prototype.endDraw=function(){},e}(a);t.DiffuseEntity=d;var v=function(t){function e(e,i){t.call(this,e),this._type=i||r.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(e,t),Object.defineProperty(e.prototype,"type",{set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"azimuth",{get:function(){return this._azimuth},set:function(t){var e=t-this._azimuth;this.changeAzimuth(e)},enumerable:!0,configurable:!0}),e.prototype.changeAzimuth=function(t){this._azimuth+=t,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(e.prototype,"elevation",{get:function(){return this._elevation},set:function(t){var e=t-this._elevation;this.changeElevation(e)},enumerable:!0,configurable:!0}),e.prototype.changeElevation=function(t){this._elevation+=t,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(e.prototype,"zoom",{get:function(){return this._steps},set:function(t){var e=vec3.create(),i=vec3.create();e=this.position;var n=t-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===r.TRACKING?(o[0]=e[0]-n*i[0],o[1]=e[1]-n*i[1],o[2]=e[2]-n*i[2]):(o[0]=e[0],o[1]=e[1],o[2]=e[2]-n),this.position=o,this._steps=t},enumerable:!0,configurable:!0}),e.prototype.calculateOrientation=function(){var t=this._cmatrix;mat4.multiplyVec4(t,[1,0,0,0],this._right),mat4.multiplyVec4(t,[0,1,0,0],this._up),mat4.multiplyVec4(t,[0,0,1,0],this._normal)},e.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===r.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===r.TRACKING&&mat4.multiplyVec4(m,[0,0,0,1],this._position)},Object.defineProperty(e.prototype,"modelView",{get:function(){var t=mat4.create();return mat4.inverse(this._cmatrix,t),t},enumerable:!0,configurable:!0}),e.prototype.endDraw=function(){},e}(a);t.CameraEntity=v;var g=function(){function t(t,e,r){this._parentNode=t,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=e,this._oid=i.uuid(this._type||this.constructor.name),this._entity=r}return Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"entity",{get:function(){return this._entity},set:function(t){this._entity=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),t.prototype.addChildNode=function(t){this._childNodes.push(t)},t.prototype.removeChildNode=function(t){var e=this.indexOf(t);e>-1&&this._childNodes.splice(e,1)},t.prototype.getChildNodeByIndex=function(t){return this._childNodes[t]||void 0},t.prototype.existsChildNode=function(t){return void 0!==this._childNodes[t]},t.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},t.prototype.createChildNode=function(e,i){return new t(this,e,i)},t.prototype.isRoot=function(){return void 0===this._parentNode},t.prototype.indexOf=function(t){var e=t.oid;return _.findIndex(this._childNodes,function(t){return t.oid===e})},t.prototype.indexInParent=function(){var t=-1;return this.isRoot()||(t=this._parentNode.indexOf(this)),t},t.prototype.hasSibling=function(t){var e=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(t?this._parentNode.getChildNodeByIndex(i-1)&&(e=!0):this._parentNode.getChildNodeByIndex(i+1)&&(e=!0))}return e},t.prototype.nextSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling()){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e+1)}return t},t.prototype.previousSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling(!0)){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e-1)}return t},t.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},t.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},t.prototype.removeChildNodes=function(){this._childNodes=[]},t.prototype.draw=function(t){this._entity&&this._entity.beginDraw(t);for(var e=0;e<this._childNodes.length;e++){var i=this._childNodes[e];i.draw(t)}this._entity&&this._entity.endDraw(t)},t}();t.NodeElement=g;var b=function(t){function e(){var e=i.uuid();t.call(this,e),this._oid=e,this._scene=new g(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],this._isDrawing=!1,n.createView(this._oid)}return __extends(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDrawing",{get:function(){return this._isDrawing},enumerable:!0,configurable:!0}),e.prototype.Environment=function(){var t=this.gl;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.clearColor(0,0,0,1),t.clearDepth(1)},e.prototype.draw=function(){var t=this.gl;this._isDrawing=!0,t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this._scene.draw(this._matrixStack),this._isDrawing=!1},e.prototype.createMainChildNode=function(t,e){return this._scene.createChildNode(t,e)},e.prototype.removeMainChildNode=function(t){this._scene.removeChildNode(t)},Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),e.prototype.setContext=function(t){n.setCanvasToContext(this.oid,t)},e.prototype.Program=function(){n.createProgram(this._oid,{fragment:c.Fragment.Main,vertex:c.Vertex.Main})},e.prototype.createMesh=function(t){var e=new h(this.oid);if(t.mesh&&e.loadMeshByObject(t.mesh),t.material&&e.loadMaterialByObject(t.material),t.wireframe){var i=t.wireframe;e.setWireFrame(i.is,i.color)}return e},e.prototype.createDiffuse=function(t){return new d(this.oid,t)},e.prototype.createMeshByLoader=function(t){var e=new h(this.oid,t.mesh,t.material,t.texture);return this._loaderBuffer.push(e),e},e.prototype.createTransform=function(t,e,i){return new l(this.oid,t,e,i)},e.prototype.createLight=function(t){return new p(this.oid,t.ambient,t.diffuse,t.position,t.specular,t.direction,t.cutoff)},e.prototype.createCamera=function(t){return new v(this.oid,t)},Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._matrixStack.MainCamera=t},enumerable:!0,configurable:!0}),e.prototype.startLoader=function(t){async.eachSeries(this._loaderBuffer,function(t,e){t.loadMesh(function(){console.log(t),e()})},t)},e.prototype.configure=function(){var t=this;t.Environment(),t.Program(),n.setAttributeLocations(t._oid,e.ATTRIBUTES),n.setUniformLocations(t._oid,e.UNIFORMS),this._matrixStack.init()},e.prototype.configureWithLoader=function(t){var e=this;e.configure(),e.startLoader(t)},e.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightDirection","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uWireframe","uWireframeColor"],e.ATTRIBUTES=["a_position","a_normal"],e}(o);t.SceneGraph=b}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSX01JUE1BUF9ORUFSRVNUIiwiZ2VuZXJhdGVNaXBtYXAiLCJjcmVhdGVTaGFkZXIiLCJ0eXBlIiwic2hhZGVyU291cmNlIiwic2hhZGVyIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiY29uc29sZSIsImxvZyIsImdldFNoYWRlckluZm9Mb2ciLCJjcmVhdGVQcm9ncmFtIiwic2hhZGVycyIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiZnJhZ21lbnQiLCJ2ZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwidmVydGV4IiwicHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1c2VQcm9ncmFtIiwidXRpbHMiLCJzNCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwidXVpZCIsIm5hbWUiLCJpZCIsIm5vcm1hbGl6ZU5hTiIsInZlYyIsIm1hcCIsImEiLCJOdW1iZXIiLCJpc05hTiIsImxvYWQiLCJ1cmwiLCJjYWxsYmFjayIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJhZGRFdmVudExpc3RlbmVyIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsImdldEV4dGVuc2lvbiIsInN0ciIsImVsZW1zIiwic3BsaXQiLCJub3dJbk1pbGxpc2Vjb25kcyIsIkRhdGUiLCJnZXRUaW1lIiwiZGVnVG9SYWQiLCJQSSIsImNhbGN1bGF0ZU5vcm1hbHMiLCJ2cyIsImluZCIsIngiLCJ5IiwieiIsIm5zIiwidjEiLCJ2MiIsIm5vcm1hbCIsImoiLCJubiIsImxlbiIsInNxcnQiLCJDQU1FUkFfVFlQRSIsIktldGNoIiwic2V0Q2FudmFzVG9Db250ZXh0Iiwia2V5IiwiY29udGV4dCIsInNldENvbnRleHQiLCJfdmlld3MiLCJzZXRQcm9ncmFtIiwiZ2V0UHJvZ3JhbSIsImNyZWF0ZVZpZXciLCJzZXRBdHRyaWJ1dGVMb2NhdGlvbnMiLCJhdHRyaWJzX25hbWVzIiwidmlldyIsInByZyIsImF0dHJpYnMiLCJyZWR1Y2UiLCJwcmV2IiwiYXR0ciIsImdldEF0dHJpYkxvY2F0aW9uIiwiZ2V0QXR0cmliIiwidmlld19rZXkiLCJhdHRyX2tleSIsImdldFVuaWZvcm0iLCJ1bmlmb3JtX2tleSIsInVuaWZvcm1zIiwic2V0VW5pZm9ybUxvY2F0aW9ucyIsInVuaWZvcm1fbmFtZXMiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJlbmFibGVBdHRyaWIiLCJwb2ludGVyIiwiaW5kZXgiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJzaXplIiwiRkxPQVQiLCJub3JtYWxpemVkIiwic3RyaWRlIiwib2Zmc2V0IiwiZGlzYWJsZUF0dHJpYiIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInJlbmRlckxvb3AiLCJjYiIsInNldEludGVydmFsIiwiYWRkVGV4dHVyZSIsInRleHR1cmVfaWQiLCJ0ZXh0dXJlcyIsInB1c2giLCJhY3RpdmVUZXh0dXJlIiwiaW5kZXhPZiIsIlRFWFRVUkUwIiwidVNhbXBsZXIiLCJ1bmlmb3JtMWkiLCJSZW5kZXJhYmxlIiwiZ3JhcGhfaWQiLCJfZ3JhcGhfaWQiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJncmFwaElEIiwiRW50aXR5IiwiX3N1cGVyIiwiY2FsbCIsImJlZ2luRHJhdyIsIm1hdHJpeFN0YWNrIiwiZW5kRHJhdyIsIk1hdHJpeFN0YWNrIiwiX3N0YWNrIiwiX212TWF0cml4IiwibWF0NCIsIl9wTWF0cml4IiwiX25NYXRyaXgiLCJjb3B5Iiwic2V0IiwicG9wIiwiTW9kZWxWaWV3IiwiX2NhbWVyYSIsIm1vZGVsVmlldyIsImlkZW50aXR5IiwiY2FtZXJhIiwiUGVyc3BlY3RpdmUiLCJwZXJzcGVjdGl2ZSIsIk5vcm1hbCIsImludmVyc2UiLCJ0cmFuc3Bvc2UiLCJpbml0Iiwic2V0VXAiLCJtdk1hdHJpeCIsInVuaWZvcm1NYXRyaXg0ZnYiLCJwTWF0cml4Iiwibk1hdHJpeCIsIlJlc291cmNlcyIsIk1lc2hCdWZmZXJzIiwiX29ubG9hZCIsInNyYyIsIl90aGlzIiwic2VsZiIsImV4dCIsIm9iaiIsInBhcnNlT0JKIiwicGFyc2VKU09OIiwiY3JlYXRlQnVmZmVycyIsIkpTT04iLCJwYXJzZSIsInYiLCJ2biIsInZ0IiwiaXYiLCJpbiIsIml0IiwibGluZXMiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiaXRlbSIsInJlcGxhY2UiLCJjb25jYXQiLCJzbGljZSIsInRlbXBJbmRleCIsInBhcnNlSW50IiwiXyIsImRlZmF1bHRzIiwiX3ZibyIsIl9uYm8iLCJfdGJvIiwiX2l2Ym8iLCJfaW5ibyIsIl9pdGJvIiwiTWVzaFRleHR1cmUiLCJfaW1hZ2UiLCJJbWFnZSIsIl9vaWQiLCJmaWxlbmFtZSIsIm9ubG9hZCIsImxvYWRUZXh0dXJlSW1hZ2UiLCJfdGV4dHVyZSIsIk1lc2hNYXRlcmlhbCIsImFtYmllbnQiLCJkaWZmdXNlIiwic3BlY3VsYXIiLCJzaGluaW5lc3MiLCJfYW1iaWVudCIsInZlYzQiLCJfZGlmZnVzZSIsIl9zcGVjdWxhciIsIl9zaGluaW5lc3MiLCJ0ZW1wIiwiS2EiLCJLZCIsIktzIiwiTnMiLCJrZXlzIiwibGluZSIsIlNoYWRlcnMiLCJGcmFnbWVudCIsIk1haW4iLCJWZXJ0ZXgiLCJBbmltYXRpb25FbnRpdHkiLCJmcmVxdWVuY3kiLCJ0aW1lcyIsIl9mcmVxdWVuY3kiLCJfaW50ZXJ2YWxfaWQiLCJfY2FsbGJhY2siLCJvbkZyYW1lIiwiRWxhcHNlVGltZSIsInN0ZXBzIiwiQ291bnQiLCJfdGltZXMiLCJzdG9wIiwic3RhcnQiLCJfaW50aW1lIiwiY2xlYXJJbnRlcnZhbCIsIk1lc2hFbnRpdHkiLCJtZXNoZmlsZSIsIm1hdGVyaWFsZmlsZSIsInRleHR1cmVmaWxlIiwiX21hdGVyaWFsIiwiX2J1ZmZlcnMiLCJfbWVzaGZpbGUiLCJfbWF0ZXJpYWxmaWxlIiwiX3RleHR1cmVmaWxlIiwibG9hZEJ1ZmZlcnMiLCJsb2FkVGV4dHVyZSIsImxvYWRNYXRlcmlhbCIsImxvYWRNZXNoIiwiYXN5bmMiLCJ3YXRlcmZhbGwiLCJuZXh0IiwiZXJyIiwibG9hZE1lc2hCeU9iamVjdCIsImxvYWRNYXRlcmlhbEJ5T2JqZWN0Iiwic2V0V2lyZUZyYW1lIiwiaXNfd2lyZWZyYW1lIiwiY29sb3IiLCJfd2lyZWZyYW1lIiwiX3dpcmVmcmFtZUNvbG9yIiwiV2lyZUZyYW1lIiwidVdpcmVmcmFtZSIsInVXaXJlZnJhbWVDb2xvciIsInVuaWZvcm00ZnYiLCJzZXRNYXRlcmlhbFVuaWZvcm1zIiwidU1hdGVyaWFsQW1iaWVudCIsInVNYXRlcmlhbERpZmZ1c2UiLCJ1TWF0ZXJpYWxTcGVjdWxhciIsInVTaGluaW5lc3MiLCJ1bmlmb3JtMWYiLCJ2Ym8iLCJuYm8iLCJpdmJvIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwiVU5TSUdORURfU0hPUlQiLCJUcmFuc2Zvcm1FbnRpdHkiLCJwb3NpdGlvbiIsInJvdGF0aW9uIiwiX21hdHJpeCIsIl9wb3NpdGlvbiIsInZlYzMiLCJfc2l6ZSIsIl9yb3RhdGlvbiIsImFuZ2xlIiwiYXhpcyIsInNldE1hdHJpeCIsIm5ld19tYXRyaXgiLCJzZXRBYnNvbHV0ZVBvc2l0aW9uIiwidHJhbnNsYXRlIiwib3BlcmFuZDEiLCJvcGVyYW5kMiIsImFkZCIsInNldFNpemUiLCJzY2FsZSIsInNldFJvdGF0aW9uIiwic2V0QW5nbGUiLCJzZXRBeGlzIiwicm90YXRlQW5nbGUiLCJtb3ZlQXhpcyIsInJhZCIsInJvdGF0ZSIsIkxpZ2h0RW50aXR5IiwiZGlyZWN0aW9uIiwiY3V0b2ZmIiwiX2RpcmVjdGlvbiIsIl9jdXRvZmYiLCJ1TGlnaHRBbWJpZW50IiwidUxpZ2h0RGlmZnVzZSIsInVMaWdodFNwZWN1bGFyIiwidUxpZ2h0UG9zaXRpb24iLCJ1bmlmb3JtM2Z2IiwidURpcmVjdGlvbiIsIkRpZmZ1c2VFbnRpdHkiLCJfdmFsdWUiLCJDYW1lcmFFbnRpdHkiLCJfdHlwZSIsIk9SQklUSU5HIiwiX2NtYXRyaXgiLCJfdXAiLCJfcmlnaHQiLCJfbm9ybWFsIiwiX2F6aW11dGgiLCJfZWxldmF0aW9uIiwiX3N0ZXBzIiwicG9zIiwiYXoiLCJ0ZW1wX2F6IiwiY2hhbmdlQXppbXV0aCIsImVsIiwidGVtcF9lbCIsImNoYW5nZUVsZXZhdGlvbiIsIm4iLCJzdGVwIiwibm9ybWFsaXplIiwibmV3X3Bvc2l0aW9uIiwiVFJBQ0tJTkciLCJjYWxjdWxhdGVPcmllbnRhdGlvbiIsIm0iLCJtdWx0aXBseVZlYzQiLCJyb3RhdGVZIiwicm90YXRlWCIsIk5vZGVFbGVtZW50IiwicGFyZW50IiwiZW50aXR5IiwiX3BhcmVudE5vZGUiLCJhZGRDaGlsZE5vZGUiLCJfY2hpbGROb2RlcyIsIl9lbnRpdHkiLCJjaGlsZCIsInJlbW92ZUNoaWxkTm9kZSIsInNwbGljZSIsImdldENoaWxkTm9kZUJ5SW5kZXgiLCJleGlzdHNDaGlsZE5vZGUiLCJjcmVhdGVDaGlsZE5vZGUiLCJpc1Jvb3QiLCJvaWQiLCJmaW5kSW5kZXgiLCJzIiwiaW5kZXhJblBhcmVudCIsImhhc1NpYmxpbmciLCJfaGF2ZSIsIm5leHRTaWJsaW5nIiwic2libGluZyIsInByZXZpb3VzU2libGluZyIsImZpcnN0Q2hpbGQiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZE5vZGVzIiwiZHJhdyIsIlNjZW5lR3JhcGgiLCJfc2NlbmUiLCJfbWF0cml4U3RhY2siLCJfbG9hZGVyQnVmZmVyIiwiX2lzRHJhd2luZyIsIkVudmlyb25tZW50IiwiZW5hYmxlIiwiREVQVEhfVEVTVCIsImRlcHRoRnVuYyIsIkxFUVVBTCIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsImNsZWFyQ29sb3IiLCJjbGVhckRlcHRoIiwidmlld3BvcnQiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlTWFpbkNoaWxkTm9kZSIsInJlbW92ZU1haW5DaGlsZE5vZGUiLCJub2RlIiwiUHJvZ3JhbSIsImNyZWF0ZU1lc2giLCJjb25maWciLCJtZXNoRW50aXR5IiwibWVzaCIsIm1hdGVyaWFsIiwid2lyZWZyYW1lIiwiaXMiLCJjcmVhdGVEaWZmdXNlIiwiY3JlYXRlTWVzaEJ5TG9hZGVyIiwiY3JlYXRlVHJhbnNmb3JtIiwiY3JlYXRlTGlnaHQiLCJjcmVhdGVDYW1lcmEiLCJNYWluQ2FtZXJhIiwic3RhcnRMb2FkZXIiLCJlYWNoU2VyaWVzIiwiY29uZmlndXJlIiwiQVRUUklCVVRFUyIsIlVOSUZPUk1TIiwiY29uZmlndXJlV2l0aExvYWRlciJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsV0FBYUMsTUFBUUEsS0FBS0QsV0FBYyxTQUFVRSxFQUFHQyxHQUVyRCxRQUFTQyxLQUFPSCxLQUFLSSxZQUFjSCxFQURuQyxJQUFLLEdBQUlJLEtBQUtILEdBQU9BLEVBQUVJLGVBQWVELEtBQUlKLEVBQUVJLEdBQUtILEVBQUVHLEdBRW5ESixHQUFFTSxVQUFrQixPQUFOTCxFQUFhTSxPQUFPQyxPQUFPUCxJQUFNQyxFQUFHSSxVQUFZTCxFQUFFSyxVQUFXLEdBQUlKLEtBRS9FTyxPQUNKLFNBQVdBLEdBQ1AsR0FBSUMsSUFDSixTQUFXQSxHQUNQLFFBQVNDLEdBQWFDLEdBR2xCLElBQUssR0FGREMsR0FBTSxLQUNOQyxHQUFTLFFBQVMscUJBQXNCLFlBQWEsYUFDaERDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsU0FBVUQsRUFBRyxDQUNuQyxJQUNJRixFQUFNRCxFQUFPSyxXQUFXSCxFQUFNQyxJQUVsQyxNQUFPRyxJQUNQLEdBQUlMLEVBQ0EsTUFHUixNQUFZLFFBQVJBLEdBQ0FNLE1BQU0sOEJBQ0MsT0FHUE4sRUFBSU8sY0FBZ0JSLEVBQU9TLE1BQzNCUixFQUFJUyxlQUFpQlYsRUFBT1csT0FDckJWLEdBVWYsUUFBU1csR0FBYUMsRUFBSUMsRUFBTUMsRUFBTUMsR0FDbEMsR0FBSUMsR0FBU0osRUFBR0QsY0FFaEIsUUFEQUMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY0YsR0FDdkJELEdBQ0osSUFBS2xCLEdBQVdzQixZQUFZQyxPQUN4QlIsRUFBR1MsV0FBV1QsRUFBR00sYUFBYyxHQUFJSSxjQUFhVCxHQUFPRCxF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QnNGLEVBQUtrQyxLQUFNOEssRUFBVzBDLFlBQ2xEelYsRUFBTXdCLG9CQUFvQnVFLEVBQUtrQyxLQUFNOEssRUFBVzJDLFVBQ2hEamUsS0FBS3diLGFBQWE3TixRQUV0QjJOLEVBQVcvYSxVQUFVMmQsb0JBQXNCLFNBQVVuVCxHQUNqRCxHQUFJdUQsR0FBT3RPLElBQ1hzTyxHQUFLeVAsWUFDTHpQLEVBQUt1UCxZQUFZOVMsSUFFckJ1USxFQUFXMkMsVUFDUCxXQUNBLFlBQ0EsV0FDQSxrQkFDQSxnQkFDQSxtQkFDQSxnQkFDQSxtQkFDQSxpQkFDQSxvQkFDQSxhQUNBLGFBQ0EsbUJBRUozQyxFQUFXMEMsWUFBYyxhQUFjLFlBQ2hDMUMsR0FDVDVQLEVBQ0ZoTCxHQUFNNGEsV0FBYUEsR0FDcEI1YSxRQUFVQSIsImZpbGUiOiJibGF6ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBCbGF6ZTtcclxuKGZ1bmN0aW9uIChCbGF6ZSkge1xyXG4gICAgdmFyIFdlYkdMVXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKFdlYkdMVXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBnZXRHTENvbnRleHQoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBbXCJ3ZWJnbFwiLCBcImV4cGVyaW1lbnRhbC13ZWJnbFwiLCBcIndlYmtpdC0zZFwiLCBcIm1vei13ZWJnbFwiXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN0eCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgaW5pdGlhbGlzZSBXZWJHTFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0V2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjdHgudmlld3BvcnRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmdldEdMQ29udGV4dCA9IGdldEdMQ29udGV4dDtcclxuICAgICAgICAoZnVuY3Rpb24gKEJVRkZFUl9EUkFXKSB7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiU1RBVElDXCJdID0gMF0gPSBcIlNUQVRJQ1wiO1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUUkVBTVwiXSA9IDFdID0gXCJTVFJFQU1cIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJEWU5BTUlDXCJdID0gMl0gPSBcIkRZTkFNSUNcIjtcclxuICAgICAgICB9KShXZWJHTFV0aWxzLkJVRkZFUl9EUkFXIHx8IChXZWJHTFV0aWxzLkJVRkZFUl9EUkFXID0ge30pKTtcclxuICAgICAgICB2YXIgQlVGRkVSX0RSQVcgPSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihnbCwgZGF0YSwgaXMyRCwgdHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuRFlOQU1JQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpZiAoaXMyRCkge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLml0ZW1TaXplID0gMjtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDM7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIgPSBjcmVhdGVCdWZmZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUUkVBTTpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5pdGVtU2l6ZSA9IDE7XHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleEJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVJbmRleEJ1ZmZlciA9IGNyZWF0ZUluZGV4QnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGRhdGEpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7XHJcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmU7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsLCB0eXBlLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICAgICAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcclxuICAgICAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlU2hhZGVyID0gY3JlYXRlU2hhZGVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2wsIHNoYWRlcnMpIHtcclxuICAgICAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHNoYWRlcnMuZnJhZ21lbnQpO1xyXG4gICAgICAgICAgICB2YXIgdmVydGV4U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCBzaGFkZXJzLnZlcnRleCk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICAgICAgICAgICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgICAgICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XHJcbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9ncmFtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZVByb2dyYW0gPSBjcmVhdGVQcm9ncmFtO1xyXG4gICAgfSkoV2ViR0xVdGlscyA9IEJsYXplLldlYkdMVXRpbHMgfHwgKEJsYXplLldlYkdMVXRpbHMgPSB7fSkpO1xyXG4gICAgdmFyIHV0aWxzO1xyXG4gICAgKGZ1bmN0aW9uICh1dGlscykge1xyXG4gICAgICAgIGZ1bmN0aW9uIHM0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMClcclxuICAgICAgICAgICAgICAgIC50b1N0cmluZygxNilcclxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnM0ID0gczQ7XHJcbiAgICAgICAgZnVuY3Rpb24gdXVpZChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHM0KCkgKyBzNCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZSA/IG5hbWUgKyBpZCA6IGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy51dWlkID0gdXVpZDtcclxuICAgICAgICBmdW5jdGlvbiBub3JtYWxpemVOYU4odmVjKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWMubWFwKGZ1bmN0aW9uIChhKSB7IGlmIChOdW1iZXIuaXNOYU4oYSkpXHJcbiAgICAgICAgICAgICAgICBhID0gMDsgcmV0dXJuIGE7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5ub3JtYWxpemVOYU4gPSBub3JtYWxpemVOYU47XHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZCh1cmwsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmxvYWQgPSBsb2FkO1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEV4dGVuc2lvbihzdHIpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1zID0gc3RyLnNwbGl0KFwiLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1zW2VsZW1zLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5nZXRFeHRlbnNpb24gPSBnZXRFeHRlbnNpb247XHJcbiAgICAgICAgZnVuY3Rpb24gbm93SW5NaWxsaXNlY29uZHMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcyA9IG5vd0luTWlsbGlzZWNvbmRzO1xyXG4gICAgICAgIGZ1bmN0aW9uIGRlZ1RvUmFkKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5kZWdUb1JhZCA9IGRlZ1RvUmFkO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU5vcm1hbHModnMsIGluZCkge1xyXG4gICAgICAgICAgICB2YXIgeCA9IDA7XHJcbiAgICAgICAgICAgIHZhciB5ID0gMTtcclxuICAgICAgICAgICAgdmFyIHogPSAyO1xyXG4gICAgICAgICAgICB2YXIgbnMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbnNbaV0gPSAwLjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmQubGVuZ3RoOyBpID0gaSArIDMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2MSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHYyID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsID0gW107XHJcbiAgICAgICAgICAgICAgICAvL3AxIC0gcDBcclxuICAgICAgICAgICAgICAgIHYxW3hdID0gdnNbMyAqIGluZFtpICsgMV0gKyB4XSAtIHZzWzMgKiBpbmRbaV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYxW3ldID0gdnNbMyAqIGluZFtpICsgMV0gKyB5XSAtIHZzWzMgKiBpbmRbaV0gKyB5XTtcclxuICAgICAgICAgICAgICAgIHYxW3pdID0gdnNbMyAqIGluZFtpICsgMV0gKyB6XSAtIHZzWzMgKiBpbmRbaV0gKyB6XTtcclxuICAgICAgICAgICAgICAgIC8vIHAwIC0gcDFcclxuICAgICAgICAgICAgICAgIHYyW3hdID0gdnNbMyAqIGluZFtpICsgMl0gKyB4XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeF07XHJcbiAgICAgICAgICAgICAgICB2Mlt5XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgeV0gLSB2c1szICogaW5kW2kgKyAxXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjJbel0gPSB2c1szICogaW5kW2kgKyAyXSArIHpdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB6XTtcclxuICAgICAgICAgICAgICAgIC8vcDIgLSBwMVxyXG4gICAgICAgICAgICAgICAgLy8gdjFbeF0gPSB2c1szKmluZFtpKzJdK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3ldID0gdnNbMyppbmRbaSsyXSt5XSAtIHZzWzMqaW5kW2krMV0reV07XHJcbiAgICAgICAgICAgICAgICAvLyB2MVt6XSA9IHZzWzMqaW5kW2krMl0rel0gLSB2c1szKmluZFtpKzFdK3pdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgLy8gdjJbeF0gPSB2c1szKmluZFtpXSt4XSAtIHZzWzMqaW5kW2krMV0reF07XHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt5XSA9IHZzWzMqaW5kW2ldK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3pdID0gdnNbMyppbmRbaV0rel0gLSB2c1szKmluZFtpKzFdK3pdO1xyXG4gICAgICAgICAgICAgICAgLy9jcm9zcyBwcm9kdWN0IGJ5IFNhcnJ1cyBSdWxlXHJcbiAgICAgICAgICAgICAgICBub3JtYWxbeF0gPSB2MVt5XSAqIHYyW3pdIC0gdjFbel0gKiB2Mlt5XTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt5XSA9IHYxW3pdICogdjJbeF0gLSB2MVt4XSAqIHYyW3pdO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3pdID0gdjFbeF0gKiB2Mlt5XSAtIHYxW3ldICogdjJbeF07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt4XSArPSBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt5XSArPSBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt6XSArPSBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgeF0gPSBuc1szICogaW5kW2kgKyBqXSArIHhdICsgbm9ybWFsW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgeV0gPSBuc1szICogaW5kW2kgKyBqXSArIHldICsgbm9ybWFsW3ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgel0gPSBuc1szICogaW5kW2kgKyBqXSArIHpdICsgbm9ybWFsW3pdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vbm9ybWFsaXplIHRoZSByZXN1bHRcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2cy5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5uID0gW107XHJcbiAgICAgICAgICAgICAgICBublt4XSA9IG5zW2kgKyB4XTtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbnNbaSArIHldO1xyXG4gICAgICAgICAgICAgICAgbm5bel0gPSBuc1tpICsgel07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gTWF0aC5zcXJ0KChublt4XSAqIG5uW3hdKSArIChublt5XSAqIG5uW3ldKSArIChublt6XSAqIG5uW3pdKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gMC4wMDAwMTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbm5beF0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt5XSA9IG5uW3ldIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbm5bel0gPSBublt6XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB4XSA9IG5uW3hdO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHldID0gbm5beV07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgel0gPSBublt6XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmNhbGN1bGF0ZU5vcm1hbHMgPSBjYWxjdWxhdGVOb3JtYWxzO1xyXG4gICAgfSkodXRpbHMgPSBCbGF6ZS51dGlscyB8fCAoQmxhemUudXRpbHMgPSB7fSkpO1xyXG4gICAgKGZ1bmN0aW9uIChDQU1FUkFfVFlQRSkge1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiT1JCSVRJTkdcIl0gPSAwXSA9IFwiT1JCSVRJTkdcIjtcclxuICAgICAgICBDQU1FUkFfVFlQRVtDQU1FUkFfVFlQRVtcIlRSQUNLSU5HXCJdID0gMV0gPSBcIlRSQUNLSU5HXCI7XHJcbiAgICB9KShCbGF6ZS5DQU1FUkFfVFlQRSB8fCAoQmxhemUuQ0FNRVJBX1RZUEUgPSB7fSkpO1xyXG4gICAgdmFyIENBTUVSQV9UWVBFID0gQmxhemUuQ0FNRVJBX1RZUEU7XHJcbiAgICB2YXIgS2V0Y2ggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEtldGNoKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBLZXRjaC5zZXRDYW52YXNUb0NvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjYW52YXMpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBXZWJHTFV0aWxzLmdldEdMQ29udGV4dChjYW52YXMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRDb250ZXh0KGtleSwgY29udGV4dCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGtleSwgY29udGV4dCkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XS5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nba2V5XS5jb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY3JlYXRlUHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHNoYWRlcnMpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dChrZXkpO1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldFByb2dyYW0oa2V5LCBwcm9ncmFtKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldFByb2dyYW0gPSBmdW5jdGlvbiAoa2V5LCBwcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLnByb2dyYW0gPSBwcm9ncmFtO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLnByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XSA9IHt9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zID0gZnVuY3Rpb24gKGtleSwgYXR0cmlic19uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZpZXcuYXR0cmlicyA9IGF0dHJpYnNfbmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2W2F0dHJdID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJnLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLmF0dHJpYnNbYXR0cl9rZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uICh2aWV3X2tleSwgdW5pZm9ybV9rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0udW5pZm9ybXNbdW5pZm9ybV9rZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyA9IGZ1bmN0aW9uIChrZXksIHVuaWZvcm1fbmFtZXMpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2aWV3LnVuaWZvcm1zID0gdW5pZm9ybV9uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHByZXZbYXR0cl0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5LCBwb2ludGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IEtldGNoLmdldEF0dHJpYih2aWV3X2tleSwgYXR0cl9rZXkpO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KHZpZXdfa2V5KTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgcG9pbnRlci5zaXplIHx8IDMsIGdsLkZMT0FULCBwb2ludGVyLm5vcm1hbGl6ZWQgfHwgZmFsc2UsIHBvaW50ZXIuc3RyaWRlIHx8IDAsIHBvaW50ZXIub2Zmc2V0IHx8IDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXkpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gS2V0Y2guZ2V0QXR0cmliKHZpZXdfa2V5LCBhdHRyX2tleSk7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQodmlld19rZXkpO1xyXG4gICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2gucmVuZGVyTG9vcCA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChjYiwgNTAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFkZFRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMgPSB2aWV3LnRleHR1cmVzIHx8IFtdO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzLnB1c2godGV4dHVyZV9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5hY3RpdmVUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCwgdGV4dHVyZSkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZpZXcudGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlX2lkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoaW5kZXggPT09IDAgPyBnbC5URVhUVVJFMCA6IGdsLlRFWFRVUkUwICsgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdVNhbXBsZXIgPSBLZXRjaC5nZXRVbmlmb3JtKGtleSwgXCJ1U2FtcGxlclwiKTtcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1U2FtcGxlciwgaW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5fdmlld3MgPSB7fTtcclxuICAgICAgICByZXR1cm4gS2V0Y2g7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuS2V0Y2ggPSBLZXRjaDtcclxuICAgIHZhciBSZW5kZXJhYmxlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBSZW5kZXJhYmxlKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2dyYXBoX2lkID0gZ3JhcGhfaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJhYmxlLnByb3RvdHlwZSwgXCJncmFwaElEXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ3JhcGhfaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJhYmxlLnByb3RvdHlwZSwgXCJnbFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldENvbnRleHQodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcInByb2dyYW1cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRQcm9ncmFtKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFJlbmRlcmFibGUucHJvdG90eXBlLmdldFVuaWZvcm0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRVbmlmb3JtKHRoaXMuZ3JhcGhJRCwga2V5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBSZW5kZXJhYmxlO1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLlJlbmRlcmFibGUgPSBSZW5kZXJhYmxlO1xyXG4gICAgdmFyIEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBFbnRpdHkoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRW50aXR5O1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5FbnRpdHkgPSBFbnRpdHk7XHJcbiAgICB2YXIgTWF0cml4U3RhY2sgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhNYXRyaXhTdGFjaywgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBNYXRyaXhTdGFjayhncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcE1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX25NYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNvcHkgPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICBtYXQ0LnNldCh0aGlzLl9tdk1hdHJpeCwgY29weSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YWNrLnB1c2goY29weSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhY2subGVuZ3RoID09IDApXHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcImludmFsaWQgcG9wTWF0cml4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gdGhpcy5fc3RhY2sucG9wKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuTW9kZWxWaWV3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tdk1hdHJpeCA9IHRoaXMuX2NhbWVyYS5tb2RlbFZpZXc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX212TWF0cml4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJtdk1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX212TWF0cml4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcInBNYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wTWF0cml4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIm5NYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uTWF0cml4O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIk1haW5DYW1lcmFcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbWVyYSA9IGNhbWVyYTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLlBlcnNwZWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LnBlcnNwZWN0aXZlKDQ1LCBnbC52aWV3cG9ydFdpZHRoIC8gZ2wudmlld3BvcnRIZWlnaHQsIDAuMSwgMTAwMC4wLCB0aGlzLl9wTWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5Ob3JtYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQuc2V0KHRoaXMuX212TWF0cml4LCB0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5pbnZlcnNlKHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LnRyYW5zcG9zZSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLk1vZGVsVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLlBlcnNwZWN0aXZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuTm9ybWFsKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuc2V0VXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuTm9ybWFsKCk7XHJcbiAgICAgICAgICAgIHZhciBtdk1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVNVk1hdHJpeFwiKTtcclxuICAgICAgICAgICAgaWYgKG12TWF0cml4KVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihtdk1hdHJpeCwgZmFsc2UsIHRoaXMuX212TWF0cml4KTtcclxuICAgICAgICAgICAgdmFyIHBNYXRyaXggPSB0aGlzLmdldFVuaWZvcm0oXCJ1UE1hdHJpeFwiKTtcclxuICAgICAgICAgICAgaWYgKHBNYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KHBNYXRyaXgsIGZhbHNlLCB0aGlzLl9wTWF0cml4KTtcclxuICAgICAgICAgICAgdmFyIG5NYXRyaXggPSB0aGlzLmdldFVuaWZvcm0oXCJ1Tk1hdHJpeFwiKTtcclxuICAgICAgICAgICAgaWYgKG5NYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KG5NYXRyaXgsIGZhbHNlLCB0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBNYXRyaXhTdGFjaztcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuTWF0cml4U3RhY2sgPSBNYXRyaXhTdGFjaztcclxuICAgIHZhciBSZXNvdXJjZXM7XHJcbiAgICAoZnVuY3Rpb24gKFJlc291cmNlcykge1xyXG4gICAgICAgIHZhciBNZXNoQnVmZmVycyA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoQnVmZmVycywgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaEJ1ZmZlcnMoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIm9ubG9hZFwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwic3JjXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBleHQgPSB1dGlscy5nZXRFeHRlbnNpb24oc3JjKTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlscy5sb2FkKHNyYywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJvYmpcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBzZWxmLnBhcnNlT0JKKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBzZWxmLnBhcnNlSlNPTihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZUJ1ZmZlcnMob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vbmxvYWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb25sb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLnBhcnNlSlNPTiA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9iaiA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLnBhcnNlT0JKID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdm46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZ0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaW46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0OiBbXVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmVydGV4ID0gbGluZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gPT09ICd2JztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gbGluZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gPT09ICdmJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmVydGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnJlcGxhY2UoXCJcXHJcIiwgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBlbGVtc1swXTtcclxuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IG9ialtrZXldLmNvbmNhdChlbGVtcy5zbGljZSgxKS5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgIT09IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcEluZGV4ID0gW107XHJcbiAgICAgICAgICAgICAgICBpbmRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gaXRlbS5yZXBsYWNlKFwiXFxyXCIsIFwiXCIpLnJlcGxhY2UoXCJmXCIsIFwiXCIpLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wSW5kZXggPSB0ZW1wSW5kZXguY29uY2F0KGVsZW1zLnNsaWNlKDEpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAhPT0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRlbXBJbmRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gaXRlbS5zcGxpdChcIi9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLml2LnB1c2gocGFyc2VJbnQoZWxlbXNbMF0pIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLmluLnB1c2gocGFyc2VJbnQoZWxlbXNbMV0pIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqLml0LnB1c2gocGFyc2VJbnQoZWxlbXNbMl0pIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE1lc2hCdWZmZXJzLnByb3RvdHlwZS5jcmVhdGVCdWZmZXJzID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgICAgIF8uZGVmYXVsdHMob2JqLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdm46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZ0OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaW46IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl0OiBbXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVCdWZmZXIoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJHTFV0aWxzLmNyZWF0ZUJ1ZmZlcihnbCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnYubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92Ym8gPSBjcmVhdGVCdWZmZXIob2JqLnYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai52Lmxlbmd0aCA+IDAgJiYgb2JqLml2Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9uYm8gPSBjcmVhdGVCdWZmZXIodXRpbHMuY2FsY3VsYXRlTm9ybWFscyhvYmoudiwgb2JqLml2KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnZ0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90Ym8gPSBXZWJHTFV0aWxzLmNyZWF0ZUJ1ZmZlcihnbCwgb2JqLnZ0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4QnVmZmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV2ViR0xVdGlscy5jcmVhdGVJbmRleEJ1ZmZlcihnbCwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLml2Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXZibyA9IGNyZWF0ZUluZGV4QnVmZmVyKG9iai5pdik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLmluLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5ibyA9IGNyZWF0ZUluZGV4QnVmZmVyKG9iai5pbik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLml0Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRibyA9IGNyZWF0ZUluZGV4QnVmZmVyKG9iai5pdCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwidmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJuYm9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25ibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcInRib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaXZib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXZibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcImluYm9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2luYm87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpdGJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoQnVmZmVycztcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnMgPSBNZXNoQnVmZmVycztcclxuICAgICAgICB2YXIgTWVzaFRleHR1cmUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICBfX2V4dGVuZHMoTWVzaFRleHR1cmUsIF9zdXBlcik7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1lc2hUZXh0dXJlKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fb2lkID0gdXRpbHMudXVpZCh0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoVGV4dHVyZS5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZmlsZW5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbWFnZS5vbmxvYWQgPSB0aGlzLmxvYWRUZXh0dXJlSW1hZ2UodGhpcy5fb25sb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoVGV4dHVyZS5wcm90b3R5cGUubG9hZFRleHR1cmVJbWFnZSA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3RleHR1cmUgPSBXZWJHTFV0aWxzLmNyZWF0ZVRleHR1cmUoc2VsZi5nbCwgc2VsZi5faW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIEtldGNoLmFkZFRleHR1cmUoc2VsZi5ncmFwaElELCBzZWxmLl9vaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYilcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoVGV4dHVyZS5wcm90b3R5cGUsIFwiY29udGVudFwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gTWVzaFRleHR1cmU7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hUZXh0dXJlID0gTWVzaFRleHR1cmU7XHJcbiAgICAgICAgdmFyIE1lc2hNYXRlcmlhbCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoTWF0ZXJpYWwsIF9zdXBlcik7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1lc2hNYXRlcmlhbChncmFwaF9pZCwgYW1iaWVudCwgZGlmZnVzZSwgc3BlY3VsYXIsIHNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IGFtYmllbnQgPyB2ZWM0LmNyZWF0ZShhbWJpZW50KSA6IHZlYzQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gZGlmZnVzZSA/IHZlYzQuY3JlYXRlKGRpZmZ1c2UpIDogdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSBzcGVjdWxhciA/IHZlYzQuY3JlYXRlKHNwZWN1bGFyKSA6IHZlYzQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSBzaGluaW5lc3MgfHwgMjAwLjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic3JjXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHNlbGYucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9hbWJpZW50ID0gdGVtcC5LYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RpZmZ1c2UgPSB0ZW1wLktkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3BlY3VsYXIgPSB0ZW1wLktzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaGluaW5lc3MgPSB0ZW1wLk5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gW1wiS2FcIiwgXCJLZFwiLCBcIktzXCIsIFwiTnNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSBkYXRhLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGxpbmUuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBlbGVtc1swXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5pbmRleE9mKGtleSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5zXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW1wiTnNcIl0gPSBOdW1iZXIoZWxlbXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZWxlbXMuc2xpY2UoMSkubWFwKGZ1bmN0aW9uIChhKSB7IHJldHVybiBOdW1iZXIoYSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaCgxLjApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiYW1iaWVudFwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW1iaWVudDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShhbWJpZW50KSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiZGlmZnVzZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShkaWZmdXNlKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic3BlY3VsYXJcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWN1bGFyO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoc3BlY3VsYXIpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzaGluaW5lc3NcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoaW5pbmVzcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hpbmluZXNzID0gdjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoTWF0ZXJpYWwgPSBNZXNoTWF0ZXJpYWw7XHJcbiAgICB9KShSZXNvdXJjZXMgPSBCbGF6ZS5SZXNvdXJjZXMgfHwgKEJsYXplLlJlc291cmNlcyA9IHt9KSk7XHJcbiAgICB2YXIgU2hhZGVycztcclxuICAgIChmdW5jdGlvbiAoU2hhZGVycykge1xyXG4gICAgICAgIHZhciBGcmFnbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEZyYWdtZW50KCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEZyYWdtZW50Lk1haW4gPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdVNoaW5pbmVzcztcXG51bmlmb3JtIHZlYzMgdUxpZ2h0RGlyZWN0aW9uO1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TGlnaHREaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TGlnaHRTcGVjdWxhcjtcXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsU3BlY3VsYXI7XFxuXFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSB2ZWM0IHVXaXJlZnJhbWVDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG5cXG52b2lkIG1haW4oKXtcXG5cXG5pZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID11V2lyZWZyYW1lQ29sb3I7XFxuICAgICAgICBcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgdmVjMyBMPSBub3JtYWxpemUodUxpZ2h0RGlyZWN0aW9uKTtcXG4gICAgICAgIHZlYzMgTj0gbm9ybWFsaXplKHZOb3JtYWwpO1xcbiAgICAgICAgZmxvYXQgbGFtYmVydFRlcm09ZG90KE4sIC1MKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJYT0gdUxpZ2h0QW1iaWVudCp1TWF0ZXJpYWxBbWJpZW50O1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElkPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJcz12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIGlmKGxhbWJlcnRUZXJtPjAuMClcXG4gICAgICAgIHtcXG4gICAgICAgICAgICBJZD11TGlnaHREaWZmdXNlKnVNYXRlcmlhbERpZmZ1c2UqbGFtYmVydFRlcm07XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdmVjMyBFPSBub3JtYWxpemUodkV5ZVZlYyk7XFxuICAgICAgICAgICAgdmVjMyBSPSByZWZsZWN0KEwsIE4pO1xcbiAgICAgICAgICAgIGZsb2F0IHNwZWN1bGFyPXBvdyhtYXgoZG90KFIsRSksMC4wKSwgdVNoaW5pbmVzcyk7XFxuICAgICAgICAgICAgSXM9dUxpZ2h0U3BlY3VsYXIqdU1hdGVyaWFsU3BlY3VsYXIqc3BlY3VsYXI7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgZmluYWxDb2xvcj1JYStJZCtJcztcXG4gICAgICAgIGZpbmFsQ29sb3IuYT0xLjA7XFxuICAgIFxcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID1maW5hbENvbG9yO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBGcmFnbWVudDtcclxuICAgICAgICB9KCkpO1xyXG4gICAgICAgIFNoYWRlcnMuRnJhZ21lbnQgPSBGcmFnbWVudDtcclxuICAgICAgICB2YXIgVmVydGV4ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gVmVydGV4KCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFZlcnRleC5NYWluID0gXCJhdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFfbm9ybWFsO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Tk1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgdmVjNCB2ZXJ0ZXggPSB1TVZNYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuICAgICAgaWYgKCF1V2lyZWZyYW1lKSB7XFxuICAgdk5vcm1hbCA9IHZlYzModU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKTtcXG4gICB2RXllVmVjPS12ZWMzKHZlcnRleC54eXopOyAgIFxcbiAgIH1cXG4gIGdsX1Bvc2l0aW9uID11UE1hdHJpeCAqIHZlcnRleDtcXG5cXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBWZXJ0ZXg7XHJcbiAgICAgICAgfSgpKTtcclxuICAgICAgICBTaGFkZXJzLlZlcnRleCA9IFZlcnRleDtcclxuICAgIH0pKFNoYWRlcnMgPSBCbGF6ZS5TaGFkZXJzIHx8IChCbGF6ZS5TaGFkZXJzID0ge30pKTtcclxuICAgIHZhciBBbmltYXRpb25FbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhBbmltYXRpb25FbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uRW50aXR5KGdyYXBoX2lkLCBmcmVxdWVuY3ksIHRpbWVzLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTtcclxuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLm9uRnJhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lID0gdXRpbHMubm93SW5NaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgaWYgKEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lIDwgNSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIHN0ZXBzID0gTWF0aC5mbG9vcihBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSAvIHRoaXMuX2ZyZXF1ZW5jeSk7XHJcbiAgICAgICAgICAgIHdoaWxlICgoc3RlcHMgPiAwKSAmJiAoQW5pbWF0aW9uRW50aXR5LkNvdW50ICE9IHRoaXMuX3RpbWVzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIHN0ZXBzLS07XHJcbiAgICAgICAgICAgICAgICBBbmltYXRpb25FbnRpdHkuQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoQW5pbWF0aW9uRW50aXR5LkNvdW50ID09PSB0aGlzLl90aW1lcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGltZSA9IHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsX2lkID0gc2V0SW50ZXJ2YWwodGhpcy5vbkZyYW1lLCB0aGlzLl9mcmVxdWVuY3kgLyAxMDAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsX2lkKVxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbF9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5Db3VudCA9IDA7XHJcbiAgICAgICAgcmV0dXJuIEFuaW1hdGlvbkVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5BbmltYXRpb25FbnRpdHkgPSBBbmltYXRpb25FbnRpdHk7XHJcbiAgICB2YXIgTWVzaEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1lc2hFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTWVzaEVudGl0eShncmFwaF9pZCwgbWVzaGZpbGUsIG1hdGVyaWFsZmlsZSwgdGV4dHVyZWZpbGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbWVzaGZpbGUgPSBtZXNoZmlsZSB8fCBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbGZpbGUgPSBtYXRlcmlhbGZpbGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZWZpbGUgPSB0ZXh0dXJlZmlsZSB8fCBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkQnVmZmVycyA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnModGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRUZXh0dXJlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbmV3IFJlc291cmNlcy5NZXNoVGV4dHVyZSh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hFbnRpdHkucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWF0ZXJpYWwgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbmV3IFJlc291cmNlcy5NZXNoTWF0ZXJpYWwodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1lc2ggPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBhc3luYy53YXRlcmZhbGwoW1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuX21lc2hmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBCdWZmZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZEJ1ZmZlcnMoc2VsZi5fbWVzaGZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgQnVmZmVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fdGV4dHVyZWZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIFRleHR1cmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkVGV4dHVyZShzZWxmLl90ZXh0dXJlZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuX21hdGVyaWFsZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgTWF0ZXJpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkTWF0ZXJpYWwoc2VsZi5fbWF0ZXJpYWxmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIE1hdGVyaWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2IpXHJcbiAgICAgICAgICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWVzaEJ5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbmV3IFJlc291cmNlcy5NZXNoQnVmZmVycyh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLmNyZWF0ZUJ1ZmZlcnMob2JqKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNYXRlcmlhbEJ5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIGlmIChvYmouYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuYW1iaWVudCA9IG9iai5hbWJpZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyID0gb2JqLnNwZWN1bGFyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSA9IG9iai5kaWZmdXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MgPSBvYmouc2hpbmluZXNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5zZXRXaXJlRnJhbWUgPSBmdW5jdGlvbiAoaXNfd2lyZWZyYW1lLCBjb2xvcikge1xyXG4gICAgICAgICAgICB0aGlzLl93aXJlZnJhbWUgPSBpc193aXJlZnJhbWU7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl93aXJlZnJhbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dpcmVmcmFtZUNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLldpcmVGcmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCB0aGlzLl93aXJlZnJhbWUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fd2lyZWZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdVdpcmVmcmFtZUNvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZUNvbG9yXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWVDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVXaXJlZnJhbWVDb2xvciwgdGhpcy5fd2lyZWZyYW1lQ29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5zZXRNYXRlcmlhbFVuaWZvcm1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxBbWJpZW50ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsQW1iaWVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsQW1iaWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxBbWJpZW50LCB0aGlzLl9tYXRlcmlhbC5hbWJpZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbFNwZWN1bGFyID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsU3BlY3VsYXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbFNwZWN1bGFyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbFNwZWN1bGFyLCB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVTaGluaW5lc3MgPSB0aGlzLmdldFVuaWZvcm0oXCJ1U2hpbmluZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1U2hpbmluZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodVNoaW5pbmVzcywgdGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLnNldE1hdGVyaWFsVW5pZm9ybXMoKTtcclxuICAgICAgICAgICAgdGhpcy5XaXJlRnJhbWUoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMudmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVycy5uYm8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfbm9ybWFsXCIpO1xyXG4gICAgICAgICAgICB2YXIgaXZibyA9IHRoaXMuX2J1ZmZlcnMuaXZibztcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaXZibyk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGl2Ym8ubnVtSXRlbXMsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTWVzaEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5NZXNoRW50aXR5ID0gTWVzaEVudGl0eTtcclxuICAgIHZhciBUcmFuc2Zvcm1FbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhUcmFuc2Zvcm1FbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNmb3JtRW50aXR5KGdyYXBoX2lkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplIHx8IHZlYzMuY3JlYXRlKFsxLCAxLCAxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb24gfHwgeyBhbmdsZTogMCwgYXhpczogdmVjMy5jcmVhdGUoKSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldE1hdHJpeCA9IGZ1bmN0aW9uIChuZXdfbWF0cml4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG5ld19tYXRyaXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnRyYW5zcG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC50cmFuc3Bvc2UodGhpcy5fbWF0cml4LCB0aGlzLl9tYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QWJzb2x1dGVQb3NpdGlvbiA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gW3gsIHksIHpdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJzaXplXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBbeCwgeSwgel07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9zaXplKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gKGFuZ2xlLCBheGlzKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmdsZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgICAgIGlmIChheGlzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYXhpcyA9IGF4aXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEFuZ2xlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEF4aXMgPSBmdW5jdGlvbiAoYXhpcykge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5heGlzID0gYXhpcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUucm90YXRlQW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlICs9IGFuZ2xlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5tb3ZlQXhpcyA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3JvdGF0aW9uLmF4aXM7XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fcm90YXRpb24uYXhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5wdXNoKCk7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLk1vZGVsVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXhTdGFjay5tdk1hdHJpeDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uICE9IHZvaWQgMClcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2l6ZSAhPSB2b2lkIDApXHJcbiAgICAgICAgICAgICAgICBtYXQ0LnNjYWxlKHRoaXMuX21hdHJpeCwgdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPSB2b2lkIDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByYWQgPSB0aGlzLl9yb3RhdGlvbi5hbmdsZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZSh0aGlzLl9tYXRyaXgsIHJhZCwgdGhpcy5fcm90YXRpb24uYXhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF0cml4U3RhY2suc2V0VXAoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBUcmFuc2Zvcm1FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuVHJhbnNmb3JtRW50aXR5ID0gVHJhbnNmb3JtRW50aXR5O1xyXG4gICAgdmFyIExpZ2h0RW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTGlnaHRFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTGlnaHRFbnRpdHkoZ3JhcGhfaWQsIGFtYmllbnQsIGRpZmZ1c2UsIHBvc2l0aW9uLCBzcGVjdWxhciwgZGlyZWN0aW9uLCBjdXRvZmYpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IGRpZmZ1c2UgPyB2ZWM0LmNyZWF0ZShkaWZmdXNlKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb24gPyB2ZWM0LmNyZWF0ZShwb3NpdGlvbikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uID8gdmVjMy5jcmVhdGUoZGlyZWN0aW9uKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1dG9mZiA9IGN1dG9mZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW1iaWVudDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShhbWJpZW50KSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiZGlmZnVzZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoZGlmZnVzZSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcInNwZWN1bGFyXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzMuY3JlYXRlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiZGlyZWN0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWMzLmNyZWF0ZShkaXJlY3Rpb24pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJjdXRPZmZcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXRvZmY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGN1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3V0b2ZmID0gY3V0b2ZmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBMaWdodEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodEFtYmllbnQgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRBbWJpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRBbWJpZW50LCB0aGlzLl9hbWJpZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHREaWZmdXNlLCB0aGlzLl9kaWZmdXNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodFNwZWN1bGFyKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0U3BlY3VsYXIsIHRoaXMuX3NwZWN1bGFyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRQb3NpdGlvbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodFBvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodUxpZ2h0UG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdURpcmVjdGlvbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodERpcmVjdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1RGlyZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodURpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBpZiAodGhpcy5fY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgICAgICAgdmFyIHVDdXRPZmYgPSB0aGlzLmdldFVuaWZvcm0oXCJ1Q3V0T2ZmXCIpO1xyXG4gICAgICAgICAgICAgICAgIGlmICh1Q3V0T2ZmKVxyXG4gICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodUN1dE9mZiwgdGhpcy5fY3V0b2ZmKTtcclxuICAgICAgICAgICAgIH0qL1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTGlnaHRFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTGlnaHRFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuTGlnaHRFbnRpdHkgPSBMaWdodEVudGl0eTtcclxuICAgIHZhciBEaWZmdXNlRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRGlmZnVzZUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBEaWZmdXNlRW50aXR5KGdyYXBoX2lkLCB2KSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlmZnVzZUVudGl0eS5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBEaWZmdXNlRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIHRoaXMuX3ZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRGlmZnVzZUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5EaWZmdXNlRW50aXR5ID0gRGlmZnVzZUVudGl0eTtcclxuICAgIHZhciBDYW1lcmFFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhDYW1lcmFFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FtZXJhRW50aXR5KGdyYXBoX2lkLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGUgfHwgQ0FNRVJBX1RZUEUuT1JCSVRJTkc7XHJcbiAgICAgICAgICAgIHRoaXMuX2NtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX2NtYXRyaXgpO1xyXG4gICAgICAgICAgICB0aGlzLl91cCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0ID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbm9ybWFsID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9hemltdXRoID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gPSAwLjA7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZXBzID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwidHlwZVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJhemltdXRoXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXppbXV0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYXopIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wX2F6ID0gYXogLSB0aGlzLl9hemltdXRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBemltdXRoKHRlbXBfYXopO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNoYW5nZUF6aW11dGggPSBmdW5jdGlvbiAoYXopIHtcclxuICAgICAgICAgICAgdGhpcy5fYXppbXV0aCArPSBhejtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2F6aW11dGggPiAzNjAgfHwgdGhpcy5fYXppbXV0aCA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2F6aW11dGggPSB0aGlzLl9hemltdXRoICUgMzYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJlbGV2YXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGV2YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcF9lbCA9IGVsIC0gdGhpcy5fZWxldmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VFbGV2YXRpb24odGVtcF9lbCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2hhbmdlRWxldmF0aW9uID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiArPSBlbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VsZXZhdGlvbiA+IDM2MCB8fCB0aGlzLl9lbGV2YXRpb24gPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb24gJSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInpvb21cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGVwcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBwID0gdGhpcy5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIHZhciBzdGVwID0gb2Zmc2V0IC0gdGhpcy5fc3RlcHM7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl9ub3JtYWwsIG4pO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld19wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMF0gPSBwWzBdIC0gc3RlcCAqIG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzFdID0gcFsxXSAtIHN0ZXAgKiBuWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsyXSA9IHBbMl0gLSBzdGVwICogblsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblswXSA9IHBbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzFdID0gcFsxXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMl0gPSBwWzJdIC0gc3RlcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXdfcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGVwcyA9IG9mZnNldDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jYWxjdWxhdGVPcmllbnRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG0gPSB0aGlzLl9jbWF0cml4O1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMSwgMCwgMCwgMF0sIHRoaXMuX3JpZ2h0KTtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzAsIDEsIDAsIDBdLCB0aGlzLl91cCk7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAwLCAxLCAwXSwgdGhpcy5fbm9ybWFsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX2NtYXRyaXgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fY21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVZKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2F6aW11dGggKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWCh0aGlzLl9jbWF0cml4LCB0aGlzLl9lbGV2YXRpb24gKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWSh0aGlzLl9jbWF0cml4LCB0aGlzLl9hemltdXRoICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVgodGhpcy5fY21hdHJpeCwgdGhpcy5fZWxldmF0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9jbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAwLCAwLCAxXSwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJtb2RlbFZpZXdcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIG1hdDQuaW52ZXJzZSh0aGlzLl9jbWF0cml4LCBtKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQ2FtZXJhRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkNhbWVyYUVudGl0eSA9IENhbWVyYUVudGl0eTtcclxuICAgIHZhciBOb2RlRWxlbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gTm9kZUVsZW1lbnQocGFyZW50LCB0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZSA9IHBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlLmFkZENoaWxkTm9kZSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgdGhpcy5fb2lkID0gdXRpbHMudXVpZCh0aGlzLl90eXBlIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJvaWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwicGFyZW50XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJlbnRpdHlcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbnRpdHk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcImNoaWxkTm9kZXNcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuYWRkQ2hpbGROb2RlID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGROb2RlID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihjaGlsZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGROb2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmdldENoaWxkTm9kZUJ5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXNbaW5kZXhdIHx8IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5leGlzdHNDaGlsZE5vZGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXNbaW5kZXhdICE9PSB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlLnJlbW92ZUNoaWxkTm9kZSh0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9kZUVsZW1lbnQodGhpcywgdHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pc1Jvb3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROb2RlID09PSB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgb2lkID0gY2hpbGQub2lkO1xyXG4gICAgICAgICAgICByZXR1cm4gXy5maW5kSW5kZXgodGhpcy5fY2hpbGROb2RlcywgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMub2lkID09PSBvaWQ7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmluZGV4SW5QYXJlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkpXHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmhhc1NpYmxpbmcgPSBmdW5jdGlvbiAocHJldikge1xyXG4gICAgICAgICAgICB2YXIgX2hhdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggLSAxKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggKyAxKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF9oYXZlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLm5leHRTaWJsaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2libGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSAmJiB0aGlzLmhhc1NpYmxpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2libGluZyA9IHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnByZXZpb3VzU2libGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkgJiYgdGhpcy5oYXNTaWJsaW5nKHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5nID0gdGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZmlyc3RDaGlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGROb2RlQnlJbmRleCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5sYXN0Q2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZUJ5SW5kZXgodGhpcy5fY2hpbGROb2Rlcy5sZW5ndGggLSAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZE5vZGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5LmJlZ2luRHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5fY2hpbGROb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIGNoaWxkLmRyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuZW5kRHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTm9kZUVsZW1lbnQ7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuTm9kZUVsZW1lbnQgPSBOb2RlRWxlbWVudDtcclxuICAgIHZhciBTY2VuZUdyYXBoID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2NlbmVHcmFwaCwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTY2VuZUdyYXBoKCkge1xyXG4gICAgICAgICAgICB2YXIgb2lkID0gdXRpbHMudXVpZCgpO1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBvaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9vaWQgPSBvaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lID0gbmV3IE5vZGVFbGVtZW50KHZvaWQgMCwgXCJTY2VuZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4U3RhY2sgPSBuZXcgTWF0cml4U3RhY2sodGhpcy5fb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVWaWV3KHRoaXMuX29pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJzY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwiaXNEcmF3aW5nXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEcmF3aW5nO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5FbnZpcm9ubWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG4gICAgICAgICAgICBnbC5kZXB0aEZ1bmMoZ2wuTEVRVUFMKTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkJMRU5EKTtcclxuICAgICAgICAgICAgZ2wuYmxlbmRGdW5jKGdsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSk7XHJcbiAgICAgICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIHRydWUpO1xyXG4gICAgICAgICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDEpO1xyXG4gICAgICAgICAgICBnbC5jbGVhckRlcHRoKDEuMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RyYXdpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBnbC52aWV3cG9ydFdpZHRoLCBnbC52aWV3cG9ydEhlaWdodCk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcclxuICAgICAgICAgICAgdGhpcy5fc2NlbmUuZHJhdyh0aGlzLl9tYXRyaXhTdGFjayk7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhd2luZyA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWFpbkNoaWxkTm9kZSA9IGZ1bmN0aW9uICh0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lLmNyZWF0ZUNoaWxkTm9kZSh0eXBlLCBlbnRpdHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUucmVtb3ZlTWFpbkNoaWxkTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lLnJlbW92ZUNoaWxkTm9kZShub2RlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJvaWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnNldENvbnRleHQgPSBmdW5jdGlvbiAoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCh0aGlzLm9pZCwgY2FudmFzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLlByb2dyYW0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIEtldGNoLmNyZWF0ZVByb2dyYW0odGhpcy5fb2lkLCB7XHJcbiAgICAgICAgICAgICAgICBmcmFnbWVudDogU2hhZGVycy5GcmFnbWVudC5NYWluLFxyXG4gICAgICAgICAgICAgICAgdmVydGV4OiBTaGFkZXJzLlZlcnRleC5NYWluXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWVzaCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2hFbnRpdHkgPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCk7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWVzaCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5sb2FkTWVzaEJ5T2JqZWN0KGNvbmZpZy5tZXNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNYXRlcmlhbEJ5T2JqZWN0KGNvbmZpZy5tYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbmZpZy53aXJlZnJhbWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aXJlZnJhbWUgPSBjb25maWcud2lyZWZyYW1lO1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5zZXRXaXJlRnJhbWUod2lyZWZyYW1lLmlzLCB3aXJlZnJhbWUuY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoRW50aXR5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlRGlmZnVzZSA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGlmZnVzZUVudGl0eSh0aGlzLm9pZCwgdik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNZXNoQnlMb2FkZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IE1lc2hFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5tZXNoLCBjb25maWcubWF0ZXJpYWwsIGNvbmZpZy50ZXh0dXJlKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyLnB1c2gobWVzaCk7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybUVudGl0eSh0aGlzLm9pZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxpZ2h0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0RW50aXR5KHRoaXMub2lkLCBjb25maWcuYW1iaWVudCwgY29uZmlnLmRpZmZ1c2UsIGNvbmZpZy5wb3NpdGlvbiwgY29uZmlnLnNwZWN1bGFyLCBjb25maWcuZGlyZWN0aW9uLCBjb25maWcuY3V0b2ZmKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUNhbWVyYSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FtZXJhRW50aXR5KHRoaXMub2lkLCB0eXBlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5NYWluQ2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zdGFydExvYWRlciA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2xvYWRlckJ1ZmZlciwgZnVuY3Rpb24gKGl0ZW0sIG5leHQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubG9hZE1lc2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCBjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5FbnZpcm9ubWVudCgpO1xyXG4gICAgICAgICAgICBzZWxmLlByb2dyYW0oKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5BVFRSSUJVVEVTKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyhzZWxmLl9vaWQsIFNjZW5lR3JhcGguVU5JRk9STVMpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5pbml0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmVXaXRoTG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5jb25maWd1cmUoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFydExvYWRlcihjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLlVOSUZPUk1TID0gW1xyXG4gICAgICAgICAgICAndVBNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU1WTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VOTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VMaWdodERpcmVjdGlvbicsXHJcbiAgICAgICAgICAgICd1TGlnaHRBbWJpZW50JyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlmZnVzZScsXHJcbiAgICAgICAgICAgICd1TWF0ZXJpYWxEaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VMaWdodFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VTaGluaW5lc3MnLFxyXG4gICAgICAgICAgICAndVdpcmVmcmFtZScsXHJcbiAgICAgICAgICAgICd1V2lyZWZyYW1lQ29sb3InXHJcbiAgICAgICAgXTtcclxuICAgICAgICBTY2VuZUdyYXBoLkFUVFJJQlVURVMgPSBbJ2FfcG9zaXRpb24nLCAnYV9ub3JtYWwnXTtcclxuICAgICAgICByZXR1cm4gU2NlbmVHcmFwaDtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2NlbmVHcmFwaCA9IFNjZW5lR3JhcGg7XHJcbn0pKEJsYXplIHx8IChCbGF6ZSA9IHt9KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
