var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Blaze;!function(t){var e;!function(t){function e(t){for(var e=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{e=t.getContext(i[n])}catch(r){}if(e)break}return null===e?(alert("Could not initialise WebGL"),null):(e.viewportWidth=t.width,e.viewportHeight=t.height,e)}function i(e,i,n,r){var o=e.createBuffer();switch(e.bindBuffer(e.ARRAY_BUFFER,o),r){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ARRAY_BUFFER,null),n?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function n(e,i,n){var r=e.createBuffer(e.ELEMENT_ARRAY_BUFFER);switch(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),n){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),r.itemSize=1,r.numItems=i.length,r}function r(t,e){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),i}function o(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)}function a(t,e){var i=o(t,t.FRAGMENT_SHADER,e.fragment),n=o(t,t.VERTEX_SHADER,e.vertex),r=t.createProgram();return t.attachShader(r,n),t.attachShader(r,i),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)||alert("No pueden iniciarse los shaders"),t.useProgram(r),r}t.getGLContext=e,function(t){t[t.STATIC=0]="STATIC",t[t.STREAM=1]="STREAM",t[t.DYNAMIC=2]="DYNAMIC"}(t.BUFFER_DRAW||(t.BUFFER_DRAW={}));t.BUFFER_DRAW;t.createBuffer=i,t.createIndexBuffer=n,t.createTexture=r,t.createShader=o,t.createProgram=a}(e=t.WebGLUtils||(t.WebGLUtils={}));var i;!function(t){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(t){var i=e()+e();return t?t+i:i}function n(t){return t.map(function(t){return Number.isNaN(t)&&(t=0),t})}function r(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",function(){e(i.responseText)}),i.send()}function o(t){var e=t.split(".");return e[e.length-1]}function a(){return(new Date).getTime()}function s(t){return t*Math.PI/180}function u(t,e){for(var i=0,n=1,r=2,o=[],a=0;a<t.length;a++)o[a]=0;for(var a=0;a<e.length;a+=3){var s=[],u=[],c=[];s[i]=t[3*e[a+1]+i]-t[3*e[a]+i],s[n]=t[3*e[a+1]+n]-t[3*e[a]+n],s[r]=t[3*e[a+1]+r]-t[3*e[a]+r],u[i]=t[3*e[a+2]+i]-t[3*e[a+1]+i],u[n]=t[3*e[a+2]+n]-t[3*e[a+1]+n],u[r]=t[3*e[a+2]+r]-t[3*e[a+1]+r],c[i]=s[n]*u[r]-s[r]*u[n],c[n]=s[r]*u[i]-s[i]*u[r],c[r]=s[i]*u[n]-s[n]*u[i];for(var f=0;3>f;f++)o[3*e[a+f]+i]=o[3*e[a+f]+i]+c[i],o[3*e[a+f]+n]=o[3*e[a+f]+n]+c[n],o[3*e[a+f]+r]=o[3*e[a+f]+r]+c[r]}for(var a=0;a<t.length;a+=3){var h=[];h[i]=o[a+i],h[n]=o[a+n],h[r]=o[a+r];var l=Math.sqrt(h[i]*h[i]+h[n]*h[n]+h[r]*h[r]);0==l&&(l=1e-5),h[i]=h[i]/l,h[n]=h[n]/l,h[r]=h[r]/l,o[a+i]=h[i],o[a+n]=h[n],o[a+r]=h[r]}return o}t.s4=e,t.uuid=i,t.normalizeNaN=n,t.load=r,t.getExtension=o,t.nowInMilliseconds=a,t.degToRad=s,t.calculateNormals=u}(i=t.utils||(t.utils={})),function(t){t[t.ORBITING=0]="ORBITING",t[t.TRACKING=1]="TRACKING"}(t.CAMERA_TYPE||(t.CAMERA_TYPE={}));var n=t.CAMERA_TYPE,r=function(){function t(){}return t.setCanvasToContext=function(i,n){var r=e.getGLContext(n);t.setContext(i,r)},t.setContext=function(e,i){t._views[e].context=i},t.getContext=function(e){return t._views[e].context},t.createProgram=function(i,n){var r=t.getContext(i),o=e.createProgram(r,n);t.setProgram(i,o)},t.setProgram=function(e,i){t._views[e].program=i},t.getProgram=function(e){return t._views[e].program},t.createView=function(e){t._views[e]={}},t.setAttributeLocations=function(e,i){var n=t._views[e],r=n.context,o=n.program;n.attribs=i.reduce(function(t,e){return t[e]=r.getAttribLocation(o,e),t},{})},t.getAttrib=function(e,i){return t._views[e].attribs[i]},t.getUniform=function(e,i){return t._views[e].uniforms[i]},t.setUniformLocations=function(e,i){var n=t._views[e],r=n.context,o=n.program;n.uniforms=i.reduce(function(t,e){return t[e]=r.getUniformLocation(o,e),t},{})},t.enableAttrib=function(e,i,n){var r=t.getAttrib(e,i),o=t.getContext(e);o.enableVertexAttribArray(r),n?o.vertexAttribPointer(r,n.size||3,o.FLOAT,n.normalized||!1,n.stride||0,n.offset||0):o.vertexAttribPointer(r,3,o.FLOAT,!1,0,0)},t.disableAttrib=function(e,i){var n=t.getAttrib(e,i),r=t.getContext(e);r.disableVertexAttribArray(n)},t.renderLoop=function(t){setInterval(t,500)},t.addTexture=function(e,i){var n=t._views[e];n.textures=n.textures||[],n.textures.push(i)},t.activeTexture=function(e,i,n){var r=t._views[e],o=r.context,a=(r.program,r.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,n);var s=t.getUniform(e,"uSampler");o.uniform1i(s,a)}},t._views={},t}();t.Ketch=r;var o=function(){function t(t){this._graph_id=t}return Object.defineProperty(t.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return r.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"program",{get:function(){return r.getProgram(this.graphID)},enumerable:!0,configurable:!0}),t.prototype.getUniform=function(t){return r.getUniform(this.graphID,t)},t}();t.Renderable=o;var a=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.beginDraw=function(t){},e.prototype.endDraw=function(t){},e}(o);t.Entity=a;var s=function(t){function e(e){t.call(this,e),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(e,t),e.prototype.push=function(){var t=mat4.create();mat4.set(this._mvMatrix,t),this._stack.push(t)},e.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},e.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(e.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._camera=t},enumerable:!0,configurable:!0}),e.prototype.Perspective=function(){var t=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,t.viewportWidth/t.viewportHeight,.1,1e3,this._pMatrix)},e.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},e.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},e.prototype.setUp=function(){var t=this.gl;this.Normal();var e=this.getUniform("uMVMatrix");e&&t.uniformMatrix4fv(e,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&t.uniformMatrix4fv(i,!1,this._pMatrix);var n=this.getUniform("uNMatrix");n&&t.uniformMatrix4fv(n,!1,this._nMatrix)},e}(o);t.MatrixStack=s;var u;!function(t){var n=function(t){function n(e){t.call(this,e)}return __extends(n,t),Object.defineProperty(n.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(t){var e=this,n=this,r=i.getExtension(t);i.load(t,function(t){var i;switch(r){case"obj":i=n.parseOBJ(t);break;case"json":i=n.parseJSON(t)}n.createBuffers(i),e._onload&&e._onload()})},enumerable:!0,configurable:!0}),n.prototype.parseJSON=function(t){var e={};try{e=JSON.parse(t)}catch(i){console.log(i)}return e},n.prototype.parseOBJ=function(t){var e={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=t.split("\n"),n=i.filter(function(t){return"v"===t[0]}),r=i.filter(function(t){return"f"===t[0]});n.forEach(function(t){var i=t.replace("\r","").split(" "),n=i[0];e[n]=e[n].concat(i.slice(1).filter(function(t){return""!==t}))});var o=[];return r.forEach(function(t){var e=t.replace("\r","").replace("f","").split(" ");o=o.concat(e.slice(1).filter(function(t){return""!==t}))}),o.forEach(function(t){var i=t.split("/");e.iv.push(parseInt(i[0])-1),e["in"].push(parseInt(i[1])-1),e.it.push(parseInt(i[2])-1)}),e},n.prototype.createBuffers=function(t){function n(t){return e.createBuffer(o,t)}function r(t){return e.createIndexBuffer(o,t)}var o=this.gl;_.defaults(t,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),t.v.length>0&&(this._vbo=n(t.v)),t.v.length>0&&t.iv.length>0&&(this._nbo=n(i.calculateNormals(t.v,t.iv))),t.vt.length>0&&(this._tbo=e.createBuffer(o,t.vt,!0)),t.iv.length>0&&(this._ivbo=r(t.iv)),t["in"].length>0&&(this._inbo=r(t["in"])),t.it.length>0&&(this._itbo=r(t.it))},Object.defineProperty(n.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),n}(o);t.MeshBuffers=n;var a=function(t){function n(e){t.call(this,e),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(n,t),Object.defineProperty(n.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(t){this._image.onload=this.loadTextureImage(this._onload),this._image.src=t},enumerable:!0,configurable:!0}),n.prototype.loadTextureImage=function(t){var i=this,n=this;return function(){i._texture=e.createTexture(n.gl,n._image),r.addTexture(n.graphID,n._oid),t&&t()}},Object.defineProperty(n.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),n}(o);t.MeshTexture=a;var s=function(t){function e(e,i,n,r,o){t.call(this,e),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=n?vec4.create(n):vec4.create(),this._specular=r?vec4.create(r):vec4.create(),this._shininess=o||200}return __extends(e,t),Object.defineProperty(e.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{set:function(t){var e=this,n=this;i.load(t,function(t){var i=n.parse(t);e._ambient=i.Ka,e._diffuse=i.Kd,e._specular=i.Ks,e.shininess=i.Ns,e._onload&&e._onload()})},enumerable:!0,configurable:!0}),e.prototype.parse=function(t){var e={},i=["Ka","Kd","Ks","Ns"],n=t.split("\n");return n.forEach(function(t){var n=t.split(" "),r=n[0];if(i.indexOf(r)>-1)switch(r){case"Ns":e.Ns=Number(n[1]);break;default:var o=n.slice(1).map(function(t){return Number(t)});o.push(1),e[r]=o}}),e},Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shininess",{get:function(){return this._shininess},set:function(t){this._shininess=t},enumerable:!0,configurable:!0}),e}(o);t.MeshMaterial=s}(u=t.Resources||(t.Resources={}));var c;!function(t){var e=function(){function t(){}return t.Main="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\n\nvoid main(){\n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n    }\n\n\n",t}();t.Fragment=e;var i=function(){function t(){}return t.Main="attribute vec3 a_position;\nattribute vec3 a_normal;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n    \n   vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n   vEyeVec=-vec3(vertex.xyz);   \n  gl_Position =uPMatrix * vertex;\n\n}\n\n\n",t}();t.Vertex=i}(c=t.Shaders||(t.Shaders={}));var f=function(t){function e(e,i,n,r){t.call(this,e),this._frequency=i,this._interval_id=null,this._callback=r}return __extends(e,t),e.prototype.onFrame=function(){if(e.ElapseTime=i.nowInMilliseconds(),!(e.ElapseTime<5)){for(var t=Math.floor(e.ElapseTime/this._frequency);t>0&&e.Count!=this._times;)this._callback(),t--,e.Count++;e.Count===this._times&&this.stop()}},e.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},e.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},e.prototype.beginDraw=function(){},e.prototype.endDraw=function(){},e.Count=0,e}(a);t.AnimationEntity=f;var h=function(t){function e(e,i,n,r){t.call(this,e),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=n||null,this._texturefile=r||null}return __extends(e,t),e.prototype.loadBuffers=function(t,e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=e,this._buffers.src=t},e.prototype.loadTexture=function(t,e){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=e,this._texture.src=t},Object.defineProperty(e.prototype,"material",{set:function(t){this._material=t},enumerable:!0,configurable:!0}),e.prototype.loadMaterial=function(t,e){this._material=new u.MeshMaterial(this.graphID),this._material.onload=e,this._material.src=t},e.prototype.loadMesh=function(t){var e=this,i=this;async.waterfall([function(t){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),t()})):t()},function(t){return e._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),t()})):t()},function(t){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),t()})):t()}],function(e){return e?console.log(e):void(t&&t())})},e.prototype.loadMeshByObject=function(t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(t)},e.prototype.loadMaterialByObject=function(t){this._material=new u.MeshMaterial(this.graphID),t.ambient&&(this._material.ambient=t.ambient),t.specular&&(this._material.specular=t.specular),t.diffuse&&(this._material.diffuse=t.diffuse),t.shininess&&(this._material.shininess=t.shininess)},e.prototype.setMaterialUniforms=function(){if(this._material){var t=this.gl;if(this._material.ambient){var e=this.getUniform("uMaterialAmbient");e&&t.uniform4fv(e,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var n=this.getUniform("uMaterialSpecular");n&&t.uniform4fv(n,this._material.specular)}if(this._material.shininess){var r=this.getUniform("uShininess");r&&t.uniform1f(r,this._material.shininess)}}},e.prototype.beginDraw=function(){var t=this.gl;this.setMaterialUniforms(),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.nbo),r.enableAttrib(this.graphID,"a_normal");var e=this._buffers.ivbo;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.drawElements(t.TRIANGLES,e.numItems,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl;r.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.MeshEntity=h;var l=function(t){function e(e,i,n,r){t.call(this,e),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=n||vec3.create([1,1,1]),this._rotation=r||{angle:0,axis:vec3.create()}}return __extends(e,t),e.prototype.identity=function(){mat4.identity(this._matrix)},e.prototype.setMatrix=function(t){this._matrix=t},e.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),e.prototype.setAbsolutePosition=function(t,e,i){this._position=[t,e,i]},e.prototype.translate=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._position,r=vec3.create([t,e,i]);vec3.add(n,r,this._position)},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),e.prototype.setSize=function(t,e,i){this._size=[t,e,i]},e.prototype.scale=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._size,r=vec3.create([t,e,i]);vec3.add(n,r,this._size)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t},enumerable:!0,configurable:!0}),e.prototype.setRotation=function(t,e){t&&(this._rotation.angle=t),e&&(this._rotation.axis=e)},e.prototype.setAngle=function(t){this._rotation.angle=t},e.prototype.setAxis=function(t){this._rotation.axis=t},e.prototype.rotateAngle=function(t){void 0===t&&(t=0),this._rotation.angle+=t},e.prototype.moveAxis=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._rotation.axis,r=vec3.create([t,e,i]);vec3.add(n,r,this._rotation.axis)},e.prototype.beginDraw=function(t){if(t.push(),t.ModelView(),this._matrix=t.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var e=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,e,this._rotation.axis)}t.setUp()},e.prototype.endDraw=function(t){t.pop()},e}(a);t.TransformEntity=l;var p=function(t){function e(e,i,n,r,o,a,s){t.call(this,e),this._ambient=i?vec4.create(i):null,this._diffuse=n?vec4.create(n):null,this._position=r?vec4.create(r):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(e,t),Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._diffuse},set:function(t){this._position=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutOff",{get:function(){return this._cutoff},set:function(t){this._cutoff=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl;if(this._ambient){var e=this.getUniform("uLightAmbient");e&&t.uniform4fv(e,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&t.uniform4fv(i,this._diffuse)}if(this._specular){var n=this.getUniform("uLightSpecular");n&&t.uniform4fv(n,this._specular)}if(this._position){var r=this.getUniform("uLightPosition");r&&t.uniform3fv(r,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&t.uniform3fv(o,this._direction)}},e.prototype.endDraw=function(){},e}(a);t.LightEntity=p;var d=function(t){function e(e,i){t.call(this,e),this._type=i||n.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(e,t),Object.defineProperty(e.prototype,"type",{set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"azimuth",{get:function(){return this._azimuth},set:function(t){var e=t-this._azimuth;this.changeAzimuth(e)},enumerable:!0,configurable:!0}),e.prototype.changeAzimuth=function(t){this._azimuth+=t,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(e.prototype,"elevation",{get:function(){return this._elevation},set:function(t){var e=t-this._elevation;this.changeElevation(e)},enumerable:!0,configurable:!0}),e.prototype.changeElevation=function(t){this._elevation+=t,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(e.prototype,"zoom",{get:function(){return this._steps},set:function(t){var e=vec3.create(),i=vec3.create();e=this.position;var r=t-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===n.TRACKING?(o[0]=e[0]-r*i[0],o[1]=e[1]-r*i[1],o[2]=e[2]-r*i[2]):(o[0]=e[0],o[1]=e[1],o[2]=e[2]-r),this.position=o,this._steps=t},enumerable:!0,configurable:!0}),e.prototype.calculateOrientation=function(){var t=this._cmatrix;mat4.multiplyVec4(t,[1,0,0,0],this._right),mat4.multiplyVec4(t,[0,1,0,0],this._up),mat4.multiplyVec4(t,[0,0,1,0],this._normal)},e.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===n.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===n.TRACKING&&mat4.multiplyVec4(m,[0,0,0,1],this._position)},Object.defineProperty(e.prototype,"modelView",{get:function(){var t=mat4.create();return mat4.inverse(this._cmatrix,t),t},enumerable:!0,configurable:!0}),e.prototype.endDraw=function(){},e}(a);t.CameraEntity=d;var v=function(){function t(t,e,n){this._parentNode=t,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=e,this._oid=i.uuid(this._type||this.constructor.name),this._entity=n}return Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"entity",{get:function(){return this._entity},set:function(t){this._entity=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),t.prototype.addChildNode=function(t){this._childNodes.push(t)},t.prototype.removeChildNode=function(t){var e=this.indexOf(t);e>-1&&this._childNodes.splice(e,1)},t.prototype.getChildNodeByIndex=function(t){return this._childNodes[t]||void 0},t.prototype.existsChildNode=function(t){return void 0!==this._childNodes[t]},t.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},t.prototype.createChildNode=function(e,i){return new t(this,e,i)},t.prototype.isRoot=function(){return void 0===this._parentNode},t.prototype.indexOf=function(t){var e=t.oid;return _.findIndex(this._childNodes,function(t){return t.oid===e})},t.prototype.indexInParent=function(){var t=-1;return this.isRoot()||(t=this._parentNode.indexOf(this)),t},t.prototype.hasSibling=function(t){var e=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(t?this._parentNode.getChildNodeByIndex(i-1)&&(e=!0):this._parentNode.getChildNodeByIndex(i+1)&&(e=!0))}return e},t.prototype.nextSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling()){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e+1)}return t},t.prototype.previousSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling(!0)){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e-1)}return t},t.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},t.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},t.prototype.removeChildNodes=function(){this._childNodes=[]},t.prototype.draw=function(t){this._entity&&this._entity.beginDraw(t);for(var e=0;e<this._childNodes.length;e++){var i=this._childNodes[e];i.draw(t)}this._entity&&this._entity.endDraw(t)},t}();t.NodeElement=v;var b=function(t){function e(){var e=i.uuid();t.call(this,e),this._oid=e,this._scene=new v(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],this._isDrawing=!1,r.createView(this._oid)}return __extends(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDrawing",{get:function(){return this._isDrawing},enumerable:!0,configurable:!0}),e.prototype.Environment=function(){var t=this.gl;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.clearColor(0,0,0,1),t.clearDepth(1)},e.prototype.draw=function(){var t=this.gl;this._isDrawing=!0,t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this._scene.draw(this._matrixStack),this._isDrawing=!1},e.prototype.createMainChildNode=function(t,e){return this._scene.createChildNode(t,e)},e.prototype.removeMainChildNode=function(t){this._scene.removeChildNode(t)},Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),e.prototype.setContext=function(t){r.setCanvasToContext(this.oid,t)},e.prototype.Program=function(){r.createProgram(this._oid,{fragment:c.Fragment.Main,vertex:c.Vertex.Main})},e.prototype.createMesh=function(t,e){var i=new h(this.oid);return t&&i.loadMeshByObject(t),e&&i.loadMaterialByObject(e),i},e.prototype.createMeshByLoader=function(t){var e=new h(this.oid,t.mesh,t.material,t.texture);return this._loaderBuffer.push(e),e},e.prototype.createTransform=function(t,e,i){return new l(this.oid,t,e,i)},e.prototype.createLight=function(t){return new p(this.oid,t.ambient,t.diffuse,t.position,t.specular,t.direction,t.cutoff)},e.prototype.createCamera=function(t){return new d(this.oid,t)},Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._matrixStack.MainCamera=t},enumerable:!0,configurable:!0}),e.prototype.startLoader=function(t){async.eachSeries(this._loaderBuffer,function(t,e){t.loadMesh(function(){console.log(t),e()})},t)},e.prototype.configure=function(){var t=this;t.Environment(),t.Program(),r.setAttributeLocations(t._oid,e.ATTRIBUTES),r.setUniformLocations(t._oid,e.UNIFORMS),this._matrixStack.init()},e.prototype.configureWithLoader=function(t){var e=this;e.configure(),e.startLoader(t)},e.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightDirection","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess"],e.ATTRIBUTES=["a_position","a_normal"],e}(o);t.SceneGraph=b}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSX01JUE1BUF9ORUFSRVNUIiwiZ2VuZXJhdGVNaXBtYXAiLCJjcmVhdGVTaGFkZXIiLCJ0eXBlIiwic2hhZGVyU291cmNlIiwic2hhZGVyIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiY29uc29sZSIsImxvZyIsImdldFNoYWRlckluZm9Mb2ciLCJjcmVhdGVQcm9ncmFtIiwic2hhZGVycyIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiZnJhZ21lbnQiLCJ2ZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwidmVydGV4IiwicHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwidXNlUHJvZ3JhbSIsInV0aWxzIiwiczQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInV1aWQiLCJuYW1lIiwiaWQiLCJub3JtYWxpemVOYU4iLCJ2ZWMiLCJtYXAiLCJhIiwiTnVtYmVyIiwiaXNOYU4iLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJnZXRFeHRlbnNpb24iLCJzdHIiLCJlbGVtcyIsInNwbGl0Iiwibm93SW5NaWxsaXNlY29uZHMiLCJEYXRlIiwiZ2V0VGltZSIsImRlZ1RvUmFkIiwiUEkiLCJjYWxjdWxhdGVOb3JtYWxzIiwidnMiLCJpbmQiLCJ4IiwieSIsInoiLCJucyIsInYxIiwidjIiLCJub3JtYWwiLCJqIiwibm4iLCJsZW4iLCJzcXJ0IiwiQ0FNRVJBX1RZUEUiLCJLZXRjaCIsInNldENhbnZhc1RvQ29udGV4dCIsImtleSIsImNvbnRleHQiLCJzZXRDb250ZXh0IiwiX3ZpZXdzIiwic2V0UHJvZ3JhbSIsImdldFByb2dyYW0iLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsInZpZXciLCJwcmciLCJhdHRyaWJzIiwicmVkdWNlIiwicHJldiIsImF0dHIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImdldEF0dHJpYiIsInZpZXdfa2V5IiwiYXR0cl9rZXkiLCJnZXRVbmlmb3JtIiwidW5pZm9ybV9rZXkiLCJ1bmlmb3JtcyIsInNldFVuaWZvcm1Mb2NhdGlvbnMiLCJ1bmlmb3JtX25hbWVzIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZW5hYmxlQXR0cmliIiwicG9pbnRlciIsImluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwic2l6ZSIsIkZMT0FUIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIm9mZnNldCIsImRpc2FibGVBdHRyaWIiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJyZW5kZXJMb29wIiwiY2IiLCJzZXRJbnRlcnZhbCIsImFkZFRleHR1cmUiLCJ0ZXh0dXJlX2lkIiwidGV4dHVyZXMiLCJwdXNoIiwiYWN0aXZlVGV4dHVyZSIsImluZGV4T2YiLCJURVhUVVJFMCIsInVTYW1wbGVyIiwidW5pZm9ybTFpIiwiUmVuZGVyYWJsZSIsImdyYXBoX2lkIiwiX2dyYXBoX2lkIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ3JhcGhJRCIsIkVudGl0eSIsIl9zdXBlciIsImNhbGwiLCJiZWdpbkRyYXciLCJtYXRyaXhTdGFjayIsImVuZERyYXciLCJNYXRyaXhTdGFjayIsIl9zdGFjayIsIl9tdk1hdHJpeCIsIm1hdDQiLCJfcE1hdHJpeCIsIl9uTWF0cml4IiwiY29weSIsInNldCIsInBvcCIsIk1vZGVsVmlldyIsIl9jYW1lcmEiLCJtb2RlbFZpZXciLCJpZGVudGl0eSIsImNhbWVyYSIsIlBlcnNwZWN0aXZlIiwicGVyc3BlY3RpdmUiLCJOb3JtYWwiLCJpbnZlcnNlIiwidHJhbnNwb3NlIiwiaW5pdCIsInNldFVwIiwibXZNYXRyaXgiLCJ1bmlmb3JtTWF0cml4NGZ2IiwicE1hdHJpeCIsIm5NYXRyaXgiLCJSZXNvdXJjZXMiLCJNZXNoQnVmZmVycyIsIl9vbmxvYWQiLCJzcmMiLCJfdGhpcyIsInNlbGYiLCJleHQiLCJvYmoiLCJwYXJzZU9CSiIsInBhcnNlSlNPTiIsImNyZWF0ZUJ1ZmZlcnMiLCJKU09OIiwicGFyc2UiLCJ2Iiwidm4iLCJ2dCIsIml2IiwiaW4iLCJpdCIsImxpbmVzIiwiZmlsdGVyIiwiZm9yRWFjaCIsIml0ZW0iLCJyZXBsYWNlIiwiY29uY2F0Iiwic2xpY2UiLCJ0ZW1wSW5kZXgiLCJwYXJzZUludCIsIl8iLCJkZWZhdWx0cyIsIl92Ym8iLCJfbmJvIiwiX3RibyIsIl9pdmJvIiwiX2luYm8iLCJfaXRibyIsIk1lc2hUZXh0dXJlIiwiX2ltYWdlIiwiSW1hZ2UiLCJfb2lkIiwiZmlsZW5hbWUiLCJvbmxvYWQiLCJsb2FkVGV4dHVyZUltYWdlIiwiX3RleHR1cmUiLCJNZXNoTWF0ZXJpYWwiLCJhbWJpZW50IiwiZGlmZnVzZSIsInNwZWN1bGFyIiwic2hpbmluZXNzIiwiX2FtYmllbnQiLCJ2ZWM0IiwiX2RpZmZ1c2UiLCJfc3BlY3VsYXIiLCJfc2hpbmluZXNzIiwidGVtcCIsIkthIiwiS2QiLCJLcyIsIk5zIiwia2V5cyIsImxpbmUiLCJTaGFkZXJzIiwiRnJhZ21lbnQiLCJNYWluIiwiVmVydGV4IiwiQW5pbWF0aW9uRW50aXR5IiwiZnJlcXVlbmN5IiwidGltZXMiLCJfZnJlcXVlbmN5IiwiX2ludGVydmFsX2lkIiwiX2NhbGxiYWNrIiwib25GcmFtZSIsIkVsYXBzZVRpbWUiLCJzdGVwcyIsIkNvdW50IiwiX3RpbWVzIiwic3RvcCIsInN0YXJ0IiwiX2ludGltZSIsImNsZWFySW50ZXJ2YWwiLCJNZXNoRW50aXR5IiwibWVzaGZpbGUiLCJtYXRlcmlhbGZpbGUiLCJ0ZXh0dXJlZmlsZSIsIl9tYXRlcmlhbCIsIl9idWZmZXJzIiwiX21lc2hmaWxlIiwiX21hdGVyaWFsZmlsZSIsIl90ZXh0dXJlZmlsZSIsImxvYWRCdWZmZXJzIiwibG9hZFRleHR1cmUiLCJsb2FkTWF0ZXJpYWwiLCJsb2FkTWVzaCIsImFzeW5jIiwid2F0ZXJmYWxsIiwibmV4dCIsImVyciIsImxvYWRNZXNoQnlPYmplY3QiLCJsb2FkTWF0ZXJpYWxCeU9iamVjdCIsInNldE1hdGVyaWFsVW5pZm9ybXMiLCJ1TWF0ZXJpYWxBbWJpZW50IiwidW5pZm9ybTRmdiIsInVNYXRlcmlhbERpZmZ1c2UiLCJ1TWF0ZXJpYWxTcGVjdWxhciIsInVTaGluaW5lc3MiLCJ1bmlmb3JtMWYiLCJ2Ym8iLCJuYm8iLCJpdmJvIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwiVU5TSUdORURfU0hPUlQiLCJUcmFuc2Zvcm1FbnRpdHkiLCJwb3NpdGlvbiIsInJvdGF0aW9uIiwiX21hdHJpeCIsIl9wb3NpdGlvbiIsInZlYzMiLCJfc2l6ZSIsIl9yb3RhdGlvbiIsImFuZ2xlIiwiYXhpcyIsInNldE1hdHJpeCIsIm5ld19tYXRyaXgiLCJzZXRBYnNvbHV0ZVBvc2l0aW9uIiwidHJhbnNsYXRlIiwib3BlcmFuZDEiLCJvcGVyYW5kMiIsImFkZCIsInNldFNpemUiLCJzY2FsZSIsInNldFJvdGF0aW9uIiwic2V0QW5nbGUiLCJzZXRBeGlzIiwicm90YXRlQW5nbGUiLCJtb3ZlQXhpcyIsInJhZCIsInJvdGF0ZSIsIkxpZ2h0RW50aXR5IiwiZGlyZWN0aW9uIiwiY3V0b2ZmIiwiX2RpcmVjdGlvbiIsIl9jdXRvZmYiLCJ1TGlnaHRBbWJpZW50IiwidUxpZ2h0RGlmZnVzZSIsInVMaWdodFNwZWN1bGFyIiwidUxpZ2h0UG9zaXRpb24iLCJ1bmlmb3JtM2Z2IiwidURpcmVjdGlvbiIsIkNhbWVyYUVudGl0eSIsIl90eXBlIiwiT1JCSVRJTkciLCJfY21hdHJpeCIsIl91cCIsIl9yaWdodCIsIl9ub3JtYWwiLCJfYXppbXV0aCIsIl9lbGV2YXRpb24iLCJfc3RlcHMiLCJwb3MiLCJheiIsInRlbXBfYXoiLCJjaGFuZ2VBemltdXRoIiwiZWwiLCJ0ZW1wX2VsIiwiY2hhbmdlRWxldmF0aW9uIiwibiIsInN0ZXAiLCJub3JtYWxpemUiLCJuZXdfcG9zaXRpb24iLCJUUkFDS0lORyIsImNhbGN1bGF0ZU9yaWVudGF0aW9uIiwibSIsIm11bHRpcGx5VmVjNCIsInJvdGF0ZVkiLCJyb3RhdGVYIiwiTm9kZUVsZW1lbnQiLCJwYXJlbnQiLCJlbnRpdHkiLCJfcGFyZW50Tm9kZSIsImFkZENoaWxkTm9kZSIsIl9jaGlsZE5vZGVzIiwiX2VudGl0eSIsImNoaWxkIiwicmVtb3ZlQ2hpbGROb2RlIiwic3BsaWNlIiwiZ2V0Q2hpbGROb2RlQnlJbmRleCIsImV4aXN0c0NoaWxkTm9kZSIsImNyZWF0ZUNoaWxkTm9kZSIsImlzUm9vdCIsIm9pZCIsImZpbmRJbmRleCIsInMiLCJpbmRleEluUGFyZW50IiwiaGFzU2libGluZyIsIl9oYXZlIiwibmV4dFNpYmxpbmciLCJzaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkTm9kZXMiLCJkcmF3IiwiU2NlbmVHcmFwaCIsIl9zY2VuZSIsIl9tYXRyaXhTdGFjayIsIl9sb2FkZXJCdWZmZXIiLCJfaXNEcmF3aW5nIiwiRW52aXJvbm1lbnQiLCJlbmFibGUiLCJERVBUSF9URVNUIiwiZGVwdGhGdW5jIiwiTEVRVUFMIiwiQkxFTkQiLCJibGVuZEZ1bmMiLCJTUkNfQUxQSEEiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiY2xlYXJDb2xvciIsImNsZWFyRGVwdGgiLCJ2aWV3cG9ydCIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJjcmVhdGVNYWluQ2hpbGROb2RlIiwicmVtb3ZlTWFpbkNoaWxkTm9kZSIsIm5vZGUiLCJQcm9ncmFtIiwiY3JlYXRlTWVzaCIsIm1lc2giLCJtYXRlcmlhbCIsIm1lc2hFbnRpdHkiLCJjcmVhdGVNZXNoQnlMb2FkZXIiLCJjb25maWciLCJjcmVhdGVUcmFuc2Zvcm0iLCJjcmVhdGVMaWdodCIsImNyZWF0ZUNhbWVyYSIsIk1haW5DYW1lcmEiLCJzdGFydExvYWRlciIsImVhY2hTZXJpZXMiLCJjb25maWd1cmUiLCJBVFRSSUJVVEVTIiwiVU5JRk9STVMiLCJjb25maWd1cmVXaXRoTG9hZGVyIl0s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QVd1QyxZQUFjLGFBQWMsWUFDaEN2QyxHQUNUbFAsRUFDRi9LLEdBQU1pYSxXQUFhQSxHQUNwQmphLFFBQVVBIiwiZmlsZSI6ImJsYXplLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufTtcclxudmFyIEJsYXplO1xyXG4oZnVuY3Rpb24gKEJsYXplKSB7XHJcbiAgICB2YXIgV2ViR0xVdGlscztcclxuICAgIChmdW5jdGlvbiAoV2ViR0xVdGlscykge1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEdMQ29udGV4dChjYW52YXMpIHtcclxuICAgICAgICAgICAgdmFyIGN0eCA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBuYW1lcyA9IFtcIndlYmdsXCIsIFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsIFwid2Via2l0LTNkXCIsIFwibW96LXdlYmdsXCJdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KG5hbWVzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3R4ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIkNvdWxkIG5vdCBpbml0aWFsaXNlIFdlYkdMXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdHgudmlld3BvcnRXaWR0aCA9IGNhbnZhcy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGN0eC52aWV3cG9ydEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuZ2V0R0xDb250ZXh0ID0gZ2V0R0xDb250ZXh0O1xyXG4gICAgICAgIChmdW5jdGlvbiAoQlVGRkVSX0RSQVcpIHtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJTVEFUSUNcIl0gPSAwXSA9IFwiU1RBVElDXCI7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiU1RSRUFNXCJdID0gMV0gPSBcIlNUUkVBTVwiO1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIkRZTkFNSUNcIl0gPSAyXSA9IFwiRFlOQU1JQ1wiO1xyXG4gICAgICAgIH0pKFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcgfHwgKFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcgPSB7fSkpO1xyXG4gICAgICAgIHZhciBCVUZGRVJfRFJBVyA9IFdlYkdMVXRpbHMuQlVGRkVSX0RSQVc7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnVmZmVyKGdsLCBkYXRhLCBpczJELCB0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyKTtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVEFUSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5EWU5BTUlDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUUkVBTTpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RSRUFNX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGlmIChpczJEKSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIuaXRlbVNpemUgPSAyO1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLml0ZW1TaXplID0gMztcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoIC8gMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZUJ1ZmZlciA9IGNyZWF0ZUJ1ZmZlcjtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbmRleEJ1ZmZlcihnbCwgZGF0YSwgdHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGluZGV4QnVmZmVyKTtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVEFUSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuRFlOQU1JQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLkRZTkFNSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RSRUFNOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RSRUFNX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLml0ZW1TaXplID0gMTtcclxuICAgICAgICAgICAgaW5kZXhCdWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4QnVmZmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZUluZGV4QnVmZmVyID0gY3JlYXRlSW5kZXhCdWZmZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlVGV4dHVyZShnbCwgZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgZGF0YSk7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSX01JUE1BUF9ORUFSRVNUKTtcclxuICAgICAgICAgICAgZ2wuZ2VuZXJhdGVNaXBtYXAoZ2wuVEVYVFVSRV8yRCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlID0gY3JlYXRlVGV4dHVyZTtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTaGFkZXIoZ2wsIHR5cGUsIHNoYWRlclNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gICAgICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xyXG4gICAgICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVTaGFkZXIgPSBjcmVhdGVTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgc2hhZGVycy5mcmFnbWVudCk7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHNoYWRlcnMudmVydGV4KTtcclxuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiTm8gcHVlZGVuIGluaWNpYXJzZSBsb3Mgc2hhZGVyc1wiKTtcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW07XHJcbiAgICB9KShXZWJHTFV0aWxzID0gQmxhemUuV2ViR0xVdGlscyB8fCAoQmxhemUuV2ViR0xVdGlscyA9IHt9KSk7XHJcbiAgICB2YXIgdXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKHV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gczQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuczQgPSBzNDtcclxuICAgICAgICBmdW5jdGlvbiB1dWlkKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gczQoKSArIHM0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lID8gbmFtZSArIGlkIDogaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnV1aWQgPSB1dWlkO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hTih2ZWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlYy5tYXAoZnVuY3Rpb24gKGEpIHsgaWYgKE51bWJlci5pc05hTihhKSlcclxuICAgICAgICAgICAgICAgIGEgPSAwOyByZXR1cm4gYTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vcm1hbGl6ZU5hTiA9IG5vcm1hbGl6ZU5hTjtcclxuICAgICAgICBmdW5jdGlvbiBsb2FkKHVybCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubG9hZCA9IGxvYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKHN0cikge1xyXG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBzdHIuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbXNbZWxlbXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmdldEV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbjtcclxuICAgICAgICBmdW5jdGlvbiBub3dJbk1pbGxpc2Vjb25kcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzID0gbm93SW5NaWxsaXNlY29uZHM7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVnVG9SYWQoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmRlZ1RvUmFkID0gZGVnVG9SYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFscyh2cywgaW5kKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICAgICAgdmFyIHkgPSAxO1xyXG4gICAgICAgICAgICB2YXIgeiA9IDI7XHJcbiAgICAgICAgICAgIHZhciBucyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuc1tpXSA9IDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZC5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYxID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgdjIgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWwgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vcDEgLSBwMFxyXG4gICAgICAgICAgICAgICAgdjFbeF0gPSB2c1szICogaW5kW2kgKyAxXSArIHhdIC0gdnNbMyAqIGluZFtpXSArIHhdO1xyXG4gICAgICAgICAgICAgICAgdjFbeV0gPSB2c1szICogaW5kW2kgKyAxXSArIHldIC0gdnNbMyAqIGluZFtpXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjFbel0gPSB2c1szICogaW5kW2kgKyAxXSArIHpdIC0gdnNbMyAqIGluZFtpXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgdjJbeF0gPSB2c1szICogaW5kW2kgKyAyXSArIHhdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYyW3ldID0gdnNbMyAqIGluZFtpICsgMl0gKyB5XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeV07XHJcbiAgICAgICAgICAgICAgICB2Mlt6XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgel0gLSB2c1szICogaW5kW2kgKyAxXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy9wMiAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2MVt4XSA9IHZzWzMqaW5kW2krMl0reF0gLSB2c1szKmluZFtpKzFdK3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gdjFbeV0gPSB2c1szKmluZFtpKzJdK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3pdID0gdnNbMyppbmRbaSsyXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvLyBwMCAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt4XSA9IHZzWzMqaW5kW2ldK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3ldID0gdnNbMyppbmRbaV0reV0gLSB2c1szKmluZFtpKzFdK3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gdjJbel0gPSB2c1szKmluZFtpXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvL2Nyb3NzIHByb2R1Y3QgYnkgU2FycnVzIFJ1bGVcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt4XSA9IHYxW3ldICogdjJbel0gLSB2MVt6XSAqIHYyW3ldO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3ldID0gdjFbel0gKiB2Mlt4XSAtIHYxW3hdICogdjJbel07XHJcbiAgICAgICAgICAgICAgICBub3JtYWxbel0gPSB2MVt4XSAqIHYyW3ldIC0gdjFbeV0gKiB2Mlt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3hdICs9IG5vcm1hbFt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3ldICs9IG5vcm1hbFt5XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3pdICs9IG5vcm1hbFt6XTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB4XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeF0gKyBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB5XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeV0gKyBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB6XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgel0gKyBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9ub3JtYWxpemUgdGhlIHJlc3VsdFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm4gPSBbXTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbnNbaSArIHhdO1xyXG4gICAgICAgICAgICAgICAgbm5beV0gPSBuc1tpICsgeV07XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5zW2kgKyB6XTtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLnNxcnQoKG5uW3hdICogbm5beF0pICsgKG5uW3ldICogbm5beV0pICsgKG5uW3pdICogbm5bel0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMClcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSAwLjAwMDAxO1xyXG4gICAgICAgICAgICAgICAgbm5beF0gPSBublt4XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbm5beV0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5uW3pdIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHhdID0gbm5beF07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgeV0gPSBublt5XTtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB6XSA9IG5uW3pdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBucztcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuY2FsY3VsYXRlTm9ybWFscyA9IGNhbGN1bGF0ZU5vcm1hbHM7XHJcbiAgICB9KSh1dGlscyA9IEJsYXplLnV0aWxzIHx8IChCbGF6ZS51dGlscyA9IHt9KSk7XHJcbiAgICAoZnVuY3Rpb24gKENBTUVSQV9UWVBFKSB7XHJcbiAgICAgICAgQ0FNRVJBX1RZUEVbQ0FNRVJBX1RZUEVbXCJPUkJJVElOR1wiXSA9IDBdID0gXCJPUkJJVElOR1wiO1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiVFJBQ0tJTkdcIl0gPSAxXSA9IFwiVFJBQ0tJTkdcIjtcclxuICAgIH0pKEJsYXplLkNBTUVSQV9UWVBFIHx8IChCbGF6ZS5DQU1FUkFfVFlQRSA9IHt9KSk7XHJcbiAgICB2YXIgQ0FNRVJBX1RZUEUgPSBCbGF6ZS5DQU1FUkFfVFlQRTtcclxuICAgIHZhciBLZXRjaCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gS2V0Y2goKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCA9IGZ1bmN0aW9uIChrZXksIGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IFdlYkdMVXRpbHMuZ2V0R0xDb250ZXh0KGNhbnZhcyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENvbnRleHQoa2V5LCBjb250ZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtID0gZnVuY3Rpb24gKGtleSwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KGtleSk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gV2ViR0xVdGlscy5jcmVhdGVQcm9ncmFtKGdsLCBzaGFkZXJzKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbShrZXksIHByb2dyYW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHByb2dyYW0pIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbSA9IHByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRQcm9ncmFtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmNyZWF0ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldID0ge307XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJzX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmlldy5hdHRyaWJzID0gYXR0cmlic19uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHByZXZbYXR0cl0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcmcsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldEF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0uYXR0cmlic1thdHRyX2tleV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRVbmlmb3JtID0gZnVuY3Rpb24gKHZpZXdfa2V5LCB1bmlmb3JtX2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS51bmlmb3Jtc1t1bmlmb3JtX2tleV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zID0gZnVuY3Rpb24gKGtleSwgdW5pZm9ybV9uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZpZXcudW5pZm9ybXMgPSB1bmlmb3JtX25hbWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgcHJldlthdHRyXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXksIHBvaW50ZXIpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gS2V0Y2guZ2V0QXR0cmliKHZpZXdfa2V5LCBhdHRyX2tleSk7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQodmlld19rZXkpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGluZGV4LCBwb2ludGVyLnNpemUgfHwgMywgZ2wuRkxPQVQsIHBvaW50ZXIubm9ybWFsaXplZCB8fCBmYWxzZSwgcG9pbnRlci5zdHJpZGUgfHwgMCwgcG9pbnRlci5vZmZzZXQgfHwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGluZGV4LCAzLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBLZXRjaC5nZXRBdHRyaWIodmlld19rZXksIGF0dHJfa2V5KTtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dCh2aWV3X2tleSk7XHJcbiAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5yZW5kZXJMb29wID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHNldEludGVydmFsKGNiLCA1MDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guYWRkVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcyA9IHZpZXcudGV4dHVyZXMgfHwgW107XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMucHVzaCh0ZXh0dXJlX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFjdGl2ZVRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkLCB0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShpbmRleCA9PT0gMCA/IGdsLlRFWFRVUkUwIDogZ2wuVEVYVFVSRTAgKyBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIHZhciB1U2FtcGxlciA9IEtldGNoLmdldFVuaWZvcm0oa2V5LCBcInVTYW1wbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVTYW1wbGVyLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLl92aWV3cyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBLZXRjaDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5LZXRjaCA9IEtldGNoO1xyXG4gICAgdmFyIFJlbmRlcmFibGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFJlbmRlcmFibGUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JhcGhfaWQgPSBncmFwaF9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdyYXBoSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ncmFwaF9pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdsXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0Q29udGV4dCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwicHJvZ3JhbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFByb2dyYW0odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUmVuZGVyYWJsZS5wcm90b3R5cGUuZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFVuaWZvcm0odGhpcy5ncmFwaElELCBrZXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlcmFibGU7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuUmVuZGVyYWJsZSA9IFJlbmRlcmFibGU7XHJcbiAgICB2YXIgRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEVudGl0eShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFbnRpdHk7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLkVudGl0eSA9IEVudGl0eTtcclxuICAgIHZhciBNYXRyaXhTdGFjayA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1hdHJpeFN0YWNrLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1hdHJpeFN0YWNrKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29weSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuc2V0KHRoaXMuX212TWF0cml4LCBjb3B5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sucHVzaChjb3B5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFjay5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgIHRocm93IFwiaW52YWxpZCBwb3BNYXRyaXhcIjtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9zdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5Nb2RlbFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gdGhpcy5fY2FtZXJhLm1vZGVsVmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIm12TWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbXZNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwicE1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibk1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25NYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuUGVyc3BlY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQucGVyc3BlY3RpdmUoNDUsIGdsLnZpZXdwb3J0V2lkdGggLyBnbC52aWV3cG9ydEhlaWdodCwgMC4xLCAxMDAwLjAsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk5vcm1hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuUGVyc3BlY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5zZXRVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICAgICAgdmFyIG12TWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1WTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobXZNYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KG12TWF0cml4LCBmYWxzZSwgdGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgcE1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVQTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAocE1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocE1hdHJpeCwgZmFsc2UsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgbk1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVOTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobk1hdHJpeCwgZmFsc2UsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1hdHJpeFN0YWNrO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5NYXRyaXhTdGFjayA9IE1hdHJpeFN0YWNrO1xyXG4gICAgdmFyIFJlc291cmNlcztcclxuICAgIChmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgdmFyIE1lc2hCdWZmZXJzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hCdWZmZXJzLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoQnVmZmVycyhncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dCA9IHV0aWxzLmdldEV4dGVuc2lvbihzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9ialwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VPQkooZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VKU09OKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VKU09OID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VPQkogPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ3YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ2YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gb2JqW2tleV0uY29uY2F0KGVsZW1zLnNsaWNlKDEpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAhPT0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnJlcGxhY2UoXCJcXHJcIiwgXCJcIikucmVwbGFjZShcImZcIiwgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9IHRlbXBJbmRleC5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGVtcEluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXYucHVzaChwYXJzZUludChlbGVtc1swXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaW4ucHVzaChwYXJzZUludChlbGVtc1sxXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXQucHVzaChwYXJzZUludChlbGVtc1syXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgXy5kZWZhdWx0cyhvYmosIHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZibyA9IGNyZWF0ZUJ1ZmZlcihvYmoudik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnYubGVuZ3RoID4gMCAmJiBvYmouaXYubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25ibyA9IGNyZWF0ZUJ1ZmZlcih1dGlscy5jYWxjdWxhdGVOb3JtYWxzKG9iai52LCBvYmouaXYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RibyA9IFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBvYmoudnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJHTFV0aWxzLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXYubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml2KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaW4ubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLmluKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXQubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml0KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIm5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwidGJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpdmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaW5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5ibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoQnVmZmVycyA9IE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIHZhciBNZXNoVGV4dHVyZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoVGV4dHVyZSwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaFRleHR1cmUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMubG9hZFRleHR1cmVJbWFnZSh0aGlzLl9vbmxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hUZXh0dXJlLnByb3RvdHlwZS5sb2FkVGV4dHVyZUltYWdlID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShzZWxmLmdsLCBzZWxmLl9pbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZShzZWxmLmdyYXBoSUQsIHNlbGYuX29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoVGV4dHVyZTtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaFRleHR1cmUgPSBNZXNoVGV4dHVyZTtcclxuICAgICAgICB2YXIgTWVzaE1hdGVyaWFsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBzcGVjdWxhciwgc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiB2ZWM0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSBzcGVjdWxhciA/IHZlYzQuY3JlYXRlKHNwZWN1bGFyKSA6IHZlYzQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSBzaGluaW5lc3MgfHwgMjAwLjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic3JjXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHNlbGYucGFyc2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9hbWJpZW50ID0gdGVtcC5LYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2RpZmZ1c2UgPSB0ZW1wLktkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3BlY3VsYXIgPSB0ZW1wLktzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zaGluaW5lc3MgPSB0ZW1wLk5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoTWF0ZXJpYWwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gW1wiS2FcIiwgXCJLZFwiLCBcIktzXCIsIFwiTnNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSBkYXRhLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgbGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGxpbmUuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBlbGVtc1swXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5pbmRleE9mKGtleSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk5zXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW1wiTnNcIl0gPSBOdW1iZXIoZWxlbXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZWxlbXMuc2xpY2UoMSkubWFwKGZ1bmN0aW9uIChhKSB7IHJldHVybiBOdW1iZXIoYSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaCgxLjApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdGVtcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiYW1iaWVudFwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW1iaWVudDtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShhbWJpZW50KSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwiZGlmZnVzZVwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShkaWZmdXNlKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic3BlY3VsYXJcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWN1bGFyO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoc3BlY3VsYXIpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzaGluaW5lc3NcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NoaW5pbmVzcztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hpbmluZXNzID0gdjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gTWVzaE1hdGVyaWFsO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoTWF0ZXJpYWwgPSBNZXNoTWF0ZXJpYWw7XHJcbiAgICB9KShSZXNvdXJjZXMgPSBCbGF6ZS5SZXNvdXJjZXMgfHwgKEJsYXplLlJlc291cmNlcyA9IHt9KSk7XHJcbiAgICB2YXIgU2hhZGVycztcclxuICAgIChmdW5jdGlvbiAoU2hhZGVycykge1xyXG4gICAgICAgIHZhciBGcmFnbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIEZyYWdtZW50KCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEZyYWdtZW50Lk1haW4gPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdVNoaW5pbmVzcztcXG51bmlmb3JtIHZlYzMgdUxpZ2h0RGlyZWN0aW9uO1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TGlnaHREaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TGlnaHRTcGVjdWxhcjtcXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsU3BlY3VsYXI7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxuXFxudm9pZCBtYWluKCl7XFxuICAgICAgICB2ZWMzIEw9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb24pO1xcbiAgICAgICAgdmVjMyBOPSBub3JtYWxpemUodk5vcm1hbCk7XFxuICAgICAgICBmbG9hdCBsYW1iZXJ0VGVybT1kb3QoTiwgLUwpO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElhPSB1TGlnaHRBbWJpZW50KnVNYXRlcmlhbEFtYmllbnQ7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWQ9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElzPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYobGFtYmVydFRlcm0+MC4wKVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIElkPXVMaWdodERpZmZ1c2UqdU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHRTcGVjdWxhcip1TWF0ZXJpYWxTcGVjdWxhcipzcGVjdWxhcjtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBmaW5hbENvbG9yPUlhK0lkK0lzO1xcbiAgICAgICAgZmluYWxDb2xvci5hPTEuMDtcXG4gICAgXFxuICAgICAgICBnbF9GcmFnQ29sb3IgPWZpbmFsQ29sb3I7XFxuICAgIH1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgcmV0dXJuIEZyYWdtZW50O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5GcmFnbWVudCA9IEZyYWdtZW50O1xyXG4gICAgICAgIHZhciBWZXJ0ZXggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBWZXJ0ZXgoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVmVydGV4Lk1haW4gPSBcImF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVOTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICB2ZWM0IHZlcnRleCA9IHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG4gICAgXFxuICAgdk5vcm1hbCA9IHZlYzModU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKTtcXG4gICB2RXllVmVjPS12ZWMzKHZlcnRleC54eXopOyAgIFxcbiAgZ2xfUG9zaXRpb24gPXVQTWF0cml4ICogdmVydGV4O1xcblxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgcmV0dXJuIFZlcnRleDtcclxuICAgICAgICB9KCkpO1xyXG4gICAgICAgIFNoYWRlcnMuVmVydGV4ID0gVmVydGV4O1xyXG4gICAgfSkoU2hhZGVycyA9IEJsYXplLlNoYWRlcnMgfHwgKEJsYXplLlNoYWRlcnMgPSB7fSkpO1xyXG4gICAgdmFyIEFuaW1hdGlvbkVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEFuaW1hdGlvbkVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBBbmltYXRpb25FbnRpdHkoZ3JhcGhfaWQsIGZyZXF1ZW5jeSwgdGltZXMsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fZnJlcXVlbmN5ID0gZnJlcXVlbmN5O1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbF9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUub25GcmFtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgPSB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICBpZiAoQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgPCA1KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB2YXIgc3RlcHMgPSBNYXRoLmZsb29yKEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lIC8gdGhpcy5fZnJlcXVlbmN5KTtcclxuICAgICAgICAgICAgd2hpbGUgKChzdGVwcyA+IDApICYmIChBbmltYXRpb25FbnRpdHkuQ291bnQgIT0gdGhpcy5fdGltZXMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgc3RlcHMtLTtcclxuICAgICAgICAgICAgICAgIEFuaW1hdGlvbkVudGl0eS5Db3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChBbmltYXRpb25FbnRpdHkuQ291bnQgPT09IHRoaXMuX3RpbWVzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5faW50aW1lID0gdXRpbHMubm93SW5NaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxfaWQgPSBzZXRJbnRlcnZhbCh0aGlzLm9uRnJhbWUsIHRoaXMuX2ZyZXF1ZW5jeSAvIDEwMDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWxfaWQpXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LkNvdW50ID0gMDtcclxuICAgICAgICByZXR1cm4gQW5pbWF0aW9uRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkFuaW1hdGlvbkVudGl0eSA9IEFuaW1hdGlvbkVudGl0eTtcclxuICAgIHZhciBNZXNoRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTWVzaEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBNZXNoRW50aXR5KGdyYXBoX2lkLCBtZXNoZmlsZSwgbWF0ZXJpYWxmaWxlLCB0ZXh0dXJlZmlsZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXNoZmlsZSA9IG1lc2hmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsZmlsZSA9IG1hdGVyaWFsZmlsZSB8fCBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlZmlsZSA9IHRleHR1cmVmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRCdWZmZXJzID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbmV3IFJlc291cmNlcy5NZXNoQnVmZmVycyh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZFRleHR1cmUgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBuZXcgUmVzb3VyY2VzLk1lc2hUZXh0dXJlKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEVudGl0eS5wcm90b3R5cGUsIFwibWF0ZXJpYWxcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNYXRlcmlhbCA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBuZXcgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWVzaCA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIGFzeW5jLndhdGVyZmFsbChbXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5fbWVzaGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIEJ1ZmZlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkQnVmZmVycyhzZWxmLl9tZXNoZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBCdWZmZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl90ZXh0dXJlZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRUZXh0dXJlKHNlbGYuX3RleHR1cmVmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIFRleHR1cmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZi5fbWF0ZXJpYWxmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBNYXRlcmlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRNYXRlcmlhbChzZWxmLl9tYXRlcmlhbGZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgTWF0ZXJpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXSwgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycilcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjYilcclxuICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNZXNoQnlPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgUmVzb3VyY2VzLk1lc2hCdWZmZXJzKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1hdGVyaWFsQnlPYmplY3QgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbmV3IFJlc291cmNlcy5NZXNoTWF0ZXJpYWwodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgaWYgKG9iai5hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5hbWJpZW50ID0gb2JqLmFtYmllbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIgPSBvYmouc3BlY3VsYXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlID0gb2JqLmRpZmZ1c2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9iai5zaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcyA9IG9iai5zaGluaW5lc3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLnNldE1hdGVyaWFsVW5pZm9ybXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbEFtYmllbnQgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxBbWJpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxBbWJpZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbEFtYmllbnQsIHRoaXMuX21hdGVyaWFsLmFtYmllbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgdGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsU3BlY3VsYXIgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxTcGVjdWxhclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsU3BlY3VsYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsU3BlY3VsYXIsIHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdVNoaW5pbmVzcyA9IHRoaXMuZ2V0VW5pZm9ybShcInVTaGluaW5lc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVTaGluaW5lc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1U2hpbmluZXNzLCB0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICBwdWJsaWMgc2V0VGV4dHVyZVVuaWZvcm1zKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VUZXh0dXJlID0gdGhpcy5nZXRVbmlmb3JtKFwidXNlVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGV4dHVyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodXNlVGV4dHVyZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLnRibyk7XHJcbiAgICAgICAgICAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV90ZXh0dXJlX2Nvb3Jkc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgS2V0Y2guVGV4dHVyZSh0aGlzLmdyYXBoSUQsIHRoaXMuX3RleHR1cmUuY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVzZVRleHR1cmUsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0qL1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5zZXRNYXRlcmlhbFVuaWZvcm1zKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLnZibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMubmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgdmFyIGl2Ym8gPSB0aGlzLl9idWZmZXJzLml2Ym87XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGl2Ym8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBpdmJvLm51bUl0ZW1zLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1lc2hFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuTWVzaEVudGl0eSA9IE1lc2hFbnRpdHk7XHJcbiAgICB2YXIgVHJhbnNmb3JtRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoVHJhbnNmb3JtRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFRyYW5zZm9ybUVudGl0eShncmFwaF9pZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbiB8fCB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZSB8fCB2ZWMzLmNyZWF0ZShbMSwgMSwgMV0pO1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uIHx8IHsgYW5nbGU6IDAsIGF4aXM6IHZlYzMuY3JlYXRlKCkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5pZGVudGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9tYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRNYXRyaXggPSBmdW5jdGlvbiAobmV3X21hdHJpeCkge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBuZXdfbWF0cml4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS50cmFuc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX21hdHJpeCwgdGhpcy5fbWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEFic29sdXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IFt4LCB5LCB6XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNpemUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gW3gsIHksIHpdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3NpemU7XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyb3RhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRSb3RhdGlvbiA9IGZ1bmN0aW9uIChhbmdsZSwgYXhpcykge1xyXG4gICAgICAgICAgICBpZiAoYW5nbGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgICAgICBpZiAoYXhpcylcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmF4aXMgPSBheGlzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBbmdsZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBeGlzID0gZnVuY3Rpb24gKGF4aXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYXhpcyA9IGF4aXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnJvdGF0ZUFuZ2xlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSArPSBhbmdsZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUubW92ZUF4aXMgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9yb3RhdGlvbi5heGlzO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3JvdGF0aW9uLmF4aXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2sucHVzaCgpO1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5Nb2RlbFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4U3RhY2subXZNYXRyaXg7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb3NpdGlvbiAhPSB2b2lkIDApXHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9tYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NpemUgIT0gdm9pZCAwKVxyXG4gICAgICAgICAgICAgICAgbWF0NC5zY2FsZSh0aGlzLl9tYXRyaXgsIHRoaXMuX3NpemUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcm90YXRpb24gIT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkID0gdGhpcy5fcm90YXRpb24uYW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGUodGhpcy5fbWF0cml4LCByYWQsIHRoaXMuX3JvdGF0aW9uLmF4aXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnNldFVwKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2sucG9wKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVHJhbnNmb3JtRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLlRyYW5zZm9ybUVudGl0eSA9IFRyYW5zZm9ybUVudGl0eTtcclxuICAgIHZhciBMaWdodEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKExpZ2h0RW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIExpZ2h0RW50aXR5KGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBwb3NpdGlvbiwgc3BlY3VsYXIsIGRpcmVjdGlvbiwgY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IGFtYmllbnQgPyB2ZWM0LmNyZWF0ZShhbWJpZW50KSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uID8gdmVjNC5jcmVhdGUocG9zaXRpb24pIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSBzcGVjdWxhciA/IHZlYzQuY3JlYXRlKHNwZWN1bGFyKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGRpcmVjdGlvbiA/IHZlYzMuY3JlYXRlKGRpcmVjdGlvbikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXRvZmYgPSBjdXRvZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiYW1iaWVudFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FtYmllbnQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoYW1iaWVudCkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImRpZmZ1c2VcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWN1bGFyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoc3BlY3VsYXIpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWMzLmNyZWF0ZShwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImRpcmVjdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSB1dGlscy5ub3JtYWxpemVOYU4odmVjMy5jcmVhdGUoZGlyZWN0aW9uKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiY3V0T2ZmXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3V0b2ZmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjdXRvZmYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1dG9mZiA9IGN1dG9mZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTGlnaHRFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2FtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRBbWJpZW50ID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0QW1iaWVudFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRBbWJpZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0QW1iaWVudCwgdGhpcy5fYW1iaWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHREaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0RGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHREaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0RGlmZnVzZSwgdGhpcy5fZGlmZnVzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0U3BlY3VsYXIgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRTcGVjdWxhclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodFNwZWN1bGFyLCB0aGlzLl9zcGVjdWxhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0UG9zaXRpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRQb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRQb3NpdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVMaWdodFBvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVEaXJlY3Rpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaXJlY3Rpb25cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodURpcmVjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVEaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaWYgKHRoaXMuX2N1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgIHZhciB1Q3V0T2ZmID0gdGhpcy5nZXRVbmlmb3JtKFwidUN1dE9mZlwiKTtcclxuICAgICAgICAgICAgICAgICBpZiAodUN1dE9mZilcclxuICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVDdXRPZmYsIHRoaXMuX2N1dG9mZik7XHJcbiAgICAgICAgICAgICB9Ki9cclxuICAgICAgICB9O1xyXG4gICAgICAgIExpZ2h0RW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIExpZ2h0RW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkxpZ2h0RW50aXR5ID0gTGlnaHRFbnRpdHk7XHJcbiAgICB2YXIgQ2FtZXJhRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQ2FtZXJhRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIENhbWVyYUVudGl0eShncmFwaF9pZCwgdHlwZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlIHx8IENBTUVSQV9UWVBFLk9SQklUSU5HO1xyXG4gICAgICAgICAgICB0aGlzLl9jbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9jbWF0cml4KTtcclxuICAgICAgICAgICAgdGhpcy5fdXAgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9yaWdodCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fYXppbXV0aCA9IDAuMDtcclxuICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVwcyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInR5cGVcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiYXppbXV0aFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F6aW11dGg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGF6KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcF9heiA9IGF6IC0gdGhpcy5fYXppbXV0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQXppbXV0aCh0ZW1wX2F6KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jaGFuZ2VBemltdXRoID0gZnVuY3Rpb24gKGF6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F6aW11dGggKz0gYXo7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hemltdXRoID4gMzYwIHx8IHRoaXMuX2F6aW11dGggPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hemltdXRoID0gdGhpcy5fYXppbXV0aCAlIDM2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiZWxldmF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxldmF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBfZWwgPSBlbCAtIHRoaXMuX2VsZXZhdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRWxldmF0aW9uKHRlbXBfZWwpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNoYW5nZUVsZXZhdGlvbiA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gKz0gZWw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGV2YXRpb24gPiAzNjAgfHwgdGhpcy5fZWxldmF0aW9uIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uID0gdGhpcy5fZWxldmF0aW9uICUgMzYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJ6b29tXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RlcHM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG4gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcCA9IHRoaXMucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IG9mZnNldCAtIHRoaXMuX3N0ZXBzO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLCBuKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdfcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzBdID0gcFswXSAtIHN0ZXAgKiBuWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsxXSA9IHBbMV0gLSBzdGVwICogblsxXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMl0gPSBwWzJdIC0gc3RlcCAqIG5bMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMF0gPSBwWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsxXSA9IHBbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzJdID0gcFsyXSAtIHN0ZXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3X3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RlcHMgPSBvZmZzZXQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2FsY3VsYXRlT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtID0gdGhpcy5fY21hdHJpeDtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzEsIDAsIDAsIDBdLCB0aGlzLl9yaWdodCk7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAxLCAwLCAwXSwgdGhpcy5fdXApO1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMCwgMSwgMF0sIHRoaXMuX25vcm1hbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9jbWF0cml4KTtcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX2NtYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWSh0aGlzLl9jbWF0cml4LCB0aGlzLl9hemltdXRoICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVgodGhpcy5fY21hdHJpeCwgdGhpcy5fZWxldmF0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVkodGhpcy5fY21hdHJpeCwgdGhpcy5fYXppbXV0aCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVYKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2VsZXZhdGlvbiAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fY21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlT3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMCwgMCwgMV0sIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwibW9kZWxWaWV3XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fY21hdHJpeCwgbSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENhbWVyYUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5DYW1lcmFFbnRpdHkgPSBDYW1lcmFFbnRpdHk7XHJcbiAgICB2YXIgTm9kZUVsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIE5vZGVFbGVtZW50KHBhcmVudCwgdHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZS5hZGRDaGlsZE5vZGUodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIHRoaXMuX29pZCA9IHV0aWxzLnV1aWQodGhpcy5fdHlwZSB8fCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcInBhcmVudFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwiZW50aXR5XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW50aXR5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJjaGlsZE5vZGVzXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2RlcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmFkZENoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoY2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5nZXRDaGlsZE5vZGVCeUluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzW2luZGV4XSB8fCB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZXhpc3RzQ2hpbGROb2RlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzW2luZGV4XSAhPT0gdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZS5yZW1vdmVDaGlsZE5vZGUodGhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ2hpbGROb2RlID0gZnVuY3Rpb24gKHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVFbGVtZW50KHRoaXMsIHR5cGUsIGVudGl0eSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaXNSb290ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZSA9PT0gdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdmFyIG9pZCA9IGNoaWxkLm9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIF8uZmluZEluZGV4KHRoaXMuX2NoaWxkTm9kZXMsIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLm9pZCA9PT0gb2lkOyB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pbmRleEluUGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpKVxyXG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5oYXNTaWJsaW5nID0gZnVuY3Rpb24gKHByZXYpIHtcclxuICAgICAgICAgICAgdmFyIF9oYXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4IC0gMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGF2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4ICsgMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGF2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfaGF2ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5uZXh0U2libGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkgJiYgdGhpcy5oYXNTaWJsaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIHNpYmxpbmcgPSB0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2libGluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5wcmV2aW91c1NpYmxpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpICYmIHRoaXMuaGFzU2libGluZyh0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2libGluZyA9IHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmZpcnN0Q2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZUJ5SW5kZXgoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUubGFzdENoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZE5vZGVCeUluZGV4KHRoaXMuX2NoaWxkTm9kZXMubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGROb2RlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0eSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5iZWdpbkRyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2NoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuX2NoaWxkTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5kcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5LmVuZERyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5vZGVFbGVtZW50O1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLk5vZGVFbGVtZW50ID0gTm9kZUVsZW1lbnQ7XHJcbiAgICB2YXIgU2NlbmVHcmFwaCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNjZW5lR3JhcGgsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2NlbmVHcmFwaCgpIHtcclxuICAgICAgICAgICAgdmFyIG9pZCA9IHV0aWxzLnV1aWQoKTtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fb2lkID0gb2lkO1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZSA9IG5ldyBOb2RlRWxlbWVudCh2b2lkIDAsIFwiU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrID0gbmV3IE1hdHJpeFN0YWNrKHRoaXMuX29pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckJ1ZmZlciA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgS2V0Y2guY3JlYXRlVmlldyh0aGlzLl9vaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwic2NlbmVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2VuZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcImlzRHJhd2luZ1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzRHJhd2luZztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuRW52aXJvbm1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcclxuICAgICAgICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XHJcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG4gICAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAxKTtcclxuICAgICAgICAgICAgZ2wuY2xlYXJEZXB0aCgxLjApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5faXNEcmF3aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgZ2wudmlld3BvcnRXaWR0aCwgZ2wudmlld3BvcnRIZWlnaHQpO1xyXG4gICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lLmRyYXcodGhpcy5fbWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2VuZS5jcmVhdGVDaGlsZE5vZGUodHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbW92ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZS5yZW1vdmVDaGlsZE5vZGUobm9kZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRDYW52YXNUb0NvbnRleHQodGhpcy5vaWQsIGNhbnZhcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtKHRoaXMuX29pZCwge1xyXG4gICAgICAgICAgICAgICAgZnJhZ21lbnQ6IFNoYWRlcnMuRnJhZ21lbnQuTWFpbixcclxuICAgICAgICAgICAgICAgIHZlcnRleDogU2hhZGVycy5WZXJ0ZXguTWFpblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1lc2ggPSBmdW5jdGlvbiAobWVzaCwgbWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2hFbnRpdHkgPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCk7XHJcbiAgICAgICAgICAgIGlmIChtZXNoKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNZXNoQnlPYmplY3QobWVzaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNYXRlcmlhbEJ5T2JqZWN0KG1hdGVyaWFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbWVzaEVudGl0eTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1lc2hCeUxvYWRlciA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCwgY29uZmlnLm1lc2gsIGNvbmZpZy5tYXRlcmlhbCwgY29uZmlnLnRleHR1cmUpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJCdWZmZXIucHVzaChtZXNoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAocG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtRW50aXR5KHRoaXMub2lkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTGlnaHQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaHRFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5hbWJpZW50LCBjb25maWcuZGlmZnVzZSwgY29uZmlnLnBvc2l0aW9uLCBjb25maWcuc3BlY3VsYXIsIGNvbmZpZy5kaXJlY3Rpb24sIGNvbmZpZy5jdXRvZmYpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYW1lcmFFbnRpdHkodGhpcy5vaWQsIHR5cGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcIk1haW5DYW1lcmFcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrLk1haW5DYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnN0YXJ0TG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fbG9hZGVyQnVmZmVyLCBmdW5jdGlvbiAoaXRlbSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5sb2FkTWVzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLkVudmlyb25tZW50KCk7XHJcbiAgICAgICAgICAgIHNlbGYuUHJvZ3JhbSgpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMoc2VsZi5fb2lkLCBTY2VuZUdyYXBoLkFUVFJJQlVURVMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5VTklGT1JNUyk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrLmluaXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZVdpdGhMb2FkZXIgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnN0YXJ0TG9hZGVyKGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGguVU5JRk9STVMgPSBbXHJcbiAgICAgICAgICAgICd1UE1hdHJpeCcsXHJcbiAgICAgICAgICAgICd1TVZNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU5NYXRyaXgnLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlyZWN0aW9uJyxcclxuICAgICAgICAgICAgJ3VMaWdodEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsQW1iaWVudCcsXHJcbiAgICAgICAgICAgICd1TGlnaHREaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbERpZmZ1c2UnLFxyXG4gICAgICAgICAgICAndUxpZ2h0U3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsU3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndVNoaW5pbmVzcycsXHJcbiAgICAgICAgXTtcclxuICAgICAgICBTY2VuZUdyYXBoLkFUVFJJQlVURVMgPSBbJ2FfcG9zaXRpb24nLCAnYV9ub3JtYWwnXTtcclxuICAgICAgICByZXR1cm4gU2NlbmVHcmFwaDtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2NlbmVHcmFwaCA9IFNjZW5lR3JhcGg7XHJcbn0pKEJsYXplIHx8IChCbGF6ZSA9IHt9KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
