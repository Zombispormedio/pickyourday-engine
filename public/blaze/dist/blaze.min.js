var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Blaze;!function(t){var e;!function(t){function e(t){for(var e=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{e=t.getContext(i[n])}catch(r){}if(e)break}return null===e?(alert("Could not initialise WebGL"),null):(e.viewportWidth=t.width,e.viewportHeight=t.height,e)}function i(e,i,n,r){var o=e.createBuffer();switch(e.bindBuffer(e.ARRAY_BUFFER,o),r){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ARRAY_BUFFER,null),n?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function n(e,i,n){var r=e.createBuffer(e.ELEMENT_ARRAY_BUFFER);switch(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),n){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),r.itemSize=1,r.numItems=i.length,r}function r(t,e){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),i}function o(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)}function a(t,e){var i=o(t,t.FRAGMENT_SHADER,e.fragment),n=o(t,t.VERTEX_SHADER,e.vertex),r=t.createProgram();return t.attachShader(r,n),t.attachShader(r,i),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)||console.log(t.getProgramInfoLog(r)),t.useProgram(r),r}t.getGLContext=e,function(t){t[t.STATIC=0]="STATIC",t[t.STREAM=1]="STREAM",t[t.DYNAMIC=2]="DYNAMIC"}(t.BUFFER_DRAW||(t.BUFFER_DRAW={}));t.BUFFER_DRAW;t.createBuffer=i,t.createIndexBuffer=n,t.createTexture=r,t.createShader=o,t.createProgram=a}(e=t.WebGLUtils||(t.WebGLUtils={}));var i;!function(t){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(t){var i=e()+e();return t?t+i:i}function n(t){return t.map(function(t){return Number.isNaN(t)&&(t=0),t})}function r(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",function(){e(i.responseText)}),i.send()}function o(t){var e=t.split(".");return e[e.length-1]}function a(){return(new Date).getTime()}function s(t){return t*Math.PI/180}function u(t,e){for(var i=0,n=1,r=2,o=[],a=0;a<t.length;a++)o[a]=0;for(var a=0;a<e.length;a+=3){var s=[],u=[],f=[];s[i]=t[3*e[a+1]+i]-t[3*e[a]+i],s[n]=t[3*e[a+1]+n]-t[3*e[a]+n],s[r]=t[3*e[a+1]+r]-t[3*e[a]+r],u[i]=t[3*e[a+2]+i]-t[3*e[a+1]+i],u[n]=t[3*e[a+2]+n]-t[3*e[a+1]+n],u[r]=t[3*e[a+2]+r]-t[3*e[a+1]+r],f[i]=s[n]*u[r]-s[r]*u[n],f[n]=s[r]*u[i]-s[i]*u[r],f[r]=s[i]*u[n]-s[n]*u[i];for(var c=0;3>c;c++)o[3*e[a+c]+i]=o[3*e[a+c]+i]+f[i],o[3*e[a+c]+n]=o[3*e[a+c]+n]+f[n],o[3*e[a+c]+r]=o[3*e[a+c]+r]+f[r]}for(var a=0;a<t.length;a+=3){var l=[];l[i]=o[a+i],l[n]=o[a+n],l[r]=o[a+r];var h=Math.sqrt(l[i]*l[i]+l[n]*l[n]+l[r]*l[r]);0==h&&(h=1e-5),l[i]=l[i]/h,l[n]=l[n]/h,l[r]=l[r]/h,o[a+i]=l[i],o[a+n]=l[n],o[a+r]=l[r]}return o}t.s4=e,t.uuid=i,t.normalizeNaN=n,t.load=r,t.getExtension=o,t.nowInMilliseconds=a,t.degToRad=s,t.calculateNormals=u}(i=t.utils||(t.utils={})),function(t){t[t.ORBITING=0]="ORBITING",t[t.TRACKING=1]="TRACKING"}(t.CAMERA_TYPE||(t.CAMERA_TYPE={}));var n=t.CAMERA_TYPE,r=function(){function t(){}return t.setCanvasToContext=function(i,n){var r=e.getGLContext(n);t.setContext(i,r)},t.setContext=function(e,i){t._views[e].context=i},t.getContext=function(e){return t._views[e].context},t.createProgram=function(i,n){var r=t.getContext(i),o=e.createProgram(r,n);t.setProgram(i,o)},t.setProgram=function(e,i){t._views[e].program=i},t.getProgram=function(e){return t._views[e].program},t.createView=function(e){t._views[e]={}},t.setAttributeLocations=function(e,i){var n=t._views[e],r=n.context,o=n.program;n.attribs=i.reduce(function(t,e){return t[e]=r.getAttribLocation(o,e),t},{})},t.getAttrib=function(e,i){return t._views[e].attribs[i]},t.getUniform=function(e,i){return t._views[e].uniforms[i]},t.setUniformLocations=function(e,i){var n=t._views[e],r=n.context,o=n.program;n.uniforms=i.reduce(function(t,e){return t[e]=r.getUniformLocation(o,e),t},{})},t.enableAttrib=function(e,i,n){var r=t.getAttrib(e,i),o=t.getContext(e);o.enableVertexAttribArray(r),n?o.vertexAttribPointer(r,n.size||3,o.FLOAT,n.normalized||!1,n.stride||0,n.offset||0):o.vertexAttribPointer(r,3,o.FLOAT,!1,0,0)},t.disableAttrib=function(e,i){var n=t.getAttrib(e,i),r=t.getContext(e);r.disableVertexAttribArray(n)},t.renderLoop=function(t){setInterval(t,30)},t.addTexture=function(e,i){var n=t._views[e];n.textures=n.textures||[],n.textures.push(i)},t.removeTexture=function(e,i){var n=t._views[e];n.textures=n.textures||[];var r=n.textures.indexOf(i);n.textures.splice(r,1),console.log(n.textures)},t.activeTexture=function(e,i,n){var r=t._views[e],o=r.context,a=(r.program,r.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,n);var s=t.getUniform(e,"uSampler");o.uniform1i(s,a)}},t.isOffScreen=function(e){return t._views[e].offscreen},t.enableOffScreen=function(e){t._views[e].offscreen=!0},t.disableOffScreen=function(e){t._views[e].offscreen=!0},t.fillSelectorBuffer=function(e,i){var n=t._views[e];n.selectObjects=n.selectObjects||[],n.selectObjects.push(i)},t.clearSelectorBuffer=function(e,i){var n=t._views[e];n.selectObjects=[]},t._views={},t}();t.Ketch=r;var o=function(){function t(t){this._graph_id=t}return Object.defineProperty(t.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return r.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"program",{get:function(){return r.getProgram(this.graphID)},enumerable:!0,configurable:!0}),t.prototype.getUniform=function(t){return r.getUniform(this.graphID,t)},t}();t.Renderable=o;var a=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.beginDraw=function(t){},e.prototype.endDraw=function(t){},e}(o);t.Entity=a;var s=function(t){function e(e){t.call(this,e),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(e,t),e.prototype.push=function(){var t=mat4.create();mat4.set(this._mvMatrix,t),this._stack.push(t)},e.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},e.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(e.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._camera=t},enumerable:!0,configurable:!0}),e.prototype.Perspective=function(){var t=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,t.viewportWidth/t.viewportHeight,.1,1e3,this._pMatrix)},e.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},e.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},e.prototype.setUp=function(){var t=this.gl;this.Normal();var e=this.getUniform("uMVMatrix");e&&t.uniformMatrix4fv(e,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&t.uniformMatrix4fv(i,!1,this._pMatrix);var n=this.getUniform("uNMatrix");n&&t.uniformMatrix4fv(n,!1,this._nMatrix)},e}(o);t.MatrixStack=s;var u;!function(t){var n=function(t){function n(e){t.call(this,e)}return __extends(n,t),Object.defineProperty(n.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(t){var e=this,n=this,r=i.getExtension(t);i.load(t,function(t){var i;switch(r){case"obj":i=n.parseOBJ(t);break;case"json":i=n.parseJSON(t)}n.createBuffers(i),e._onload&&e._onload()})},enumerable:!0,configurable:!0}),n.prototype.parseJSON=function(t){var e={};try{e=JSON.parse(t)}catch(i){console.log(i)}return e},n.prototype.parseOBJ=function(t){var e={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=t.split("\n"),n=i.filter(function(t){return"v"===t[0]}),r=i.filter(function(t){return"f"===t[0]});n.forEach(function(t){var i=t.replace("\r","").split(" "),n=i[0];e[n]=e[n].concat(i.slice(1).filter(function(t){return""!==t}))});var o=[];return r.forEach(function(t){var e=t.replace("\r","").replace("f","").split(" ");o=o.concat(e.slice(1).filter(function(t){return""!==t}))}),o.forEach(function(t){var i=t.split("/");e.iv.push(parseInt(i[0])-1),e["in"].push(parseInt(i[1])-1),e.it.push(parseInt(i[2])-1)}),e},n.prototype.createBuffers=function(t){function n(t){return e.createBuffer(o,t)}function r(t){return e.createIndexBuffer(o,t)}var o=this.gl;_.defaults(t,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),t.v.length>0&&(this._vbo=n(t.v)),t.v.length>0&&t.iv.length>0&&(this._nbo=n(i.calculateNormals(t.v,t.iv))),t.vt.length>0&&(this._tbo=e.createBuffer(o,t.vt,!0)),t.iv.length>0&&(this._ivbo=r(t.iv)),t["in"].length>0&&(this._inbo=r(t["in"])),t.it.length>0&&(this._itbo=r(t.it))},Object.defineProperty(n.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),n}(o);t.MeshBuffers=n;var a=function(t){function n(e){t.call(this,e),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(n,t),Object.defineProperty(n.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(t){this._image.onload=this.loadTextureImage(this._onload),this._image.src=t},enumerable:!0,configurable:!0}),n.prototype.loadTextureImage=function(t){var i=this,n=this;return function(){i._texture=e.createTexture(n.gl,n._image),r.addTexture(n.graphID,n._oid),t&&t()}},Object.defineProperty(n.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),n}(o);t.MeshTexture=a;var s=function(t){function e(e,i,n,r,o){t.call(this,e),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=n?vec4.create(n):void 0,this._specular=r?vec4.create(r):vec4.create(),this._shininess=o||200}return __extends(e,t),Object.defineProperty(e.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{set:function(t){var e=this,n=this;i.load(t,function(t){var i=n.parse(t);e._ambient=i.Ka,e._diffuse=i.Kd,e._specular=i.Ks,e.shininess=i.Ns,e._onload&&e._onload()})},enumerable:!0,configurable:!0}),e.prototype.parse=function(t){var e={},i=["Ka","Kd","Ks","Ns"],n=t.split("\n");return n.forEach(function(t){var n=t.split(" "),r=n[0];if(i.indexOf(r)>-1)switch(r){case"Ns":e.Ns=Number(n[1]);break;default:var o=n.slice(1).map(function(t){return Number(t)});o.push(1),e[r]=o}}),e},Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shininess",{get:function(){return this._shininess},set:function(t){this._shininess=t},enumerable:!0,configurable:!0}),e}(o);t.MeshMaterial=s}(u=t.Resources||(t.Resources={}));var f;!function(t){var e=function(){function t(){}return t.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform bool uWireframe;\n\nuniform sampler2D uSampler;\n\nvarying vec4 vColor;\n\n\nbool isBlack(vec4 color){\nreturn color.r==0.0 &&color.g==0.0&&color.b==0.0;\n}\nvoid main(void) { \n     if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n    gl_FragColor = texture2D(uSampler, gl_PointCoord);\n    if(gl_FragColor.a < 0.5 || isBlack(gl_FragColor)) discard;\n    }\n}",t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform bool uWireframe;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n\n        if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n        \n    	\n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        }\n        \n}\n\n\n",t}();t.Fragment=e;var i=function(){function t(){}return t.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec3 a_position;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform float uPointSize;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec4 vColor;\n\nvoid main(void) {\n\n if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }\n    \n    gl_Position = uPMatrix * uMVMatrix * vec4(a_position.xyz, 1.0);\n    gl_PointSize = uPointSize;\n}",t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",t}();t.Vertex=i}(f=t.Shaders||(t.Shaders={}));var c=function(t){function e(e,i,n,r){t.call(this,e),this._frequency=i,this._interval_id=null,this._callback=r}return __extends(e,t),e.prototype.onFrame=function(){if(e.ElapseTime=i.nowInMilliseconds(),!(e.ElapseTime<5)){for(var t=Math.floor(e.ElapseTime/this._frequency);t>0&&e.Count!=this._times;)this._callback(),t--,e.Count++;e.Count===this._times&&this.stop()}},e.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},e.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},e.prototype.beginDraw=function(){},e.prototype.endDraw=function(){},e.Count=0,e}(a);t.AnimationEntity=c;var l=function(t){function e(e,i,n,r){t.call(this,e),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=n||null,this._texturefile=r||null}return __extends(e,t),e.prototype.loadBuffers=function(t,e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=e,this._buffers.src=t},e.prototype.loadTexture=function(t,e){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=e,this._texture.src=t},Object.defineProperty(e.prototype,"material",{set:function(t){this._material=t},enumerable:!0,configurable:!0}),e.prototype.loadMaterial=function(t,e){this._material=new u.MeshMaterial(this.graphID),this._material.onload=e,this._material.src=t},e.prototype.loadMesh=function(t){var e=this,i=this;async.waterfall([function(t){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),t()})):t()},function(t){return e._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),t()})):t()},function(t){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),t()})):t()}],function(e){return e?console.log(e):void(t&&t())})},e.prototype.loadMeshByObject=function(t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(t)},e.prototype.loadMaterialByObject=function(t){this._material=new u.MeshMaterial(this.graphID),t.ambient&&(this._material.ambient=t.ambient),t.specular&&(this._material.specular=t.specular),t.diffuse&&(this._material.diffuse=t.diffuse),t.shininess&&(this._material.shininess=t.shininess)},e.prototype.setMaterialUniforms=function(){if(this._material){var t=this.gl;if(this._material.ambient){var e=this.getUniform("uMaterialAmbient");e&&t.uniform4fv(e,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var n=this.getUniform("uMaterialSpecular");n&&t.uniform4fv(n,this._material.specular)}if(this._material.shininess){var r=this.getUniform("uShininess");r&&t.uniform1f(r,this._material.shininess)}}},e.prototype.beginDraw=function(){var t=this.gl;this.setMaterialUniforms(),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.nbo),r.enableAttrib(this.graphID,"a_normal");var e=this._buffers.ivbo;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.drawElements(t.TRIANGLES,e.numItems,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl;r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_normal"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.MeshEntity=l;var h=function(t){function e(e,i,n,r){t.call(this,e),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=n||vec3.create([1,1,1]),this._rotation=r||{angle:0,axis:vec3.create()}}return __extends(e,t),e.prototype.identity=function(){mat4.identity(this._matrix)},e.prototype.setMatrix=function(t){this._matrix=t},e.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),e.prototype.setAbsolutePosition=function(t,e,i){this._position=[t,e,i]},e.prototype.translate=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._position,r=vec3.create([t,e,i]);vec3.add(n,r,this._position)},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),e.prototype.setSize=function(t,e,i){this._size=[t,e,i]},e.prototype.scale=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._size,r=vec3.create([t,e,i]);vec3.add(n,r,this._size)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t},enumerable:!0,configurable:!0}),e.prototype.setRotation=function(t,e){t&&(this._rotation.angle=t),e&&(this._rotation.axis=e)},e.prototype.setAngle=function(t){this._rotation.angle=t},e.prototype.setAxis=function(t){this._rotation.axis=t},e.prototype.rotateAngle=function(t){void 0===t&&(t=0),this._rotation.angle+=t},e.prototype.moveAxis=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._rotation.axis,r=vec3.create([t,e,i]);vec3.add(n,r,this._rotation.axis)},e.prototype.beginDraw=function(t){if(t.push(),t.ModelView(),this._matrix=t.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var e=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,e,this._rotation.axis)}t.setUp()},e.prototype.endDraw=function(t){t.pop()},e}(a);t.TransformEntity=h;var p=function(t){function e(e,i,n,r,o,a,s){t.call(this,e),this._ambient=i?vec4.create(i):null,this._diffuse=n?vec4.create(n):null,this._position=r?vec4.create(r):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(e,t),Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._diffuse},set:function(t){this._position=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutOff",{get:function(){return this._cutoff},set:function(t){this._cutoff=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl;if(this._ambient){var e=this.getUniform("uLightAmbient");e&&t.uniform4fv(e,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&t.uniform4fv(i,this._diffuse)}if(this._specular){var n=this.getUniform("uLightSpecular");n&&t.uniform4fv(n,this._specular)}if(this._position){var r=this.getUniform("uLightPosition");r&&t.uniform3fv(r,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&t.uniform3fv(o,this._direction)}},e.prototype.endDraw=function(){},e}(a);t.LightEntity=p;var d=function(t){function e(e,i){t.call(this,e),this._value=i}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uMaterialDiffuse");e&&t.uniform4fv(e,this._value)},e.prototype.endDraw=function(){},e}(a);t.DiffuseEntity=d;var v=function(t){function n(e,i){t.call(this,e),this._pointSize=i||1,this._buffer=null,this._texture_id=""}return __extends(n,t),n.prototype.configure=function(t,n){var o=this.gl;this._buffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this._numItems=t.length,this._texture_id=i.uuid("Texture"),this._texture=e.createTexture(o,n),r.addTexture(this.graphID,this._texture_id)},n.prototype.update=function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this._buffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._numItems=t.length},Object.defineProperty(n.prototype,"textureID",{get:function(){return this._texture_id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointSize",{set:function(t){this._pointSize=t},enumerable:!0,configurable:!0}),n.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uPointSize");e&&t.uniform1f(e,this._pointSize),t.bindBuffer(t.ARRAY_BUFFER,this._buffer),r.enableAttrib(this.graphID,"a_position"),r.activeTexture(this.graphID,this._texture_id,this._texture),t.drawArrays(t.POINTS,0,this._numItems/3)},n.prototype.endDraw=function(){var t=this.gl;r.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null)},n}(a);t.ParticleEntity=v;var b=function(t){function e(e,i){t.call(this,e),this._type=i||n.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(e,t),Object.defineProperty(e.prototype,"type",{set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"azimuth",{get:function(){return this._azimuth},set:function(t){var e=t-this._azimuth;this.changeAzimuth(e)},enumerable:!0,configurable:!0}),e.prototype.changeAzimuth=function(t){this._azimuth+=t,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(e.prototype,"elevation",{get:function(){return this._elevation},set:function(t){var e=t-this._elevation;this.changeElevation(e)},enumerable:!0,configurable:!0}),e.prototype.changeElevation=function(t){this._elevation+=t,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(e.prototype,"zoom",{get:function(){return this._steps},set:function(t){var e=vec3.create(),i=vec3.create();e=this.position;var r=t-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===n.TRACKING?(o[0]=e[0]-r*i[0],o[1]=e[1]-r*i[1],o[2]=e[2]-r*i[2]):(o[0]=e[0],o[1]=e[1],o[2]=e[2]-r),this.position=o,this._steps=t},enumerable:!0,configurable:!0}),e.prototype.calculateOrientation=function(){var t=this._cmatrix;mat4.multiplyVec4(t,[1,0,0,0],this._right),mat4.multiplyVec4(t,[0,1,0,0],this._up),mat4.multiplyVec4(t,[0,0,1,0],this._normal)},e.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===n.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===n.TRACKING&&mat4.multiplyVec4(m,[0,0,0,1],this._position)},Object.defineProperty(e.prototype,"modelView",{get:function(){var t=mat4.create();return mat4.inverse(this._cmatrix,t),t},enumerable:!0,configurable:!0}),e.prototype.endDraw=function(){},e}(a);t.CameraEntity=b;var g=function(t){function e(e,i){t.call(this,e),i=i||100,this._vertices=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],this._indices=[0,1,2,3,4,5],this._colors=[1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1]}return __extends(e,t),e.prototype.init=function(){var t=this.gl;this._vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._vertices),t.STATIC_DRAW),this._ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),t.STATIC_DRAW),this._cbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._cbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._colors),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!0);var i=this.getUniform("uPerVertexColor");i&&t.uniform1i(i,!0),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._cbo),r.enableAttrib(this.graphID,"a_color",{size:4}),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.drawElements(t.LINES,this._indices.length,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!1);var i=this.getUniform("uPerVertexColor");i&&t.uniform1i(i,!1),r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_color"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.AxisEntity=g;var y=function(t){function e(e,i,n){t.call(this,e),this._dimesions={dim:i||50,lines:n||50}}return __extends(e,t),e.prototype.init=function(){var t=this.gl;this.build(),this._vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._vertices),t.STATIC_DRAW),this._ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e.prototype.build=function(){for(var t=2*this._dimesions.dim/this._dimesions.lines,e=[],i=[],n=0;n<=this._dimesions.lines;n++)e[6*n]=-this._dimesions.dim,e[6*n+1]=-.5,e[6*n+2]=-this._dimesions.dim+n*t,e[6*n+3]=this._dimesions.dim,e[6*n+4]=-.5,e[6*n+5]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n+1]=-.5,e[6*(this._dimesions.lines+1)+6*n+2]=-this._dimesions.dim,e[6*(this._dimesions.lines+1)+6*n+3]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n+4]=-.5,e[6*(this._dimesions.lines+1)+6*n+5]=this._dimesions.dim,i[2*n]=2*n,i[2*n+1]=2*n+1,i[2*(this._dimesions.lines+1)+2*n]=2*(this._dimesions.lines+1)+2*n,i[2*(this._dimesions.lines+1)+2*n+1]=2*(this._dimesions.lines+1)+2*n+1;this._vertices=e,this._indices=i},e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!0);var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,[.7,.7,.7,1]),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.drawElements(t.LINES,this._indices.length,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!1),r.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.GridEntity=y;var R=function(t){function e(e){t.call(this,e)}return __extends(e,t),e}(a);t.SelectEntity=R;var A=function(t){function e(e){t.call(this,e)}return __extends(e,t),e}(o);t.Selector=A;var x=function(){function t(t,e,n){this._parentNode=t,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=e,this._oid=i.uuid(this._type||this.constructor.name),this._entity=n;
}return Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"entity",{get:function(){return this._entity},set:function(t){this._entity=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),t.prototype.addChildNode=function(t){this._childNodes.push(t)},t.prototype.removeChildNode=function(t){var e=this.indexOf(t);e>-1&&this._childNodes.splice(e,1)},t.prototype.getChildNodeByIndex=function(t){return this._childNodes[t]||void 0},t.prototype.existsChildNode=function(t){return void 0!==this._childNodes[t]},t.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},t.prototype.createChildNode=function(e,i){return new t(this,e,i)},t.prototype.isRoot=function(){return void 0===this._parentNode},t.prototype.indexOf=function(t){var e=t.oid;return _.findIndex(this._childNodes,function(t){return t.oid===e})},t.prototype.indexInParent=function(){var t=-1;return this.isRoot()||(t=this._parentNode.indexOf(this)),t},t.prototype.hasSibling=function(t){var e=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(t?this._parentNode.getChildNodeByIndex(i-1)&&(e=!0):this._parentNode.getChildNodeByIndex(i+1)&&(e=!0))}return e},t.prototype.nextSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling()){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e+1)}return t},t.prototype.previousSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling(!0)){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e-1)}return t},t.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},t.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},t.prototype.removeChildNodes=function(){this._childNodes=[]},t.prototype.draw=function(t){this._entity&&this._entity.beginDraw(t);for(var e=0;e<this._childNodes.length;e++){var i=this._childNodes[e];i.draw(t)}this._entity&&this._entity.endDraw(t)},t}();t.NodeElement=x;var E=function(t){function e(){var e=i.uuid();t.call(this,e),this._oid=e,this._scene=new x(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],this._isDrawing=!1,r.createView(this._oid)}return __extends(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDrawing",{get:function(){return this._isDrawing},enumerable:!0,configurable:!0}),e.prototype.Environment=function(t){var e=this.gl;t=t||[],e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.clearColor(t[0]||0,t[1]||0,t[2]||0,1),e.clearDepth(1)},e.prototype.draw=function(){var t=this.gl;this._isDrawing=!0,t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this._scene.draw(this._matrixStack),this._isDrawing=!1},e.prototype.createMainChildNode=function(t,e){return this._scene.createChildNode(t,e)},e.prototype.removeMainChildNode=function(t){this._scene.removeChildNode(t)},Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),e.prototype.setContext=function(t){r.setCanvasToContext(this.oid,t)},e.prototype.Program=function(t){t=t||"Phong",r.createProgram(this._oid,{fragment:f.Fragment[t],vertex:f.Vertex[t]})},e.prototype.createMesh=function(t){var e=new l(this.oid);return t.mesh&&e.loadMeshByObject(t.mesh),t.material&&e.loadMaterialByObject(t.material),e},e.prototype.createDiffuse=function(t){return new d(this.oid,t)},e.prototype.createMeshByLoader=function(t){var e=new l(this.oid,t.mesh,t.material,t.texture);return this._loaderBuffer.push(e),e},e.prototype.createTransform=function(t,e,i){return new h(this.oid,t,e,i)},e.prototype.createLight=function(t){return new p(this.oid,t.ambient,t.diffuse,t.position,t.specular,t.direction,t.cutoff)},e.prototype.createCamera=function(t){return new b(this.oid,t)},e.prototype.createParticle=function(t){return new v(this.oid,t)},e.prototype.createAxis=function(t){return new g(this.oid,t)},e.prototype.createGrid=function(t,e){return new y(this.oid,t,e)},Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._matrixStack.MainCamera=t},enumerable:!0,configurable:!0}),e.prototype.removeTexture=function(t){r.removeTexture(this.oid,t)},e.prototype.startLoader=function(t){async.eachSeries(this._loaderBuffer,function(t,e){t.loadMesh(function(){console.log(t),e()})},t)},e.prototype.configure=function(t){var i=this;t=t||{},i.Environment(t.background),i.Program(t.typeShader),r.setAttributeLocations(i._oid,e.ATTRIBUTES),r.setUniformLocations(i._oid,e.UNIFORMS),this._matrixStack.init()},e.prototype.configureWithLoader=function(t){var e=this;e.configure(),e.startLoader(t)},e.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightDirection","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uPointSize","uSampler","uWireframe","uPerVertexColor","uSelectColor","uOffScreen"],e.ATTRIBUTES=["a_position","a_normal","a_color"],e}(o);t.SceneGraph=E}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiY3JlYXRlU2hhZGVyIiwidHlwZSIsInNoYWRlclNvdXJjZSIsInNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiY3JlYXRlUHJvZ3JhbSIsInNoYWRlcnMiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImZyYWdtZW50IiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsInZlcnRleCIsInByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwidXNlUHJvZ3JhbSIsInV0aWxzIiwiczQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInV1aWQiLCJuYW1lIiwiaWQiLCJub3JtYWxpemVOYU4iLCJ2ZWMiLCJtYXAiLCJhIiwiTnVtYmVyIiwiaXNOYU4iLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJnZXRFeHRlbnNpb24iLCJzdHIiLCJlbGVtcyIsInNwbGl0Iiwibm93SW5NaWxsaXNlY29uZHMiLCJEYXRlIiwiZ2V0VGltZSIsImRlZ1RvUmFkIiwiUEkiLCJjYWxjdWxhdGVOb3JtYWxzIiwidnMiLCJpbmQiLCJ4IiwieSIsInoiLCJucyIsInYxIiwidjIiLCJub3JtYWwiLCJqIiwibm4iLCJsZW4iLCJzcXJ0IiwiQ0FNRVJBX1RZUEUiLCJLZXRjaCIsInNldENhbnZhc1RvQ29udGV4dCIsImtleSIsImNvbnRleHQiLCJzZXRDb250ZXh0IiwiX3ZpZXdzIiwic2V0UHJvZ3JhbSIsImdldFByb2dyYW0iLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsInZpZXciLCJwcmciLCJhdHRyaWJzIiwicmVkdWNlIiwicHJldiIsImF0dHIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImdldEF0dHJpYiIsInZpZXdfa2V5IiwiYXR0cl9rZXkiLCJnZXRVbmlmb3JtIiwidW5pZm9ybV9rZXkiLCJ1bmlmb3JtcyIsInNldFVuaWZvcm1Mb2NhdGlvbnMiLCJ1bmlmb3JtX25hbWVzIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZW5hYmxlQXR0cmliIiwicG9pbnRlciIsImluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwic2l6ZSIsIkZMT0FUIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIm9mZnNldCIsImRpc2FibGVBdHRyaWIiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJyZW5kZXJMb29wIiwiY2IiLCJzZXRJbnRlcnZhbCIsImFkZFRleHR1cmUiLCJ0ZXh0dXJlX2lkIiwidGV4dHVyZXMiLCJwdXNoIiwicmVtb3ZlVGV4dHVyZSIsImluZGV4T2YiLCJzcGxpY2UiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1U2FtcGxlciIsInVuaWZvcm0xaSIsImlzT2ZmU2NyZWVuIiwib2Zmc2NyZWVuIiwiZW5hYmxlT2ZmU2NyZWVuIiwiZGlzYWJsZU9mZlNjcmVlbiIsImZpbGxTZWxlY3RvckJ1ZmZlciIsIm9iaiIsInNlbGVjdE9iamVjdHMiLCJjbGVhclNlbGVjdG9yQnVmZmVyIiwiUmVuZGVyYWJsZSIsImdyYXBoX2lkIiwiX2dyYXBoX2lkIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ3JhcGhJRCIsIkVudGl0eSIsIl9zdXBlciIsImNhbGwiLCJiZWdpbkRyYXciLCJtYXRyaXhTdGFjayIsImVuZERyYXciLCJNYXRyaXhTdGFjayIsIl9zdGFjayIsIl9tdk1hdHJpeCIsIm1hdDQiLCJfcE1hdHJpeCIsIl9uTWF0cml4IiwiY29weSIsInNldCIsInBvcCIsIk1vZGVsVmlldyIsIl9jYW1lcmEiLCJtb2RlbFZpZXciLCJpZGVudGl0eSIsImNhbWVyYSIsIlBlcnNwZWN0aXZlIiwicGVyc3BlY3RpdmUiLCJOb3JtYWwiLCJpbnZlcnNlIiwidHJhbnNwb3NlIiwiaW5pdCIsInNldFVwIiwibXZNYXRyaXgiLCJ1bmlmb3JtTWF0cml4NGZ2IiwicE1hdHJpeCIsIm5NYXRyaXgiLCJSZXNvdXJjZXMiLCJNZXNoQnVmZmVycyIsIl9vbmxvYWQiLCJzcmMiLCJfdGhpcyIsInNlbGYiLCJleHQiLCJwYXJzZU9CSiIsInBhcnNlSlNPTiIsImNyZWF0ZUJ1ZmZlcnMiLCJKU09OIiwicGFyc2UiLCJ2Iiwidm4iLCJ2dCIsIml2IiwiaW4iLCJpdCIsImxpbmVzIiwiZmlsdGVyIiwiZm9yRWFjaCIsIml0ZW0iLCJyZXBsYWNlIiwiY29uY2F0Iiwic2xpY2UiLCJ0ZW1wSW5kZXgiLCJwYXJzZUludCIsIl8iLCJkZWZhdWx0cyIsIl92Ym8iLCJfbmJvIiwiX3RibyIsIl9pdmJvIiwiX2luYm8iLCJfaXRibyIsIk1lc2hUZXh0dXJlIiwiX2ltYWdlIiwiSW1hZ2UiLCJfb2lkIiwiZmlsZW5hbWUiLCJvbmxvYWQiLCJsb2FkVGV4dHVyZUltYWdlIiwiX3RleHR1cmUiLCJNZXNoTWF0ZXJpYWwiLCJhbWJpZW50IiwiZGlmZnVzZSIsInNwZWN1bGFyIiwic2hpbmluZXNzIiwiX2FtYmllbnQiLCJ2ZWM0IiwiX2RpZmZ1c2UiLCJfc3BlY3VsYXIiLCJfc2hpbmluZXNzIiwidGVtcCIsIkthIiwiS2QiLCJLcyIsIk5zIiwia2V5cyIsImxpbmUiLCJTaGFkZXJzIiwiRnJhZ21lbnQiLCJQYXJ0aWNsZSIsIlBob25nIiwiVmVydGV4IiwiQW5pbWF0aW9uRW50aXR5IiwiZnJlcXVlbmN5IiwidGltZXMiLCJfZnJlcXVlbmN5IiwiX2ludGVydmFsX2lkIiwiX2NhbGxiYWNrIiwib25GcmFtZSIsIkVsYXBzZVRpbWUiLCJzdGVwcyIsIkNvdW50IiwiX3RpbWVzIiwic3RvcCIsInN0YXJ0IiwiX2ludGltZSIsImNsZWFySW50ZXJ2YWwiLCJNZXNoRW50aXR5IiwibWVzaGZpbGUiLCJtYXRlcmlhbGZpbGUiLCJ0ZXh0dXJlZmlsZSIsIl9tYXRlcmlhbCIsIl9idWZmZXJzIiwiX21lc2hmaWxlIiwiX21hdGVyaWFsZmlsZSIsIl90ZXh0dXJlZmlsZSIsImxvYWRCdWZmZXJzIiwibG9hZFRleHR1cmUiLCJsb2FkTWF0ZXJpYWwiLCJsb2FkTWVzaCIsImFzeW5jIiwid2F0ZXJmYWxsIiwibmV4dCIsImVyciIsImxvYWRNZXNoQnlPYmplY3QiLCJsb2FkTWF0ZXJpYWxCeU9iamVjdCIsInNldE1hdGVyaWFsVW5pZm9ybXMiLCJ1TWF0ZXJpYWxBbWJpZW50IiwidW5pZm9ybTRmdiIsInVNYXRlcmlhbERpZmZ1c2UiLCJ1TWF0ZXJpYWxTcGVjdWxhciIsInVTaGluaW5lc3MiLCJ1bmlmb3JtMWYiLCJ2Ym8iLCJuYm8iLCJpdmJvIiwiZHJhd0VsZW1lbnRzIiwiVFJJQU5HTEVTIiwiVU5TSUdORURfU0hPUlQiLCJUcmFuc2Zvcm1FbnRpdHkiLCJwb3NpdGlvbiIsInJvdGF0aW9uIiwiX21hdHJpeCIsIl9wb3NpdGlvbiIsInZlYzMiLCJfc2l6ZSIsIl9yb3RhdGlvbiIsImFuZ2xlIiwiYXhpcyIsInNldE1hdHJpeCIsIm5ld19tYXRyaXgiLCJzZXRBYnNvbHV0ZVBvc2l0aW9uIiwidHJhbnNsYXRlIiwib3BlcmFuZDEiLCJvcGVyYW5kMiIsImFkZCIsInNldFNpemUiLCJzY2FsZSIsInNldFJvdGF0aW9uIiwic2V0QW5nbGUiLCJzZXRBeGlzIiwicm90YXRlQW5nbGUiLCJtb3ZlQXhpcyIsInJhZCIsInJvdGF0ZSIsIkxpZ2h0RW50aXR5IiwiZGlyZWN0aW9uIiwiY3V0b2ZmIiwiX2RpcmVjdGlvbiIsIl9jdXRvZmYiLCJ1TGlnaHRBbWJpZW50IiwidUxpZ2h0RGlmZnVzZSIsInVMaWdodFNwZWN1bGFyIiwidUxpZ2h0UG9zaXRpb24iLCJ1bmlmb3JtM2Z2IiwidURpcmVjdGlvbiIsIkRpZmZ1c2VFbnRpdHkiLCJfdmFsdWUiLCJQYXJ0aWNsZUVudGl0eSIsInBvaW50U2l6ZSIsIl9wb2ludFNpemUiLCJfYnVmZmVyIiwiX3RleHR1cmVfaWQiLCJjb25maWd1cmUiLCJkYXRhX21lc2giLCJkYXRhX3RleHR1cmUiLCJfbnVtSXRlbXMiLCJ1cGRhdGUiLCJ1UG9pbnRTaXplIiwiZHJhd0FycmF5cyIsIlBPSU5UUyIsIkNhbWVyYUVudGl0eSIsIl90eXBlIiwiT1JCSVRJTkciLCJfY21hdHJpeCIsIl91cCIsIl9yaWdodCIsIl9ub3JtYWwiLCJfYXppbXV0aCIsIl9lbGV2YXRpb24iLCJfc3RlcHMiLCJwb3MiLCJheiIsInRlbXBfYXoiLCJjaGFuZ2VBemltdXRoIiwiZWwiLCJ0ZW1wX2VsIiwiY2hhbmdlRWxldmF0aW9uIiwibiIsInN0ZXAiLCJub3JtYWxpemUiLCJuZXdfcG9zaXRpb24iLCJUUkFDS0lORyIsImNhbGN1bGF0ZU9yaWVudGF0aW9uIiwibSIsIm11bHRpcGx5VmVjNCIsInJvdGF0ZVkiLCJyb3RhdGVYIiwiQXhpc0VudGl0eSIsIl92ZXJ0aWNlcyIsIl9pbmRpY2VzIiwiX2NvbG9ycyIsIl9pYm8iLCJfY2JvIiwidVdpcmVmcmFtZSIsInVQZXJWZXJ0ZXhDb2xvciIsIkxJTkVTIiwiR3JpZEVudGl0eSIsIl9kaW1lc2lvbnMiLCJkaW0iLCJidWlsZCIsImluYyIsImwiLCJTZWxlY3RFbnRpdHkiLCJTZWxlY3RvciIsIk5vZGVFbGVtZW50IiwicGFyZW50IiwiZW50aXR5IiwiX3BhcmVudE5vZGUiLCJhZGRDaGlsZE5vZGUiLCJfY2hpbGROb2RlcyIsIl9lbnRpdHkiLCJjaGlsZCIsInJlbW92ZUNoaWxkTm9kZSIsImdldENoaWxkTm9kZUJ5SW5kZXgiLCJleGlzdHNDaGlsZE5vZGUiLCJjcmVhdGVDaGlsZE5vZGUiLCJpc1Jvb3QiLCJvaWQiLCJmaW5kSW5kZXgiLCJzIiwiaW5kZXhJblBhcmVudCIsImhhc1NpYmxpbmciLCJfaGF2ZSIsIm5leHRTaWJsaW5nIiwic2libGluZyIsInByZXZpb3VzU2libGluZyIsImZpcnN0Q2hpbGQiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZE5vZGVzIiwiZHJhdyIsIlNjZW5lR3JhcGgiLCJfc2NlbmUiLCJfbWF0cml4U3RhY2siLCJfbG9hZGVyQnVmZmVyIiwiX2lzRHJhd2luZyIsIkVudmlyb25tZW50IiwiZW5hYmxlIiwiREVQVEhfVEVTVCIsImRlcHRoRnVuYyIsIkxFUVVBTCIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsImNsZWFyQ29sb3IiLCJjbGVhckRlcHRoIiwidmlld3BvcnQiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlTWFpbkNoaWxkTm9kZSIsInJlbW92ZU1haW5DaGlsZE5vZGUiLCJub2RlIiwiUHJvZ3JhbSIsImNyZWF0ZU1lc2giLCJjb25maWciLCJtZXNoRW50aXR5IiwibWVzaCIsIm1hdGVyaWFsIiwiY3JlYXRlRGlmZnVzZSIsImNyZWF0ZU1lc2hCeUxvYWRlciIsImNyZWF0ZVRyYW5zZm9ybSIsImNyZWF0ZUxpZ2h0IiwiY3JlYXRlQ2FtZXJhIiwiY3JlYXRlUGFydGljbGUiLCJjcmVhdGVBeGlzIiwiY3JlYXRlR3JpZCIsIk1haW5DYW1lcmEiLCJzdGFydExvYWRlciIsImVhY2hTZXJpZXMiLCJiYWNrZ3JvdW5kIiwidHlwZVNoYWRlciIsIkFUVFJJQlVURVMiLCJVTklGT1JNUyIsImNvbmZpZ3VyZVdpdGhMb2FkZXIiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLFdBQWFDLE1BQVFBLEtBQUtELFdBQWMsU0FBVUUsRUFBR0MsR0FFckQsUUFBU0MsS0FBT0gsS0FBS0ksWUFBY0gsRUFEbkMsSUFBSyxHQUFJSSxLQUFLSCxHQUFPQSxFQUFFSSxlQUFlRCxLQUFJSixFQUFFSSxHQUFLSCxFQUFFRyxHQUVuREosR0FBRU0sVUFBa0IsT0FBTkwsRUFBYU0sT0FBT0MsT0FBT1AsSUFBTUMsRUFBR0ksVUFBWUwsRUFBRUssVUFBVyxHQUFJSixLQUUvRU8sT0FDSixTQUFXQSxHQUNQLEdBQUlDLElBQ0osU0FBV0EsR0FDUCxRQUFTQyxHQUFhQyxHQUdsQixJQUFLLEdBRkRDLEdBQU0sS0FDTkMsR0FBUyxRQUFTLHFCQUFzQixZQUFh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IF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufTtcclxudmFyIEJsYXplO1xyXG4oZnVuY3Rpb24gKEJsYXplKSB7XHJcbiAgICB2YXIgV2ViR0xVdGlscztcclxuICAgIChmdW5jdGlvbiAoV2ViR0xVdGlscykge1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEdMQ29udGV4dChjYW52YXMpIHtcclxuICAgICAgICAgICAgdmFyIGN0eCA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBuYW1lcyA9IFtcIndlYmdsXCIsIFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsIFwid2Via2l0LTNkXCIsIFwibW96LXdlYmdsXCJdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KG5hbWVzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgICAgIGlmIChjdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3R4ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIkNvdWxkIG5vdCBpbml0aWFsaXNlIFdlYkdMXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdHgudmlld3BvcnRXaWR0aCA9IGNhbnZhcy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGN0eC52aWV3cG9ydEhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuZ2V0R0xDb250ZXh0ID0gZ2V0R0xDb250ZXh0O1xyXG4gICAgICAgIChmdW5jdGlvbiAoQlVGRkVSX0RSQVcpIHtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJTVEFUSUNcIl0gPSAwXSA9IFwiU1RBVElDXCI7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiU1RSRUFNXCJdID0gMV0gPSBcIlNUUkVBTVwiO1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIkRZTkFNSUNcIl0gPSAyXSA9IFwiRFlOQU1JQ1wiO1xyXG4gICAgICAgIH0pKFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcgfHwgKFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcgPSB7fSkpO1xyXG4gICAgICAgIHZhciBCVUZGRVJfRFJBVyA9IFdlYkdMVXRpbHMuQlVGRkVSX0RSQVc7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnVmZmVyKGdsLCBkYXRhLCBpczJELCB0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyKTtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVEFUSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5EWU5BTUlDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUUkVBTTpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RSRUFNX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGlmIChpczJEKSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIuaXRlbVNpemUgPSAyO1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLml0ZW1TaXplID0gMztcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoIC8gMztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZUJ1ZmZlciA9IGNyZWF0ZUJ1ZmZlcjtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbmRleEJ1ZmZlcihnbCwgZGF0YSwgdHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGluZGV4QnVmZmVyKTtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlX2RyYXcpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVEFUSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuRFlOQU1JQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLkRZTkFNSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RSRUFNOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RSRUFNX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLml0ZW1TaXplID0gMTtcclxuICAgICAgICAgICAgaW5kZXhCdWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4QnVmZmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZUluZGV4QnVmZmVyID0gY3JlYXRlSW5kZXhCdWZmZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlVGV4dHVyZShnbCwgZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgZGF0YSk7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5MSU5FQVIpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0dXJlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZVRleHR1cmUgPSBjcmVhdGVUZXh0dXJlO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNoYWRlcihnbCwgdHlwZSwgc2hhZGVyU291cmNlKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgICAgICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XHJcbiAgICAgICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuICAgICAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2hhZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZVNoYWRlciA9IGNyZWF0ZVNoYWRlcjtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsLCBzaGFkZXJzKSB7XHJcbiAgICAgICAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9IGNyZWF0ZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBzaGFkZXJzLmZyYWdtZW50KTtcclxuICAgICAgICAgICAgdmFyIHZlcnRleFNoYWRlciA9IGNyZWF0ZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgc2hhZGVycy52ZXJ0ZXgpO1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcclxuICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICAgICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICAgICAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xyXG4gICAgICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvZ3JhbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVQcm9ncmFtID0gY3JlYXRlUHJvZ3JhbTtcclxuICAgIH0pKFdlYkdMVXRpbHMgPSBCbGF6ZS5XZWJHTFV0aWxzIHx8IChCbGF6ZS5XZWJHTFV0aWxzID0ge30pKTtcclxuICAgIHZhciB1dGlscztcclxuICAgIChmdW5jdGlvbiAodXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBzNCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApXHJcbiAgICAgICAgICAgICAgICAudG9TdHJpbmcoMTYpXHJcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5zNCA9IHM0O1xyXG4gICAgICAgIGZ1bmN0aW9uIHV1aWQobmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBzNCgpICsgczQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWUgPyBuYW1lICsgaWQgOiBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMudXVpZCA9IHV1aWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplTmFOKHZlYykge1xyXG4gICAgICAgICAgICByZXR1cm4gdmVjLm1hcChmdW5jdGlvbiAoYSkgeyBpZiAoTnVtYmVyLmlzTmFOKGEpKVxyXG4gICAgICAgICAgICAgICAgYSA9IDA7IHJldHVybiBhOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubm9ybWFsaXplTmFOID0gbm9ybWFsaXplTmFOO1xyXG4gICAgICAgIGZ1bmN0aW9uIGxvYWQodXJsLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5sb2FkID0gbG9hZDtcclxuICAgICAgICBmdW5jdGlvbiBnZXRFeHRlbnNpb24oc3RyKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtcyA9IHN0ci5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtc1tlbGVtcy5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuZ2V0RXh0ZW5zaW9uID0gZ2V0RXh0ZW5zaW9uO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5vd0luTWlsbGlzZWNvbmRzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubm93SW5NaWxsaXNlY29uZHMgPSBub3dJbk1pbGxpc2Vjb25kcztcclxuICAgICAgICBmdW5jdGlvbiBkZWdUb1JhZChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuZGVnVG9SYWQgPSBkZWdUb1JhZDtcclxuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxzKHZzLCBpbmQpIHtcclxuICAgICAgICAgICAgdmFyIHggPSAwO1xyXG4gICAgICAgICAgICB2YXIgeSA9IDE7XHJcbiAgICAgICAgICAgIHZhciB6ID0gMjtcclxuICAgICAgICAgICAgdmFyIG5zID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG5zW2ldID0gMC4wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdjEgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciB2MiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy9wMSAtIHAwXHJcbiAgICAgICAgICAgICAgICB2MVt4XSA9IHZzWzMgKiBpbmRbaSArIDFdICsgeF0gLSB2c1szICogaW5kW2ldICsgeF07XHJcbiAgICAgICAgICAgICAgICB2MVt5XSA9IHZzWzMgKiBpbmRbaSArIDFdICsgeV0gLSB2c1szICogaW5kW2ldICsgeV07XHJcbiAgICAgICAgICAgICAgICB2MVt6XSA9IHZzWzMgKiBpbmRbaSArIDFdICsgel0gLSB2c1szICogaW5kW2ldICsgel07XHJcbiAgICAgICAgICAgICAgICAvLyBwMCAtIHAxXHJcbiAgICAgICAgICAgICAgICB2Mlt4XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgeF0gLSB2c1szICogaW5kW2kgKyAxXSArIHhdO1xyXG4gICAgICAgICAgICAgICAgdjJbeV0gPSB2c1szICogaW5kW2kgKyAyXSArIHldIC0gdnNbMyAqIGluZFtpICsgMV0gKyB5XTtcclxuICAgICAgICAgICAgICAgIHYyW3pdID0gdnNbMyAqIGluZFtpICsgMl0gKyB6XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgel07XHJcbiAgICAgICAgICAgICAgICAvL3AyIC0gcDFcclxuICAgICAgICAgICAgICAgIC8vIHYxW3hdID0gdnNbMyppbmRbaSsyXSt4XSAtIHZzWzMqaW5kW2krMV0reF07XHJcbiAgICAgICAgICAgICAgICAvLyB2MVt5XSA9IHZzWzMqaW5kW2krMl0reV0gLSB2c1szKmluZFtpKzFdK3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gdjFbel0gPSB2c1szKmluZFtpKzJdK3pdIC0gdnNbMyppbmRbaSsxXSt6XTtcclxuICAgICAgICAgICAgICAgIC8vIHAwIC0gcDFcclxuICAgICAgICAgICAgICAgIC8vIHYyW3hdID0gdnNbMyppbmRbaV0reF0gLSB2c1szKmluZFtpKzFdK3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gdjJbeV0gPSB2c1szKmluZFtpXSt5XSAtIHZzWzMqaW5kW2krMV0reV07XHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt6XSA9IHZzWzMqaW5kW2ldK3pdIC0gdnNbMyppbmRbaSsxXSt6XTtcclxuICAgICAgICAgICAgICAgIC8vY3Jvc3MgcHJvZHVjdCBieSBTYXJydXMgUnVsZVxyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3hdID0gdjFbeV0gKiB2Mlt6XSAtIHYxW3pdICogdjJbeV07XHJcbiAgICAgICAgICAgICAgICBub3JtYWxbeV0gPSB2MVt6XSAqIHYyW3hdIC0gdjFbeF0gKiB2Mlt6XTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt6XSA9IHYxW3hdICogdjJbeV0gLSB2MVt5XSAqIHYyW3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gbnNbMyppbmRbaV0reF0gKz0gbm9ybWFsW3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gbnNbMyppbmRbaV0reV0gKz0gbm9ybWFsW3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gbnNbMyppbmRbaV0rel0gKz0gbm9ybWFsW3pdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBuc1szICogaW5kW2kgKyBqXSArIHhdID0gbnNbMyAqIGluZFtpICsgal0gKyB4XSArIG5vcm1hbFt4XTtcclxuICAgICAgICAgICAgICAgICAgICBuc1szICogaW5kW2kgKyBqXSArIHldID0gbnNbMyAqIGluZFtpICsgal0gKyB5XSArIG5vcm1hbFt5XTtcclxuICAgICAgICAgICAgICAgICAgICBuc1szICogaW5kW2kgKyBqXSArIHpdID0gbnNbMyAqIGluZFtpICsgal0gKyB6XSArIG5vcm1hbFt6XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL25vcm1hbGl6ZSB0aGUgcmVzdWx0XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdnMubGVuZ3RoOyBpID0gaSArIDMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBubiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbm5beF0gPSBuc1tpICsgeF07XHJcbiAgICAgICAgICAgICAgICBublt5XSA9IG5zW2kgKyB5XTtcclxuICAgICAgICAgICAgICAgIG5uW3pdID0gbnNbaSArIHpdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IE1hdGguc3FydCgobm5beF0gKiBublt4XSkgKyAobm5beV0gKiBublt5XSkgKyAobm5bel0gKiBublt6XSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IDAuMDAwMDE7XHJcbiAgICAgICAgICAgICAgICBublt4XSA9IG5uW3hdIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbm5beV0gPSBublt5XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5uW3pdID0gbm5bel0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgeF0gPSBublt4XTtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB5XSA9IG5uW3ldO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHpdID0gbm5bel07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5zO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5jYWxjdWxhdGVOb3JtYWxzID0gY2FsY3VsYXRlTm9ybWFscztcclxuICAgIH0pKHV0aWxzID0gQmxhemUudXRpbHMgfHwgKEJsYXplLnV0aWxzID0ge30pKTtcclxuICAgIChmdW5jdGlvbiAoQ0FNRVJBX1RZUEUpIHtcclxuICAgICAgICBDQU1FUkFfVFlQRVtDQU1FUkFfVFlQRVtcIk9SQklUSU5HXCJdID0gMF0gPSBcIk9SQklUSU5HXCI7XHJcbiAgICAgICAgQ0FNRVJBX1RZUEVbQ0FNRVJBX1RZUEVbXCJUUkFDS0lOR1wiXSA9IDFdID0gXCJUUkFDS0lOR1wiO1xyXG4gICAgfSkoQmxhemUuQ0FNRVJBX1RZUEUgfHwgKEJsYXplLkNBTUVSQV9UWVBFID0ge30pKTtcclxuICAgIHZhciBDQU1FUkFfVFlQRSA9IEJsYXplLkNBTUVSQV9UWVBFO1xyXG4gICAgdmFyIEtldGNoID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBLZXRjaCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgS2V0Y2guc2V0Q2FudmFzVG9Db250ZXh0ID0gZnVuY3Rpb24gKGtleSwgY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gV2ViR0xVdGlscy5nZXRHTENvbnRleHQoY2FudmFzKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0Q29udGV4dChrZXksIGNvbnRleHQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChrZXksIGNvbnRleHQpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0uY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRDb250ZXh0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW2tleV0uY29udGV4dDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmNyZWF0ZVByb2dyYW0gPSBmdW5jdGlvbiAoa2V5LCBzaGFkZXJzKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQoa2V5KTtcclxuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBXZWJHTFV0aWxzLmNyZWF0ZVByb2dyYW0oZ2wsIHNoYWRlcnMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRQcm9ncmFtKGtleSwgcHJvZ3JhbSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRQcm9ncmFtID0gZnVuY3Rpb24gKGtleSwgcHJvZ3JhbSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XS5wcm9ncmFtID0gcHJvZ3JhbTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldFByb2dyYW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nba2V5XS5wcm9ncmFtO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY3JlYXRlVmlldyA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0gPSB7fTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldEF0dHJpYnV0ZUxvY2F0aW9ucyA9IGZ1bmN0aW9uIChrZXksIGF0dHJpYnNfbmFtZXMpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2aWV3LmF0dHJpYnMgPSBhdHRyaWJzX25hbWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgcHJldlthdHRyXSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByZywgYXR0cik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0QXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5hdHRyaWJzW2F0dHJfa2V5XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldFVuaWZvcm0gPSBmdW5jdGlvbiAodmlld19rZXksIHVuaWZvcm1fa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLnVuaWZvcm1zW3VuaWZvcm1fa2V5XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldFVuaWZvcm1Mb2NhdGlvbnMgPSBmdW5jdGlvbiAoa2V5LCB1bmlmb3JtX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmlldy51bmlmb3JtcyA9IHVuaWZvcm1fbmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2W2F0dHJdID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByZywgYXR0cik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgICAgICAgfSwge30pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSwgcG9pbnRlcikge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBLZXRjaC5nZXRBdHRyaWIodmlld19rZXksIGF0dHJfa2V5KTtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dCh2aWV3X2tleSk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKHBvaW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaW5kZXgsIHBvaW50ZXIuc2l6ZSB8fCAzLCBnbC5GTE9BVCwgcG9pbnRlci5ub3JtYWxpemVkIHx8IGZhbHNlLCBwb2ludGVyLnN0cmlkZSB8fCAwLCBwb2ludGVyLm9mZnNldCB8fCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoaW5kZXgsIDMsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IEtldGNoLmdldEF0dHJpYih2aWV3X2tleSwgYXR0cl9rZXkpO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KHZpZXdfa2V5KTtcclxuICAgICAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGluZGV4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnJlbmRlckxvb3AgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoY2IsIDMwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFkZFRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMgPSB2aWV3LnRleHR1cmVzIHx8IFtdO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzLnB1c2godGV4dHVyZV9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5yZW1vdmVUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzID0gdmlldy50ZXh0dXJlcyB8fCBbXTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHZpZXcudGV4dHVyZXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guYWN0aXZlVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQsIHRleHR1cmUpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB2aWV3LnRleHR1cmVzLmluZGV4T2YodGV4dHVyZV9pZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGluZGV4ID09PSAwID8gZ2wuVEVYVFVSRTAgOiBnbC5URVhUVVJFMCArIGluZGV4KTtcclxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVTYW1wbGVyID0gS2V0Y2guZ2V0VW5pZm9ybShrZXksIFwidVNhbXBsZXJcIik7XHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVNhbXBsZXIsIGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guaXNPZmZTY3JlZW4gPSBmdW5jdGlvbiAodmlld19rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0ub2Zmc2NyZWVuO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZW5hYmxlT2ZmU2NyZWVuID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1t2aWV3X2tleV0ub2Zmc2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmRpc2FibGVPZmZTY3JlZW4gPSBmdW5jdGlvbiAodmlld19rZXkpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS5vZmZzY3JlZW4gPSB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZmlsbFNlbGVjdG9yQnVmZmVyID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBvYmopIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nbdmlld19rZXldO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMgPSB2aWV3LnNlbGVjdE9iamVjdHMgfHwgW107XHJcbiAgICAgICAgICAgIHZpZXcuc2VsZWN0T2JqZWN0cy5wdXNoKG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jbGVhclNlbGVjdG9yQnVmZmVyID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBvYmopIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nbdmlld19rZXldO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMgPSBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLl92aWV3cyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBLZXRjaDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5LZXRjaCA9IEtldGNoO1xyXG4gICAgdmFyIFJlbmRlcmFibGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFJlbmRlcmFibGUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JhcGhfaWQgPSBncmFwaF9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdyYXBoSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ncmFwaF9pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdsXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0Q29udGV4dCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwicHJvZ3JhbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFByb2dyYW0odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUmVuZGVyYWJsZS5wcm90b3R5cGUuZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFVuaWZvcm0odGhpcy5ncmFwaElELCBrZXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlcmFibGU7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuUmVuZGVyYWJsZSA9IFJlbmRlcmFibGU7XHJcbiAgICB2YXIgRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEVudGl0eShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFbnRpdHk7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLkVudGl0eSA9IEVudGl0eTtcclxuICAgIHZhciBNYXRyaXhTdGFjayA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1hdHJpeFN0YWNrLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1hdHJpeFN0YWNrKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29weSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuc2V0KHRoaXMuX212TWF0cml4LCBjb3B5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sucHVzaChjb3B5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFjay5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgIHRocm93IFwiaW52YWxpZCBwb3BNYXRyaXhcIjtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9zdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5Nb2RlbFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gdGhpcy5fY2FtZXJhLm1vZGVsVmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIm12TWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbXZNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwicE1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibk1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25NYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuUGVyc3BlY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQucGVyc3BlY3RpdmUoNDUsIGdsLnZpZXdwb3J0V2lkdGggLyBnbC52aWV3cG9ydEhlaWdodCwgMC4xLCAxMDAwLjAsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk5vcm1hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuUGVyc3BlY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5zZXRVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICAgICAgdmFyIG12TWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1WTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobXZNYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KG12TWF0cml4LCBmYWxzZSwgdGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgcE1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVQTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAocE1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocE1hdHJpeCwgZmFsc2UsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgbk1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVOTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobk1hdHJpeCwgZmFsc2UsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1hdHJpeFN0YWNrO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5NYXRyaXhTdGFjayA9IE1hdHJpeFN0YWNrO1xyXG4gICAgdmFyIFJlc291cmNlcztcclxuICAgIChmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgdmFyIE1lc2hCdWZmZXJzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hCdWZmZXJzLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoQnVmZmVycyhncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dCA9IHV0aWxzLmdldEV4dGVuc2lvbihzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9ialwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VPQkooZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VKU09OKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VKU09OID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VPQkogPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ3YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ2YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gb2JqW2tleV0uY29uY2F0KGVsZW1zLnNsaWNlKDEpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAhPT0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnJlcGxhY2UoXCJcXHJcIiwgXCJcIikucmVwbGFjZShcImZcIiwgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9IHRlbXBJbmRleC5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGVtcEluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXYucHVzaChwYXJzZUludChlbGVtc1swXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaW4ucHVzaChwYXJzZUludChlbGVtc1sxXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXQucHVzaChwYXJzZUludChlbGVtc1syXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgXy5kZWZhdWx0cyhvYmosIHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZibyA9IGNyZWF0ZUJ1ZmZlcihvYmoudik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnYubGVuZ3RoID4gMCAmJiBvYmouaXYubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25ibyA9IGNyZWF0ZUJ1ZmZlcih1dGlscy5jYWxjdWxhdGVOb3JtYWxzKG9iai52LCBvYmouaXYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RibyA9IFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBvYmoudnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJHTFV0aWxzLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXYubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml2KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaW4ubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLmluKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXQubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml0KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIm5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwidGJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpdmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaW5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5ibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoQnVmZmVycyA9IE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIHZhciBNZXNoVGV4dHVyZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoVGV4dHVyZSwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaFRleHR1cmUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMubG9hZFRleHR1cmVJbWFnZSh0aGlzLl9vbmxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hUZXh0dXJlLnByb3RvdHlwZS5sb2FkVGV4dHVyZUltYWdlID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShzZWxmLmdsLCBzZWxmLl9pbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZShzZWxmLmdyYXBoSUQsIHNlbGYuX29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoVGV4dHVyZTtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaFRleHR1cmUgPSBNZXNoVGV4dHVyZTtcclxuICAgICAgICB2YXIgTWVzaE1hdGVyaWFsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBzcGVjdWxhciwgc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoaW5pbmVzcyA9IHNoaW5pbmVzcyB8fCAyMDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbHMubG9hZChzcmMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gc2VsZi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FtYmllbnQgPSB0ZW1wLkthO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGlmZnVzZSA9IHRlbXAuS2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zcGVjdWxhciA9IHRlbXAuS3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNoaW5pbmVzcyA9IHRlbXAuTnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25sb2FkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXCJLYVwiLCBcIktkXCIsIFwiS3NcIiwgXCJOc1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gbGluZS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTnNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbXCJOc1wiXSA9IE51bWJlcihlbGVtc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBlbGVtcy5zbGljZSgxKS5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIE51bWJlcihhKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKDEuMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbWJpZW50O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGFtYmllbnQpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJkaWZmdXNlXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNoaW5pbmVzc1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hpbmluZXNzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoTWF0ZXJpYWw7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCA9IE1lc2hNYXRlcmlhbDtcclxuICAgIH0pKFJlc291cmNlcyA9IEJsYXplLlJlc291cmNlcyB8fCAoQmxhemUuUmVzb3VyY2VzID0ge30pKTtcclxuICAgIHZhciBTaGFkZXJzO1xyXG4gICAgKGZ1bmN0aW9uIChTaGFkZXJzKSB7XHJcbiAgICAgICAgdmFyIEZyYWdtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gRnJhZ21lbnQoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgRnJhZ21lbnQuUGFydGljbGUgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxuXFxuYm9vbCBpc0JsYWNrKHZlYzQgY29sb3Ipe1xcbnJldHVybiBjb2xvci5yPT0wLjAgJiZjb2xvci5nPT0wLjAmJmNvbG9yLmI9PTAuMDtcXG59XFxudm9pZCBtYWluKHZvaWQpIHsgXFxuICAgICBpZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgICB9ZWxzZXtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBnbF9Qb2ludENvb3JkKTtcXG4gICAgaWYoZ2xfRnJhZ0NvbG9yLmEgPCAwLjUgfHwgaXNCbGFjayhnbF9GcmFnQ29sb3IpKSBkaXNjYXJkO1xcbiAgICB9XFxufVwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5QaG9uZyA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB1U2hpbmluZXNzO1xcbnVuaWZvcm0gdmVjMyB1TGlnaHREaXJlY3Rpb247XFxuXFxudW5pZm9ybSB2ZWM0IHVMaWdodEFtYmllbnQ7XFxudW5pZm9ybSB2ZWM0IHVMaWdodERpZmZ1c2U7XFxudW5pZm9ybSB2ZWM0IHVMaWdodFNwZWN1bGFyO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcblxcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxTcGVjdWxhcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcblxcbiAgICAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICBcXG4gICAgXFx0XFxuICAgICAgICB2ZWMzIEw9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb24pO1xcbiAgICAgICAgdmVjMyBOPSBub3JtYWxpemUodk5vcm1hbCk7XFxuICAgICAgICBmbG9hdCBsYW1iZXJ0VGVybT1kb3QoTiwgLUwpO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElhPSB1TGlnaHRBbWJpZW50KnVNYXRlcmlhbEFtYmllbnQ7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWQ9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElzPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYobGFtYmVydFRlcm0+MC4wKVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIElkPXVMaWdodERpZmZ1c2UqdU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHRTcGVjdWxhcip1TWF0ZXJpYWxTcGVjdWxhcipzcGVjdWxhcjtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBmaW5hbENvbG9yPUlhK0lkK0lzO1xcbiAgICAgICAgZmluYWxDb2xvci5hPTEuMDtcXG4gICAgXFxuICAgICAgICBnbF9GcmFnQ29sb3IgPWZpbmFsQ29sb3I7XFxuICAgICAgICB9XFxuICAgICAgICBcXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBGcmFnbWVudDtcclxuICAgICAgICB9KCkpO1xyXG4gICAgICAgIFNoYWRlcnMuRnJhZ21lbnQgPSBGcmFnbWVudDtcclxuICAgICAgICB2YXIgVmVydGV4ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gVmVydGV4KCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFZlcnRleC5QYXJ0aWNsZSA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVBvaW50U2l6ZTtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcblxcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfVxcbiAgICBcXG4gICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbi54eXosIDEuMCk7XFxuICAgIGdsX1BvaW50U2l6ZSA9IHVQb2ludFNpemU7XFxufVwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguUGhvbmcgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU5NYXRyaXg7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSBib29sIHVQZXJWZXJ0ZXhDb2xvcjtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICB2ZWM0IHZlcnRleCA9IHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cXHRcXG5cXHRcXG5cXHQgaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfWVsc2V7XFxuXFx0XFxuXFx0dk5vcm1hbCA9IHZlYzModU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKTtcXG5cXHR2RXllVmVjPS12ZWMzKHZlcnRleC54eXopOyAgXFxuXFx0XFxuXFx0fVxcblxcdCBcXG5cXHRnbF9Qb3NpdGlvbiA9dVBNYXRyaXggKiB2ZXJ0ZXg7XFxuXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICByZXR1cm4gVmVydGV4O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5WZXJ0ZXggPSBWZXJ0ZXg7XHJcbiAgICB9KShTaGFkZXJzID0gQmxhemUuU2hhZGVycyB8fCAoQmxhemUuU2hhZGVycyA9IHt9KSk7XHJcbiAgICB2YXIgQW5pbWF0aW9uRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQW5pbWF0aW9uRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkVudGl0eShncmFwaF9pZCwgZnJlcXVlbmN5LCB0aW1lcywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmVxdWVuY3kgPSBmcmVxdWVuY3k7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5vbkZyYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA9IHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIGlmIChBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA8IDUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBzdGVwcyA9IE1hdGguZmxvb3IoQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgLyB0aGlzLl9mcmVxdWVuY3kpO1xyXG4gICAgICAgICAgICB3aGlsZSAoKHN0ZXBzID4gMCkgJiYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCAhPSB0aGlzLl90aW1lcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICBzdGVwcy0tO1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uRW50aXR5LkNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCA9PT0gdGhpcy5fdGltZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRpbWUgPSB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbF9pZCA9IHNldEludGVydmFsKHRoaXMub25GcmFtZSwgdGhpcy5fZnJlcXVlbmN5IC8gMTAwMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbF9pZClcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkuQ291bnQgPSAwO1xyXG4gICAgICAgIHJldHVybiBBbmltYXRpb25FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQW5pbWF0aW9uRW50aXR5ID0gQW5pbWF0aW9uRW50aXR5O1xyXG4gICAgdmFyIE1lc2hFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhNZXNoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1lc2hFbnRpdHkoZ3JhcGhfaWQsIG1lc2hmaWxlLCBtYXRlcmlhbGZpbGUsIHRleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX21lc2hmaWxlID0gbWVzaGZpbGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWxmaWxlID0gbWF0ZXJpYWxmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVmaWxlID0gdGV4dHVyZWZpbGUgfHwgbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZEJ1ZmZlcnMgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgUmVzb3VyY2VzLk1lc2hCdWZmZXJzKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkVGV4dHVyZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG5ldyBSZXNvdXJjZXMuTWVzaFRleHR1cmUodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoRW50aXR5LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1hdGVyaWFsID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tZXNoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgQnVmZmVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRCdWZmZXJzKHNlbGYuX21lc2hmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIEJ1ZmZlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX3RleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZFRleHR1cmUoc2VsZi5fdGV4dHVyZWZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tYXRlcmlhbGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIE1hdGVyaWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1hdGVyaWFsKHNlbGYuX21hdGVyaWFsZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBNYXRlcmlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1lc2hCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnModGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5jcmVhdGVCdWZmZXJzKG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWF0ZXJpYWxCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBuZXcgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBpZiAob2JqLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmFtYmllbnQgPSBvYmouYW1iaWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhciA9IG9iai5zcGVjdWxhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UgPSBvYmouZGlmZnVzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzID0gb2JqLnNoaW5pbmVzcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxVbmlmb3JtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsQW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsQW1iaWVudCwgdGhpcy5fbWF0ZXJpYWwuYW1iaWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxTcGVjdWxhciwgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1U2hpbmluZXNzID0gdGhpcy5nZXRVbmlmb3JtKFwidVNoaW5pbmVzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodVNoaW5pbmVzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVTaGluaW5lc3MsIHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5zZXRNYXRlcmlhbFVuaWZvcm1zKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLnZibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMubmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgdmFyIGl2Ym8gPSB0aGlzLl9idWZmZXJzLml2Ym87XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGl2Ym8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBpdmJvLm51bUl0ZW1zLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBNZXNoRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLk1lc2hFbnRpdHkgPSBNZXNoRW50aXR5O1xyXG4gICAgdmFyIFRyYW5zZm9ybUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFRyYW5zZm9ybUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBUcmFuc2Zvcm1FbnRpdHkoZ3JhcGhfaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb24gfHwgdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemUgfHwgdmVjMy5jcmVhdGUoWzEsIDEsIDFdKTtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByb3RhdGlvbiB8fCB7IGFuZ2xlOiAwLCBheGlzOiB2ZWMzLmNyZWF0ZSgpIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gKG5ld19tYXRyaXgpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbmV3X21hdHJpeDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUudHJhbnNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LnRyYW5zcG9zZSh0aGlzLl9tYXRyaXgsIHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBYnNvbHV0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBbeCwgeSwgel07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInNpemVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IFt4LCB5LCB6XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9zaXplO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3NpemUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocm90YXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAoYW5nbGUsIGF4aXMpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ2xlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICAgICAgaWYgKGF4aXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5heGlzID0gYXhpcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QXhpcyA9IGZ1bmN0aW9uIChheGlzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmF4aXMgPSBheGlzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5yb3RhdGVBbmdsZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgKz0gYW5nbGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLm1vdmVBeGlzID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fcm90YXRpb24uYXhpcztcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9yb3RhdGlvbi5heGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnB1c2goKTtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2suTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeFN0YWNrLm12TWF0cml4O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24gIT0gdm9pZCAwKVxyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaXplICE9IHZvaWQgMClcclxuICAgICAgICAgICAgICAgIG1hdDQuc2NhbGUodGhpcy5fbWF0cml4LCB0aGlzLl9zaXplKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9IHZvaWQgMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhZCA9IHRoaXMuX3JvdGF0aW9uLmFuZ2xlICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlKHRoaXMuX21hdHJpeCwgcmFkLCB0aGlzLl9yb3RhdGlvbi5heGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5zZXRVcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnBvcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5UcmFuc2Zvcm1FbnRpdHkgPSBUcmFuc2Zvcm1FbnRpdHk7XHJcbiAgICB2YXIgTGlnaHRFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhMaWdodEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBMaWdodEVudGl0eShncmFwaF9pZCwgYW1iaWVudCwgZGlmZnVzZSwgcG9zaXRpb24sIHNwZWN1bGFyLCBkaXJlY3Rpb24sIGN1dG9mZikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSBhbWJpZW50ID8gdmVjNC5jcmVhdGUoYW1iaWVudCkgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gZGlmZnVzZSA/IHZlYzQuY3JlYXRlKGRpZmZ1c2UpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbiA/IHZlYzQuY3JlYXRlKHBvc2l0aW9uKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gc3BlY3VsYXIgPyB2ZWM0LmNyZWF0ZShzcGVjdWxhcikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBkaXJlY3Rpb24gPyB2ZWMzLmNyZWF0ZShkaXJlY3Rpb24pIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY3V0b2ZmID0gY3V0b2ZmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImFtYmllbnRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbWJpZW50O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChhbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGFtYmllbnQpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJkaWZmdXNlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShkaWZmdXNlKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwic3BlY3VsYXJcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zcGVjdWxhcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKHNwZWN1bGFyKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB1dGlscy5ub3JtYWxpemVOYU4odmVjMy5jcmVhdGUocG9zaXRpb24pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJkaXJlY3Rpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaXJlY3Rpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzMuY3JlYXRlKGRpcmVjdGlvbikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImN1dE9mZlwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1dG9mZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXRvZmYgPSBjdXRvZmY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIExpZ2h0RW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbWJpZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0QW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0QW1iaWVudClcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodEFtYmllbnQsIHRoaXMuX2FtYmllbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0RGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0RGlmZnVzZSlcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodERpZmZ1c2UsIHRoaXMuX2RpZmZ1c2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodFNwZWN1bGFyID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0U3BlY3VsYXJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0U3BlY3VsYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRTcGVjdWxhciwgdGhpcy5fc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodFBvc2l0aW9uID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0UG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUxpZ2h0UG9zaXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdih1TGlnaHRQb3NpdGlvbiwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB1RGlyZWN0aW9uID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0RGlyZWN0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVEaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdih1RGlyZWN0aW9uLCB0aGlzLl9kaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qIGlmICh0aGlzLl9jdXRvZmYpIHtcclxuICAgICAgICAgICAgICAgICB2YXIgdUN1dE9mZiA9IHRoaXMuZ2V0VW5pZm9ybShcInVDdXRPZmZcIik7XHJcbiAgICAgICAgICAgICAgICAgaWYgKHVDdXRPZmYpXHJcbiAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1Q3V0T2ZmLCB0aGlzLl9jdXRvZmYpO1xyXG4gICAgICAgICAgICAgfSovXHJcbiAgICAgICAgfTtcclxuICAgICAgICBMaWdodEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBMaWdodEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5MaWdodEVudGl0eSA9IExpZ2h0RW50aXR5O1xyXG4gICAgdmFyIERpZmZ1c2VFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhEaWZmdXNlRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIERpZmZ1c2VFbnRpdHkoZ3JhcGhfaWQsIHYpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaWZmdXNlRW50aXR5LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgdGhpcy5fdmFsdWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRGlmZnVzZUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBEaWZmdXNlRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkRpZmZ1c2VFbnRpdHkgPSBEaWZmdXNlRW50aXR5O1xyXG4gICAgdmFyIFBhcnRpY2xlRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoUGFydGljbGVFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gUGFydGljbGVFbnRpdHkoZ3JhcGhfaWQsIHBvaW50U2l6ZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BvaW50U2l6ZSA9IHBvaW50U2l6ZSB8fCAxO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlX2lkID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChkYXRhX21lc2gsIGRhdGFfdGV4dHVyZSkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGFfbWVzaCksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9udW1JdGVtcyA9IGRhdGFfbWVzaC5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVfaWQgPSB1dGlscy51dWlkKFwiVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShnbCwgZGF0YV90ZXh0dXJlKTtcclxuICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZSh0aGlzLmdyYXBoSUQsIHRoaXMuX3RleHR1cmVfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX251bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVFbnRpdHkucHJvdG90eXBlLCBcInRleHR1cmVJRFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmVfaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXJ0aWNsZUVudGl0eS5wcm90b3R5cGUsIFwicG9pbnRTaXplXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9pbnRTaXplID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVQb2ludFNpemUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1UG9pbnRTaXplXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBvaW50U2l6ZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih1UG9pbnRTaXplLCB0aGlzLl9wb2ludFNpemUpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVyKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5hY3RpdmVUZXh0dXJlKHRoaXMuZ3JhcGhJRCwgdGhpcy5fdGV4dHVyZV9pZCwgdGhpcy5fdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuUE9JTlRTLCAwLCB0aGlzLl9udW1JdGVtcyAvIDMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFydGljbGVFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBQYXJ0aWNsZUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5QYXJ0aWNsZUVudGl0eSA9IFBhcnRpY2xlRW50aXR5O1xyXG4gICAgdmFyIENhbWVyYUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKENhbWVyYUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBDYW1lcmFFbnRpdHkoZ3JhcGhfaWQsIHR5cGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZSB8fCBDQU1FUkFfVFlQRS5PUkJJVElORztcclxuICAgICAgICAgICAgdGhpcy5fY21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fY21hdHJpeCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcmlnaHQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9ub3JtYWwgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2F6aW11dGggPSAwLjA7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiA9IDAuMDtcclxuICAgICAgICAgICAgdGhpcy5fc3RlcHMgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJ0eXBlXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcImF6aW11dGhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hemltdXRoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChheikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBfYXogPSBheiAtIHRoaXMuX2F6aW11dGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUF6aW11dGgodGVtcF9heik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2hhbmdlQXppbXV0aCA9IGZ1bmN0aW9uIChheikge1xyXG4gICAgICAgICAgICB0aGlzLl9hemltdXRoICs9IGF6O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYXppbXV0aCA+IDM2MCB8fCB0aGlzLl9hemltdXRoIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXppbXV0aCA9IHRoaXMuX2F6aW11dGggJSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcImVsZXZhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VsZXZhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wX2VsID0gZWwgLSB0aGlzLl9lbGV2YXRpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUVsZXZhdGlvbih0ZW1wX2VsKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jaGFuZ2VFbGV2YXRpb24gPSBmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uICs9IGVsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWxldmF0aW9uID4gMzYwIHx8IHRoaXMuX2VsZXZhdGlvbiA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiA9IHRoaXMuX2VsZXZhdGlvbiAlIDM2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiem9vbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZXBzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBuID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHAgPSB0aGlzLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBvZmZzZXQgLSB0aGlzLl9zdGVwcztcclxuICAgICAgICAgICAgICAgIHZlYzMubm9ybWFsaXplKHRoaXMuX25vcm1hbCwgbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3X3Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblswXSA9IHBbMF0gLSBzdGVwICogblswXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMV0gPSBwWzFdIC0gc3RlcCAqIG5bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzJdID0gcFsyXSAtIHN0ZXAgKiBuWzJdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzBdID0gcFswXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMV0gPSBwWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsyXSA9IHBbMl0gLSBzdGVwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ld19wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0ZXBzID0gb2Zmc2V0O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNhbGN1bGF0ZU9yaWVudGF0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbSA9IHRoaXMuX2NtYXRyaXg7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFsxLCAwLCAwLCAwXSwgdGhpcy5fcmlnaHQpO1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMSwgMCwgMF0sIHRoaXMuX3VwKTtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzAsIDAsIDEsIDBdLCB0aGlzLl9ub3JtYWwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fY21hdHJpeCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlT3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9jbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVkodGhpcy5fY21hdHJpeCwgdGhpcy5fYXppbXV0aCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVYKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2VsZXZhdGlvbiAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVZKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2F6aW11dGggKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWCh0aGlzLl9jbWF0cml4LCB0aGlzLl9lbGV2YXRpb24gKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX2NtYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzAsIDAsIDAsIDFdLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcIm1vZGVsVmlld1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5pbnZlcnNlKHRoaXMuX2NtYXRyaXgsIG0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDYW1lcmFFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQ2FtZXJhRW50aXR5ID0gQ2FtZXJhRW50aXR5O1xyXG4gICAgdmFyIEF4aXNFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhBeGlzRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEF4aXNFbnRpdHkoZ3JhcGhfaWQsIGQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICBkID0gZCB8fCAxMDA7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2VzID0gWzAuMCwgMC4wLCAwLjAsIGQsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGQsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGRdO1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VzID0gWzAsIDEsIDIsIDMsIDQsIDVdO1xyXG4gICAgICAgICAgICB0aGlzLl9jb2xvcnMgPSBbMSwgMSwgMCwgMSwgMSwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMSwgMCwgMCwgMSwgMSwgMCwgMCwgMSwgMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEF4aXNFbnRpdHkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdmVydGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2libyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkodGhpcy5faW5kaWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5fY2JvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9jYm8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLl9jb2xvcnMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciB1UGVyVmVydGV4Q29sb3IgPSB0aGlzLmdldFVuaWZvcm0oXCJ1UGVyVmVydGV4Q29sb3JcIik7XHJcbiAgICAgICAgICAgIGlmICh1UGVyVmVydGV4Q29sb3IpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVBlclZlcnRleENvbG9yLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2Nibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9jb2xvclwiLCB7IHNpemU6IDQgfSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5MSU5FUywgdGhpcy5faW5kaWNlcy5sZW5ndGgsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEF4aXNFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB2YXIgdVBlclZlcnRleENvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVBlclZlcnRleENvbG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBlclZlcnRleENvbG9yKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVQZXJWZXJ0ZXhDb2xvciwgZmFsc2UpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX2NvbG9yXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEF4aXNFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQXhpc0VudGl0eSA9IEF4aXNFbnRpdHk7XHJcbiAgICB2YXIgR3JpZEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKEdyaWRFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gR3JpZEVudGl0eShncmFwaF9pZCwgZCwgZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpbWVzaW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGRpbTogZCB8fCA1MCwgbGluZXM6IGUgfHwgNTBcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5idWlsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl92Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZlcnRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KHRoaXMuX2luZGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGluYyA9IDIgKiB0aGlzLl9kaW1lc2lvbnMuZGltIC8gdGhpcy5fZGltZXNpb25zLmxpbmVzO1xyXG4gICAgICAgICAgICB2YXIgdiA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBsID0gMDsgbCA8PSB0aGlzLl9kaW1lc2lvbnMubGluZXM7IGwrKykge1xyXG4gICAgICAgICAgICAgICAgdls2ICogbF0gPSAtdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyAxXSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgMl0gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyAzXSA9IHRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgNF0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDVdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbF0gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgMV0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyAyXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyAzXSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyA0XSA9IC0wLjU7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDVdID0gdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIGlbMiAqIGxdID0gMiAqIGw7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiBsICsgMV0gPSAyICogbCArIDE7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbF0gPSAyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGw7XHJcbiAgICAgICAgICAgICAgICBpWzIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbCArIDFdID0gMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IHY7XHJcbiAgICAgICAgICAgIHRoaXMuX2luZGljZXMgPSBpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCBbMC43LCAwLjcsIDAuNywgMV0pO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuTElORVMsIHRoaXMuX2luZGljZXMubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBHcmlkRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBHcmlkRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkdyaWRFbnRpdHkgPSBHcmlkRW50aXR5O1xyXG4gICAgdmFyIFNlbGVjdEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNlbGVjdEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTZWxlY3RFbnRpdHkoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU2VsZWN0RW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLlNlbGVjdEVudGl0eSA9IFNlbGVjdEVudGl0eTtcclxuICAgIHZhciBTZWxlY3RvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNlbGVjdG9yLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNlbGVjdG9yKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdG9yO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5TZWxlY3RvciA9IFNlbGVjdG9yO1xyXG4gICAgO1xyXG4gICAgdmFyIE5vZGVFbGVtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBOb2RlRWxlbWVudChwYXJlbnQsIHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlID0gcGFyZW50O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUuYWRkQ2hpbGROb2RlKHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuX3R5cGUgfHwgdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcIm9pZFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJwYXJlbnRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROb2RlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcImVudGl0eVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0eTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwiY2hpbGROb2Rlc1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5hZGRDaGlsZE5vZGUgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2Rlcy5wdXNoKGNoaWxkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZE5vZGUgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGNoaWxkKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZ2V0Q2hpbGROb2RlQnlJbmRleCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2Rlc1tpbmRleF0gfHwgdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmV4aXN0c0NoaWxkTm9kZSA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2Rlc1tpbmRleF0gIT09IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUucmVtb3ZlQ2hpbGROb2RlKHRoaXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNoaWxkTm9kZSA9IGZ1bmN0aW9uICh0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb2RlRWxlbWVudCh0aGlzLCB0eXBlLCBlbnRpdHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmlzUm9vdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudE5vZGUgPT09IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHZhciBvaWQgPSBjaGlsZC5vaWQ7XHJcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmRJbmRleCh0aGlzLl9jaGlsZE5vZGVzLCBmdW5jdGlvbiAocykgeyByZXR1cm4gcy5vaWQgPT09IG9pZDsgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaW5kZXhJblBhcmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSlcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaGFzU2libGluZyA9IGZ1bmN0aW9uIChwcmV2KSB7XHJcbiAgICAgICAgICAgIHZhciBfaGF2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCAtIDEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCArIDEpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gX2hhdmU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUubmV4dFNpYmxpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpICYmIHRoaXMuaGFzU2libGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5nID0gdGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucHJldmlvdXNTaWJsaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2libGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSAmJiB0aGlzLmhhc1NpYmxpbmcodHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIHNpYmxpbmcgPSB0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggLSAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2libGluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5maXJzdENoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZE5vZGVCeUluZGV4KDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmxhc3RDaGlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGROb2RlQnlJbmRleCh0aGlzLl9jaGlsZE5vZGVzLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkTm9kZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMgPSBbXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuYmVnaW5EcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLl9jaGlsZE5vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgY2hpbGQuZHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0eSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5lbmREcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBOb2RlRWxlbWVudDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5Ob2RlRWxlbWVudCA9IE5vZGVFbGVtZW50O1xyXG4gICAgdmFyIFNjZW5lR3JhcGggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTY2VuZUdyYXBoLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNjZW5lR3JhcGgoKSB7XHJcbiAgICAgICAgICAgIHZhciBvaWQgPSB1dGlscy51dWlkKCk7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIG9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX29pZCA9IG9pZDtcclxuICAgICAgICAgICAgdGhpcy5fc2NlbmUgPSBuZXcgTm9kZUVsZW1lbnQodm9pZCAwLCBcIlNjZW5lXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjayA9IG5ldyBNYXRyaXhTdGFjayh0aGlzLl9vaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJCdWZmZXIgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5faXNEcmF3aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIEtldGNoLmNyZWF0ZVZpZXcodGhpcy5fb2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcInNjZW5lXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NlbmU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJpc0RyYXdpbmdcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0RyYXdpbmc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLkVudmlyb25tZW50ID0gZnVuY3Rpb24gKGIpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgYiA9IGIgfHwgW107XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcclxuICAgICAgICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XHJcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG4gICAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2wuY2xlYXJDb2xvcihiWzBdIHx8IDAsIGJbMV0gfHwgMCwgYlsyXSB8fCAwLCAxKTtcclxuICAgICAgICAgICAgZ2wuY2xlYXJEZXB0aCgxLjApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5faXNEcmF3aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgZ2wudmlld3BvcnRXaWR0aCwgZ2wudmlld3BvcnRIZWlnaHQpO1xyXG4gICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lLmRyYXcodGhpcy5fbWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2VuZS5jcmVhdGVDaGlsZE5vZGUodHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbW92ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZS5yZW1vdmVDaGlsZE5vZGUobm9kZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRDYW52YXNUb0NvbnRleHQodGhpcy5vaWQsIGNhbnZhcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJQaG9uZ1wiO1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtKHRoaXMuX29pZCwge1xyXG4gICAgICAgICAgICAgICAgZnJhZ21lbnQ6IFNoYWRlcnMuRnJhZ21lbnRbdHlwZV0sXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXg6IFNoYWRlcnMuVmVydGV4W3R5cGVdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWVzaCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2hFbnRpdHkgPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCk7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWVzaCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5sb2FkTWVzaEJ5T2JqZWN0KGNvbmZpZy5tZXNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNYXRlcmlhbEJ5T2JqZWN0KGNvbmZpZy5tYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1lc2hFbnRpdHk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVEaWZmdXNlID0gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEaWZmdXNlRW50aXR5KHRoaXMub2lkLCB2KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1lc2hCeUxvYWRlciA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCwgY29uZmlnLm1lc2gsIGNvbmZpZy5tYXRlcmlhbCwgY29uZmlnLnRleHR1cmUpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJCdWZmZXIucHVzaChtZXNoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAocG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtRW50aXR5KHRoaXMub2lkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTGlnaHQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaHRFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5hbWJpZW50LCBjb25maWcuZGlmZnVzZSwgY29uZmlnLnBvc2l0aW9uLCBjb25maWcuc3BlY3VsYXIsIGNvbmZpZy5kaXJlY3Rpb24sIGNvbmZpZy5jdXRvZmYpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYW1lcmFFbnRpdHkodGhpcy5vaWQsIHR5cGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlUGFydGljbGUgPSBmdW5jdGlvbiAocG9pbnRTaXplKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFydGljbGVFbnRpdHkodGhpcy5vaWQsIHBvaW50U2l6ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVBeGlzID0gZnVuY3Rpb24gKGxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEF4aXNFbnRpdHkodGhpcy5vaWQsIGxlbmd0aCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcmlkID0gZnVuY3Rpb24gKGRpbSwgbGluZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBHcmlkRW50aXR5KHRoaXMub2lkLCBkaW0sIGxpbmVzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5NYWluQ2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5yZW1vdmVUZXh0dXJlID0gZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIEtldGNoLnJlbW92ZVRleHR1cmUodGhpcy5vaWQsIGlkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnN0YXJ0TG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fbG9hZGVyQnVmZmVyLCBmdW5jdGlvbiAoaXRlbSwgbmV4dCkge1xyXG4gICAgICAgICAgICAgICAgaXRlbS5sb2FkTWVzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sIGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcgfHwge307XHJcbiAgICAgICAgICAgIHNlbGYuRW52aXJvbm1lbnQoY29uZmlnLmJhY2tncm91bmQpO1xyXG4gICAgICAgICAgICBzZWxmLlByb2dyYW0oY29uZmlnLnR5cGVTaGFkZXIpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMoc2VsZi5fb2lkLCBTY2VuZUdyYXBoLkFUVFJJQlVURVMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5VTklGT1JNUyk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrLmluaXQoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNvbmZpZ3VyZVdpdGhMb2FkZXIgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZWxmLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgICAgICBzZWxmLnN0YXJ0TG9hZGVyKGNiKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGguVU5JRk9STVMgPSBbXHJcbiAgICAgICAgICAgICd1UE1hdHJpeCcsXHJcbiAgICAgICAgICAgICd1TVZNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU5NYXRyaXgnLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlyZWN0aW9uJyxcclxuICAgICAgICAgICAgJ3VMaWdodEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsQW1iaWVudCcsXHJcbiAgICAgICAgICAgICd1TGlnaHREaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbERpZmZ1c2UnLFxyXG4gICAgICAgICAgICAndUxpZ2h0U3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndU1hdGVyaWFsU3BlY3VsYXInLFxyXG4gICAgICAgICAgICAndVNoaW5pbmVzcycsXHJcbiAgICAgICAgICAgICd1UG9pbnRTaXplJyxcclxuICAgICAgICAgICAgXCJ1U2FtcGxlclwiLFxyXG4gICAgICAgICAgICBcInVXaXJlZnJhbWVcIixcclxuICAgICAgICAgICAgXCJ1UGVyVmVydGV4Q29sb3JcIixcclxuICAgICAgICAgICAgXCJ1U2VsZWN0Q29sb3JcIixcclxuICAgICAgICAgICAgXCJ1T2ZmU2NyZWVuXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIFNjZW5lR3JhcGguQVRUUklCVVRFUyA9IFsnYV9wb3NpdGlvbicsICdhX25vcm1hbCcsIFwiYV9jb2xvclwiXTtcclxuICAgICAgICByZXR1cm4gU2NlbmVHcmFwaDtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2NlbmVHcmFwaCA9IFNjZW5lR3JhcGg7XHJcbn0pKEJsYXplIHx8IChCbGF6ZSA9IHt9KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
