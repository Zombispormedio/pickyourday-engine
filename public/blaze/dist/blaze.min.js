var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Blaze;!function(t){var e;!function(t){function e(t){for(var e=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{e=t.getContext(i[n])}catch(r){}if(e)break}return null===e?(alert("Could not initialise WebGL"),null):(e.viewportWidth=t.width,e.viewportHeight=t.height,e)}function i(e,i,n,r){var o=e.createBuffer();switch(e.bindBuffer(e.ARRAY_BUFFER,o),r){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ARRAY_BUFFER,null),n?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function n(e,i,n){var r=e.createBuffer(e.ELEMENT_ARRAY_BUFFER);switch(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r),n){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),r.itemSize=1,r.numItems=i.length,r}function r(t,e){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,null),i}function o(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)}function a(t,e){var i=o(t,t.FRAGMENT_SHADER,e.fragment),n=o(t,t.VERTEX_SHADER,e.vertex),r=t.createProgram();return t.attachShader(r,n),t.attachShader(r,i),t.linkProgram(r),t.getProgramParameter(r,t.LINK_STATUS)||console.log(t.getProgramInfoLog(r)),t.useProgram(r),r}t.getGLContext=e,function(t){t[t.STATIC=0]="STATIC",t[t.STREAM=1]="STREAM",t[t.DYNAMIC=2]="DYNAMIC"}(t.BUFFER_DRAW||(t.BUFFER_DRAW={}));t.BUFFER_DRAW;t.createBuffer=i,t.createIndexBuffer=n,t.createTexture=r,t.createShader=o,t.createProgram=a}(e=t.WebGLUtils||(t.WebGLUtils={}));var i;!function(t){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(t){var i=e()+e();return t?t+i:i}function n(t){return t.map(function(t){return Number.isNaN(t)&&(t=0),t})}function r(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",function(){e(i.responseText)}),i.send()}function o(t){var e=t.split(".");return e[e.length-1]}function a(){return(new Date).getTime()}function s(t){return t*Math.PI/180}function u(t,e){for(var i=0,n=1,r=2,o=[],a=0;a<t.length;a++)o[a]=0;for(var a=0;a<e.length;a+=3){var s=[],u=[],f=[];s[i]=t[3*e[a+1]+i]-t[3*e[a]+i],s[n]=t[3*e[a+1]+n]-t[3*e[a]+n],s[r]=t[3*e[a+1]+r]-t[3*e[a]+r],u[i]=t[3*e[a+2]+i]-t[3*e[a+1]+i],u[n]=t[3*e[a+2]+n]-t[3*e[a+1]+n],u[r]=t[3*e[a+2]+r]-t[3*e[a+1]+r],f[i]=s[n]*u[r]-s[r]*u[n],f[n]=s[r]*u[i]-s[i]*u[r],f[r]=s[i]*u[n]-s[n]*u[i];for(var c=0;3>c;c++)o[3*e[a+c]+i]=o[3*e[a+c]+i]+f[i],o[3*e[a+c]+n]=o[3*e[a+c]+n]+f[n],o[3*e[a+c]+r]=o[3*e[a+c]+r]+f[r]}for(var a=0;a<t.length;a+=3){var l=[];l[i]=o[a+i],l[n]=o[a+n],l[r]=o[a+r];var h=Math.sqrt(l[i]*l[i]+l[n]*l[n]+l[r]*l[r]);0==h&&(h=1e-5),l[i]=l[i]/h,l[n]=l[n]/h,l[r]=l[r]/h,o[a+i]=l[i],o[a+n]=l[n],o[a+r]=l[r]}return o}t.s4=e,t.uuid=i,t.normalizeNaN=n,t.load=r,t.getExtension=o,t.nowInMilliseconds=a,t.degToRad=s,t.calculateNormals=u}(i=t.utils||(t.utils={})),function(t){t[t.ORBITING=0]="ORBITING",t[t.TRACKING=1]="TRACKING"}(t.CAMERA_TYPE||(t.CAMERA_TYPE={}));var n=t.CAMERA_TYPE,r=function(){function t(){}return t.setCanvasToContext=function(i,n){var r=e.getGLContext(n);t.setContext(i,r)},t.setContext=function(e,i){t._views[e].context=i},t.getContext=function(e){return t._views[e].context},t.createProgram=function(i,n){var r=t.getContext(i),o=e.createProgram(r,n);t.setProgram(i,o)},t.setProgram=function(e,i){t._views[e].program=i},t.getProgram=function(e){return t._views[e].program},t.createView=function(e){t._views[e]={}},t.setAttributeLocations=function(e,i){var n=t._views[e],r=n.context,o=n.program;n.attribs=i.reduce(function(t,e){return t[e]=r.getAttribLocation(o,e),t},{})},t.getAttrib=function(e,i){return t._views[e].attribs[i]},t.getUniform=function(e,i){return t._views[e].uniforms[i]},t.setUniformLocations=function(e,i){var n=t._views[e],r=n.context,o=n.program;n.uniforms=i.reduce(function(t,e){return t[e]=r.getUniformLocation(o,e),t},{})},t.enableAttrib=function(e,i,n){var r=t.getAttrib(e,i),o=t.getContext(e);o.enableVertexAttribArray(r),n?o.vertexAttribPointer(r,n.size||3,o.FLOAT,n.normalized||!1,n.stride||0,n.offset||0):o.vertexAttribPointer(r,3,o.FLOAT,!1,0,0)},t.disableAttrib=function(e,i){var n=t.getAttrib(e,i),r=t.getContext(e);r.disableVertexAttribArray(n)},t.renderLoop=function(t){setInterval(t,30)},t.addTexture=function(e,i){var n=t._views[e];n.textures=n.textures||[],n.textures.push(i)},t.removeTexture=function(e,i){var n=t._views[e];n.textures=n.textures||[];var r=n.textures.indexOf(i);n.textures.splice(r,1),console.log(n.textures)},t.activeTexture=function(e,i,n){var r=t._views[e],o=r.context,a=(r.program,r.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,n);var s=t.getUniform(e,"uSampler");o.uniform1i(s,a)}},t._views={},t}();t.Ketch=r;var o=function(){function t(t){this._graph_id=t}return Object.defineProperty(t.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return r.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"program",{get:function(){return r.getProgram(this.graphID)},enumerable:!0,configurable:!0}),t.prototype.getUniform=function(t){return r.getUniform(this.graphID,t)},t}();t.Renderable=o;var a=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.beginDraw=function(t){},e.prototype.endDraw=function(t){},e}(o);t.Entity=a;var s=function(t){function e(e){t.call(this,e),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(e,t),e.prototype.push=function(){var t=mat4.create();mat4.set(this._mvMatrix,t),this._stack.push(t)},e.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},e.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(e.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._camera=t},enumerable:!0,configurable:!0}),e.prototype.Perspective=function(){var t=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,t.viewportWidth/t.viewportHeight,.1,1e3,this._pMatrix)},e.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},e.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},e.prototype.setUp=function(){var t=this.gl;this.Normal();var e=this.getUniform("uMVMatrix");e&&t.uniformMatrix4fv(e,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&t.uniformMatrix4fv(i,!1,this._pMatrix);var n=this.getUniform("uNMatrix");n&&t.uniformMatrix4fv(n,!1,this._nMatrix)},e}(o);t.MatrixStack=s;var u;!function(t){var n=function(t){function n(e){t.call(this,e)}return __extends(n,t),Object.defineProperty(n.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(t){var e=this,n=this,r=i.getExtension(t);i.load(t,function(t){var i;switch(r){case"obj":i=n.parseOBJ(t);break;case"json":i=n.parseJSON(t)}n.createBuffers(i),e._onload&&e._onload()})},enumerable:!0,configurable:!0}),n.prototype.parseJSON=function(t){var e={};try{e=JSON.parse(t)}catch(i){console.log(i)}return e},n.prototype.parseOBJ=function(t){var e={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=t.split("\n"),n=i.filter(function(t){return"v"===t[0]}),r=i.filter(function(t){return"f"===t[0]});n.forEach(function(t){var i=t.replace("\r","").split(" "),n=i[0];e[n]=e[n].concat(i.slice(1).filter(function(t){return""!==t}))});var o=[];return r.forEach(function(t){var e=t.replace("\r","").replace("f","").split(" ");o=o.concat(e.slice(1).filter(function(t){return""!==t}))}),o.forEach(function(t){var i=t.split("/");e.iv.push(parseInt(i[0])-1),e["in"].push(parseInt(i[1])-1),e.it.push(parseInt(i[2])-1)}),e},n.prototype.createBuffers=function(t){function n(t){return e.createBuffer(o,t)}function r(t){return e.createIndexBuffer(o,t)}var o=this.gl;_.defaults(t,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),t.v.length>0&&(this._vbo=n(t.v)),t.v.length>0&&t.iv.length>0&&(this._nbo=n(i.calculateNormals(t.v,t.iv))),t.vt.length>0&&(this._tbo=e.createBuffer(o,t.vt,!0)),t.iv.length>0&&(this._ivbo=r(t.iv)),t["in"].length>0&&(this._inbo=r(t["in"])),t.it.length>0&&(this._itbo=r(t.it))},Object.defineProperty(n.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),n}(o);t.MeshBuffers=n;var a=function(t){function n(e){t.call(this,e),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(n,t),Object.defineProperty(n.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(t){this._image.onload=this.loadTextureImage(this._onload),this._image.src=t},enumerable:!0,configurable:!0}),n.prototype.loadTextureImage=function(t){var i=this,n=this;return function(){i._texture=e.createTexture(n.gl,n._image),r.addTexture(n.graphID,n._oid),t&&t()}},Object.defineProperty(n.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),n}(o);t.MeshTexture=a;var s=function(t){function e(e,i,n,r,o){t.call(this,e),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=n?vec4.create(n):void 0,this._specular=r?vec4.create(r):vec4.create(),this._shininess=o||200}return __extends(e,t),Object.defineProperty(e.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{set:function(t){var e=this,n=this;i.load(t,function(t){var i=n.parse(t);e._ambient=i.Ka,e._diffuse=i.Kd,e._specular=i.Ks,e.shininess=i.Ns,e._onload&&e._onload()})},enumerable:!0,configurable:!0}),e.prototype.parse=function(t){var e={},i=["Ka","Kd","Ks","Ns"],n=t.split("\n");return n.forEach(function(t){var n=t.split(" "),r=n[0];if(i.indexOf(r)>-1)switch(r){case"Ns":e.Ns=Number(n[1]);break;default:var o=n.slice(1).map(function(t){return Number(t)});o.push(1),e[r]=o}}),e},Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shininess",{get:function(){return this._shininess},set:function(t){this._shininess=t},enumerable:!0,configurable:!0}),e}(o);t.MeshMaterial=s}(u=t.Resources||(t.Resources={}));var f;!function(t){var e=function(){function t(){}return t.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform bool uWireframe;\nuniform vec4 uMaterialDiffuse;\nuniform sampler2D uSampler;\n\nbool isBlack(vec4 color){\nreturn color.r==0.0 &&color.g==0.0&&color.b==0.0;\n}\nvoid main(void) { \n     if(uWireframe){\n         gl_FragColor = uMaterialDiffuse;\n        }else{\n    gl_FragColor = texture2D(uSampler, gl_PointCoord);\n    if(gl_FragColor.a < 0.5 || isBlack(gl_FragColor)) discard;\n    }\n}",t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform bool uWireframe;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n\n        if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n        \n    	\n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        }\n        \n}\n\n\n",t}();t.Fragment=e;var i=function(){function t(){}return t.Particle="attribute vec3 a_position;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform float uPointSize;\n\nvoid main(void) {\n    gl_Position = uPMatrix * uMVMatrix * vec4(a_position.xyz, 1.0);\n    gl_PointSize = uPointSize;\n}",t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",t}();t.Vertex=i}(f=t.Shaders||(t.Shaders={}));var c=function(t){function e(e,i,n,r){t.call(this,e),this._frequency=i,this._interval_id=null,this._callback=r}return __extends(e,t),e.prototype.onFrame=function(){if(e.ElapseTime=i.nowInMilliseconds(),!(e.ElapseTime<5)){for(var t=Math.floor(e.ElapseTime/this._frequency);t>0&&e.Count!=this._times;)this._callback(),t--,e.Count++;e.Count===this._times&&this.stop()}},e.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},e.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},e.prototype.beginDraw=function(){},e.prototype.endDraw=function(){},e.Count=0,e}(a);t.AnimationEntity=c;var l=function(t){function e(e,i,n,r){t.call(this,e),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=n||null,this._texturefile=r||null}return __extends(e,t),e.prototype.loadBuffers=function(t,e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=e,this._buffers.src=t},e.prototype.loadTexture=function(t,e){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=e,this._texture.src=t},Object.defineProperty(e.prototype,"material",{set:function(t){this._material=t},enumerable:!0,configurable:!0}),e.prototype.loadMaterial=function(t,e){this._material=new u.MeshMaterial(this.graphID),this._material.onload=e,this._material.src=t},e.prototype.loadMesh=function(t){var e=this,i=this;async.waterfall([function(t){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),t()})):t()},function(t){return e._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),t()})):t()},function(t){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),t()})):t()}],function(e){return e?console.log(e):void(t&&t())})},e.prototype.loadMeshByObject=function(t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(t)},e.prototype.loadMaterialByObject=function(t){this._material=new u.MeshMaterial(this.graphID),t.ambient&&(this._material.ambient=t.ambient),t.specular&&(this._material.specular=t.specular),t.diffuse&&(this._material.diffuse=t.diffuse),t.shininess&&(this._material.shininess=t.shininess)},e.prototype.setMaterialUniforms=function(){if(this._material){var t=this.gl;if(this._material.ambient){var e=this.getUniform("uMaterialAmbient");e&&t.uniform4fv(e,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var n=this.getUniform("uMaterialSpecular");n&&t.uniform4fv(n,this._material.specular)}if(this._material.shininess){var r=this.getUniform("uShininess");r&&t.uniform1f(r,this._material.shininess)}}},e.prototype.beginDraw=function(){var t=this.gl;this.setMaterialUniforms(),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.nbo),r.enableAttrib(this.graphID,"a_normal");var e=this._buffers.ivbo;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.drawElements(t.TRIANGLES,e.numItems,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl;r.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.MeshEntity=l;var h=function(t){function e(e,i,n,r){t.call(this,e),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=n||vec3.create([1,1,1]),this._rotation=r||{angle:0,axis:vec3.create()}}return __extends(e,t),e.prototype.identity=function(){mat4.identity(this._matrix)},e.prototype.setMatrix=function(t){this._matrix=t},e.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),e.prototype.setAbsolutePosition=function(t,e,i){this._position=[t,e,i]},e.prototype.translate=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._position,r=vec3.create([t,e,i]);vec3.add(n,r,this._position)},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),e.prototype.setSize=function(t,e,i){this._size=[t,e,i]},e.prototype.scale=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._size,r=vec3.create([t,e,i]);vec3.add(n,r,this._size)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t},enumerable:!0,configurable:!0}),e.prototype.setRotation=function(t,e){t&&(this._rotation.angle=t),e&&(this._rotation.axis=e)},e.prototype.setAngle=function(t){this._rotation.angle=t},e.prototype.setAxis=function(t){this._rotation.axis=t},e.prototype.rotateAngle=function(t){void 0===t&&(t=0),this._rotation.angle+=t},e.prototype.moveAxis=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=this._rotation.axis,r=vec3.create([t,e,i]);vec3.add(n,r,this._rotation.axis)},e.prototype.beginDraw=function(t){if(t.push(),t.ModelView(),this._matrix=t.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var e=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,e,this._rotation.axis)}t.setUp()},e.prototype.endDraw=function(t){t.pop()},e}(a);t.TransformEntity=h;var p=function(t){function e(e,i,n,r,o,a,s){t.call(this,e),this._ambient=i?vec4.create(i):null,this._diffuse=n?vec4.create(n):null,this._position=r?vec4.create(r):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(e,t),Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._diffuse},set:function(t){this._position=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutOff",{get:function(){return this._cutoff},set:function(t){this._cutoff=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl;if(this._ambient){var e=this.getUniform("uLightAmbient");e&&t.uniform4fv(e,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&t.uniform4fv(i,this._diffuse)}if(this._specular){var n=this.getUniform("uLightSpecular");n&&t.uniform4fv(n,this._specular)}if(this._position){var r=this.getUniform("uLightPosition");r&&t.uniform3fv(r,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&t.uniform3fv(o,this._direction)}},e.prototype.endDraw=function(){},e}(a);t.LightEntity=p;var d=function(t){function e(e,i){t.call(this,e),this._value=i}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uMaterialDiffuse");e&&t.uniform4fv(e,this._value)},e.prototype.endDraw=function(){},e}(a);t.DiffuseEntity=d;var v=function(t){function n(e,i){t.call(this,e),this._pointSize=i||1,this._buffer=null,this._texture_id=""}return __extends(n,t),n.prototype.configure=function(t,n){var o=this.gl;this._buffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this._numItems=t.length,this._texture_id=i.uuid("Texture"),this._texture=e.createTexture(o,n),r.addTexture(this.graphID,this._texture_id)},n.prototype.update=function(t){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this._buffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this._numItems=t.length},Object.defineProperty(n.prototype,"textureID",{get:function(){return this._texture_id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointSize",{set:function(t){this._pointSize=t},enumerable:!0,configurable:!0}),n.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uPointSize");e&&t.uniform1f(e,this._pointSize),t.bindBuffer(t.ARRAY_BUFFER,this._buffer),r.enableAttrib(this.graphID,"a_position"),r.activeTexture(this.graphID,this._texture_id,this._texture),t.drawArrays(t.POINTS,0,this._numItems/3)},n.prototype.endDraw=function(){var t=this.gl;r.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null)},n}(a);t.ParticleEntity=v;var b=function(t){function e(e,i){t.call(this,e),this._type=i||n.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(e,t),Object.defineProperty(e.prototype,"type",{set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"azimuth",{get:function(){return this._azimuth},set:function(t){var e=t-this._azimuth;this.changeAzimuth(e)},enumerable:!0,configurable:!0}),e.prototype.changeAzimuth=function(t){this._azimuth+=t,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(e.prototype,"elevation",{get:function(){return this._elevation},set:function(t){var e=t-this._elevation;this.changeElevation(e)},enumerable:!0,configurable:!0}),e.prototype.changeElevation=function(t){this._elevation+=t,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(e.prototype,"zoom",{get:function(){return this._steps},set:function(t){var e=vec3.create(),i=vec3.create();e=this.position;var r=t-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===n.TRACKING?(o[0]=e[0]-r*i[0],o[1]=e[1]-r*i[1],o[2]=e[2]-r*i[2]):(o[0]=e[0],o[1]=e[1],o[2]=e[2]-r),this.position=o,this._steps=t},enumerable:!0,configurable:!0}),e.prototype.calculateOrientation=function(){var t=this._cmatrix;mat4.multiplyVec4(t,[1,0,0,0],this._right),mat4.multiplyVec4(t,[0,1,0,0],this._up),mat4.multiplyVec4(t,[0,0,1,0],this._normal)},e.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===n.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===n.TRACKING&&mat4.multiplyVec4(m,[0,0,0,1],this._position)},Object.defineProperty(e.prototype,"modelView",{get:function(){var t=mat4.create();return mat4.inverse(this._cmatrix,t),t},enumerable:!0,configurable:!0}),e.prototype.endDraw=function(){},e}(a);t.CameraEntity=b;var g=function(t){function e(e,i){t.call(this,e),i=i||100,this._vertices=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],this._indices=[0,1,2,3,4,5],this._colors=[1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1]}return __extends(e,t),e.prototype.init=function(){var t=this.gl;this._vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._vertices),t.STATIC_DRAW),this._ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),t.STATIC_DRAW),this._cbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._cbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._colors),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!0);var i=this.getUniform("uPerVertexColor");i&&t.uniform1i(i,!0),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._cbo),r.enableAttrib(this.graphID,"a_color",{size:4}),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.drawElements(t.LINES,this._indices.length,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!1);var i=this.getUniform("uPerVertexColor");i&&t.uniform1i(i,!1),r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_color"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.AxisEntity=g;var y=function(t){function e(e,i,n){t.call(this,e),this._dimesions={dim:i||50,lines:n||50}}return __extends(e,t),e.prototype.init=function(){var t=this.gl;this.build(),this._vbo=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),t.bufferData(t.ARRAY_BUFFER,new Float32Array(this._vertices),t.STATIC_DRAW),this._ibo=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e.prototype.build=function(){for(var t=2*this._dimesions.dim/this._dimesions.lines,e=[],i=[],n=0;n<=this._dimesions.lines;n++)e[6*n]=-this._dimesions.dim,e[6*n+1]=-.5,e[6*n+2]=-this._dimesions.dim+n*t,e[6*n+3]=this._dimesions.dim,e[6*n+4]=-.5,e[6*n+5]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n+1]=-.5,e[6*(this._dimesions.lines+1)+6*n+2]=-this._dimesions.dim,e[6*(this._dimesions.lines+1)+6*n+3]=-this._dimesions.dim+n*t,e[6*(this._dimesions.lines+1)+6*n+4]=-.5,e[6*(this._dimesions.lines+1)+6*n+5]=this._dimesions.dim,i[2*n]=2*n,i[2*n+1]=2*n+1,i[2*(this._dimesions.lines+1)+2*n]=2*(this._dimesions.lines+1)+2*n,i[2*(this._dimesions.lines+1)+2*n+1]=2*(this._dimesions.lines+1)+2*n+1;this._vertices=e,this._indices=i},e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!0);var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,[.7,.7,.7,1]),t.bindBuffer(t.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._ibo),t.drawElements(t.LINES,this._indices.length,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl,e=this.getUniform("uWireframe");e&&t.uniform1i(e,!1),r.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.GridEntity=y;var R=function(){function t(t,e,n){this._parentNode=t,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=e,this._oid=i.uuid(this._type||this.constructor.name),this._entity=n}return Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"entity",{get:function(){return this._entity},set:function(t){this._entity=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),t.prototype.addChildNode=function(t){this._childNodes.push(t)},t.prototype.removeChildNode=function(t){var e=this.indexOf(t);e>-1&&this._childNodes.splice(e,1)},t.prototype.getChildNodeByIndex=function(t){return this._childNodes[t]||void 0},t.prototype.existsChildNode=function(t){return void 0!==this._childNodes[t]},t.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},t.prototype.createChildNode=function(e,i){
return new t(this,e,i)},t.prototype.isRoot=function(){return void 0===this._parentNode},t.prototype.indexOf=function(t){var e=t.oid;return _.findIndex(this._childNodes,function(t){return t.oid===e})},t.prototype.indexInParent=function(){var t=-1;return this.isRoot()||(t=this._parentNode.indexOf(this)),t},t.prototype.hasSibling=function(t){var e=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(t?this._parentNode.getChildNodeByIndex(i-1)&&(e=!0):this._parentNode.getChildNodeByIndex(i+1)&&(e=!0))}return e},t.prototype.nextSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling()){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e+1)}return t},t.prototype.previousSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling(!0)){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e-1)}return t},t.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},t.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},t.prototype.removeChildNodes=function(){this._childNodes=[]},t.prototype.draw=function(t){this._entity&&this._entity.beginDraw(t);for(var e=0;e<this._childNodes.length;e++){var i=this._childNodes[e];i.draw(t)}this._entity&&this._entity.endDraw(t)},t}();t.NodeElement=R;var A=function(t){function e(){var e=i.uuid();t.call(this,e),this._oid=e,this._scene=new R(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],this._isDrawing=!1,r.createView(this._oid)}return __extends(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDrawing",{get:function(){return this._isDrawing},enumerable:!0,configurable:!0}),e.prototype.Environment=function(t){var e=this.gl;t=t||[],e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.clearColor(t[0]||0,t[1]||0,t[2]||0,1),e.clearDepth(1)},e.prototype.draw=function(){var t=this.gl;this._isDrawing=!0,t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this._scene.draw(this._matrixStack),this._isDrawing=!1},e.prototype.createMainChildNode=function(t,e){return this._scene.createChildNode(t,e)},e.prototype.removeMainChildNode=function(t){this._scene.removeChildNode(t)},Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),e.prototype.setContext=function(t){r.setCanvasToContext(this.oid,t)},e.prototype.Program=function(t){t=t||"Phong",r.createProgram(this._oid,{fragment:f.Fragment[t],vertex:f.Vertex[t]})},e.prototype.createMesh=function(t){var e=new l(this.oid);return t.mesh&&e.loadMeshByObject(t.mesh),t.material&&e.loadMaterialByObject(t.material),e},e.prototype.createDiffuse=function(t){return new d(this.oid,t)},e.prototype.createMeshByLoader=function(t){var e=new l(this.oid,t.mesh,t.material,t.texture);return this._loaderBuffer.push(e),e},e.prototype.createTransform=function(t,e,i){return new h(this.oid,t,e,i)},e.prototype.createLight=function(t){return new p(this.oid,t.ambient,t.diffuse,t.position,t.specular,t.direction,t.cutoff)},e.prototype.createCamera=function(t){return new b(this.oid,t)},e.prototype.createParticle=function(t){return new v(this.oid,t)},e.prototype.createAxis=function(t){return new g(this.oid,t)},e.prototype.createGrid=function(t,e){return new y(this.oid,t,e)},Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._matrixStack.MainCamera=t},enumerable:!0,configurable:!0}),e.prototype.removeTexture=function(t){r.removeTexture(this.oid,t)},e.prototype.startLoader=function(t){async.eachSeries(this._loaderBuffer,function(t,e){t.loadMesh(function(){console.log(t),e()})},t)},e.prototype.configure=function(t){var i=this;t=t||{},i.Environment(t.background),i.Program(t.typeShader),r.setAttributeLocations(i._oid,e.ATTRIBUTES),r.setUniformLocations(i._oid,e.UNIFORMS),this._matrixStack.init()},e.prototype.configureWithLoader=function(t){var e=this;e.configure(),e.startLoader(t)},e.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightDirection","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uPointSize","uSampler","uWireframe","uPerVertexColor"],e.ATTRIBUTES=["a_position","a_normal","a_color"],e}(o);t.SceneGraph=A}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiY3JlYXRlU2hhZGVyIiwidHlwZSIsInNoYWRlclNvdXJjZSIsInNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiY3JlYXRlUHJvZ3JhbSIsInNoYWRlcnMiLCJmcmFnbWVudFNoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImZyYWdtZW50IiwidmVydGV4U2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsInZlcnRleCIsInByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwidXNlUHJvZ3JhbSIsInV0aWxzIiwiczQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsInV1aWQiLCJuYW1lIiwiaWQiLCJub3JtYWxpemVOYU4iLCJ2ZWMiLCJtYXAiLCJhIiwiTnVtYmVyIiwiaXNOYU4iLCJsb2FkIiwidXJsIiwiY2FsbGJhY2siLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3BvbnNlVGV4dCIsInNlbmQiLCJnZXRFeHRlbnNpb24iLCJzdHIiLCJlbGVtcyIsInNwbGl0Iiwibm93SW5NaWxsaXNlY29uZHMiLCJEYXRlIiwiZ2V0VGltZSIsImRlZ1RvUmFkIiwiUEkiLCJjYWxjdWxhdGVOb3JtYWxzIiwidnMiLCJpbmQiLCJ4IiwieSIsInoiLCJucyIsInYxIiwidjIiLCJub3JtYWwiLCJqIiwibm4iLCJsZW4iLCJzcXJ0IiwiQ0FNRVJBX1RZUEUiLCJLZXRjaCIsInNldENhbnZhc1RvQ29udGV4dCIsImtleSIsImNvbnRleHQiLCJzZXRDb250ZXh0IiwiX3ZpZXdzIiwic2V0UHJvZ3JhbSIsImdldFByb2dyYW0iLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsInZpZXciLCJwcmciLCJhdHRyaWJzIiwicmVkdWNlIiwicHJldiIsImF0dHIiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImdldEF0dHJpYiIsInZpZXdfa2V5IiwiYXR0cl9rZXkiLCJnZXRVbmlmb3JtIiwidW5pZm9ybV9rZXkiLCJ1bmlmb3JtcyIsInNldFVuaWZvcm1Mb2NhdGlvbnMiLCJ1bmlmb3JtX25hbWVzIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZW5hYmxlQXR0cmliIiwicG9pbnRlciIsImluZGV4IiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwic2l6ZSIsIkZMT0FUIiwibm9ybWFsaXplZCIsInN0cmlkZSIsIm9mZnNldCIsImRpc2FibGVBdHRyaWIiLCJkaXNhYmxlVmVydGV4QXR0cmliQXJyYXkiLCJyZW5kZXJMb29wIiwiY2IiLCJzZXRJbnRlcnZhbCIsImFkZFRleHR1cmUiLCJ0ZXh0dXJlX2lkIiwidGV4dHVyZXMiLCJwdXNoIiwicmVtb3ZlVGV4dHVyZSIsImluZGV4T2YiLCJzcGxpY2UiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1U2FtcGxlciIsInVuaWZvcm0xaSIsIlJlbmRlcmFibGUiLCJncmFwaF9pZCIsIl9ncmFwaF9pZCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImdyYXBoSUQiLCJFbnRpdHkiLCJfc3VwZXIiLCJjYWxsIiwiYmVnaW5EcmF3IiwibWF0cml4U3RhY2siLCJlbmREcmF3IiwiTWF0cml4U3RhY2siLCJfc3RhY2siLCJfbXZNYXRyaXgiLCJtYXQ0IiwiX3BNYXRyaXgiLCJfbk1hdHJpeCIsImNvcHkiLCJzZXQiLCJwb3AiLCJNb2RlbFZpZXciLCJfY2FtZXJhIiwibW9kZWxWaWV3IiwiaWRlbnRpdHkiLCJjYW1lcmEiLCJQZXJzcGVjdGl2ZSIsInBlcnNwZWN0aXZlIiwiTm9ybWFsIiwiaW52ZXJzZSIsInRyYW5zcG9zZSIsImluaXQiLCJzZXRVcCIsIm12TWF0cml4IiwidW5pZm9ybU1hdHJpeDRmdiIsInBNYXRyaXgiLCJuTWF0cml4IiwiUmVzb3VyY2VzIiwiTWVzaEJ1ZmZlcnMiLCJfb25sb2FkIiwic3JjIiwiX3RoaXMiLCJzZWxmIiwiZXh0Iiwib2JqIiwicGFyc2VPQkoiLCJwYXJzZUpTT04iLCJjcmVhdGVCdWZmZXJzIiwiSlNPTiIsInBhcnNlIiwidiIsInZuIiwidnQiLCJpdiIsImluIiwiaXQiLCJsaW5lcyIsImZpbHRlciIsImZvckVhY2giLCJpdGVtIiwicmVwbGFjZSIsImNvbmNhdCIsInNsaWNlIiwidGVtcEluZGV4IiwicGFyc2VJbnQiLCJfIiwiZGVmYXVsdHMiLCJfdmJvIiwiX25ibyIsIl90Ym8iLCJfaXZibyIsIl9pbmJvIiwiX2l0Ym8iLCJNZXNoVGV4dHVyZSIsIl9pbWFnZSIsIkltYWdlIiwiX29pZCIsImZpbGVuYW1lIiwib25sb2FkIiwibG9hZFRleHR1cmVJbWFnZSIsIl90ZXh0dXJlIiwiTWVzaE1hdGVyaWFsIiwiYW1iaWVudCIsImRpZmZ1c2UiLCJzcGVjdWxhciIsInNoaW5pbmVzcyIsIl9hbWJpZW50IiwidmVjNCIsIl9kaWZmdXNlIiwiX3NwZWN1bGFyIiwiX3NoaW5pbmVzcyIsInRlbXAiLCJLYSIsIktkIiwiS3MiLCJOcyIsImtleXMiLCJsaW5lIiwiU2hhZGVycyIsIkZyYWdtZW50IiwiUGFydGljbGUiLCJQaG9uZyIsIlZlcnRleCIsIkFuaW1hdGlvbkVudGl0eSIsImZyZXF1ZW5jeSIsInRpbWVzIiwiX2ZyZXF1ZW5jeSIsIl9pbnRlcnZhbF9pZCIsIl9jYWxsYmFjayIsIm9uRnJhbWUiLCJFbGFwc2VUaW1lIiwic3RlcHMiLCJDb3VudCIsIl90aW1lcyIsInN0b3AiLCJzdGFydCIsIl9pbnRpbWUiLCJjbGVhckludGVydmFsIiwiTWVzaEVudGl0eSIsIm1lc2hmaWxlIiwibWF0ZXJpYWxmaWxlIiwidGV4dHVyZWZpbGUiLCJfbWF0ZXJpYWwiLCJfYnVmZmVycyIsIl9tZXNoZmlsZSIsIl9tYXRlcmlhbGZpbGUiLCJfdGV4dHVyZWZpbGUiLCJsb2FkQnVmZmVycyIsImxvYWRUZXh0dXJlIiwibG9hZE1hdGVyaWFsIiwibG9hZE1lc2giLCJhc3luYyIsIndhdGVyZmFsbCIsIm5leHQiLCJlcnIiLCJsb2FkTWVzaEJ5T2JqZWN0IiwibG9hZE1hdGVyaWFsQnlPYmplY3QiLCJzZXRNYXRlcmlhbFVuaWZvcm1zIiwidU1hdGVyaWFsQW1iaWVudCIsInVuaWZvcm00ZnYiLCJ1TWF0ZXJpYWxEaWZmdXNlIiwidU1hdGVyaWFsU3BlY3VsYXIiLCJ1U2hpbmluZXNzIiwidW5pZm9ybTFmIiwidmJvIiwibmJvIiwiaXZibyIsImRyYXdFbGVtZW50cyIsIlRSSUFOR0xFUyIsIlVOU0lHTkVEX1NIT1JUIiwiVHJhbnNmb3JtRW50aXR5IiwicG9zaXRpb24iLCJyb3RhdGlvbiIsIl9tYXRyaXgiLCJfcG9zaXRpb24iLCJ2ZWMzIiwiX3NpemUiLCJfcm90YXRpb24iLCJhbmdsZSIsImF4aXMiLCJzZXRNYXRyaXgiLCJuZXdfbWF0cml4Iiwic2V0QWJzb2x1dGVQb3NpdGlvbiIsInRyYW5zbGF0ZSIsIm9wZXJhbmQxIiwib3BlcmFuZDIiLCJhZGQiLCJzZXRTaXplIiwic2NhbGUiLCJzZXRSb3RhdGlvbiIsInNldEFuZ2xlIiwic2V0QXhpcyIsInJvdGF0ZUFuZ2xlIiwibW92ZUF4aXMiLCJyYWQiLCJyb3RhdGUiLCJMaWdodEVudGl0eSIsImRpcmVjdGlvbiIsImN1dG9mZiIsIl9kaXJlY3Rpb24iLCJfY3V0b2ZmIiwidUxpZ2h0QW1iaWVudCIsInVMaWdodERpZmZ1c2UiLCJ1TGlnaHRTcGVjdWxhciIsInVMaWdodFBvc2l0aW9uIiwidW5pZm9ybTNmdiIsInVEaXJlY3Rpb24iLCJEaWZmdXNlRW50aXR5IiwiX3ZhbHVlIiwiUGFydGljbGVFbnRpdHkiLCJwb2ludFNpemUiLCJfcG9pbnRTaXplIiwiX2J1ZmZlciIsIl90ZXh0dXJlX2lkIiwiY29uZmlndXJlIiwiZGF0YV9tZXNoIiwiZGF0YV90ZXh0dXJlIiwiX251bUl0ZW1zIiwidXBkYXRlIiwidVBvaW50U2l6ZSIsImRyYXdBcnJheXMiLCJQT0lOVFMiLCJDYW1lcmFFbnRpdHkiLCJfdHlwZSIsIk9SQklUSU5HIiwiX2NtYXRyaXgiLCJfdXAiLCJfcmlnaHQiLCJfbm9ybWFsIiwiX2F6aW11dGgiLCJfZWxldmF0aW9uIiwiX3N0ZXBzIiwicG9zIiwiYXoiLCJ0ZW1wX2F6IiwiY2hhbmdlQXppbXV0aCIsImVsIiwidGVtcF9lbCIsImNoYW5nZUVsZXZhdGlvbiIsIm4iLCJzdGVwIiwibm9ybWFsaXplIiwibmV3X3Bvc2l0aW9uIiwiVFJBQ0tJTkciLCJjYWxjdWxhdGVPcmllbnRhdGlvbiIsIm0iLCJtdWx0aXBseVZlYzQiLCJyb3RhdGVZIiwicm90YXRlWCIsIkF4aXNFbnRpdHkiLCJfdmVydGljZXMiLCJfaW5kaWNlcyIsIl9jb2xvcnMiLCJfaWJvIiwiX2NibyIsInVXaXJlZnJhbWUiLCJ1UGVyVmVydGV4Q29sb3IiLCJMSU5FUyIsIkdyaWRFbnRpdHkiLCJfZGltZXNpb25zIiwiZGltIiwiYnVpbGQiLCJpbmMiLCJsIiwiTm9kZUVsZW1lbnQiLCJwYXJlbnQiLCJlbnRpdHkiLCJfcGFyZW50Tm9kZSIsImFkZENoaWxkTm9kZSIsIl9jaGlsZE5vZGVzIiwiX2VudGl0eSIsImNoaWxkIiwicmVtb3ZlQ2hpbGROb2RlIiwiZ2V0Q2hpbGROb2RlQnlJbmRleCIsImV4aXN0c0NoaWxkTm9kZSIsImNyZWF0ZUNoaWxkTm9kZSIsImlzUm9vdCIsIm9pZCIsImZpbmRJbmRleCIsInMiLCJpbmRleEluUGFyZW50IiwiaGFzU2libGluZyIsIl9oYXZlIiwibmV4dFNpYmxpbmciLCJzaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwiZmlyc3RDaGlsZCIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkTm9kZXMiLCJkcmF3IiwiU2NlbmVHcmFwaCIsIl9zY2VuZSIsIl9tYXRyaXhTdGFjayIsIl9sb2FkZXJCdWZmZXIiLCJfaXNEcmF3aW5nIiwiRW52aXJvbm1lbnQiLCJlbmFibGUiLCJERVBUSF9URVNUIiwiZGVwdGhGdW5jIiwiTEVRVUFMIiwiQkxFTkQiLCJibGVuZEZ1bmMiLCJTUkNfQUxQSEEiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiY2xlYXJDb2xvciIsImNsZWFyRGVwdGgiLCJ2aWV3cG9ydCIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJjcmVhdGVNYWluQ2hpbGROb2RlIiwicmVtb3ZlTWFpbkNoaWxkTm9kZSIsIm5vZGUiLCJQcm9ncmFtIiwiY3JlYXRlTWVzaCIsImNvbmZpZyIsIm1lc2hFbnRpdHkiLCJtZXNoIiwibWF0ZXJpYWwiLCJjcmVhdGVEaWZmdXNlIiwiY3JlYXRlTWVzaEJ5TG9hZGVyIiwiY3JlYXRlVHJhbnNmb3JtIiwiY3JlYXRlTGlnaHQiLCJjcmVhdGVDYW1lcmEiLCJjcmVhdGVQYXJ0aWNsZSIsImNyZWF0ZUF4aXMiLCJjcmVhdGVHcmlkIiwiTWFpbkNhbWVyYSIsInN0YXJ0TG9hZGVyIiwiZWFjaFNlcmllcyIsImJhY2tncm91bmQiLCJ0eXBlU2hhZGVyIiwiQVRUUklCVVRFUyIsIlVOSUZPUk1TIiwiY29uZmlndXJlV2l0aExvYWRlciJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsV0FBYUMsTUFBUUEsS0FBS0QsV0FBYyxTQUFVRSxFQUFHQyxHQUVyRCxRQUFTQyxLQUFPSCxLQUFLSSxZQUFjSCxFQURuQyxJQUFLLEdBQUlJLEtBQUtILEdBQU9BLEVBQUVJLGVBQWVELEtBQUlKLEVBQUVJLEdBQUtILEVBQUVHLEdBRW5ESixHQUFFTSxVQUFrQixPQUFOTCxFQUFhTSxPQUFPQyxPQUFPUCxJQUFNQyxFQUFHSSxVQUFZTCxFQUFFSyxVQUFXLEdBQUlKLEtBRS9FTyxPQUNKLFNBQVdBLEdBQ1AsR0FBSUMsSUFDSixTQUFXQSxHQUNQLFFBQVNDLEdBQWFDLEdBR2xCLElBQUssR0FGREMsR0FBTSxLQUNOQyxHQUFTLFFBQVMscUJBQXNCLFlBQWEsYUFDaERDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsU0FBVUQsRUFBRyxDQUNuQyxJQUNJRixFQUFNRCxFQUFPSyxXQUFXSCxFQUFNQyxJQUVsQyxNQUFPRyxJQUNQLEdBQUlMLEVBQ0EsTUFHUixNQUFZLFFBQVJBLEdBQ0FNLE1BQU0sOEJBQ0MsT0FHUE4sRUFB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cyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBCbGF6ZTtcclxuKGZ1bmN0aW9uIChCbGF6ZSkge1xyXG4gICAgdmFyIFdlYkdMVXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKFdlYkdMVXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBnZXRHTENvbnRleHQoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBbXCJ3ZWJnbFwiLCBcImV4cGVyaW1lbnRhbC13ZWJnbFwiLCBcIndlYmtpdC0zZFwiLCBcIm1vei13ZWJnbFwiXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN0eCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgaW5pdGlhbGlzZSBXZWJHTFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0V2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjdHgudmlld3BvcnRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmdldEdMQ29udGV4dCA9IGdldEdMQ29udGV4dDtcclxuICAgICAgICAoZnVuY3Rpb24gKEJVRkZFUl9EUkFXKSB7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiU1RBVElDXCJdID0gMF0gPSBcIlNUQVRJQ1wiO1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUUkVBTVwiXSA9IDFdID0gXCJTVFJFQU1cIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJEWU5BTUlDXCJdID0gMl0gPSBcIkRZTkFNSUNcIjtcclxuICAgICAgICB9KShXZWJHTFV0aWxzLkJVRkZFUl9EUkFXIHx8IChXZWJHTFV0aWxzLkJVRkZFUl9EUkFXID0ge30pKTtcclxuICAgICAgICB2YXIgQlVGRkVSX0RSQVcgPSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihnbCwgZGF0YSwgaXMyRCwgdHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuRFlOQU1JQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpZiAoaXMyRCkge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLml0ZW1TaXplID0gMjtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDM7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIgPSBjcmVhdGVCdWZmZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUUkVBTTpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5pdGVtU2l6ZSA9IDE7XHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleEJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVJbmRleEJ1ZmZlciA9IGNyZWF0ZUluZGV4QnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGRhdGEpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlID0gY3JlYXRlVGV4dHVyZTtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTaGFkZXIoZ2wsIHR5cGUsIHNoYWRlclNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gICAgICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xyXG4gICAgICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVTaGFkZXIgPSBjcmVhdGVTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgc2hhZGVycy5mcmFnbWVudCk7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBjcmVhdGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHNoYWRlcnMudmVydGV4KTtcclxuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSlcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByb2dyYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW07XHJcbiAgICB9KShXZWJHTFV0aWxzID0gQmxhemUuV2ViR0xVdGlscyB8fCAoQmxhemUuV2ViR0xVdGlscyA9IHt9KSk7XHJcbiAgICB2YXIgdXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKHV0aWxzKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gczQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KVxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZygxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuczQgPSBzNDtcclxuICAgICAgICBmdW5jdGlvbiB1dWlkKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGlkID0gczQoKSArIHM0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuYW1lID8gbmFtZSArIGlkIDogaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnV1aWQgPSB1dWlkO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU5hTih2ZWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlYy5tYXAoZnVuY3Rpb24gKGEpIHsgaWYgKE51bWJlci5pc05hTihhKSlcclxuICAgICAgICAgICAgICAgIGEgPSAwOyByZXR1cm4gYTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vcm1hbGl6ZU5hTiA9IG5vcm1hbGl6ZU5hTjtcclxuICAgICAgICBmdW5jdGlvbiBsb2FkKHVybCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xyXG4gICAgICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubG9hZCA9IGxvYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKHN0cikge1xyXG4gICAgICAgICAgICB2YXIgZWxlbXMgPSBzdHIuc3BsaXQoXCIuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbXNbZWxlbXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmdldEV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbjtcclxuICAgICAgICBmdW5jdGlvbiBub3dJbk1pbGxpc2Vjb25kcygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzID0gbm93SW5NaWxsaXNlY29uZHM7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVnVG9SYWQoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmRlZ1RvUmFkID0gZGVnVG9SYWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlTm9ybWFscyh2cywgaW5kKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICAgICAgdmFyIHkgPSAxO1xyXG4gICAgICAgICAgICB2YXIgeiA9IDI7XHJcbiAgICAgICAgICAgIHZhciBucyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBuc1tpXSA9IDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZC5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHYxID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgdjIgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWwgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vcDEgLSBwMFxyXG4gICAgICAgICAgICAgICAgdjFbeF0gPSB2c1szICogaW5kW2kgKyAxXSArIHhdIC0gdnNbMyAqIGluZFtpXSArIHhdO1xyXG4gICAgICAgICAgICAgICAgdjFbeV0gPSB2c1szICogaW5kW2kgKyAxXSArIHldIC0gdnNbMyAqIGluZFtpXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjFbel0gPSB2c1szICogaW5kW2kgKyAxXSArIHpdIC0gdnNbMyAqIGluZFtpXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgdjJbeF0gPSB2c1szICogaW5kW2kgKyAyXSArIHhdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYyW3ldID0gdnNbMyAqIGluZFtpICsgMl0gKyB5XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeV07XHJcbiAgICAgICAgICAgICAgICB2Mlt6XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgel0gLSB2c1szICogaW5kW2kgKyAxXSArIHpdO1xyXG4gICAgICAgICAgICAgICAgLy9wMiAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2MVt4XSA9IHZzWzMqaW5kW2krMl0reF0gLSB2c1szKmluZFtpKzFdK3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gdjFbeV0gPSB2c1szKmluZFtpKzJdK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3pdID0gdnNbMyppbmRbaSsyXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvLyBwMCAtIHAxXHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt4XSA9IHZzWzMqaW5kW2ldK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3ldID0gdnNbMyppbmRbaV0reV0gLSB2c1szKmluZFtpKzFdK3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gdjJbel0gPSB2c1szKmluZFtpXSt6XSAtIHZzWzMqaW5kW2krMV0rel07XHJcbiAgICAgICAgICAgICAgICAvL2Nyb3NzIHByb2R1Y3QgYnkgU2FycnVzIFJ1bGVcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt4XSA9IHYxW3ldICogdjJbel0gLSB2MVt6XSAqIHYyW3ldO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3ldID0gdjFbel0gKiB2Mlt4XSAtIHYxW3hdICogdjJbel07XHJcbiAgICAgICAgICAgICAgICBub3JtYWxbel0gPSB2MVt4XSAqIHYyW3ldIC0gdjFbeV0gKiB2Mlt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3hdICs9IG5vcm1hbFt4XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3ldICs9IG5vcm1hbFt5XTtcclxuICAgICAgICAgICAgICAgIC8vIG5zWzMqaW5kW2ldK3pdICs9IG5vcm1hbFt6XTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMzsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB4XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeF0gKyBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB5XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgeV0gKyBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAgICAgbnNbMyAqIGluZFtpICsgal0gKyB6XSA9IG5zWzMgKiBpbmRbaSArIGpdICsgel0gKyBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9ub3JtYWxpemUgdGhlIHJlc3VsdFxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZzLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm4gPSBbXTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbnNbaSArIHhdO1xyXG4gICAgICAgICAgICAgICAgbm5beV0gPSBuc1tpICsgeV07XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5zW2kgKyB6XTtcclxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSBNYXRoLnNxcnQoKG5uW3hdICogbm5beF0pICsgKG5uW3ldICogbm5beV0pICsgKG5uW3pdICogbm5bel0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChsZW4gPT0gMClcclxuICAgICAgICAgICAgICAgICAgICBsZW4gPSAwLjAwMDAxO1xyXG4gICAgICAgICAgICAgICAgbm5beF0gPSBublt4XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbm5beV0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt6XSA9IG5uW3pdIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHhdID0gbm5beF07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgeV0gPSBublt5XTtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB6XSA9IG5uW3pdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBucztcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuY2FsY3VsYXRlTm9ybWFscyA9IGNhbGN1bGF0ZU5vcm1hbHM7XHJcbiAgICB9KSh1dGlscyA9IEJsYXplLnV0aWxzIHx8IChCbGF6ZS51dGlscyA9IHt9KSk7XHJcbiAgICAoZnVuY3Rpb24gKENBTUVSQV9UWVBFKSB7XHJcbiAgICAgICAgQ0FNRVJBX1RZUEVbQ0FNRVJBX1RZUEVbXCJPUkJJVElOR1wiXSA9IDBdID0gXCJPUkJJVElOR1wiO1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiVFJBQ0tJTkdcIl0gPSAxXSA9IFwiVFJBQ0tJTkdcIjtcclxuICAgIH0pKEJsYXplLkNBTUVSQV9UWVBFIHx8IChCbGF6ZS5DQU1FUkFfVFlQRSA9IHt9KSk7XHJcbiAgICB2YXIgQ0FNRVJBX1RZUEUgPSBCbGF6ZS5DQU1FUkFfVFlQRTtcclxuICAgIHZhciBLZXRjaCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gS2V0Y2goKSB7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEtldGNoLnNldENhbnZhc1RvQ29udGV4dCA9IGZ1bmN0aW9uIChrZXksIGNhbnZhcykge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IFdlYkdMVXRpbHMuZ2V0R0xDb250ZXh0KGNhbnZhcyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldENvbnRleHQoa2V5LCBjb250ZXh0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0Q29udGV4dCA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLmNvbnRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtID0gZnVuY3Rpb24gKGtleSwgc2hhZGVycykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KGtleSk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gV2ViR0xVdGlscy5jcmVhdGVQcm9ncmFtKGdsLCBzaGFkZXJzKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbShrZXksIHByb2dyYW0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHByb2dyYW0pIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbSA9IHByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRQcm9ncmFtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW2tleV0ucHJvZ3JhbTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmNyZWF0ZVZpZXcgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldID0ge307XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRBdHRyaWJ1dGVMb2NhdGlvbnMgPSBmdW5jdGlvbiAoa2V5LCBhdHRyaWJzX25hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmlldy5hdHRyaWJzID0gYXR0cmlic19uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHByZXZbYXR0cl0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbihwcmcsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldEF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0uYXR0cmlic1thdHRyX2tleV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRVbmlmb3JtID0gZnVuY3Rpb24gKHZpZXdfa2V5LCB1bmlmb3JtX2tleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XS51bmlmb3Jtc1t1bmlmb3JtX2tleV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRVbmlmb3JtTG9jYXRpb25zID0gZnVuY3Rpb24gKGtleSwgdW5pZm9ybV9uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZpZXcudW5pZm9ybXMgPSB1bmlmb3JtX25hbWVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgYXR0cikge1xyXG4gICAgICAgICAgICAgICAgcHJldlthdHRyXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcmcsIGF0dHIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgICAgIH0sIHt9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXksIHBvaW50ZXIpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gS2V0Y2guZ2V0QXR0cmliKHZpZXdfa2V5LCBhdHRyX2tleSk7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQodmlld19rZXkpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGluZGV4LCBwb2ludGVyLnNpemUgfHwgMywgZ2wuRkxPQVQsIHBvaW50ZXIubm9ybWFsaXplZCB8fCBmYWxzZSwgcG9pbnRlci5zdHJpZGUgfHwgMCwgcG9pbnRlci5vZmZzZXQgfHwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGluZGV4LCAzLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliID0gZnVuY3Rpb24gKHZpZXdfa2V5LCBhdHRyX2tleSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBLZXRjaC5nZXRBdHRyaWIodmlld19rZXksIGF0dHJfa2V5KTtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dCh2aWV3X2tleSk7XHJcbiAgICAgICAgICAgIGdsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShpbmRleCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5yZW5kZXJMb29wID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHNldEludGVydmFsKGNiLCAzMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5hZGRUZXh0dXJlID0gZnVuY3Rpb24gKGtleSwgdGV4dHVyZV9pZCkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2aWV3LnRleHR1cmVzID0gdmlldy50ZXh0dXJlcyB8fCBbXTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcy5wdXNoKHRleHR1cmVfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2gucmVtb3ZlVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcyA9IHZpZXcudGV4dHVyZXMgfHwgW107XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHZpZXcudGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlX2lkKTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh2aWV3LnRleHR1cmVzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFjdGl2ZVRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkLCB0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShpbmRleCA9PT0gMCA/IGdsLlRFWFRVUkUwIDogZ2wuVEVYVFVSRTAgKyBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIHZhciB1U2FtcGxlciA9IEtldGNoLmdldFVuaWZvcm0oa2V5LCBcInVTYW1wbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVTYW1wbGVyLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLl92aWV3cyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBLZXRjaDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5LZXRjaCA9IEtldGNoO1xyXG4gICAgdmFyIFJlbmRlcmFibGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFJlbmRlcmFibGUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JhcGhfaWQgPSBncmFwaF9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdyYXBoSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ncmFwaF9pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdsXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0Q29udGV4dCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwicHJvZ3JhbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFByb2dyYW0odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUmVuZGVyYWJsZS5wcm90b3R5cGUuZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFVuaWZvcm0odGhpcy5ncmFwaElELCBrZXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlcmFibGU7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuUmVuZGVyYWJsZSA9IFJlbmRlcmFibGU7XHJcbiAgICB2YXIgRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEVudGl0eShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFbnRpdHk7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLkVudGl0eSA9IEVudGl0eTtcclxuICAgIHZhciBNYXRyaXhTdGFjayA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1hdHJpeFN0YWNrLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1hdHJpeFN0YWNrKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29weSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuc2V0KHRoaXMuX212TWF0cml4LCBjb3B5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sucHVzaChjb3B5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFjay5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgIHRocm93IFwiaW52YWxpZCBwb3BNYXRyaXhcIjtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9zdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5Nb2RlbFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gdGhpcy5fY2FtZXJhLm1vZGVsVmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIm12TWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbXZNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwicE1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibk1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25NYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuUGVyc3BlY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQucGVyc3BlY3RpdmUoNDUsIGdsLnZpZXdwb3J0V2lkdGggLyBnbC52aWV3cG9ydEhlaWdodCwgMC4xLCAxMDAwLjAsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk5vcm1hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuUGVyc3BlY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5zZXRVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICAgICAgdmFyIG12TWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1WTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobXZNYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KG12TWF0cml4LCBmYWxzZSwgdGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgcE1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVQTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAocE1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocE1hdHJpeCwgZmFsc2UsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgbk1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVOTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobk1hdHJpeCwgZmFsc2UsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1hdHJpeFN0YWNrO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5NYXRyaXhTdGFjayA9IE1hdHJpeFN0YWNrO1xyXG4gICAgdmFyIFJlc291cmNlcztcclxuICAgIChmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgdmFyIE1lc2hCdWZmZXJzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hCdWZmZXJzLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoQnVmZmVycyhncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dCA9IHV0aWxzLmdldEV4dGVuc2lvbihzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9ialwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VPQkooZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VKU09OKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VKU09OID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VPQkogPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ3YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ2YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gb2JqW2tleV0uY29uY2F0KGVsZW1zLnNsaWNlKDEpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAhPT0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnJlcGxhY2UoXCJcXHJcIiwgXCJcIikucmVwbGFjZShcImZcIiwgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9IHRlbXBJbmRleC5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGVtcEluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXYucHVzaChwYXJzZUludChlbGVtc1swXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaW4ucHVzaChwYXJzZUludChlbGVtc1sxXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXQucHVzaChwYXJzZUludChlbGVtc1syXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgXy5kZWZhdWx0cyhvYmosIHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZibyA9IGNyZWF0ZUJ1ZmZlcihvYmoudik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnYubGVuZ3RoID4gMCAmJiBvYmouaXYubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25ibyA9IGNyZWF0ZUJ1ZmZlcih1dGlscy5jYWxjdWxhdGVOb3JtYWxzKG9iai52LCBvYmouaXYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RibyA9IFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBvYmoudnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJHTFV0aWxzLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXYubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml2KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaW4ubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLmluKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXQubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml0KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIm5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwidGJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpdmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaW5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5ibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoQnVmZmVycyA9IE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIHZhciBNZXNoVGV4dHVyZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoVGV4dHVyZSwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaFRleHR1cmUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMubG9hZFRleHR1cmVJbWFnZSh0aGlzLl9vbmxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hUZXh0dXJlLnByb3RvdHlwZS5sb2FkVGV4dHVyZUltYWdlID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShzZWxmLmdsLCBzZWxmLl9pbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZShzZWxmLmdyYXBoSUQsIHNlbGYuX29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoVGV4dHVyZTtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaFRleHR1cmUgPSBNZXNoVGV4dHVyZTtcclxuICAgICAgICB2YXIgTWVzaE1hdGVyaWFsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBzcGVjdWxhciwgc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoaW5pbmVzcyA9IHNoaW5pbmVzcyB8fCAyMDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbHMubG9hZChzcmMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gc2VsZi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FtYmllbnQgPSB0ZW1wLkthO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGlmZnVzZSA9IHRlbXAuS2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zcGVjdWxhciA9IHRlbXAuS3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNoaW5pbmVzcyA9IHRlbXAuTnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25sb2FkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXCJLYVwiLCBcIktkXCIsIFwiS3NcIiwgXCJOc1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gbGluZS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTnNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbXCJOc1wiXSA9IE51bWJlcihlbGVtc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBlbGVtcy5zbGljZSgxKS5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIE51bWJlcihhKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKDEuMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbWJpZW50O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGFtYmllbnQpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJkaWZmdXNlXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNoaW5pbmVzc1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hpbmluZXNzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoTWF0ZXJpYWw7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCA9IE1lc2hNYXRlcmlhbDtcclxuICAgIH0pKFJlc291cmNlcyA9IEJsYXplLlJlc291cmNlcyB8fCAoQmxhemUuUmVzb3VyY2VzID0ge30pKTtcclxuICAgIHZhciBTaGFkZXJzO1xyXG4gICAgKGZ1bmN0aW9uIChTaGFkZXJzKSB7XHJcbiAgICAgICAgdmFyIEZyYWdtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gRnJhZ21lbnQoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgRnJhZ21lbnQuUGFydGljbGUgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbmJvb2wgaXNCbGFjayh2ZWM0IGNvbG9yKXtcXG5yZXR1cm4gY29sb3Iucj09MC4wICYmY29sb3IuZz09MC4wJiZjb2xvci5iPT0wLjA7XFxufVxcbnZvaWQgbWFpbih2b2lkKSB7IFxcbiAgICAgaWYodVdpcmVmcmFtZSl7XFxuICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdU1hdGVyaWFsRGlmZnVzZTtcXG4gICAgICAgIH1lbHNle1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGdsX1BvaW50Q29vcmQpO1xcbiAgICBpZihnbF9GcmFnQ29sb3IuYSA8IDAuNSB8fCBpc0JsYWNrKGdsX0ZyYWdDb2xvcikpIGRpc2NhcmQ7XFxuICAgIH1cXG59XCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlBob25nID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxudW5pZm9ybSB2ZWMzIHVMaWdodERpcmVjdGlvbjtcXG5cXG51bmlmb3JtIHZlYzQgdUxpZ2h0QW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0RGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0U3BlY3VsYXI7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbEFtYmllbnQ7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbFNwZWN1bGFyO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuXFxuICAgICAgICBpZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgICB9ZWxzZXtcXG4gICAgICAgIFxcbiAgICBcXHRcXG4gICAgICAgIHZlYzMgTD0gbm9ybWFsaXplKHVMaWdodERpcmVjdGlvbik7XFxuICAgICAgICB2ZWMzIE49IG5vcm1hbGl6ZSh2Tm9ybWFsKTtcXG4gICAgICAgIGZsb2F0IGxhbWJlcnRUZXJtPWRvdChOLCAtTCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWE9IHVMaWdodEFtYmllbnQqdU1hdGVyaWFsQW1iaWVudDtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJZD12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSXM9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZihsYW1iZXJ0VGVybT4wLjApXFxuICAgICAgICB7XFxuICAgICAgICAgICAgSWQ9dUxpZ2h0RGlmZnVzZSp1TWF0ZXJpYWxEaWZmdXNlKmxhbWJlcnRUZXJtO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHZlYzMgRT0gbm9ybWFsaXplKHZFeWVWZWMpO1xcbiAgICAgICAgICAgIHZlYzMgUj0gcmVmbGVjdChMLCBOKTtcXG4gICAgICAgICAgICBmbG9hdCBzcGVjdWxhcj1wb3cobWF4KGRvdChSLEUpLDAuMCksIHVTaGluaW5lc3MpO1xcbiAgICAgICAgICAgIElzPXVMaWdodFNwZWN1bGFyKnVNYXRlcmlhbFNwZWN1bGFyKnNwZWN1bGFyO1xcbiAgICAgICAgfVxcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IGZpbmFsQ29sb3I9SWErSWQrSXM7XFxuICAgICAgICBmaW5hbENvbG9yLmE9MS4wO1xcbiAgICBcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9ZmluYWxDb2xvcjtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgcmV0dXJuIEZyYWdtZW50O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5GcmFnbWVudCA9IEZyYWdtZW50O1xyXG4gICAgICAgIHZhciBWZXJ0ZXggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBWZXJ0ZXgoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgVmVydGV4LlBhcnRpY2xlID0gXCJhdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVBvaW50U2l6ZTtcXG5cXG52b2lkIG1haW4odm9pZCkge1xcbiAgICBnbF9Qb3NpdGlvbiA9IHVQTWF0cml4ICogdU1WTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLnh5eiwgMS4wKTtcXG4gICAgZ2xfUG9pbnRTaXplID0gdVBvaW50U2l6ZTtcXG59XCI7XHJcbiAgICAgICAgICAgIFZlcnRleC5QaG9uZyA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Tk1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgIHZlYzQgdmVydGV4ID0gdU1WTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApO1xcblxcdFxcblxcdFxcblxcdCBpZih1V2lyZWZyYW1lKXtcXG5cXHQgXFxuXFx0IFxcdGlmKHVQZXJWZXJ0ZXhDb2xvcil7XFxuXFx0IFxcdFxcdCB2Q29sb3I9YV9jb2xvcjtcXG5cXHQgXFx0fWVsc2V7XFxuXFx0IFxcdFxcdHZDb2xvcj11TWF0ZXJpYWxEaWZmdXNlO1xcblxcdCBcXHR9XFxuXFx0IFxcblxcdFxcblxcdCB9ZWxzZXtcXG5cXHRcXG5cXHR2Tm9ybWFsID0gdmVjMyh1Tk1hdHJpeCAqIHZlYzQoYV9ub3JtYWwsIDEuMCkpO1xcblxcdHZFeWVWZWM9LXZlYzModmVydGV4Lnh5eik7ICBcXG5cXHRcXG5cXHR9XFxuXFx0IFxcblxcdGdsX1Bvc2l0aW9uID11UE1hdHJpeCAqIHZlcnRleDtcXG5cXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBWZXJ0ZXg7XHJcbiAgICAgICAgfSgpKTtcclxuICAgICAgICBTaGFkZXJzLlZlcnRleCA9IFZlcnRleDtcclxuICAgIH0pKFNoYWRlcnMgPSBCbGF6ZS5TaGFkZXJzIHx8IChCbGF6ZS5TaGFkZXJzID0ge30pKTtcclxuICAgIHZhciBBbmltYXRpb25FbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhBbmltYXRpb25FbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQW5pbWF0aW9uRW50aXR5KGdyYXBoX2lkLCBmcmVxdWVuY3ksIHRpbWVzLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyZXF1ZW5jeSA9IGZyZXF1ZW5jeTtcclxuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLm9uRnJhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lID0gdXRpbHMubm93SW5NaWxsaXNlY29uZHMoKTtcclxuICAgICAgICAgICAgaWYgKEFuaW1hdGlvbkVudGl0eS5FbGFwc2VUaW1lIDwgNSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIHN0ZXBzID0gTWF0aC5mbG9vcihBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSAvIHRoaXMuX2ZyZXF1ZW5jeSk7XHJcbiAgICAgICAgICAgIHdoaWxlICgoc3RlcHMgPiAwKSAmJiAoQW5pbWF0aW9uRW50aXR5LkNvdW50ICE9IHRoaXMuX3RpbWVzKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIHN0ZXBzLS07XHJcbiAgICAgICAgICAgICAgICBBbmltYXRpb25FbnRpdHkuQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoQW5pbWF0aW9uRW50aXR5LkNvdW50ID09PSB0aGlzLl90aW1lcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGltZSA9IHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsX2lkID0gc2V0SW50ZXJ2YWwodGhpcy5vbkZyYW1lLCB0aGlzLl9mcmVxdWVuY3kgLyAxMDAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsX2lkKVxyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbF9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEFuaW1hdGlvbkVudGl0eS5Db3VudCA9IDA7XHJcbiAgICAgICAgcmV0dXJuIEFuaW1hdGlvbkVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5BbmltYXRpb25FbnRpdHkgPSBBbmltYXRpb25FbnRpdHk7XHJcbiAgICB2YXIgTWVzaEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1lc2hFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTWVzaEVudGl0eShncmFwaF9pZCwgbWVzaGZpbGUsIG1hdGVyaWFsZmlsZSwgdGV4dHVyZWZpbGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbWVzaGZpbGUgPSBtZXNoZmlsZSB8fCBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbGZpbGUgPSBtYXRlcmlhbGZpbGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZWZpbGUgPSB0ZXh0dXJlZmlsZSB8fCBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkQnVmZmVycyA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnModGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRUZXh0dXJlID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbmV3IFJlc291cmNlcy5NZXNoVGV4dHVyZSh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hFbnRpdHkucHJvdG90eXBlLCBcIm1hdGVyaWFsXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWF0ZXJpYWwgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gbmV3IFJlc291cmNlcy5NZXNoTWF0ZXJpYWwodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1lc2ggPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICBhc3luYy53YXRlcmZhbGwoW1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuX21lc2hmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBCdWZmZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZEJ1ZmZlcnMoc2VsZi5fbWVzaGZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgQnVmZmVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fdGV4dHVyZWZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIFRleHR1cmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkVGV4dHVyZShzZWxmLl90ZXh0dXJlZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG5leHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuX21hdGVyaWFsZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgTWF0ZXJpYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2FkTWF0ZXJpYWwoc2VsZi5fbWF0ZXJpYWxmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIE1hdGVyaWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIF0sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2IpXHJcbiAgICAgICAgICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWVzaEJ5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzID0gbmV3IFJlc291cmNlcy5NZXNoQnVmZmVycyh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJzLmNyZWF0ZUJ1ZmZlcnMob2JqKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNYXRlcmlhbEJ5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIGlmIChvYmouYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuYW1iaWVudCA9IG9iai5hbWJpZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyID0gb2JqLnNwZWN1bGFyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSA9IG9iai5kaWZmdXNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvYmouc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zaGluaW5lc3MgPSBvYmouc2hpbmluZXNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5zZXRNYXRlcmlhbFVuaWZvcm1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxBbWJpZW50ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsQW1iaWVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsQW1iaWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxBbWJpZW50LCB0aGlzLl9tYXRlcmlhbC5hbWJpZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5kaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLnNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVNYXRlcmlhbFNwZWN1bGFyID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsU3BlY3VsYXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbFNwZWN1bGFyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbFNwZWN1bGFyLCB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVTaGluaW5lc3MgPSB0aGlzLmdldFVuaWZvcm0oXCJ1U2hpbmluZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1U2hpbmluZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodVNoaW5pbmVzcywgdGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLnNldE1hdGVyaWFsVW5pZm9ybXMoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMudmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVycy5uYm8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfbm9ybWFsXCIpO1xyXG4gICAgICAgICAgICB2YXIgaXZibyA9IHRoaXMuX2J1ZmZlcnMuaXZibztcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgaXZibyk7XHJcbiAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIGl2Ym8ubnVtSXRlbXMsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTWVzaEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5NZXNoRW50aXR5ID0gTWVzaEVudGl0eTtcclxuICAgIHZhciBUcmFuc2Zvcm1FbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhUcmFuc2Zvcm1FbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNmb3JtRW50aXR5KGdyYXBoX2lkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uIHx8IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplIHx8IHZlYzMuY3JlYXRlKFsxLCAxLCAxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb24gfHwgeyBhbmdsZTogMCwgYXhpczogdmVjMy5jcmVhdGUoKSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmlkZW50aXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldE1hdHJpeCA9IGZ1bmN0aW9uIChuZXdfbWF0cml4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG5ld19tYXRyaXg7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnRyYW5zcG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC50cmFuc3Bvc2UodGhpcy5fbWF0cml4LCB0aGlzLl9tYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QWJzb2x1dGVQb3NpdGlvbiA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gW3gsIHksIHpdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJzaXplXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSBbeCwgeSwgel07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9zaXplKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldFJvdGF0aW9uID0gZnVuY3Rpb24gKGFuZ2xlLCBheGlzKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmdsZSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgICAgIGlmIChheGlzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYXhpcyA9IGF4aXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEFuZ2xlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEF4aXMgPSBmdW5jdGlvbiAoYXhpcykge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5heGlzID0gYXhpcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUucm90YXRlQW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ2xlID09PSB2b2lkIDApIHsgYW5nbGUgPSAwOyB9XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmFuZ2xlICs9IGFuZ2xlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5tb3ZlQXhpcyA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3JvdGF0aW9uLmF4aXM7XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fcm90YXRpb24uYXhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5wdXNoKCk7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLk1vZGVsVmlldygpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBtYXRyaXhTdGFjay5tdk1hdHJpeDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uICE9IHZvaWQgMClcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2l6ZSAhPSB2b2lkIDApXHJcbiAgICAgICAgICAgICAgICBtYXQ0LnNjYWxlKHRoaXMuX21hdHJpeCwgdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPSB2b2lkIDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByYWQgPSB0aGlzLl9yb3RhdGlvbi5hbmdsZSAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZSh0aGlzLl9tYXRyaXgsIHJhZCwgdGhpcy5fcm90YXRpb24uYXhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF0cml4U3RhY2suc2V0VXAoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBUcmFuc2Zvcm1FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuVHJhbnNmb3JtRW50aXR5ID0gVHJhbnNmb3JtRW50aXR5O1xyXG4gICAgdmFyIExpZ2h0RW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTGlnaHRFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTGlnaHRFbnRpdHkoZ3JhcGhfaWQsIGFtYmllbnQsIGRpZmZ1c2UsIHBvc2l0aW9uLCBzcGVjdWxhciwgZGlyZWN0aW9uLCBjdXRvZmYpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IGRpZmZ1c2UgPyB2ZWM0LmNyZWF0ZShkaWZmdXNlKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb24gPyB2ZWM0LmNyZWF0ZShwb3NpdGlvbikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZGlyZWN0aW9uID8gdmVjMy5jcmVhdGUoZGlyZWN0aW9uKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1dG9mZiA9IGN1dG9mZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW1iaWVudDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShhbWJpZW50KSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiZGlmZnVzZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoZGlmZnVzZSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcInNwZWN1bGFyXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzMuY3JlYXRlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiZGlyZWN0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWMzLmNyZWF0ZShkaXJlY3Rpb24pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJjdXRPZmZcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXRvZmY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGN1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3V0b2ZmID0gY3V0b2ZmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBMaWdodEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodEFtYmllbnQgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRBbWJpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRBbWJpZW50LCB0aGlzLl9hbWJpZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHREaWZmdXNlLCB0aGlzLl9kaWZmdXNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodFNwZWN1bGFyKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0U3BlY3VsYXIsIHRoaXMuX3NwZWN1bGFyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRQb3NpdGlvbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodFBvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodUxpZ2h0UG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdURpcmVjdGlvbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodERpcmVjdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1RGlyZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodURpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvKiBpZiAodGhpcy5fY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgICAgICAgdmFyIHVDdXRPZmYgPSB0aGlzLmdldFVuaWZvcm0oXCJ1Q3V0T2ZmXCIpO1xyXG4gICAgICAgICAgICAgICAgIGlmICh1Q3V0T2ZmKVxyXG4gICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodUN1dE9mZiwgdGhpcy5fY3V0b2ZmKTtcclxuICAgICAgICAgICAgIH0qL1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTGlnaHRFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTGlnaHRFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuTGlnaHRFbnRpdHkgPSBMaWdodEVudGl0eTtcclxuICAgIHZhciBEaWZmdXNlRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRGlmZnVzZUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBEaWZmdXNlRW50aXR5KGdyYXBoX2lkLCB2KSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlmZnVzZUVudGl0eS5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBEaWZmdXNlRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIHRoaXMuX3ZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRGlmZnVzZUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5EaWZmdXNlRW50aXR5ID0gRGlmZnVzZUVudGl0eTtcclxuICAgIHZhciBQYXJ0aWNsZUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFBhcnRpY2xlRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFBhcnRpY2xlRW50aXR5KGdyYXBoX2lkLCBwb2ludFNpemUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludFNpemUgPSBwb2ludFNpemUgfHwgMTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZV9pZCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoZGF0YV9tZXNoLCBkYXRhX3RleHR1cmUpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhX21lc2gpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fbnVtSXRlbXMgPSBkYXRhX21lc2gubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlX2lkID0gdXRpbHMudXVpZChcIlRleHR1cmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBXZWJHTFV0aWxzLmNyZWF0ZVRleHR1cmUoZ2wsIGRhdGFfdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmFkZFRleHR1cmUodGhpcy5ncmFwaElELCB0aGlzLl90ZXh0dXJlX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9udW1JdGVtcyA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZSwgXCJ0ZXh0dXJlSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlX2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVFbnRpdHkucHJvdG90eXBlLCBcInBvaW50U2l6ZVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50U2l6ZSA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1UG9pbnRTaXplID0gdGhpcy5nZXRVbmlmb3JtKFwidVBvaW50U2l6ZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVQb2ludFNpemUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodVBvaW50U2l6ZSwgdGhpcy5fcG9pbnRTaXplKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgS2V0Y2guYWN0aXZlVGV4dHVyZSh0aGlzLmdyYXBoSUQsIHRoaXMuX3RleHR1cmVfaWQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlBPSU5UUywgMCwgdGhpcy5fbnVtSXRlbXMgLyAzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUGFydGljbGVFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuUGFydGljbGVFbnRpdHkgPSBQYXJ0aWNsZUVudGl0eTtcclxuICAgIHZhciBDYW1lcmFFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhDYW1lcmFFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FtZXJhRW50aXR5KGdyYXBoX2lkLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGUgfHwgQ0FNRVJBX1RZUEUuT1JCSVRJTkc7XHJcbiAgICAgICAgICAgIHRoaXMuX2NtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX2NtYXRyaXgpO1xyXG4gICAgICAgICAgICB0aGlzLl91cCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0ID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbm9ybWFsID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9hemltdXRoID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gPSAwLjA7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZXBzID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwidHlwZVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJhemltdXRoXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXppbXV0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYXopIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wX2F6ID0gYXogLSB0aGlzLl9hemltdXRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBemltdXRoKHRlbXBfYXopO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNoYW5nZUF6aW11dGggPSBmdW5jdGlvbiAoYXopIHtcclxuICAgICAgICAgICAgdGhpcy5fYXppbXV0aCArPSBhejtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2F6aW11dGggPiAzNjAgfHwgdGhpcy5fYXppbXV0aCA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2F6aW11dGggPSB0aGlzLl9hemltdXRoICUgMzYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJlbGV2YXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGV2YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcF9lbCA9IGVsIC0gdGhpcy5fZWxldmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VFbGV2YXRpb24odGVtcF9lbCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2hhbmdlRWxldmF0aW9uID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiArPSBlbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VsZXZhdGlvbiA+IDM2MCB8fCB0aGlzLl9lbGV2YXRpb24gPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb24gJSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInpvb21cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGVwcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBwID0gdGhpcy5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIHZhciBzdGVwID0gb2Zmc2V0IC0gdGhpcy5fc3RlcHM7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl9ub3JtYWwsIG4pO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld19wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMF0gPSBwWzBdIC0gc3RlcCAqIG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzFdID0gcFsxXSAtIHN0ZXAgKiBuWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsyXSA9IHBbMl0gLSBzdGVwICogblsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblswXSA9IHBbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzFdID0gcFsxXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMl0gPSBwWzJdIC0gc3RlcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXdfcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGVwcyA9IG9mZnNldDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jYWxjdWxhdGVPcmllbnRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG0gPSB0aGlzLl9jbWF0cml4O1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMSwgMCwgMCwgMF0sIHRoaXMuX3JpZ2h0KTtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzAsIDEsIDAsIDBdLCB0aGlzLl91cCk7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAwLCAxLCAwXSwgdGhpcy5fbm9ybWFsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX2NtYXRyaXgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fY21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVZKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2F6aW11dGggKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWCh0aGlzLl9jbWF0cml4LCB0aGlzLl9lbGV2YXRpb24gKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWSh0aGlzLl9jbWF0cml4LCB0aGlzLl9hemltdXRoICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVgodGhpcy5fY21hdHJpeCwgdGhpcy5fZWxldmF0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9jbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAwLCAwLCAxXSwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJtb2RlbFZpZXdcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIG1hdDQuaW52ZXJzZSh0aGlzLl9jbWF0cml4LCBtKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQ2FtZXJhRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkNhbWVyYUVudGl0eSA9IENhbWVyYUVudGl0eTtcclxuICAgIHZhciBBeGlzRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQXhpc0VudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBBeGlzRW50aXR5KGdyYXBoX2lkLCBkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgZCA9IGQgfHwgMTAwO1xyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IFswLjAsIDAuMCwgMC4wLCBkLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBkLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBkXTtcclxuICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IFswLCAxLCAyLCAzLCA0LCA1XTtcclxuICAgICAgICAgICAgdGhpcy5fY29sb3JzID0gWzEsIDEsIDAsIDEsIDEsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDAsIDEsIDEsIDAsIDAsIDEsIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl92Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZlcnRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KHRoaXMuX2luZGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fY2JvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fY29sb3JzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXhpc0VudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdVBlclZlcnRleENvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVBlclZlcnRleENvbG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBlclZlcnRleENvbG9yKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVQZXJWZXJ0ZXhDb2xvciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9jYm8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfY29sb3JcIiwgeyBzaXplOiA0IH0pO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuTElORVMsIHRoaXMuX2luZGljZXMubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgdmFyIHVQZXJWZXJ0ZXhDb2xvciA9IHRoaXMuZ2V0VW5pZm9ybShcInVQZXJWZXJ0ZXhDb2xvclwiKTtcclxuICAgICAgICAgICAgaWYgKHVQZXJWZXJ0ZXhDb2xvcilcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1UGVyVmVydGV4Q29sb3IsIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9jb2xvclwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBBeGlzRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkF4aXNFbnRpdHkgPSBBeGlzRW50aXR5O1xyXG4gICAgdmFyIEdyaWRFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhHcmlkRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEdyaWRFbnRpdHkoZ3JhcGhfaWQsIGQsIGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaW1lc2lvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBkaW06IGQgfHwgNTAsIGxpbmVzOiBlIHx8IDUwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoKTtcclxuICAgICAgICAgICAgdGhpcy5fdmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLl92ZXJ0aWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5faWJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheSh0aGlzLl9pbmRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmMgPSAyICogdGhpcy5fZGltZXNpb25zLmRpbSAvIHRoaXMuX2RpbWVzaW9ucy5saW5lcztcclxuICAgICAgICAgICAgdmFyIHYgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPD0gdGhpcy5fZGltZXNpb25zLmxpbmVzOyBsKyspIHtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGxdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgMV0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDJdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgM10gPSB0aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDRdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyA1XSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGxdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDFdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgMl0gPSAtdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgM10gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgNF0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyA1XSA9IHRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICBpWzIgKiBsXSA9IDIgKiBsO1xyXG4gICAgICAgICAgICAgICAgaVsyICogbCArIDFdID0gMiAqIGwgKyAxO1xyXG4gICAgICAgICAgICAgICAgaVsyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGxdID0gMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsO1xyXG4gICAgICAgICAgICAgICAgaVsyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGwgKyAxXSA9IDIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbCArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdmVydGljZXMgPSB2O1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VzID0gaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgWzAuNywgMC43LCAwLjcsIDFdKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLkxJTkVTLCB0aGlzLl9pbmRpY2VzLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gR3JpZEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5HcmlkRW50aXR5ID0gR3JpZEVudGl0eTtcclxuICAgIHZhciBOb2RlRWxlbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gTm9kZUVsZW1lbnQocGFyZW50LCB0eXBlLCBlbnRpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZSA9IHBhcmVudDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudE5vZGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlLmFkZENoaWxkTm9kZSh0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgdGhpcy5fb2lkID0gdXRpbHMudXVpZCh0aGlzLl90eXBlIHx8IHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJvaWRcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9vaWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwicGFyZW50XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJlbnRpdHlcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbnRpdHk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcImNoaWxkTm9kZXNcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuYWRkQ2hpbGROb2RlID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMucHVzaChjaGlsZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGROb2RlID0gZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihjaGlsZCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGROb2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmdldENoaWxkTm9kZUJ5SW5kZXggPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXNbaW5kZXhdIHx8IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5leGlzdHNDaGlsZE5vZGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkTm9kZXNbaW5kZXhdICE9PSB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnROb2RlLnJlbW92ZUNoaWxkTm9kZSh0aGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9kZUVsZW1lbnQodGhpcywgdHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pc1Jvb3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnROb2RlID09PSB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgb2lkID0gY2hpbGQub2lkO1xyXG4gICAgICAgICAgICByZXR1cm4gXy5maW5kSW5kZXgodGhpcy5fY2hpbGROb2RlcywgZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMub2lkID09PSBvaWQ7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmluZGV4SW5QYXJlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkpXHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmhhc1NpYmxpbmcgPSBmdW5jdGlvbiAocHJldikge1xyXG4gICAgICAgICAgICB2YXIgX2hhdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggLSAxKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggKyAxKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF9oYXZlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLm5leHRTaWJsaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2libGluZyA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSAmJiB0aGlzLmhhc1NpYmxpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2libGluZyA9IHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCArIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnByZXZpb3VzU2libGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkgJiYgdGhpcy5oYXNTaWJsaW5nKHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5nID0gdGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4IC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmc7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZmlyc3RDaGlsZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGROb2RlQnlJbmRleCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5sYXN0Q2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZUJ5SW5kZXgodGhpcy5fY2hpbGROb2Rlcy5sZW5ndGggLSAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVDaGlsZE5vZGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzID0gW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5LmJlZ2luRHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5fY2hpbGROb2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgIGNoaWxkLmRyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbnRpdHkpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnRpdHkuZW5kRHJhdyhtYXRyaXhTdGFjayk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTm9kZUVsZW1lbnQ7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuTm9kZUVsZW1lbnQgPSBOb2RlRWxlbWVudDtcclxuICAgIHZhciBTY2VuZUdyYXBoID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoU2NlbmVHcmFwaCwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBTY2VuZUdyYXBoKCkge1xyXG4gICAgICAgICAgICB2YXIgb2lkID0gdXRpbHMudXVpZCgpO1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBvaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9vaWQgPSBvaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lID0gbmV3IE5vZGVFbGVtZW50KHZvaWQgMCwgXCJTY2VuZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4U3RhY2sgPSBuZXcgTWF0cml4U3RhY2sodGhpcy5fb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVWaWV3KHRoaXMuX29pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJzY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwiaXNEcmF3aW5nXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEcmF3aW5nO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5FbnZpcm9ubWVudCA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGIgPSBiIHx8IFtdO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcbiAgICAgICAgICAgIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyQ29sb3IoYlswXSB8fCAwLCBiWzFdIHx8IDAsIGJbMl0gfHwgMCwgMSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyRGVwdGgoMS4wKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRHJhd2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGdsLnZpZXdwb3J0KDAsIDAsIGdsLnZpZXdwb3J0V2lkdGgsIGdsLnZpZXdwb3J0SGVpZ2h0KTtcclxuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZS5kcmF3KHRoaXMuX21hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgdGhpcy5faXNEcmF3aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNYWluQ2hpbGROb2RlID0gZnVuY3Rpb24gKHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2NlbmUuY3JlYXRlQ2hpbGROb2RlKHR5cGUsIGVudGl0eSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5yZW1vdmVNYWluQ2hpbGROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2NlbmUucmVtb3ZlQ2hpbGROb2RlKG5vZGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcIm9pZFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChjYW52YXMpIHtcclxuICAgICAgICAgICAgS2V0Y2guc2V0Q2FudmFzVG9Db250ZXh0KHRoaXMub2lkLCBjYW52YXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuUHJvZ3JhbSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IFwiUGhvbmdcIjtcclxuICAgICAgICAgICAgS2V0Y2guY3JlYXRlUHJvZ3JhbSh0aGlzLl9vaWQsIHtcclxuICAgICAgICAgICAgICAgIGZyYWdtZW50OiBTaGFkZXJzLkZyYWdtZW50W3R5cGVdLFxyXG4gICAgICAgICAgICAgICAgdmVydGV4OiBTaGFkZXJzLlZlcnRleFt0eXBlXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1lc2ggPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNoRW50aXR5ID0gbmV3IE1lc2hFbnRpdHkodGhpcy5vaWQpO1xyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1lc2gpIHtcclxuICAgICAgICAgICAgICAgIG1lc2hFbnRpdHkubG9hZE1lc2hCeU9iamVjdChjb25maWcubWVzaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tYXRlcmlhbCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5sb2FkTWF0ZXJpYWxCeU9iamVjdChjb25maWcubWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoRW50aXR5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlRGlmZnVzZSA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGlmZnVzZUVudGl0eSh0aGlzLm9pZCwgdik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNZXNoQnlMb2FkZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IE1lc2hFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5tZXNoLCBjb25maWcubWF0ZXJpYWwsIGNvbmZpZy50ZXh0dXJlKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyLnB1c2gobWVzaCk7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybUVudGl0eSh0aGlzLm9pZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxpZ2h0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0RW50aXR5KHRoaXMub2lkLCBjb25maWcuYW1iaWVudCwgY29uZmlnLmRpZmZ1c2UsIGNvbmZpZy5wb3NpdGlvbiwgY29uZmlnLnNwZWN1bGFyLCBjb25maWcuZGlyZWN0aW9uLCBjb25maWcuY3V0b2ZmKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUNhbWVyYSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FtZXJhRW50aXR5KHRoaXMub2lkLCB0eXBlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVBhcnRpY2xlID0gZnVuY3Rpb24gKHBvaW50U2l6ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBhcnRpY2xlRW50aXR5KHRoaXMub2lkLCBwb2ludFNpemUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlQXhpcyA9IGZ1bmN0aW9uIChsZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBeGlzRW50aXR5KHRoaXMub2lkLCBsZW5ndGgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlR3JpZCA9IGZ1bmN0aW9uIChkaW0sIGxpbmVzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgR3JpZEVudGl0eSh0aGlzLm9pZCwgZGltLCBsaW5lcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0cml4U3RhY2suTWFpbkNhbWVyYSA9IGNhbWVyYTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUucmVtb3ZlVGV4dHVyZSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBLZXRjaC5yZW1vdmVUZXh0dXJlKHRoaXMub2lkLCBpZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zdGFydExvYWRlciA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2xvYWRlckJ1ZmZlciwgZnVuY3Rpb24gKGl0ZW0sIG5leHQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubG9hZE1lc2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCBjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xyXG4gICAgICAgICAgICBzZWxmLkVudmlyb25tZW50KGNvbmZpZy5iYWNrZ3JvdW5kKTtcclxuICAgICAgICAgICAgc2VsZi5Qcm9ncmFtKGNvbmZpZy50eXBlU2hhZGVyKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5BVFRSSUJVVEVTKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyhzZWxmLl9vaWQsIFNjZW5lR3JhcGguVU5JRk9STVMpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5pbml0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmVXaXRoTG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5jb25maWd1cmUoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFydExvYWRlcihjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLlVOSUZPUk1TID0gW1xyXG4gICAgICAgICAgICAndVBNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU1WTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VOTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VMaWdodERpcmVjdGlvbicsXHJcbiAgICAgICAgICAgICd1TGlnaHRBbWJpZW50JyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlmZnVzZScsXHJcbiAgICAgICAgICAgICd1TWF0ZXJpYWxEaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VMaWdodFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VTaGluaW5lc3MnLFxyXG4gICAgICAgICAgICAndVBvaW50U2l6ZScsXHJcbiAgICAgICAgICAgIFwidVNhbXBsZXJcIixcclxuICAgICAgICAgICAgXCJ1V2lyZWZyYW1lXCIsXHJcbiAgICAgICAgICAgIFwidVBlclZlcnRleENvbG9yXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIFNjZW5lR3JhcGguQVRUUklCVVRFUyA9IFsnYV9wb3NpdGlvbicsICdhX25vcm1hbCcsIFwiYV9jb2xvclwiXTtcclxuICAgICAgICByZXR1cm4gU2NlbmVHcmFwaDtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2NlbmVHcmFwaCA9IFNjZW5lR3JhcGg7XHJcbn0pKEJsYXplIHx8IChCbGF6ZSA9IHt9KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
