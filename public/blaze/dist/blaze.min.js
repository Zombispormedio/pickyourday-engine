var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},Blaze;!function(t){var e;!function(t){function e(t){for(var e=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=0;r<i.length;++r){try{e=t.getContext(i[r])}catch(n){}if(e)break}return null===e?(alert("Could not initialise WebGL"),null):(e.viewportWidth=t.width,e.viewportHeight=t.height,e)}function i(e,i,r,n){var o=e.createBuffer();switch(e.bindBuffer(e.ARRAY_BUFFER,o),n){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ARRAY_BUFFER,null),r?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function r(e,i,r){var n=e.createBuffer(e.ELEMENT_ARRAY_BUFFER);switch(e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n),r){case t.BUFFER_DRAW.STATIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW);break;case t.BUFFER_DRAW.DYNAMIC:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.DYNAMIC_DRAW);break;case t.BUFFER_DRAW.STREAM:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STREAM_DRAW);break;default:e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW)}return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),n.itemSize=1,n.numItems=i.length,n}function n(t,e){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null),i}function o(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)}function a(t,e){var i=o(t,t.FRAGMENT_SHADER,e.fragment),r=o(t,t.VERTEX_SHADER,e.vertex),n=t.createProgram();return t.attachShader(n,r),t.attachShader(n,i),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||console.log(t.getProgramInfoLog(n)),t.useProgram(n),n}t.getGLContext=e,function(t){t[t.STATIC=0]="STATIC",t[t.STREAM=1]="STREAM",t[t.DYNAMIC=2]="DYNAMIC"}(t.BUFFER_DRAW||(t.BUFFER_DRAW={}));t.BUFFER_DRAW;t.createBuffer=i,t.createIndexBuffer=r,t.createTexture=n,t.createShader=o,t.createProgram=a}(e=t.WebGLUtils||(t.WebGLUtils={}));var i;!function(t){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(t){var i=e()+e();return t?t+i:i}function r(t){return t.map(function(t){return Number.isNaN(t)&&(t=0),t})}function n(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.addEventListener("load",function(){e(i.responseText)}),i.send()}function o(t){var e=t.split(".");return e[e.length-1]}function a(){return(new Date).getTime()}function s(t){return t*Math.PI/180}function u(t,e){for(var i=0,r=1,n=2,o=[],a=0;a<t.length;a++)o[a]=0;for(var a=0;a<e.length;a+=3){var s=[],u=[],c=[];s[i]=t[3*e[a+1]+i]-t[3*e[a]+i],s[r]=t[3*e[a+1]+r]-t[3*e[a]+r],s[n]=t[3*e[a+1]+n]-t[3*e[a]+n],u[i]=t[3*e[a+2]+i]-t[3*e[a+1]+i],u[r]=t[3*e[a+2]+r]-t[3*e[a+1]+r],u[n]=t[3*e[a+2]+n]-t[3*e[a+1]+n],c[i]=s[r]*u[n]-s[n]*u[r],c[r]=s[n]*u[i]-s[i]*u[n],c[n]=s[i]*u[r]-s[r]*u[i];for(var f=0;3>f;f++)o[3*e[a+f]+i]=o[3*e[a+f]+i]+c[i],o[3*e[a+f]+r]=o[3*e[a+f]+r]+c[r],o[3*e[a+f]+n]=o[3*e[a+f]+n]+c[n]}for(var a=0;a<t.length;a+=3){var h=[];h[i]=o[a+i],h[r]=o[a+r],h[n]=o[a+n];var l=Math.sqrt(h[i]*h[i]+h[r]*h[r]+h[n]*h[n]);0==l&&(l=1e-5),h[i]=h[i]/l,h[r]=h[r]/l,h[n]=h[n]/l,o[a+i]=h[i],o[a+r]=h[r],o[a+n]=h[n]}return o}t.s4=e,t.uuid=i,t.normalizeNaN=r,t.load=n,t.getExtension=o,t.nowInMilliseconds=a,t.degToRad=s,t.calculateNormals=u}(i=t.utils||(t.utils={})),function(t){t[t.ORBITING=0]="ORBITING",t[t.TRACKING=1]="TRACKING"}(t.CAMERA_TYPE||(t.CAMERA_TYPE={}));var r=t.CAMERA_TYPE,n=function(){function t(){}return t.setCanvasToContext=function(i,r){var n=e.getGLContext(r);t.setContext(i,n)},t.setContext=function(e,i){t._views[e].context=i},t.getContext=function(e){return t._views[e].context},t.createProgram=function(i,r){var n=t.getContext(i),o=e.createProgram(n,r);t.setProgram(i,o)},t.setProgram=function(e,i){t._views[e].program=i},t.getProgram=function(e){return t._views[e].program},t.createView=function(e){t._views[e]={}},t.setAttributeLocations=function(e,i){var r=t._views[e],n=r.context,o=r.program;r.attribs=i.reduce(function(t,e){return t[e]=n.getAttribLocation(o,e),t},{})},t.getAttrib=function(e,i){return t._views[e].attribs[i]},t.getUniform=function(e,i){return t._views[e].uniforms[i]},t.setUniformLocations=function(e,i){var r=t._views[e],n=r.context,o=r.program;r.uniforms=i.reduce(function(t,e){return t[e]=n.getUniformLocation(o,e),t},{})},t.enableAttrib=function(e,i,r){var n=t.getAttrib(e,i),o=t.getContext(e);o.enableVertexAttribArray(n),r?o.vertexAttribPointer(n,r.size||3,o.FLOAT,r.normalized||!1,r.stride||0,r.offset||0):o.vertexAttribPointer(n,3,o.FLOAT,!1,0,0)},t.disableAttrib=function(e,i){var r=t.getAttrib(e,i),n=t.getContext(e);n.disableVertexAttribArray(r)},t.renderLoop=function(t){setInterval(t,30)},t.addTexture=function(e,i){var r=t._views[e];r.textures=r.textures||[],r.textures.push(i)},t.activeTexture=function(e,i,r){var n=t._views[e],o=n.context,a=(n.program,n.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,r);var s=t.getUniform(e,"uSampler");o.uniform1i(s,a)}},t._views={},t}();t.Ketch=n;var o=function(){function t(t){this._graph_id=t}return Object.defineProperty(t.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gl",{get:function(){return n.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"program",{get:function(){return n.getProgram(this.graphID)},enumerable:!0,configurable:!0}),t.prototype.getUniform=function(t){return n.getUniform(this.graphID,t)},t}();t.Renderable=o;var a=function(t){function e(e){t.call(this,e)}return __extends(e,t),e.prototype.beginDraw=function(t){},e.prototype.endDraw=function(t){},e}(o);t.Entity=a;var s=function(t){function e(e){t.call(this,e),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(e,t),e.prototype.push=function(){var t=mat4.create();mat4.set(this._mvMatrix,t),this._stack.push(t)},e.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},e.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(e.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._camera=t},enumerable:!0,configurable:!0}),e.prototype.Perspective=function(){var t=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,t.viewportWidth/t.viewportHeight,.1,1e3,this._pMatrix)},e.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},e.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},e.prototype.setUp=function(){var t=this.gl;this.Normal();var e=this.getUniform("uMVMatrix");e&&t.uniformMatrix4fv(e,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&t.uniformMatrix4fv(i,!1,this._pMatrix);var r=this.getUniform("uNMatrix");r&&t.uniformMatrix4fv(r,!1,this._nMatrix)},e}(o);t.MatrixStack=s;var u;!function(t){var r=function(t){function r(e){t.call(this,e)}return __extends(r,t),Object.defineProperty(r.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"src",{set:function(t){var e=this,r=this,n=i.getExtension(t);i.load(t,function(t){var i;switch(n){case"obj":i=r.parseOBJ(t);break;case"json":i=r.parseJSON(t)}r.createBuffers(i),e._onload&&e._onload()})},enumerable:!0,configurable:!0}),r.prototype.parseJSON=function(t){var e={};try{e=JSON.parse(t)}catch(i){console.log(i)}return e},r.prototype.parseOBJ=function(t){var e={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=t.split("\n"),r=i.filter(function(t){return"v"===t[0]}),n=i.filter(function(t){return"f"===t[0]});r.forEach(function(t){var i=t.replace("\r","").split(" "),r=i[0];e[r]=e[r].concat(i.slice(1).filter(function(t){return""!==t}))});var o=[];return n.forEach(function(t){var e=t.replace("\r","").replace("f","").split(" ");o=o.concat(e.slice(1).filter(function(t){return""!==t}))}),o.forEach(function(t){var i=t.split("/");e.iv.push(parseInt(i[0])-1),e["in"].push(parseInt(i[1])-1),e.it.push(parseInt(i[2])-1)}),e},r.prototype.createBuffers=function(t){function r(t){return e.createBuffer(o,t)}function n(t){return e.createIndexBuffer(o,t)}var o=this.gl;_.defaults(t,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),t.v.length>0&&(this._vbo=r(t.v)),t.v.length>0&&t.iv.length>0&&(this._nbo=r(i.calculateNormals(t.v,t.iv))),t.vt.length>0&&(this._tbo=e.createBuffer(o,t.vt,!0)),t.iv.length>0&&(this._ivbo=n(t.iv)),t["in"].length>0&&(this._inbo=n(t["in"])),t.it.length>0&&(this._itbo=n(t.it))},Object.defineProperty(r.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),r}(o);t.MeshBuffers=r;var a=function(t){function r(e){t.call(this,e),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(r,t),Object.defineProperty(r.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"src",{set:function(t){this._image.onload=this.loadTextureImage(this._onload),this._image.src=t},enumerable:!0,configurable:!0}),r.prototype.loadTextureImage=function(t){var i=this,r=this;return function(){i._texture=e.createTexture(r.gl,r._image),n.addTexture(r.graphID,r._oid),t&&t()}},Object.defineProperty(r.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),r}(o);t.MeshTexture=a;var s=function(t){function e(e,i,r,n,o){t.call(this,e),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=r?vec4.create(r):void 0,this._specular=n?vec4.create(n):vec4.create(),this._shininess=o||200}return __extends(e,t),Object.defineProperty(e.prototype,"onload",{set:function(t){this._onload=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{set:function(t){var e=this,r=this;i.load(t,function(t){var i=r.parse(t);e._ambient=i.Ka,e._diffuse=i.Kd,e._specular=i.Ks,e.shininess=i.Ns,e._onload&&e._onload()})},enumerable:!0,configurable:!0}),e.prototype.parse=function(t){var e={},i=["Ka","Kd","Ks","Ns"],r=t.split("\n");return r.forEach(function(t){var r=t.split(" "),n=r[0];if(i.indexOf(n)>-1)switch(n){case"Ns":e.Ns=Number(r[1]);break;default:var o=r.slice(1).map(function(t){return Number(t)});o.push(1),e[n]=o}}),e},Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shininess",{get:function(){return this._shininess},set:function(t){this._shininess=t},enumerable:!0,configurable:!0}),e}(o);t.MeshMaterial=s}(u=t.Resources||(t.Resources={}));var c;!function(t){var e=function(){function t(){}return t.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\n\nuniform bool uWireframe;\nuniform vec4 uWireframeColor;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\n\nvoid main(){\n\nif(uWireframe){\n          gl_FragColor =uWireframeColor;\n        \n        }else{\n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        }\n    }\n\n\n",t}();t.Fragment=e;var i=function(){function t(){}return t.Phong="attribute vec3 a_position;\nattribute vec3 a_normal;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n      if (!uWireframe) {\n   vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n   vEyeVec=-vec3(vertex.xyz);   \n   }\n  gl_Position =uPMatrix * vertex;\n\n}\n\n\n",t}();t.Vertex=i}(c=t.Shaders||(t.Shaders={}));var f=function(t){function e(e,i,r,n){t.call(this,e),this._frequency=i,this._interval_id=null,this._callback=n}return __extends(e,t),e.prototype.onFrame=function(){if(e.ElapseTime=i.nowInMilliseconds(),!(e.ElapseTime<5)){for(var t=Math.floor(e.ElapseTime/this._frequency);t>0&&e.Count!=this._times;)this._callback(),t--,e.Count++;e.Count===this._times&&this.stop()}},e.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},e.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},e.prototype.beginDraw=function(){},e.prototype.endDraw=function(){},e.Count=0,e}(a);t.AnimationEntity=f;var h=function(t){function e(e,i,r,n){t.call(this,e),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=r||null,this._texturefile=n||null}return __extends(e,t),e.prototype.loadBuffers=function(t,e){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.onload=e,this._buffers.src=t},e.prototype.loadTexture=function(t,e){this._texture=new u.MeshTexture(this.graphID),this._texture.onload=e,this._texture.src=t},Object.defineProperty(e.prototype,"material",{set:function(t){this._material=t},enumerable:!0,configurable:!0}),e.prototype.loadMaterial=function(t,e){this._material=new u.MeshMaterial(this.graphID),this._material.onload=e,this._material.src=t},e.prototype.loadMesh=function(t){var e=this,i=this;async.waterfall([function(t){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),t()})):t()},function(t){return e._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),t()})):t()},function(t){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),t()})):t()}],function(e){return e?console.log(e):void(t&&t())})},e.prototype.loadMeshByObject=function(t){this._buffers=new u.MeshBuffers(this.graphID),this._buffers.createBuffers(t)},e.prototype.loadMaterialByObject=function(t){this._material=new u.MeshMaterial(this.graphID),t.ambient&&(this._material.ambient=t.ambient),t.specular&&(this._material.specular=t.specular),t.diffuse&&(this._material.diffuse=t.diffuse),t.shininess&&(this._material.shininess=t.shininess)},e.prototype.setWireFrame=function(t,e){this._wireframe=t,this._wireframe&&(this._wireframeColor=e)},e.prototype.WireFrame=function(){var t=this.gl,e=this.getUniform("uWireframe");if(e&&t.uniform1i(e,this._wireframe),this._wireframe){var i=this.getUniform("uWireframeColor");i&&t.uniform4fv(i,this._wireframeColor)}},e.prototype.setMaterialUniforms=function(){if(this._material){var t=this.gl;if(this._material.ambient){var e=this.getUniform("uMaterialAmbient");e&&t.uniform4fv(e,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&t.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var r=this.getUniform("uMaterialSpecular");r&&t.uniform4fv(r,this._material.specular)}if(this._material.shininess){var n=this.getUniform("uShininess");n&&t.uniform1f(n,this._material.shininess)}}},e.prototype.beginDraw=function(){var t=this.gl;this.setMaterialUniforms(),this.WireFrame(),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.vbo),n.enableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,this._buffers.nbo),n.enableAttrib(this.graphID,"a_normal");var e=this._buffers.ivbo;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.drawElements(t.TRIANGLES,e.numItems,t.UNSIGNED_SHORT,0)},e.prototype.endDraw=function(){var t=this.gl;n.disableAttrib(this.graphID,"a_position"),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)},e}(a);t.MeshEntity=h;var l=function(t){function e(e,i,r,n){t.call(this,e),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=r||vec3.create([1,1,1]),this._rotation=n||{angle:0,axis:vec3.create()}}return __extends(e,t),e.prototype.identity=function(){mat4.identity(this._matrix)},e.prototype.setMatrix=function(t){this._matrix=t},e.prototype.transpose=function(){mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),e.prototype.setAbsolutePosition=function(t,e,i){this._position=[t,e,i]},e.prototype.translate=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._position,n=vec3.create([t,e,i]);vec3.add(r,n,this._position)},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t},enumerable:!0,configurable:!0}),e.prototype.setSize=function(t,e,i){this._size=[t,e,i]},e.prototype.scale=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._size,n=vec3.create([t,e,i]);vec3.add(r,n,this._size)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation=t},enumerable:!0,configurable:!0}),e.prototype.setRotation=function(t,e){t&&(this._rotation.angle=t),e&&(this._rotation.axis=e)},e.prototype.setAngle=function(t){this._rotation.angle=t},e.prototype.setAxis=function(t){this._rotation.axis=t},e.prototype.rotateAngle=function(t){void 0===t&&(t=0),this._rotation.angle+=t},e.prototype.moveAxis=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var r=this._rotation.axis,n=vec3.create([t,e,i]);vec3.add(r,n,this._rotation.axis)},e.prototype.beginDraw=function(t){if(t.push(),t.ModelView(),this._matrix=t.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var e=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,e,this._rotation.axis)}t.setUp()},e.prototype.endDraw=function(t){t.pop()},e}(a);t.TransformEntity=l;var p=function(t){function e(e,i,r,n,o,a,s){t.call(this,e),this._ambient=i?vec4.create(i):null,this._diffuse=r?vec4.create(r):null,this._position=n?vec4.create(n):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=s}return __extends(e,t),Object.defineProperty(e.prototype,"ambient",{get:function(){return this._ambient},set:function(t){this._ambient=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diffuse",{get:function(){return this._diffuse},set:function(t){this._diffuse=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"specular",{get:function(){return this._specular},set:function(t){this._specular=i.normalizeNaN(vec4.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._diffuse},set:function(t){this._position=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction=i.normalizeNaN(vec3.create(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cutOff",{get:function(){return this._cutoff},set:function(t){this._cutoff=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl;if(this._ambient){var e=this.getUniform("uLightAmbient");e&&t.uniform4fv(e,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&t.uniform4fv(i,this._diffuse)}if(this._specular){var r=this.getUniform("uLightSpecular");r&&t.uniform4fv(r,this._specular)}if(this._position){var n=this.getUniform("uLightPosition");n&&t.uniform3fv(n,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&t.uniform3fv(o,this._direction)}},e.prototype.endDraw=function(){},e}(a);t.LightEntity=p;var d=function(t){function e(e,i){t.call(this,e),this._value=i}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),e.prototype.beginDraw=function(){var t=this.gl,e=this.getUniform("uMaterialDiffuse");e&&t.uniform4fv(e,this._value)},e.prototype.endDraw=function(){},e}(a);t.DiffuseEntity=d;var v=function(t){function e(e,i){t.call(this,e),this._type=i||r.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(e,t),Object.defineProperty(e.prototype,"type",{set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"azimuth",{get:function(){return this._azimuth},set:function(t){var e=t-this._azimuth;this.changeAzimuth(e)},enumerable:!0,configurable:!0}),e.prototype.changeAzimuth=function(t){this._azimuth+=t,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(e.prototype,"elevation",{get:function(){return this._elevation},set:function(t){var e=t-this._elevation;this.changeElevation(e)},enumerable:!0,configurable:!0}),e.prototype.changeElevation=function(t){this._elevation+=t,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(e.prototype,"zoom",{get:function(){return this._steps},set:function(t){var e=vec3.create(),i=vec3.create();e=this.position;var n=t-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===r.TRACKING?(o[0]=e[0]-n*i[0],o[1]=e[1]-n*i[1],o[2]=e[2]-n*i[2]):(o[0]=e[0],o[1]=e[1],o[2]=e[2]-n),this.position=o,this._steps=t},enumerable:!0,configurable:!0}),e.prototype.calculateOrientation=function(){var t=this._cmatrix;mat4.multiplyVec4(t,[1,0,0,0],this._right),mat4.multiplyVec4(t,[0,1,0,0],this._up),mat4.multiplyVec4(t,[0,0,1,0],this._normal)},e.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===r.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===r.TRACKING&&mat4.multiplyVec4(m,[0,0,0,1],this._position)},Object.defineProperty(e.prototype,"modelView",{get:function(){var t=mat4.create();return mat4.inverse(this._cmatrix,t),t},enumerable:!0,configurable:!0}),e.prototype.endDraw=function(){},e}(a);t.CameraEntity=v;var g=function(){function t(t,e,r){this._parentNode=t,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=e,this._oid=i.uuid(this._type||this.constructor.name),this._entity=r}return Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"entity",{get:function(){return this._entity},set:function(t){this._entity=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),t.prototype.addChildNode=function(t){this._childNodes.push(t)},t.prototype.removeChildNode=function(t){var e=this.indexOf(t);e>-1&&this._childNodes.splice(e,1)},t.prototype.getChildNodeByIndex=function(t){return this._childNodes[t]||void 0},t.prototype.existsChildNode=function(t){return void 0!==this._childNodes[t]},t.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},t.prototype.createChildNode=function(e,i){return new t(this,e,i)},t.prototype.isRoot=function(){return void 0===this._parentNode},t.prototype.indexOf=function(t){var e=t.oid;return _.findIndex(this._childNodes,function(t){return t.oid===e})},t.prototype.indexInParent=function(){var t=-1;return this.isRoot()||(t=this._parentNode.indexOf(this)),t},t.prototype.hasSibling=function(t){var e=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(t?this._parentNode.getChildNodeByIndex(i-1)&&(e=!0):this._parentNode.getChildNodeByIndex(i+1)&&(e=!0))}return e},t.prototype.nextSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling()){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e+1)}return t},t.prototype.previousSibling=function(){var t=null;if(!this.isRoot()&&this.hasSibling(!0)){var e=this._parentNode.indexOf(this);t=this._parentNode.getChildNodeByIndex(e-1)}return t},t.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},t.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},t.prototype.removeChildNodes=function(){this._childNodes=[]},t.prototype.draw=function(t){this._entity&&this._entity.beginDraw(t);for(var e=0;e<this._childNodes.length;e++){var i=this._childNodes[e];i.draw(t)}this._entity&&this._entity.endDraw(t)},t}();t.NodeElement=g;var b=function(t){function e(){var e=i.uuid();t.call(this,e),this._oid=e,this._scene=new g(void 0,"Scene"),this._matrixStack=new s(this._oid),this._loaderBuffer=[],this._isDrawing=!1,n.createView(this._oid)}return __extends(e,t),Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDrawing",{get:function(){return this._isDrawing},enumerable:!0,configurable:!0}),e.prototype.Environment=function(){var t=this.gl;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.clearColor(0,0,0,1),t.clearDepth(1)},e.prototype.draw=function(){var t=this.gl;this._isDrawing=!0,t.viewport(0,0,t.viewportWidth,t.viewportHeight),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this._scene.draw(this._matrixStack),this._isDrawing=!1},e.prototype.createMainChildNode=function(t,e){return this._scene.createChildNode(t,e)},e.prototype.removeMainChildNode=function(t){this._scene.removeChildNode(t)},Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),e.prototype.setContext=function(t){n.setCanvasToContext(this.oid,t)},e.prototype.Program=function(t){t=t||"Phong",n.createProgram(this._oid,{fragment:c.Fragment[t],vertex:c.Vertex[t]})},e.prototype.createMesh=function(t){var e=new h(this.oid);if(t.mesh&&e.loadMeshByObject(t.mesh),t.material&&e.loadMaterialByObject(t.material),t.wireframe){var i=t.wireframe;e.setWireFrame(i.is,i.color)}return e},e.prototype.createDiffuse=function(t){return new d(this.oid,t)},e.prototype.createMeshByLoader=function(t){var e=new h(this.oid,t.mesh,t.material,t.texture);return this._loaderBuffer.push(e),e},e.prototype.createTransform=function(t,e,i){return new l(this.oid,t,e,i)},e.prototype.createLight=function(t){return new p(this.oid,t.ambient,t.diffuse,t.position,t.specular,t.direction,t.cutoff)},e.prototype.createCamera=function(t){return new v(this.oid,t)},Object.defineProperty(e.prototype,"MainCamera",{set:function(t){this._matrixStack.MainCamera=t},enumerable:!0,configurable:!0}),e.prototype.startLoader=function(t){async.eachSeries(this._loaderBuffer,function(t,e){t.loadMesh(function(){console.log(t),e()})},t)},e.prototype.configure=function(){var t=this;t.Environment(),t.Program(),n.setAttributeLocations(t._oid,e.ATTRIBUTES),n.setUniformLocations(t._oid,e.UNIFORMS),this._matrixStack.init()},e.prototype.configureWithLoader=function(t){var e=this;e.configure(),e.startLoader(t)},e.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightDirection","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uWireframe","uWireframeColor"],e.ATTRIBUTES=["a_position","a_normal"],e}(o);t.SceneGraph=b}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiTElORUFSX01JUE1BUF9ORUFSRVNUIiwiZ2VuZXJhdGVNaXBtYXAiLCJjcmVhdGVTaGFkZXIiLCJ0eXBlIiwic2hhZGVyU291cmNlIiwic2hhZGVyIiwiY29tcGlsZVNoYWRlciIsImdldFNoYWRlclBhcmFtZXRlciIsIkNPTVBJTEVfU1RBVFVTIiwiY29uc29sZSIsImxvZyIsImdldFNoYWRlckluZm9Mb2ciLCJjcmVhdGVQcm9ncmFtIiwic2hhZGVycyIsImZyYWdtZW50U2hhZGVyIiwiRlJBR01FTlRfU0hBREVSIiwiZnJhZ21lbnQiLCJ2ZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwidmVydGV4IiwicHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1c2VQcm9ncmFtIiwidXRpbHMiLCJzNCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwidXVpZCIsIm5hbWUiLCJpZCIsIm5vcm1hbGl6ZU5hTiIsInZlYyIsIm1hcCIsImEiLCJOdW1iZXIiLCJpc05hTiIsImxvYWQiLCJ1cmwiLCJjYWxsYmFjayIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJhZGRFdmVudExpc3RlbmVyIiwicmVzcG9uc2VUZXh0Iiwic2VuZCIsImdldEV4dGVuc2lvbiIsInN0ciIsImVsZW1zIiwic3BsaXQiLCJub3dJbk1pbGxpc2Vjb25kcyIsIkRhdGUiLCJnZXRUaW1lIiwiZGVnVG9SYWQiLCJQSSIsImNhbGN1bGF0ZU5vcm1hbHMiLCJ2cyIsImluZCIsIngiLCJ5IiwieiIsIm5zIiwidjEiLCJ2MiIsIm5vcm1hbCIsImoiLCJubiIsImxlbiIsInNxcnQiLCJDQU1FUkFfVFlQRSIsIktldGNoIiwic2V0Q2FudmFzVG9Db250ZXh0Iiwia2V5IiwiY29udGV4dCIsInNldENvbnRleHQiLCJfdmlld3MiLCJzZXRQcm9ncmFtIiwiZ2V0UHJvZ3JhbSIsImNyZWF0ZVZpZXciLCJzZXRBdHRyaWJ1dGVMb2NhdGlvbnMiLCJhdHRyaWJzX25hbWVzIiwidmlldyIsInByZyIsImF0dHJpYnMiLCJyZWR1Y2UiLCJwcmV2IiwiYXR0ciIsImdldEF0dHJpYkxvY2F0aW9uIiwiZ2V0QXR0cmliIiwidmlld19rZXkiLCJhdHRyX2tleSIsImdldFVuaWZvcm0iLCJ1bmlmb3JtX2tleSIsInVuaWZvcm1zIiwic2V0VW5pZm9ybUxvY2F0aW9ucyIsInVuaWZvcm1fbmFtZXMiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJlbmFibGVBdHRyaWIiLCJwb2ludGVyIiwiaW5kZXgiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJzaXplIiwiRkxPQVQiLCJub3JtYWxpemVkIiwic3RyaWRlIiwib2Zmc2V0IiwiZGlzYWJsZUF0dHJpYiIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInJlbmRlckxvb3AiLCJjYiIsInNldEludGVydmFsIiwiYWRkVGV4dHVyZSIsInRleHR1cmVfaWQiLCJ0ZXh0dXJlcyIsInB1c2giLCJhY3RpdmVUZXh0dXJlIiwiaW5kZXhPZiIsIlRFWFRVUkUwIiwidVNhbXBsZXIiLCJ1bmlmb3JtMWkiLCJSZW5kZXJhYmxlIiwiZ3JhcGhfaWQiLCJfZ3JhcGhfaWQiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJncmFwaElEIiwiRW50aXR5IiwiX3N1cGVyIiwiY2FsbCIsImJlZ2luRHJhdyIsIm1hdHJpeFN0YWNrIiwiZW5kRHJhdyIsIk1hdHJpeFN0YWNrIiwiX3N0YWNrIiwiX212TWF0cml4IiwibWF0NCIsIl9wTWF0cml4IiwiX25NYXRyaXgiLCJjb3B5Iiwic2V0IiwicG9wIiwiTW9kZWxWaWV3IiwiX2NhbWVyYSIsIm1vZGVsVmlldyIsImlkZW50aXR5IiwiY2FtZXJhIiwiUGVyc3BlY3RpdmUiLCJwZXJzcGVjdGl2ZSIsIk5vcm1hbCIsImludmVyc2UiLCJ0cmFuc3Bvc2UiLCJpbml0Iiwic2V0VXAiLCJtdk1hdHJpeCIsInVuaWZvcm1NYXRyaXg0ZnYiLCJwTWF0cml4Iiwibk1hdHJpeCIsIlJlc291cmNlcyIsIk1lc2hCdWZmZXJzIiwiX29ubG9hZCIsInNyYyIsIl90aGlzIiwic2VsZiIsImV4dCIsIm9iaiIsInBhcnNlT0JKIiwicGFyc2VKU09OIiwiY3JlYXRlQnVmZmVycyIsIkpTT04iLCJwYXJzZSIsInYiLCJ2biIsInZ0IiwiaXYiLCJpbiIsIml0IiwibGluZXMiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiaXRlbSIsInJlcGxhY2UiLCJjb25jYXQiLCJzbGljZSIsInRlbXBJbmRleCIsInBhcnNlSW50IiwiXyIsImRlZmF1bHRzIiwiX3ZibyIsIl9uYm8iLCJfdGJvIiwiX2l2Ym8iLCJfaW5ibyIsIl9pdGJvIiwiTWVzaFRleHR1cmUiLCJfaW1hZ2UiLCJJbWFnZSIsIl9vaWQiLCJmaWxlbmFtZSIsIm9ubG9hZCIsImxvYWRUZXh0dXJlSW1hZ2UiLCJfdGV4dHVyZSIsIk1lc2hNYXRlcmlhbCIsImFtYmllbnQiLCJkaWZmdXNlIiwic3BlY3VsYXIiLCJzaGluaW5lc3MiLCJfYW1iaWVudCIsInZlYzQiLCJfZGlmZnVzZSIsIl9zcGVjdWxhciIsIl9zaGluaW5lc3MiLCJ0ZW1wIiwiS2EiLCJLZCIsIktzIiwiTnMiLCJrZXlzIiwibGluZSIsIlNoYWRlcnMiLCJGcmFnbWVudCIsIlBob25nIiwiVmVydGV4IiwiQW5pbWF0aW9uRW50aXR5IiwiZnJlcXVlbmN5IiwidGltZXMiLCJfZnJlcXVlbmN5IiwiX2ludGVydmFsX2lkIiwiX2NhbGxiYWNrIiwib25GcmFtZSIsIkVsYXBzZVRpbWUiLCJzdGVwcyIsIkNvdW50IiwiX3RpbWVzIiwic3RvcCIsInN0YXJ0IiwiX2ludGltZSIsImNsZWFySW50ZXJ2YWwiLCJNZXNoRW50aXR5IiwibWVzaGZpbGUiLCJtYXRlcmlhbGZpbGUiLCJ0ZXh0dXJlZmlsZSIsIl9tYXRlcmlhbCIsIl9idWZmZXJzIiwiX21lc2hmaWxlIiwiX21hdGVyaWFsZmlsZSIsIl90ZXh0dXJlZmlsZSIsImxvYWRCdWZmZXJzIiwibG9hZFRleHR1cmUiLCJsb2FkTWF0ZXJpYWwiLCJsb2FkTWVzaCIsImFzeW5jIiwid2F0ZXJmYWxsIiwibmV4dCIsImVyciIsImxvYWRNZXNoQnlPYmplY3QiLCJsb2FkTWF0ZXJpYWxCeU9iamVjdCIsInNldFdpcmVGcmFtZSIsImlzX3dpcmVmcmFtZSIsImNvbG9yIiwiX3dpcmVmcmFtZSIsIl93aXJlZnJhbWVDb2xvciIsIldpcmVGcmFtZSIsInVXaXJlZnJhbWUiLCJ1V2lyZWZyYW1lQ29sb3IiLCJ1bmlmb3JtNGZ2Iiwic2V0TWF0ZXJpYWxVbmlmb3JtcyIsInVNYXRlcmlhbEFtYmllbnQiLCJ1TWF0ZXJpYWxEaWZmdXNlIiwidU1hdGVyaWFsU3BlY3VsYXIiLCJ1U2hpbmluZXNzIiwidW5pZm9ybTFmIiwidmJvIiwibmJvIiwiaXZibyIsImRyYXdFbGVtZW50cyIsIlRSSUFOR0xFUyIsIlVOU0lHTkVEX1NIT1JUIiwiVHJhbnNmb3JtRW50aXR5IiwicG9zaXRpb24iLCJyb3RhdGlvbiIsIl9tYXRyaXgiLCJfcG9zaXRpb24iLCJ2ZWMzIiwiX3NpemUiLCJfcm90YXRpb24iLCJhbmdsZSIsImF4aXMiLCJzZXRNYXRyaXgiLCJuZXdfbWF0cml4Iiwic2V0QWJzb2x1dGVQb3NpdGlvbiIsInRyYW5zbGF0ZSIsIm9wZXJhbmQxIiwib3BlcmFuZDIiLCJhZGQiLCJzZXRTaXplIiwic2NhbGUiLCJzZXRSb3RhdGlvbiIsInNldEFuZ2xlIiwic2V0QXhpcyIsInJvdGF0ZUFuZ2xlIiwibW92ZUF4aXMiLCJyYWQiLCJyb3RhdGUiLCJMaWdodEVudGl0eSIsImRpcmVjdGlvbiIsImN1dG9mZiIsIl9kaXJlY3Rpb24iLCJfY3V0b2ZmIiwidUxpZ2h0QW1iaWVudCIsInVMaWdodERpZmZ1c2UiLCJ1TGlnaHRTcGVjdWxhciIsInVMaWdodFBvc2l0aW9uIiwidW5pZm9ybTNmdiIsInVEaXJlY3Rpb24iLCJEaWZmdXNlRW50aXR5IiwiX3ZhbHVlIiwiQ2FtZXJhRW50aXR5IiwiX3R5cGUiLCJPUkJJVElORyIsIl9jbWF0cml4IiwiX3VwIiwiX3JpZ2h0IiwiX25vcm1hbCIsIl9hemltdXRoIiwiX2VsZXZhdGlvbiIsIl9zdGVwcyIsInBvcyIsImF6IiwidGVtcF9heiIsImNoYW5nZUF6aW11dGgiLCJlbCIsInRlbXBfZWwiLCJjaGFuZ2VFbGV2YXRpb24iLCJuIiwic3RlcCIsIm5vcm1hbGl6ZSIsIm5ld19wb3NpdGlvbiIsIlRSQUNLSU5HIiwiY2FsY3VsYXRlT3JpZW50YXRpb24iLCJtIiwibXVsdGlwbHlWZWM0Iiwicm90YXRlWSIsInJvdGF0ZVgiLCJOb2RlRWxlbWVudCIsInBhcmVudCIsImVudGl0eSIsIl9wYXJlbnROb2RlIiwiYWRkQ2hpbGROb2RlIiwiX2NoaWxkTm9kZXMiLCJfZW50aXR5IiwiY2hpbGQiLCJyZW1vdmVDaGlsZE5vZGUiLCJzcGxpY2UiLCJnZXRDaGlsZE5vZGVCeUluZGV4IiwiZXhpc3RzQ2hpbGROb2RlIiwiY3JlYXRlQ2hpbGROb2RlIiwiaXNSb290Iiwib2lkIiwiZmluZEluZGV4IiwicyIsImluZGV4SW5QYXJlbnQiLCJoYXNTaWJsaW5nIiwiX2hhdmUiLCJuZXh0U2libGluZyIsInNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJmaXJzdENoaWxkIiwibGFzdENoaWxkIiwicmVtb3ZlQ2hpbGROb2RlcyIsImRyYXciLCJTY2VuZUdyYXBoIiwiX3NjZW5lIiwiX21hdHJpeFN0YWNrIiwiX2xvYWRlckJ1ZmZlciIsIl9pc0RyYXdpbmciLCJFbnZpcm9ubWVudCIsImVuYWJsZSIsIkRFUFRIX1RFU1QiLCJkZXB0aEZ1bmMiLCJMRVFVQUwiLCJCTEVORCIsImJsZW5kRnVuYyIsIlNSQ19BTFBIQSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJjbGVhckNvbG9yIiwiY2xlYXJEZXB0aCIsInZpZXdwb3J0IiwiY2xlYXIiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsImNyZWF0ZU1haW5DaGlsZE5vZGUiLCJyZW1vdmVNYWluQ2hpbGROb2RlIiwibm9kZSIsIlByb2dyYW0iLCJjcmVhdGVNZXNoIiwiY29uZmlnIiwibWVzaEVudGl0eSIsIm1lc2giLCJtYXRlcmlhbCIsIndpcmVmcmFtZSIsImlzIiwiY3JlYXRlRGlmZnVzZSIsImNyZWF0ZU1lc2hCeUxvYWRlciIsImNyZWF0ZVRyYW5zZm9ybSIsImNyZWF0ZUxpZ2h0IiwiY3JlYXRlQ2FtZXJhIiwiTWFpbkNhbWVyYSIsInN0YXJ0TG9hZGVyIiwiZWFjaFNlcmllcyIsImNvbmZpZ3VyZSIsIkFUVFJJQlVURVMiLCJVTklGT1JNUyIsImNvbmZpZ3VyZVdpdGhMb2FkZXIiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLFdBQWFDLE1BQVFBLEtBQUtELFdBQWMsU0FBVUUsRUFBR0MsR0FFckQsUUFBU0MsS0FBT0gsS0FBS0ksWUFBY0gsRUFEbkMsSUFBSyxHQUFJSSxLQUFLSCxHQUFPQSxFQUFFSSxlQUFlRCxLQUFJSixFQUFFSSxHQUFLSCxFQUFFRyxHQUVuREosR0FBRU0sVUFBa0IsT0FBTkwsRUFBYU0sT0FBT0MsT0FBT1AsSUFBTUMsRUFBR0ksVUFBWUwsRUFBRUssVUFBVyxHQUFJSixLQUUvRU8sT0FDSixTQUFXQSxHQUNQLEdBQUlDLElBQ0osU0FBV0EsR0FDUCxRQUFTQyxHQUFhQyxHQUdsQixJQUFLLEdBRkRDLEdBQU0sS0FDTkMsR0FBUyxRQUFTLHFCQUFzQixZQUFhLGFBQ2hEQyxFQUFJLEVBQUdBLEVBQUlELEVBQU1FLFNBQVVELEVBQUcsQ0FDbkMsSUFDSUYsRUFBTUQsRUFBT0ssV0FBV0gsRUFBTUMsSUFFbEMsTUFBT0csSUFDUCxHQUFJTCxFQUNBLE1BR1IsTUFBWSxRQUFSQSxHQUNBTSxNQUFNLDhCQUNDLE9BR1BOLEVBQUlPLGNBQWdCUixFQUFPUyxNQUMzQlIsRUFBSVMsZUFBaUJWLEVBQU9XLE9BQ3JCVixHQVVmLFFBQVNXLEdBQWFDLEVBQUlDLEVBQU1DLEVBQU1DLEdBQ2xDLEdBQUlDLEdBQVNKLEVBQUdELGNBRWhCLFFBREFDLEVBQUdLLFdBQVdMLEVBQUdNLGFBQWNGLEdBQ3ZCRCxHQUNKLElBQUtsQixHQUFXc0IsWUFBWUMsT0FDeEJSLEVBQUdTLFdBQVdULEVBQUdNLGFBQWMsR0FBSUksY0FBYVQsR0FBT0Qs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TixFQUFLeU8sVUFDTHhVLEVBQU1TLHNCQUFzQnNGLEVBQUtrQyxLQUFNOEssRUFBVzBDLFlBQ2xEelYsRUFBTXdCLG9CQUFvQnVFLEVBQUtrQyxLQUFNOEssRUFBVzJDLFVBQ2hEamUsS0FBS3diLGFBQWE3TixRQUV0QjJOLEVBQVcvYSxVQUFVMmQsb0JBQXNCLFNBQVVuVCxHQUNqRCxHQUFJdUQsR0FBT3RPLElBQ1hzTyxHQUFLeVAsWUFDTHpQLEVBQUt1UCxZQUFZOVMsSUFFckJ1USxFQUFXMkMsVUFDUCxXQUNBLFlBQ0EsV0FDQSxrQkFDQSxnQkFDQSxtQkFDQSxnQkFDQSxtQkFDQSxpQkFDQSxvQkFDQSxhQUNBLGFBQ0EsbUJBRUozQyxFQUFXMEMsWUFBYyxhQUFjLFlBQ2hDMUMsR0FDVDVQLEVBQ0ZoTCxHQUFNNGEsV0FBYUEsR0FDcEI1YSxRQUFVQSIsImZpbGUiOiJibGF6ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBCbGF6ZTtcclxuKGZ1bmN0aW9uIChCbGF6ZSkge1xyXG4gICAgdmFyIFdlYkdMVXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKFdlYkdMVXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBnZXRHTENvbnRleHQoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBbXCJ3ZWJnbFwiLCBcImV4cGVyaW1lbnRhbC13ZWJnbFwiLCBcIndlYmtpdC0zZFwiLCBcIm1vei13ZWJnbFwiXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN0eCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgaW5pdGlhbGlzZSBXZWJHTFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0V2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjdHgudmlld3BvcnRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmdldEdMQ29udGV4dCA9IGdldEdMQ29udGV4dDtcclxuICAgICAgICAoZnVuY3Rpb24gKEJVRkZFUl9EUkFXKSB7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiU1RBVElDXCJdID0gMF0gPSBcIlNUQVRJQ1wiO1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUUkVBTVwiXSA9IDFdID0gXCJTVFJFQU1cIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJEWU5BTUlDXCJdID0gMl0gPSBcIkRZTkFNSUNcIjtcclxuICAgICAgICB9KShXZWJHTFV0aWxzLkJVRkZFUl9EUkFXIHx8IChXZWJHTFV0aWxzLkJVRkZFUl9EUkFXID0ge30pKTtcclxuICAgICAgICB2YXIgQlVGRkVSX0RSQVcgPSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihnbCwgZGF0YSwgaXMyRCwgdHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuRFlOQU1JQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpZiAoaXMyRCkge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLml0ZW1TaXplID0gMjtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDM7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIgPSBjcmVhdGVCdWZmZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUUkVBTTpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5pdGVtU2l6ZSA9IDE7XHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleEJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVJbmRleEJ1ZmZlciA9IGNyZWF0ZUluZGV4QnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGRhdGEpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7XHJcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZSA9IGNyZWF0ZVRleHR1cmU7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsLCB0eXBlLCBzaGFkZXJTb3VyY2UpIHtcclxuICAgICAgICAgICAgdmFyIHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcih0eXBlKTtcclxuICAgICAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc2hhZGVyU291cmNlKTtcclxuICAgICAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG4gICAgICAgICAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlU2hhZGVyID0gY3JlYXRlU2hhZGVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2wsIHNoYWRlcnMpIHtcclxuICAgICAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHNoYWRlcnMuZnJhZ21lbnQpO1xyXG4gICAgICAgICAgICB2YXIgdmVydGV4U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCBzaGFkZXJzLnZlcnRleCk7XHJcbiAgICAgICAgICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcclxuICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGZyYWdtZW50U2hhZGVyKTtcclxuICAgICAgICAgICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgICAgICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtKSk7XHJcbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9ncmFtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZVByb2dyYW0gPSBjcmVhdGVQcm9ncmFtO1xyXG4gICAgfSkoV2ViR0xVdGlscyA9IEJsYXplLldlYkdMVXRpbHMgfHwgKEJsYXplLldlYkdMVXRpbHMgPSB7fSkpO1xyXG4gICAgdmFyIHV0aWxzO1xyXG4gICAgKGZ1bmN0aW9uICh1dGlscykge1xyXG4gICAgICAgIGZ1bmN0aW9uIHM0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMClcclxuICAgICAgICAgICAgICAgIC50b1N0cmluZygxNilcclxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLnM0ID0gczQ7XHJcbiAgICAgICAgZnVuY3Rpb24gdXVpZChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBpZCA9IHM0KCkgKyBzNCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmFtZSA/IG5hbWUgKyBpZCA6IGlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy51dWlkID0gdXVpZDtcclxuICAgICAgICBmdW5jdGlvbiBub3JtYWxpemVOYU4odmVjKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2ZWMubWFwKGZ1bmN0aW9uIChhKSB7IGlmIChOdW1iZXIuaXNOYU4oYSkpXHJcbiAgICAgICAgICAgICAgICBhID0gMDsgcmV0dXJuIGE7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5ub3JtYWxpemVOYU4gPSBub3JtYWxpemVOYU47XHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZCh1cmwsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywgdXJsLCB0cnVlKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdC5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVxdWVzdC5zZW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmxvYWQgPSBsb2FkO1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEV4dGVuc2lvbihzdHIpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1zID0gc3RyLnNwbGl0KFwiLlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1zW2VsZW1zLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5nZXRFeHRlbnNpb24gPSBnZXRFeHRlbnNpb247XHJcbiAgICAgICAgZnVuY3Rpb24gbm93SW5NaWxsaXNlY29uZHMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcyA9IG5vd0luTWlsbGlzZWNvbmRzO1xyXG4gICAgICAgIGZ1bmN0aW9uIGRlZ1RvUmFkKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5kZWdUb1JhZCA9IGRlZ1RvUmFkO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZU5vcm1hbHModnMsIGluZCkge1xyXG4gICAgICAgICAgICB2YXIgeCA9IDA7XHJcbiAgICAgICAgICAgIHZhciB5ID0gMTtcclxuICAgICAgICAgICAgdmFyIHogPSAyO1xyXG4gICAgICAgICAgICB2YXIgbnMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbnNbaV0gPSAwLjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmQubGVuZ3RoOyBpID0gaSArIDMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2MSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHYyID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsID0gW107XHJcbiAgICAgICAgICAgICAgICAvL3AxIC0gcDBcclxuICAgICAgICAgICAgICAgIHYxW3hdID0gdnNbMyAqIGluZFtpICsgMV0gKyB4XSAtIHZzWzMgKiBpbmRbaV0gKyB4XTtcclxuICAgICAgICAgICAgICAgIHYxW3ldID0gdnNbMyAqIGluZFtpICsgMV0gKyB5XSAtIHZzWzMgKiBpbmRbaV0gKyB5XTtcclxuICAgICAgICAgICAgICAgIHYxW3pdID0gdnNbMyAqIGluZFtpICsgMV0gKyB6XSAtIHZzWzMgKiBpbmRbaV0gKyB6XTtcclxuICAgICAgICAgICAgICAgIC8vIHAwIC0gcDFcclxuICAgICAgICAgICAgICAgIHYyW3hdID0gdnNbMyAqIGluZFtpICsgMl0gKyB4XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgeF07XHJcbiAgICAgICAgICAgICAgICB2Mlt5XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgeV0gLSB2c1szICogaW5kW2kgKyAxXSArIHldO1xyXG4gICAgICAgICAgICAgICAgdjJbel0gPSB2c1szICogaW5kW2kgKyAyXSArIHpdIC0gdnNbMyAqIGluZFtpICsgMV0gKyB6XTtcclxuICAgICAgICAgICAgICAgIC8vcDIgLSBwMVxyXG4gICAgICAgICAgICAgICAgLy8gdjFbeF0gPSB2c1szKmluZFtpKzJdK3hdIC0gdnNbMyppbmRbaSsxXSt4XTtcclxuICAgICAgICAgICAgICAgIC8vIHYxW3ldID0gdnNbMyppbmRbaSsyXSt5XSAtIHZzWzMqaW5kW2krMV0reV07XHJcbiAgICAgICAgICAgICAgICAvLyB2MVt6XSA9IHZzWzMqaW5kW2krMl0rel0gLSB2c1szKmluZFtpKzFdK3pdO1xyXG4gICAgICAgICAgICAgICAgLy8gcDAgLSBwMVxyXG4gICAgICAgICAgICAgICAgLy8gdjJbeF0gPSB2c1szKmluZFtpXSt4XSAtIHZzWzMqaW5kW2krMV0reF07XHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt5XSA9IHZzWzMqaW5kW2ldK3ldIC0gdnNbMyppbmRbaSsxXSt5XTtcclxuICAgICAgICAgICAgICAgIC8vIHYyW3pdID0gdnNbMyppbmRbaV0rel0gLSB2c1szKmluZFtpKzFdK3pdO1xyXG4gICAgICAgICAgICAgICAgLy9jcm9zcyBwcm9kdWN0IGJ5IFNhcnJ1cyBSdWxlXHJcbiAgICAgICAgICAgICAgICBub3JtYWxbeF0gPSB2MVt5XSAqIHYyW3pdIC0gdjFbel0gKiB2Mlt5XTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt5XSA9IHYxW3pdICogdjJbeF0gLSB2MVt4XSAqIHYyW3pdO1xyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3pdID0gdjFbeF0gKiB2Mlt5XSAtIHYxW3ldICogdjJbeF07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt4XSArPSBub3JtYWxbeF07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt5XSArPSBub3JtYWxbeV07XHJcbiAgICAgICAgICAgICAgICAvLyBuc1szKmluZFtpXSt6XSArPSBub3JtYWxbel07XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgeF0gPSBuc1szICogaW5kW2kgKyBqXSArIHhdICsgbm9ybWFsW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgeV0gPSBuc1szICogaW5kW2kgKyBqXSArIHldICsgbm9ybWFsW3ldO1xyXG4gICAgICAgICAgICAgICAgICAgIG5zWzMgKiBpbmRbaSArIGpdICsgel0gPSBuc1szICogaW5kW2kgKyBqXSArIHpdICsgbm9ybWFsW3pdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vbm9ybWFsaXplIHRoZSByZXN1bHRcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2cy5sZW5ndGg7IGkgPSBpICsgMykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5uID0gW107XHJcbiAgICAgICAgICAgICAgICBublt4XSA9IG5zW2kgKyB4XTtcclxuICAgICAgICAgICAgICAgIG5uW3ldID0gbnNbaSArIHldO1xyXG4gICAgICAgICAgICAgICAgbm5bel0gPSBuc1tpICsgel07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gTWF0aC5zcXJ0KChublt4XSAqIG5uW3hdKSArIChublt5XSAqIG5uW3ldKSArIChublt6XSAqIG5uW3pdKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVuID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgbGVuID0gMC4wMDAwMTtcclxuICAgICAgICAgICAgICAgIG5uW3hdID0gbm5beF0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBublt5XSA9IG5uW3ldIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbm5bel0gPSBublt6XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB4XSA9IG5uW3hdO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHldID0gbm5beV07XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgel0gPSBublt6XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHV0aWxzLmNhbGN1bGF0ZU5vcm1hbHMgPSBjYWxjdWxhdGVOb3JtYWxzO1xyXG4gICAgfSkodXRpbHMgPSBCbGF6ZS51dGlscyB8fCAoQmxhemUudXRpbHMgPSB7fSkpO1xyXG4gICAgKGZ1bmN0aW9uIChDQU1FUkFfVFlQRSkge1xyXG4gICAgICAgIENBTUVSQV9UWVBFW0NBTUVSQV9UWVBFW1wiT1JCSVRJTkdcIl0gPSAwXSA9IFwiT1JCSVRJTkdcIjtcclxuICAgICAgICBDQU1FUkFfVFlQRVtDQU1FUkFfVFlQRVtcIlRSQUNLSU5HXCJdID0gMV0gPSBcIlRSQUNLSU5HXCI7XHJcbiAgICB9KShCbGF6ZS5DQU1FUkFfVFlQRSB8fCAoQmxhemUuQ0FNRVJBX1RZUEUgPSB7fSkpO1xyXG4gICAgdmFyIENBTUVSQV9UWVBFID0gQmxhemUuQ0FNRVJBX1RZUEU7XHJcbiAgICB2YXIgS2V0Y2ggPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEtldGNoKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBLZXRjaC5zZXRDYW52YXNUb0NvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjYW52YXMpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBXZWJHTFV0aWxzLmdldEdMQ29udGV4dChjYW52YXMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRDb250ZXh0KGtleSwgY29udGV4dCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGtleSwgY29udGV4dCkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XS5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nba2V5XS5jb250ZXh0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY3JlYXRlUHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXksIHNoYWRlcnMpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gS2V0Y2guZ2V0Q29udGV4dChrZXkpO1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IFdlYkdMVXRpbHMuY3JlYXRlUHJvZ3JhbShnbCwgc2hhZGVycyk7XHJcbiAgICAgICAgICAgIEtldGNoLnNldFByb2dyYW0oa2V5LCBwcm9ncmFtKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnNldFByb2dyYW0gPSBmdW5jdGlvbiAoa2V5LCBwcm9ncmFtKSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1trZXldLnByb2dyYW0gPSBwcm9ncmFtO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0UHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1trZXldLnByb2dyYW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XSA9IHt9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zID0gZnVuY3Rpb24gKGtleSwgYXR0cmlic19uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZpZXcuYXR0cmlicyA9IGF0dHJpYnNfbmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2W2F0dHJdID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJnLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLmF0dHJpYnNbYXR0cl9rZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uICh2aWV3X2tleSwgdW5pZm9ybV9rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0udW5pZm9ybXNbdW5pZm9ybV9rZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyA9IGZ1bmN0aW9uIChrZXksIHVuaWZvcm1fbmFtZXMpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2aWV3LnVuaWZvcm1zID0gdW5pZm9ybV9uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHByZXZbYXR0cl0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5LCBwb2ludGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IEtldGNoLmdldEF0dHJpYih2aWV3X2tleSwgYXR0cl9rZXkpO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KHZpZXdfa2V5KTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgcG9pbnRlci5zaXplIHx8IDMsIGdsLkZMT0FULCBwb2ludGVyLm5vcm1hbGl6ZWQgfHwgZmFsc2UsIHBvaW50ZXIuc3RyaWRlIHx8IDAsIHBvaW50ZXIub2Zmc2V0IHx8IDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXkpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gS2V0Y2guZ2V0QXR0cmliKHZpZXdfa2V5LCBhdHRyX2tleSk7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQodmlld19rZXkpO1xyXG4gICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2gucmVuZGVyTG9vcCA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChjYiwgMzApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guYWRkVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcyA9IHZpZXcudGV4dHVyZXMgfHwgW107XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMucHVzaCh0ZXh0dXJlX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFjdGl2ZVRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkLCB0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShpbmRleCA9PT0gMCA/IGdsLlRFWFRVUkUwIDogZ2wuVEVYVFVSRTAgKyBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIHZhciB1U2FtcGxlciA9IEtldGNoLmdldFVuaWZvcm0oa2V5LCBcInVTYW1wbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVTYW1wbGVyLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLl92aWV3cyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBLZXRjaDtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5LZXRjaCA9IEtldGNoO1xyXG4gICAgdmFyIFJlbmRlcmFibGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFJlbmRlcmFibGUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JhcGhfaWQgPSBncmFwaF9pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdyYXBoSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ncmFwaF9pZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbmRlcmFibGUucHJvdG90eXBlLCBcImdsXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0Q29udGV4dCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwicHJvZ3JhbVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFByb2dyYW0odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUmVuZGVyYWJsZS5wcm90b3R5cGUuZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFVuaWZvcm0odGhpcy5ncmFwaElELCBrZXkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlcmFibGU7XHJcbiAgICB9KCkpO1xyXG4gICAgQmxhemUuUmVuZGVyYWJsZSA9IFJlbmRlcmFibGU7XHJcbiAgICB2YXIgRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEVudGl0eShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBFbnRpdHk7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLkVudGl0eSA9IEVudGl0eTtcclxuICAgIHZhciBNYXRyaXhTdGFjayA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKE1hdHJpeFN0YWNrLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1hdHJpeFN0YWNrKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9wTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29weSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIG1hdDQuc2V0KHRoaXMuX212TWF0cml4LCBjb3B5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3RhY2sucHVzaChjb3B5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFjay5sZW5ndGggPT0gMClcclxuICAgICAgICAgICAgICAgIHRocm93IFwiaW52YWxpZCBwb3BNYXRyaXhcIjtcclxuICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9zdGFjay5wb3AoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5Nb2RlbFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9jYW1lcmEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX212TWF0cml4ID0gdGhpcy5fY2FtZXJhLm1vZGVsVmlldztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWF0cml4U3RhY2sucHJvdG90eXBlLCBcIm12TWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbXZNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwicE1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BNYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibk1hdHJpeFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25NYXRyaXg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuUGVyc3BlY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQucGVyc3BlY3RpdmUoNDUsIGdsLnZpZXdwb3J0V2lkdGggLyBnbC52aWV3cG9ydEhlaWdodCwgMC4xLCAxMDAwLjAsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk5vcm1hbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuUGVyc3BlY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5zZXRVcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5Ob3JtYWwoKTtcclxuICAgICAgICAgICAgdmFyIG12TWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU1WTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobXZNYXRyaXgpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4NGZ2KG12TWF0cml4LCBmYWxzZSwgdGhpcy5fbXZNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgcE1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVQTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAocE1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYocE1hdHJpeCwgZmFsc2UsIHRoaXMuX3BNYXRyaXgpO1xyXG4gICAgICAgICAgICB2YXIgbk1hdHJpeCA9IHRoaXMuZ2V0VW5pZm9ybShcInVOTWF0cml4XCIpO1xyXG4gICAgICAgICAgICBpZiAobk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobk1hdHJpeCwgZmFsc2UsIHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1hdHJpeFN0YWNrO1xyXG4gICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICBCbGF6ZS5NYXRyaXhTdGFjayA9IE1hdHJpeFN0YWNrO1xyXG4gICAgdmFyIFJlc291cmNlcztcclxuICAgIChmdW5jdGlvbiAoUmVzb3VyY2VzKSB7XHJcbiAgICAgICAgdmFyIE1lc2hCdWZmZXJzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hCdWZmZXJzLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoQnVmZmVycyhncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwib25sb2FkXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dCA9IHV0aWxzLmdldEV4dGVuc2lvbihzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmxvYWQoc3JjLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9ialwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VPQkooZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwianNvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHNlbGYucGFyc2VKU09OKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQnVmZmVycyhvYmopO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29ubG9hZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vbmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VKU09OID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUucGFyc2VPQkogPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ3YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBsaW5lcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSA9PT0gJ2YnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gb2JqW2tleV0uY29uY2F0KGVsZW1zLnNsaWNlKDEpLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAhPT0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgICAgIGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnJlcGxhY2UoXCJcXHJcIiwgXCJcIikucmVwbGFjZShcImZcIiwgXCJcIikuc3BsaXQoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9IHRlbXBJbmRleC5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGVtcEluZGV4LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBpdGVtLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXYucHVzaChwYXJzZUludChlbGVtc1swXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaW4ucHVzaChwYXJzZUludChlbGVtc1sxXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBvYmouaXQucHVzaChwYXJzZUludChlbGVtc1syXSkgLSAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgTWVzaEJ1ZmZlcnMucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgXy5kZWZhdWx0cyhvYmosIHtcclxuICAgICAgICAgICAgICAgICAgICB2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2bjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgdnQ6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGl2OiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbjogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZibyA9IGNyZWF0ZUJ1ZmZlcihvYmoudik7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLnYubGVuZ3RoID4gMCAmJiBvYmouaXYubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25ibyA9IGNyZWF0ZUJ1ZmZlcih1dGlscy5jYWxjdWxhdGVOb3JtYWxzKG9iai52LCBvYmouaXYpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmoudnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RibyA9IFdlYkdMVXRpbHMuY3JlYXRlQnVmZmVyKGdsLCBvYmoudnQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXZWJHTFV0aWxzLmNyZWF0ZUluZGV4QnVmZmVyKGdsLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXYubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml2KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaW4ubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLmluKTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmouaXQubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGJvID0gY3JlYXRlSW5kZXhCdWZmZXIob2JqLml0KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIm5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwidGJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpdmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaW5ib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW5ibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoQnVmZmVycyA9IE1lc2hCdWZmZXJzO1xyXG4gICAgICAgIHZhciBNZXNoVGV4dHVyZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhNZXNoVGV4dHVyZSwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaFRleHR1cmUoZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vaWQgPSB1dGlscy51dWlkKHRoaXMuY29uc3RydWN0b3IubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChmaWxlbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMubG9hZFRleHR1cmVJbWFnZSh0aGlzLl9vbmxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hUZXh0dXJlLnByb3RvdHlwZS5sb2FkVGV4dHVyZUltYWdlID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdGV4dHVyZSA9IFdlYkdMVXRpbHMuY3JlYXRlVGV4dHVyZShzZWxmLmdsLCBzZWxmLl9pbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgS2V0Y2guYWRkVGV4dHVyZShzZWxmLmdyYXBoSUQsIHNlbGYuX29pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYigpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hUZXh0dXJlLnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoVGV4dHVyZTtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaFRleHR1cmUgPSBNZXNoVGV4dHVyZTtcclxuICAgICAgICB2YXIgTWVzaE1hdGVyaWFsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hNYXRlcmlhbCwgX3N1cGVyKTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gTWVzaE1hdGVyaWFsKGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBzcGVjdWxhciwgc2hpbmluZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gYW1iaWVudCA/IHZlYzQuY3JlYXRlKGFtYmllbnQpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHNwZWN1bGFyID8gdmVjNC5jcmVhdGUoc3BlY3VsYXIpIDogdmVjNC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NoaW5pbmVzcyA9IHNoaW5pbmVzcyB8fCAyMDAuMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcmNcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3JjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbHMubG9hZChzcmMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gc2VsZi5wYXJzZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2FtYmllbnQgPSB0ZW1wLkthO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZGlmZnVzZSA9IHRlbXAuS2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9zcGVjdWxhciA9IHRlbXAuS3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNoaW5pbmVzcyA9IHRlbXAuTnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25sb2FkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hNYXRlcmlhbC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBbXCJLYVwiLCBcIktkXCIsIFwiS3NcIiwgXCJOc1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBsaW5lcyA9IGRhdGEuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICBsaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gbGluZS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1zWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTnNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbXCJOc1wiXSA9IE51bWJlcihlbGVtc1sxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBlbGVtcy5zbGljZSgxKS5tYXAoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIE51bWJlcihhKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5wdXNoKDEuMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSB0ZW1wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbWJpZW50O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hbWJpZW50ID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGFtYmllbnQpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJkaWZmdXNlXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaE1hdGVyaWFsLnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNoaW5pbmVzc1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc2hpbmluZXNzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaGluaW5lc3MgPSB2O1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBNZXNoTWF0ZXJpYWw7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCA9IE1lc2hNYXRlcmlhbDtcclxuICAgIH0pKFJlc291cmNlcyA9IEJsYXplLlJlc291cmNlcyB8fCAoQmxhemUuUmVzb3VyY2VzID0ge30pKTtcclxuICAgIHZhciBTaGFkZXJzO1xyXG4gICAgKGZ1bmN0aW9uIChTaGFkZXJzKSB7XHJcbiAgICAgICAgdmFyIEZyYWdtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gRnJhZ21lbnQoKSB7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgRnJhZ21lbnQuUGhvbmcgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdVNoaW5pbmVzcztcXG51bmlmb3JtIHZlYzMgdUxpZ2h0RGlyZWN0aW9uO1xcblxcbnVuaWZvcm0gdmVjNCB1TGlnaHRBbWJpZW50O1xcbnVuaWZvcm0gdmVjNCB1TGlnaHREaWZmdXNlO1xcbnVuaWZvcm0gdmVjNCB1TGlnaHRTcGVjdWxhcjtcXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsU3BlY3VsYXI7XFxuXFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSB2ZWM0IHVXaXJlZnJhbWVDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG5cXG52b2lkIG1haW4oKXtcXG5cXG5pZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID11V2lyZWZyYW1lQ29sb3I7XFxuICAgICAgICBcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgdmVjMyBMPSBub3JtYWxpemUodUxpZ2h0RGlyZWN0aW9uKTtcXG4gICAgICAgIHZlYzMgTj0gbm9ybWFsaXplKHZOb3JtYWwpO1xcbiAgICAgICAgZmxvYXQgbGFtYmVydFRlcm09ZG90KE4sIC1MKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJYT0gdUxpZ2h0QW1iaWVudCp1TWF0ZXJpYWxBbWJpZW50O1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElkPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJcz12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIGlmKGxhbWJlcnRUZXJtPjAuMClcXG4gICAgICAgIHtcXG4gICAgICAgICAgICBJZD11TGlnaHREaWZmdXNlKnVNYXRlcmlhbERpZmZ1c2UqbGFtYmVydFRlcm07XFxuICAgICAgICAgICAgXFxuICAgICAgICAgICAgdmVjMyBFPSBub3JtYWxpemUodkV5ZVZlYyk7XFxuICAgICAgICAgICAgdmVjMyBSPSByZWZsZWN0KEwsIE4pO1xcbiAgICAgICAgICAgIGZsb2F0IHNwZWN1bGFyPXBvdyhtYXgoZG90KFIsRSksMC4wKSwgdVNoaW5pbmVzcyk7XFxuICAgICAgICAgICAgSXM9dUxpZ2h0U3BlY3VsYXIqdU1hdGVyaWFsU3BlY3VsYXIqc3BlY3VsYXI7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgZmluYWxDb2xvcj1JYStJZCtJcztcXG4gICAgICAgIGZpbmFsQ29sb3IuYT0xLjA7XFxuICAgIFxcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID1maW5hbENvbG9yO1xcbiAgICAgICAgfVxcbiAgICB9XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIHJldHVybiBGcmFnbWVudDtcclxuICAgICAgICB9KCkpO1xyXG4gICAgICAgIFNoYWRlcnMuRnJhZ21lbnQgPSBGcmFnbWVudDtcclxuICAgICAgICB2YXIgVmVydGV4ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gVmVydGV4KCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFZlcnRleC5QaG9uZyA9IFwiYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU5NYXRyaXg7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgIHZlYzQgdmVydGV4ID0gdU1WTWF0cml4ICogdmVjNChhX3Bvc2l0aW9uLCAxLjApO1xcbiAgICAgIGlmICghdVdpcmVmcmFtZSkge1xcbiAgIHZOb3JtYWwgPSB2ZWMzKHVOTWF0cml4ICogdmVjNChhX25vcm1hbCwgMS4wKSk7XFxuICAgdkV5ZVZlYz0tdmVjMyh2ZXJ0ZXgueHl6KTsgICBcXG4gICB9XFxuICBnbF9Qb3NpdGlvbiA9dVBNYXRyaXggKiB2ZXJ0ZXg7XFxuXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICByZXR1cm4gVmVydGV4O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5WZXJ0ZXggPSBWZXJ0ZXg7XHJcbiAgICB9KShTaGFkZXJzID0gQmxhemUuU2hhZGVycyB8fCAoQmxhemUuU2hhZGVycyA9IHt9KSk7XHJcbiAgICB2YXIgQW5pbWF0aW9uRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQW5pbWF0aW9uRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkVudGl0eShncmFwaF9pZCwgZnJlcXVlbmN5LCB0aW1lcywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmVxdWVuY3kgPSBmcmVxdWVuY3k7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5vbkZyYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA9IHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIGlmIChBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA8IDUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBzdGVwcyA9IE1hdGguZmxvb3IoQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgLyB0aGlzLl9mcmVxdWVuY3kpO1xyXG4gICAgICAgICAgICB3aGlsZSAoKHN0ZXBzID4gMCkgJiYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCAhPSB0aGlzLl90aW1lcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICBzdGVwcy0tO1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uRW50aXR5LkNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCA9PT0gdGhpcy5fdGltZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRpbWUgPSB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbF9pZCA9IHNldEludGVydmFsKHRoaXMub25GcmFtZSwgdGhpcy5fZnJlcXVlbmN5IC8gMTAwMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbF9pZClcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkuQ291bnQgPSAwO1xyXG4gICAgICAgIHJldHVybiBBbmltYXRpb25FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQW5pbWF0aW9uRW50aXR5ID0gQW5pbWF0aW9uRW50aXR5O1xyXG4gICAgdmFyIE1lc2hFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhNZXNoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1lc2hFbnRpdHkoZ3JhcGhfaWQsIG1lc2hmaWxlLCBtYXRlcmlhbGZpbGUsIHRleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX21lc2hmaWxlID0gbWVzaGZpbGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWxmaWxlID0gbWF0ZXJpYWxmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVmaWxlID0gdGV4dHVyZWZpbGUgfHwgbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZEJ1ZmZlcnMgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgUmVzb3VyY2VzLk1lc2hCdWZmZXJzKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkVGV4dHVyZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG5ldyBSZXNvdXJjZXMuTWVzaFRleHR1cmUodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoRW50aXR5LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1hdGVyaWFsID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tZXNoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgQnVmZmVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRCdWZmZXJzKHNlbGYuX21lc2hmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIEJ1ZmZlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX3RleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZFRleHR1cmUoc2VsZi5fdGV4dHVyZWZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tYXRlcmlhbGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIE1hdGVyaWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1hdGVyaWFsKHNlbGYuX21hdGVyaWFsZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBNYXRlcmlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1lc2hCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnModGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5jcmVhdGVCdWZmZXJzKG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWF0ZXJpYWxCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBuZXcgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBpZiAob2JqLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmFtYmllbnQgPSBvYmouYW1iaWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhciA9IG9iai5zcGVjdWxhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UgPSBvYmouZGlmZnVzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzID0gb2JqLnNoaW5pbmVzcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuc2V0V2lyZUZyYW1lID0gZnVuY3Rpb24gKGlzX3dpcmVmcmFtZSwgY29sb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5fd2lyZWZyYW1lID0gaXNfd2lyZWZyYW1lO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fd2lyZWZyYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93aXJlZnJhbWVDb2xvciA9IGNvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5XaXJlRnJhbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1V2lyZWZyYW1lID0gdGhpcy5nZXRVbmlmb3JtKFwidVdpcmVmcmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVXaXJlZnJhbWUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodVdpcmVmcmFtZSwgdGhpcy5fd2lyZWZyYW1lKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3dpcmVmcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWVDb2xvciA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVDb2xvclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1V2lyZWZyYW1lQ29sb3IsIHRoaXMuX3dpcmVmcmFtZUNvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxVbmlmb3JtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsQW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsQW1iaWVudCwgdGhpcy5fbWF0ZXJpYWwuYW1iaWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxTcGVjdWxhciwgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1U2hpbmluZXNzID0gdGhpcy5nZXRVbmlmb3JtKFwidVNoaW5pbmVzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodVNoaW5pbmVzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVTaGluaW5lc3MsIHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5zZXRNYXRlcmlhbFVuaWZvcm1zKCk7XHJcbiAgICAgICAgICAgIHRoaXMuV2lyZUZyYW1lKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLnZibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMubmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgdmFyIGl2Ym8gPSB0aGlzLl9idWZmZXJzLml2Ym87XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGl2Ym8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBpdmJvLm51bUl0ZW1zLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE1lc2hFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuTWVzaEVudGl0eSA9IE1lc2hFbnRpdHk7XHJcbiAgICB2YXIgVHJhbnNmb3JtRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoVHJhbnNmb3JtRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFRyYW5zZm9ybUVudGl0eShncmFwaF9pZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbiB8fCB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZSB8fCB2ZWMzLmNyZWF0ZShbMSwgMSwgMV0pO1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uIHx8IHsgYW5nbGU6IDAsIGF4aXM6IHZlYzMuY3JlYXRlKCkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5pZGVudGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9tYXRyaXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRNYXRyaXggPSBmdW5jdGlvbiAobmV3X21hdHJpeCkge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXggPSBuZXdfbWF0cml4O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS50cmFuc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQudHJhbnNwb3NlKHRoaXMuX21hdHJpeCwgdGhpcy5fbWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldEFic29sdXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IFt4LCB5LCB6XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fcG9zaXRpb247XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNpemUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gW3gsIHksIHpdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3NpemU7XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMiA9IHZlYzMuY3JlYXRlKFt4LCB5LCB6XSk7XHJcbiAgICAgICAgICAgIHZlYzMuYWRkKG9wZXJhbmQxLCBvcGVyYW5kMiwgdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJyb3RhdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChyb3RhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByb3RhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRSb3RhdGlvbiA9IGZ1bmN0aW9uIChhbmdsZSwgYXhpcykge1xyXG4gICAgICAgICAgICBpZiAoYW5nbGUpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgICAgICBpZiAoYXhpcylcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmF4aXMgPSBheGlzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBbmdsZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBeGlzID0gZnVuY3Rpb24gKGF4aXMpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYXhpcyA9IGF4aXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnJvdGF0ZUFuZ2xlID0gZnVuY3Rpb24gKGFuZ2xlKSB7XHJcbiAgICAgICAgICAgIGlmIChhbmdsZSA9PT0gdm9pZCAwKSB7IGFuZ2xlID0gMDsgfVxyXG4gICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5hbmdsZSArPSBhbmdsZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUubW92ZUF4aXMgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9yb3RhdGlvbi5heGlzO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3JvdGF0aW9uLmF4aXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2sucHVzaCgpO1xyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5Nb2RlbFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbWF0cml4U3RhY2subXZNYXRyaXg7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb3NpdGlvbiAhPSB2b2lkIDApXHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9tYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NpemUgIT0gdm9pZCAwKVxyXG4gICAgICAgICAgICAgICAgbWF0NC5zY2FsZSh0aGlzLl9tYXRyaXgsIHRoaXMuX3NpemUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcm90YXRpb24gIT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkID0gdGhpcy5fcm90YXRpb24uYW5nbGUgKiBNYXRoLlBJIC8gMTgwO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGUodGhpcy5fbWF0cml4LCByYWQsIHRoaXMuX3JvdGF0aW9uLmF4aXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnNldFVwKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2sucG9wKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVHJhbnNmb3JtRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLlRyYW5zZm9ybUVudGl0eSA9IFRyYW5zZm9ybUVudGl0eTtcclxuICAgIHZhciBMaWdodEVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKExpZ2h0RW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIExpZ2h0RW50aXR5KGdyYXBoX2lkLCBhbWJpZW50LCBkaWZmdXNlLCBwb3NpdGlvbiwgc3BlY3VsYXIsIGRpcmVjdGlvbiwgY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IGFtYmllbnQgPyB2ZWM0LmNyZWF0ZShhbWJpZW50KSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSBkaWZmdXNlID8gdmVjNC5jcmVhdGUoZGlmZnVzZSkgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uID8gdmVjNC5jcmVhdGUocG9zaXRpb24pIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSBzcGVjdWxhciA/IHZlYzQuY3JlYXRlKHNwZWN1bGFyKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IGRpcmVjdGlvbiA/IHZlYzMuY3JlYXRlKGRpcmVjdGlvbikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXRvZmYgPSBjdXRvZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiYW1iaWVudFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FtYmllbnQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoYW1iaWVudCkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImRpZmZ1c2VcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kaWZmdXNlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaWZmdXNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKGRpZmZ1c2UpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJzcGVjdWxhclwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWN1bGFyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BlY3VsYXIgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoc3BlY3VsYXIpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWMzLmNyZWF0ZShwb3NpdGlvbikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcImRpcmVjdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpcmVjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSB1dGlscy5ub3JtYWxpemVOYU4odmVjMy5jcmVhdGUoZGlyZWN0aW9uKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiY3V0T2ZmXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY3V0b2ZmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjdXRvZmYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2N1dG9mZiA9IGN1dG9mZjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTGlnaHRFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2FtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRBbWJpZW50ID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0QW1iaWVudFwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRBbWJpZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0QW1iaWVudCwgdGhpcy5fYW1iaWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHREaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0RGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHREaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0RGlmZnVzZSwgdGhpcy5fZGlmZnVzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0U3BlY3VsYXIgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRTcGVjdWxhclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVMaWdodFNwZWN1bGFyLCB0aGlzLl9zcGVjdWxhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0UG9zaXRpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRQb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1TGlnaHRQb3NpdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVMaWdodFBvc2l0aW9uLCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVEaXJlY3Rpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaXJlY3Rpb25cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodURpcmVjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHVEaXJlY3Rpb24sIHRoaXMuX2RpcmVjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLyogaWYgKHRoaXMuX2N1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgIHZhciB1Q3V0T2ZmID0gdGhpcy5nZXRVbmlmb3JtKFwidUN1dE9mZlwiKTtcclxuICAgICAgICAgICAgICAgICBpZiAodUN1dE9mZilcclxuICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVDdXRPZmYsIHRoaXMuX2N1dG9mZik7XHJcbiAgICAgICAgICAgICB9Ki9cclxuICAgICAgICB9O1xyXG4gICAgICAgIExpZ2h0RW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIExpZ2h0RW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkxpZ2h0RW50aXR5ID0gTGlnaHRFbnRpdHk7XHJcbiAgICB2YXIgRGlmZnVzZUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKERpZmZ1c2VFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gRGlmZnVzZUVudGl0eShncmFwaF9pZCwgdikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgRGlmZnVzZUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdU1hdGVyaWFsRGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxEaWZmdXNlKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCB0aGlzLl92YWx1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEaWZmdXNlRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIERpZmZ1c2VFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuRGlmZnVzZUVudGl0eSA9IERpZmZ1c2VFbnRpdHk7XHJcbiAgICB2YXIgQ2FtZXJhRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQ2FtZXJhRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIENhbWVyYUVudGl0eShncmFwaF9pZCwgdHlwZSkge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlIHx8IENBTUVSQV9UWVBFLk9SQklUSU5HO1xyXG4gICAgICAgICAgICB0aGlzLl9jbWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9jbWF0cml4KTtcclxuICAgICAgICAgICAgdGhpcy5fdXAgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9yaWdodCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fYXppbXV0aCA9IDAuMDtcclxuICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGVwcyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInR5cGVcIiwge1xyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiYXppbXV0aFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F6aW11dGg7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGF6KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcF9heiA9IGF6IC0gdGhpcy5fYXppbXV0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQXppbXV0aCh0ZW1wX2F6KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jaGFuZ2VBemltdXRoID0gZnVuY3Rpb24gKGF6KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F6aW11dGggKz0gYXo7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9hemltdXRoID4gMzYwIHx8IHRoaXMuX2F6aW11dGggPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hemltdXRoID0gdGhpcy5fYXppbXV0aCAlIDM2MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwiZWxldmF0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZWxldmF0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBfZWwgPSBlbCAtIHRoaXMuX2VsZXZhdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRWxldmF0aW9uKHRlbXBfZWwpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNoYW5nZUVsZXZhdGlvbiA9IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gKz0gZWw7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9lbGV2YXRpb24gPiAzNjAgfHwgdGhpcy5fZWxldmF0aW9uIDwgLTM2MCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZWxldmF0aW9uID0gdGhpcy5fZWxldmF0aW9uICUgMzYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJ6b29tXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RlcHM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG9mZnNldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG4gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcCA9IHRoaXMucG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RlcCA9IG9mZnNldCAtIHRoaXMuX3N0ZXBzO1xyXG4gICAgICAgICAgICAgICAgdmVjMy5ub3JtYWxpemUodGhpcy5fbm9ybWFsLCBuKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdfcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzBdID0gcFswXSAtIHN0ZXAgKiBuWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsxXSA9IHBbMV0gLSBzdGVwICogblsxXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMl0gPSBwWzJdIC0gc3RlcCAqIG5bMl07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMF0gPSBwWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsxXSA9IHBbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzJdID0gcFsyXSAtIHN0ZXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3X3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RlcHMgPSBvZmZzZXQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2FsY3VsYXRlT3JpZW50YXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBtID0gdGhpcy5fY21hdHJpeDtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzEsIDAsIDAsIDBdLCB0aGlzLl9yaWdodCk7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAxLCAwLCAwXSwgdGhpcy5fdXApO1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMCwgMSwgMF0sIHRoaXMuX25vcm1hbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9jbWF0cml4KTtcclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQudHJhbnNsYXRlKHRoaXMuX2NtYXRyaXgsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWSh0aGlzLl9jbWF0cml4LCB0aGlzLl9hemltdXRoICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVgodGhpcy5fY21hdHJpeCwgdGhpcy5fZWxldmF0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVkodGhpcy5fY21hdHJpeCwgdGhpcy5fYXppbXV0aCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVYKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2VsZXZhdGlvbiAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fY21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlT3JpZW50YXRpb24oKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT09IENBTUVSQV9UWVBFLlRSQUNLSU5HKSB7XHJcbiAgICAgICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMCwgMCwgMCwgMV0sIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwibW9kZWxWaWV3XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LmludmVyc2UodGhpcy5fY21hdHJpeCwgbSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENhbWVyYUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5DYW1lcmFFbnRpdHkgPSBDYW1lcmFFbnRpdHk7XHJcbiAgICB2YXIgTm9kZUVsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIE5vZGVFbGVtZW50KHBhcmVudCwgdHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZS5hZGRDaGlsZE5vZGUodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIHRoaXMuX29pZCA9IHV0aWxzLnV1aWQodGhpcy5fdHlwZSB8fCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcInBhcmVudFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwiZW50aXR5XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW50aXR5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJjaGlsZE5vZGVzXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2RlcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmFkZENoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoY2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5nZXRDaGlsZE5vZGVCeUluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzW2luZGV4XSB8fCB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZXhpc3RzQ2hpbGROb2RlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzW2luZGV4XSAhPT0gdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZS5yZW1vdmVDaGlsZE5vZGUodGhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ2hpbGROb2RlID0gZnVuY3Rpb24gKHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVFbGVtZW50KHRoaXMsIHR5cGUsIGVudGl0eSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaXNSb290ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZSA9PT0gdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdmFyIG9pZCA9IGNoaWxkLm9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIF8uZmluZEluZGV4KHRoaXMuX2NoaWxkTm9kZXMsIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLm9pZCA9PT0gb2lkOyB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pbmRleEluUGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpKVxyXG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5oYXNTaWJsaW5nID0gZnVuY3Rpb24gKHByZXYpIHtcclxuICAgICAgICAgICAgdmFyIF9oYXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4IC0gMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGF2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4ICsgMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGF2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfaGF2ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5uZXh0U2libGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkgJiYgdGhpcy5oYXNTaWJsaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIHNpYmxpbmcgPSB0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2libGluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5wcmV2aW91c1NpYmxpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpICYmIHRoaXMuaGFzU2libGluZyh0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2libGluZyA9IHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmZpcnN0Q2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZUJ5SW5kZXgoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUubGFzdENoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZE5vZGVCeUluZGV4KHRoaXMuX2NoaWxkTm9kZXMubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGROb2RlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0eSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5iZWdpbkRyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2NoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuX2NoaWxkTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5kcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5LmVuZERyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5vZGVFbGVtZW50O1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLk5vZGVFbGVtZW50ID0gTm9kZUVsZW1lbnQ7XHJcbiAgICB2YXIgU2NlbmVHcmFwaCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNjZW5lR3JhcGgsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2NlbmVHcmFwaCgpIHtcclxuICAgICAgICAgICAgdmFyIG9pZCA9IHV0aWxzLnV1aWQoKTtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fb2lkID0gb2lkO1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZSA9IG5ldyBOb2RlRWxlbWVudCh2b2lkIDAsIFwiU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrID0gbmV3IE1hdHJpeFN0YWNrKHRoaXMuX29pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckJ1ZmZlciA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgS2V0Y2guY3JlYXRlVmlldyh0aGlzLl9vaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwic2NlbmVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2VuZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjZW5lR3JhcGgucHJvdG90eXBlLCBcImlzRHJhd2luZ1wiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzRHJhd2luZztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuRW52aXJvbm1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5ERVBUSF9URVNUKTtcclxuICAgICAgICAgICAgZ2wuZGVwdGhGdW5jKGdsLkxFUVVBTCk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XHJcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xyXG4gICAgICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCB0cnVlKTtcclxuICAgICAgICAgICAgZ2wuY2xlYXJDb2xvcigwLCAwLCAwLCAxKTtcclxuICAgICAgICAgICAgZ2wuY2xlYXJEZXB0aCgxLjApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5faXNEcmF3aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgZ2wudmlld3BvcnRXaWR0aCwgZ2wudmlld3BvcnRIZWlnaHQpO1xyXG4gICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NjZW5lLmRyYXcodGhpcy5fbWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICB0aGlzLl9pc0RyYXdpbmcgPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2VuZS5jcmVhdGVDaGlsZE5vZGUodHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbW92ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZS5yZW1vdmVDaGlsZE5vZGUobm9kZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRDYW52YXNUb0NvbnRleHQodGhpcy5vaWQsIGNhbnZhcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJQaG9uZ1wiO1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtKHRoaXMuX29pZCwge1xyXG4gICAgICAgICAgICAgICAgZnJhZ21lbnQ6IFNoYWRlcnMuRnJhZ21lbnRbdHlwZV0sXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXg6IFNoYWRlcnMuVmVydGV4W3R5cGVdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWVzaCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2hFbnRpdHkgPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCk7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWVzaCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5sb2FkTWVzaEJ5T2JqZWN0KGNvbmZpZy5tZXNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNYXRlcmlhbEJ5T2JqZWN0KGNvbmZpZy5tYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbmZpZy53aXJlZnJhbWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aXJlZnJhbWUgPSBjb25maWcud2lyZWZyYW1lO1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5zZXRXaXJlRnJhbWUod2lyZWZyYW1lLmlzLCB3aXJlZnJhbWUuY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoRW50aXR5O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlRGlmZnVzZSA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGlmZnVzZUVudGl0eSh0aGlzLm9pZCwgdik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVNZXNoQnlMb2FkZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBtZXNoID0gbmV3IE1lc2hFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5tZXNoLCBjb25maWcubWF0ZXJpYWwsIGNvbmZpZy50ZXh0dXJlKTtcclxuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQnVmZmVyLnB1c2gobWVzaCk7XHJcbiAgICAgICAgICAgIHJldHVybiBtZXNoO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRyYW5zZm9ybUVudGl0eSh0aGlzLm9pZCwgcG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxpZ2h0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IExpZ2h0RW50aXR5KHRoaXMub2lkLCBjb25maWcuYW1iaWVudCwgY29uZmlnLmRpZmZ1c2UsIGNvbmZpZy5wb3NpdGlvbiwgY29uZmlnLnNwZWN1bGFyLCBjb25maWcuZGlyZWN0aW9uLCBjb25maWcuY3V0b2ZmKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUNhbWVyYSA9IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ2FtZXJhRW50aXR5KHRoaXMub2lkLCB0eXBlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5NYWluQ2FtZXJhID0gY2FtZXJhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zdGFydExvYWRlciA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2xvYWRlckJ1ZmZlciwgZnVuY3Rpb24gKGl0ZW0sIG5leHQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubG9hZE1lc2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCBjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5FbnZpcm9ubWVudCgpO1xyXG4gICAgICAgICAgICBzZWxmLlByb2dyYW0oKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5BVFRSSUJVVEVTKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyhzZWxmLl9vaWQsIFNjZW5lR3JhcGguVU5JRk9STVMpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5pbml0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmVXaXRoTG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5jb25maWd1cmUoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFydExvYWRlcihjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLlVOSUZPUk1TID0gW1xyXG4gICAgICAgICAgICAndVBNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU1WTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VOTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VMaWdodERpcmVjdGlvbicsXHJcbiAgICAgICAgICAgICd1TGlnaHRBbWJpZW50JyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlmZnVzZScsXHJcbiAgICAgICAgICAgICd1TWF0ZXJpYWxEaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VMaWdodFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VTaGluaW5lc3MnLFxyXG4gICAgICAgICAgICAndVdpcmVmcmFtZScsXHJcbiAgICAgICAgICAgICd1V2lyZWZyYW1lQ29sb3InXHJcbiAgICAgICAgXTtcclxuICAgICAgICBTY2VuZUdyYXBoLkFUVFJJQlVURVMgPSBbJ2FfcG9zaXRpb24nLCAnYV9ub3JtYWwnXTtcclxuICAgICAgICByZXR1cm4gU2NlbmVHcmFwaDtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2NlbmVHcmFwaCA9IFNjZW5lR3JhcGg7XHJcbn0pKEJsYXplIHx8IChCbGF6ZSA9IHt9KSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
