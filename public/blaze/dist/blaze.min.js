var __extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Blaze;!function(e){var t;!function(e){function t(e){for(var t=null,i=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=0;n<i.length;++n){try{t=e.getContext(i[n])}catch(r){}if(t)break}return null===t?(alert("Could not initialise WebGL"),null):(t.viewportWidth=e.width,t.viewportHeight=e.height,t)}function i(t,i,n,r){var o=t.createBuffer();switch(t.bindBuffer(t.ARRAY_BUFFER,o),r){case e.BUFFER_DRAW.STATIC:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW);break;case e.BUFFER_DRAW.DYNAMIC:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.DYNAMIC_DRAW);break;case e.BUFFER_DRAW.STREAM:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STREAM_DRAW);break;default:t.bufferData(t.ARRAY_BUFFER,new Float32Array(i),t.STATIC_DRAW)}return t.bindBuffer(t.ARRAY_BUFFER,null),n?(o.itemSize=2,o.numItems=i.length/2):(o.itemSize=3,o.numItems=i.length/3),o}function n(t,i,n){var r=t.createBuffer(t.ELEMENT_ARRAY_BUFFER);switch(t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,r),n){case e.BUFFER_DRAW.STATIC:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW);break;case e.BUFFER_DRAW.DYNAMIC:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.DYNAMIC_DRAW);break;case e.BUFFER_DRAW.STREAM:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STREAM_DRAW);break;default:t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW)}return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),r.itemSize=1,r.numItems=i.length,r}function r(e,t){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),i}function o(e,t,i){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(e.getShaderInfoLog(n)),null)}function a(e,t){return o(e,e.FRAGMENT_SHADER,t)}function u(e,t){return o(e,e.VERTEX_SHADER,t)}function s(e,t){var i=a(e,t.fragment),n=u(e,t.vertex),r=e.createProgram();return e.attachShader(r,n),e.attachShader(r,i),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS)||console.log(e.getProgramInfoLog(r)),r}e.getGLContext=t,function(e){e[e.STATIC=0]="STATIC",e[e.STREAM=1]="STREAM",e[e.DYNAMIC=2]="DYNAMIC"}(e.BUFFER_DRAW||(e.BUFFER_DRAW={}));e.BUFFER_DRAW;e.createBuffer=i,e.createIndexBuffer=n,e.createTexture=r,e.createShader=o,e.createFragmentShader=a,e.createVertexShader=u,e.createProgram=s}(t=e.WebGLUtils||(e.WebGLUtils={}));var i;!function(e){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function i(e){var i=t()+t();return e?e+i:i}function n(e){return e.map(function(e){return Number.isNaN(e)&&(e=0),e})}function r(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.addEventListener("load",function(){t(i.responseText)}),i.send()}function o(e){var t=e.split(".");return t[t.length-1]}function a(){return(new Date).getTime()}function u(e){return e*Math.PI/180}function s(e,t){for(var i=0,n=1,r=2,o=[],a=0;a<e.length;a++)o[a]=0;for(var a=0;a<t.length;a+=3){var u=[],s=[],f=[];u[i]=e[3*t[a+1]+i]-e[3*t[a]+i],u[n]=e[3*t[a+1]+n]-e[3*t[a]+n],u[r]=e[3*t[a+1]+r]-e[3*t[a]+r],s[i]=e[3*t[a+2]+i]-e[3*t[a+1]+i],s[n]=e[3*t[a+2]+n]-e[3*t[a+1]+n],s[r]=e[3*t[a+2]+r]-e[3*t[a+1]+r],f[i]=u[n]*s[r]-u[r]*s[n],f[n]=u[r]*s[i]-u[i]*s[r],f[r]=u[i]*s[n]-u[n]*s[i];for(var c=0;3>c;c++)o[3*t[a+c]+i]=o[3*t[a+c]+i]+f[i],o[3*t[a+c]+n]=o[3*t[a+c]+n]+f[n],o[3*t[a+c]+r]=o[3*t[a+c]+r]+f[r]}for(var a=0;a<e.length;a+=3){var l=[];l[i]=o[a+i],l[n]=o[a+n],l[r]=o[a+r];var h=Math.sqrt(l[i]*l[i]+l[n]*l[n]+l[r]*l[r]);0==h&&(h=1e-5),l[i]=l[i]/h,l[n]=l[n]/h,l[r]=l[r]/h,o[a+i]=l[i],o[a+n]=l[n],o[a+r]=l[r]}return o}e.s4=t,e.uuid=i,e.normalizeNaN=n,e.load=r,e.getExtension=o,e.nowInMilliseconds=a,e.degToRad=u,e.calculateNormals=s}(i=e.utils||(e.utils={})),function(e){e[e.ORBITING=0]="ORBITING",e[e.TRACKING=1]="TRACKING"}(e.CAMERA_TYPE||(e.CAMERA_TYPE={}));var n=e.CAMERA_TYPE,r=function(){function e(){}return e.setCanvasToContext=function(i,n){var r=t.getGLContext(n);e.setContext(i,r)},e.setContext=function(t,i){e._views[t].context=i},e.getContext=function(t){return e._views[t].context},e.createProgram=function(i,n){var r=e.getContext(i),o=t.createProgram(r,n);e.setProgram(i,o)},e.setProgram=function(t,i){e._views[t].program=i},e.getProgram=function(t){return e._views[t].program},e.useProgram=function(t){var i=e._views[t],n=i.context,r=i.program;n.useProgram(r)},e.createView=function(t){e._views[t]={}},e.setAttributeLocations=function(t,i){var n=e._views[t],r=n.context,o=n.program;n.attribs=i.reduce(function(e,t){return e[t]=r.getAttribLocation(o,t),e},{})},e.getAttrib=function(t,i){return e._views[t].attribs[i]},e.getUniform=function(t,i){return e._views[t].uniforms[i]},e.setUniformLocations=function(t,i){var n=e._views[t],r=n.context,o=n.program;n.uniforms=i.reduce(function(e,t){return e[t]=r.getUniformLocation(o,t),e},{})},e.enableAttrib=function(t,i,n){var r=e.getAttrib(t,i),o=e.getContext(t);o.enableVertexAttribArray(r),n?o.vertexAttribPointer(r,n.size||3,o.FLOAT,n.normalized||!1,n.stride||0,n.offset||0):o.vertexAttribPointer(r,3,o.FLOAT,!1,0,0)},e.disableAttrib=function(t,i){var n=e.getAttrib(t,i),r=e.getContext(t);r.disableVertexAttribArray(n)},e.renderLoop=function(e){setInterval(e,30)},e.addTexture=function(t,i){var n=e._views[t];n.textures=n.textures||[],n.textures.push(i)},e.removeTexture=function(t,i){var n=e._views[t];n.textures=n.textures||[];var r=n.textures.indexOf(i);n.textures.splice(r,1)},e.activeTexture=function(t,i,n){var r=e._views[t],o=r.context,a=(r.program,r.textures.indexOf(i));if(a>-1){o.activeTexture(0===a?o.TEXTURE0:o.TEXTURE0+a),o.bindTexture(o.TEXTURE_2D,n);var u=e.getUniform(t,"uSampler");o.uniform1i(u,a)}},e.isOffScreen=function(t){return e._views[t].offscreen},e.enableOffScreen=function(t){e._views[t].offscreen=!0},e.disableOffScreen=function(t){e._views[t].offscreen=!0},e.fillSelectorBuffer=function(t,i){var n=e._views[t];n.selectObjects=n.selectObjects||[],n.selectObjects.push(i)},e.clearSelectorBuffer=function(t){var i=e._views[t];i.selectObjects=[]},e.getSelectByColor=function(t,i){var n=e._views[t];return n.selectObjects=n.selectObjects||[],_.find(n.selectObjects,function(e){return _.isEqual(e.color,i)})},e._views={},e}();e.Ketch=r;var o=function(){function e(e){this._graph_id=e}return Object.defineProperty(e.prototype,"graphID",{get:function(){return this._graph_id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gl",{get:function(){return r.getContext(this.graphID)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"program",{get:function(){return r.getProgram(this.graphID)},enumerable:!0,configurable:!0}),e.prototype.getUniform=function(e){return r.getUniform(this.graphID,e)},e}();e.Renderable=o;var a=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.beginDraw=function(e){},t.prototype.endDraw=function(e){},t}(o);e.Entity=a;var u=function(e){function t(t){e.call(this,t),this._stack=[],this._mvMatrix=mat4.create(),this._pMatrix=mat4.create(),this._nMatrix=mat4.create()}return __extends(t,e),t.prototype.push=function(){var e=mat4.create();mat4.set(this._mvMatrix,e),this._stack.push(e)},t.prototype.pop=function(){if(0==this._stack.length)throw"invalid popMatrix";this._mvMatrix=this._stack.pop()},t.prototype.ModelView=function(){this._camera?this._mvMatrix=this._camera.modelView:mat4.identity(this._mvMatrix)},Object.defineProperty(t.prototype,"mvMatrix",{get:function(){return this._mvMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pMatrix",{get:function(){return this._pMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nMatrix",{get:function(){return this._nMatrix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"MainCamera",{set:function(e){this._camera=e},enumerable:!0,configurable:!0}),t.prototype.Perspective=function(){var e=this.gl;mat4.identity(this._pMatrix),mat4.perspective(45,e.viewportWidth/e.viewportHeight,.1,1e3,this._pMatrix)},t.prototype.Normal=function(){mat4.identity(this._nMatrix),mat4.set(this._mvMatrix,this._nMatrix),mat4.inverse(this._nMatrix),mat4.transpose(this._nMatrix)},t.prototype.init=function(){this.ModelView(),this.Perspective(),this.Normal()},t.prototype.setUp=function(){var e=this.gl;this.Normal();var t=this.getUniform("uMVMatrix");t&&e.uniformMatrix4fv(t,!1,this._mvMatrix);var i=this.getUniform("uPMatrix");i&&e.uniformMatrix4fv(i,!1,this._pMatrix);var n=this.getUniform("uNMatrix");n&&e.uniformMatrix4fv(n,!1,this._nMatrix)},t}(o);e.MatrixStack=u;var s;!function(e){var n=function(e){function n(t){e.call(this,t)}return __extends(n,e),Object.defineProperty(n.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(e){var t=this,n=this,r=i.getExtension(e);i.load(e,function(e){var i;switch(r){case"obj":i=n.parseOBJ(e);break;case"json":i=n.parseJSON(e)}n.createBuffers(i),t._onload&&t._onload()})},enumerable:!0,configurable:!0}),n.prototype.parseJSON=function(e){var t={};try{t=JSON.parse(e)}catch(i){console.log(i)}return t},n.prototype.parseOBJ=function(e){var t={v:[],vn:[],vt:[],iv:[],"in":[],it:[]},i=e.split("\n"),n=i.filter(function(e){return"v"===e[0]}),r=i.filter(function(e){return"f"===e[0]});n.forEach(function(e){var i=e.replace("\r","").split(" "),n=i[0];t[n]=t[n].concat(i.slice(1).filter(function(e){return""!==e}))});var o=[];return r.forEach(function(e){var t=e.replace("\r","").replace("f","").split(" ");o=o.concat(t.slice(1).filter(function(e){return""!==e}))}),o.forEach(function(e){var i=e.split("/");t.iv.push(parseInt(i[0])-1),t["in"].push(parseInt(i[1])-1),t.it.push(parseInt(i[2])-1)}),t},n.prototype.createBuffers=function(e){function n(e){return t.createBuffer(o,e)}function r(e){return t.createIndexBuffer(o,e)}var o=this.gl;_.defaults(e,{v:[],vn:[],vt:[],iv:[],"in":[],it:[]}),e.v.length>0&&(this._vbo=n(e.v)),e.v.length>0&&e.iv.length>0&&(this._nbo=n(i.calculateNormals(e.v,e.iv))),e.vt.length>0&&(this._tbo=t.createBuffer(o,e.vt,!0)),e.iv.length>0&&(this._ivbo=r(e.iv)),e["in"].length>0&&(this._inbo=r(e["in"])),e.it.length>0&&(this._itbo=r(e.it))},Object.defineProperty(n.prototype,"vbo",{get:function(){return this._vbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"nbo",{get:function(){return this._nbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tbo",{get:function(){return this._tbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ivbo",{get:function(){return this._ivbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"inbo",{get:function(){return this._inbo},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itbo",{get:function(){return this._itbo},enumerable:!0,configurable:!0}),n}(o);e.MeshBuffers=n;var a=function(e){function n(t){e.call(this,t),this._image=new Image,this._oid=i.uuid(this.constructor.name)}return __extends(n,e),Object.defineProperty(n.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"src",{set:function(e){this._image.onload=this.loadTextureImage(this._onload),this._image.src=e},enumerable:!0,configurable:!0}),n.prototype.loadTextureImage=function(e){var i=this,n=this;return function(){i._texture=t.createTexture(n.gl,n._image),r.addTexture(n.graphID,n._oid),e&&e()}},Object.defineProperty(n.prototype,"content",{get:function(){return this._texture},enumerable:!0,configurable:!0}),n}(o);e.MeshTexture=a;var u=function(e){function t(t,i,n,r,o){e.call(this,t),this._ambient=i?vec4.create(i):vec4.create(),this._diffuse=n?vec4.create(n):void 0,this._specular=r?vec4.create(r):vec4.create(),this._shininess=o||200}return __extends(t,e),Object.defineProperty(t.prototype,"onload",{set:function(e){this._onload=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{set:function(e){var t=this,n=this;i.load(e,function(e){var i=n.parse(e);t._ambient=i.Ka,t._diffuse=i.Kd,t._specular=i.Ks,t.shininess=i.Ns,t._onload&&t._onload()})},enumerable:!0,configurable:!0}),t.prototype.parse=function(e){var t={},i=["Ka","Kd","Ks","Ns"],n=e.split("\n");return n.forEach(function(e){var n=e.split(" "),r=n[0];if(i.indexOf(r)>-1)switch(r){case"Ns":t.Ns=Number(n[1]);break;default:var o=n.slice(1).map(function(e){return Number(e)});o.push(1),t[r]=o}}),t},Object.defineProperty(t.prototype,"ambient",{get:function(){return this._ambient},set:function(e){this._ambient=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuse",{get:function(){return this._diffuse},set:function(e){this._diffuse=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specular",{get:function(){return this._specular},set:function(e){this._specular=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shininess",{get:function(){return this._shininess},set:function(e){this._shininess=e},enumerable:!0,configurable:!0}),t}(o);e.MeshMaterial=u}(s=e.Resources||(e.Resources={}));var f;!function(e){var t=function(){function e(){}return e.All_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nuniform float uTime;\nuniform sampler2D uNoiseSampler;\nuniform vec2 uInverseTextureSize;\n\nvarying vec2 vTextureCoord;\n\nconst float speed = 15.0;\nconst float magnitude = 0.015;\n\nconst float grainIntensity = 0.1;\nconst float scrollSpeed = 4000.0;\n\nvec4 offsetLookup(float xOff, float yOff) {\n    return texture2D(uSampler, vec2(vTextureCoord.x + xOff*uInverseTextureSize.x, vTextureCoord.y + yOff*uInverseTextureSize.y));\n}\n\nvoid main(){\n\n     vec4 frameColor = offsetLookup(-4.0, 0.0) * 0.05;\n    frameColor += offsetLookup(-3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(-2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(-1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(0.0, 0.0) * 0.16;\n    frameColor += offsetLookup(1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(4.0, 0.0) * 0.05;\n    \n    vec4 grain=texture2D(uNoiseSampler, vTextureCoord*2.0+uTime*scrollSpeed*uInverseTextureSize);\n     \n      frameColor +=texture2D(uSampler, vTextureCoord)-(grain*grainIntensity);\n          vec2 wavyCoord;\n    wavyCoord.s=vTextureCoord.s+(sin(uTime+vTextureCoord.t*speed)*magnitude);\n    wavyCoord.t=vTextureCoord.t+(sin(uTime+vTextureCoord.s*speed)*magnitude);\n    \n    frameColor+=texture2D(uSampler, wavyCoord);\n    gl_FragColor=frameColor;\n}",e.Blur_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nuniform vec2 uInverseTextureSize;\n\nvarying vec2 vTextureCoord;\n\nvec4 offsetLookup(float xOff, float yOff) {\n    return texture2D(uSampler, vec2(vTextureCoord.x + xOff*uInverseTextureSize.x, vTextureCoord.y + yOff*uInverseTextureSize.y));\n}\n\nvoid main(void)\n{\n    vec4 frameColor = offsetLookup(-4.0, 0.0) * 0.05;\n    frameColor += offsetLookup(-3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(-2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(-1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(0.0, 0.0) * 0.16;\n    frameColor += offsetLookup(1.0, 0.0) * 0.15;\n    frameColor += offsetLookup(2.0, 0.0) * 0.12;\n    frameColor += offsetLookup(3.0, 0.0) * 0.09;\n    frameColor += offsetLookup(4.0, 0.0) * 0.05;\n\n    gl_FragColor = frameColor;\n}",e.Film_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nuniform sampler2D uNoiseSampler;\nuniform vec2 uInverseTextureSize;\nuniform float uTime;\n\nvarying vec2 vTextureCoord;\n\nconst float grainIntensity = 0.1;\nconst float scrollSpeed = 4000.0;\n\n\nvoid main()\n{\n    vec4 frameColor=texture2D(uSampler, vTextureCoord);\n    vec4 grain=texture2D(uNoiseSampler, vTextureCoord*2.0+uTime*scrollSpeed*uInverseTextureSize);\n    gl_FragColor=frameColor-(grain*grainIntensity);\n\n}",e.Grey_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    vec4 frameColor = texture2D(uSampler, vTextureCoord);\n    float luminance = frameColor.r * 0.3 + frameColor.g * 0.59 + frameColor.b * 0.11;\n    gl_FragColor = vec4(luminance, luminance, luminance, frameColor.a);\n}",e.Invert_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform sampler2D uSampler;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    vec4 frameColor = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = vec4(1.0-frameColor.r, 1.0-frameColor.g, 1.0-frameColor.b, frameColor.a);\n}",e.No_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nvoid main(){\n    vec4 frameColor=texture2D(uSampler, vTextureCoord);\n    \n    gl_FragColor=frameColor;\n\n}\n",e.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform bool uWireframe;\n\nuniform sampler2D uSampler;\n\nvarying vec4 vColor;\n\n\nbool isBlack(vec4 color){\nreturn color.r==0.0 &&color.g==0.0&&color.b==0.0;\n}\nvoid main(void) { \n     if(uWireframe){\n         gl_FragColor = vColor;\n        }else{\n    gl_FragColor = texture2D(uSampler, gl_PointCoord);\n    if(gl_FragColor.a < 0.5 || isBlack(gl_FragColor)) discard;\n    }\n}",e.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uLightSpecular;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(uLightDirection);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uLightDiffuse*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular*uMaterialSpecular*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Phong_lights="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform int uNumLights;\n\nuniform float uShininess;\nuniform vec3 uLightDirection[uNumLights];\nuniform float uCutOff[uNumLights];\n\nuniform vec4 uLightAmbient[uNumLights];\nuniform vec4 uLightDiffuse[uNumLights];\nuniform vec4 uLightSpecular[uNumLights];\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nuniform vec4 uMaterialAmbient;\nuniform vec4 uMaterialDiffuse;\nuniform vec4 uMaterialSpecular;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n        vec4 finalColor=vec4(0.0,0.0,0.0,1.0);\n        for(int i=0; i<uNumLights;i++){\n        \n        vec3 L= normalize(uLightDirection[i]);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient[i]*uMaterialAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>uCutOff[i])\n        {\n            Id=uLightDiffuse[i]*uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightSpecular[i]*uMaterialSpecular*specular;\n        }\n        \n        finalColor+=Ia+Id+Is;\n        \n        }\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Phong_positional="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\n\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\n\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec3 vLightDir;\nvarying vec4 vColor;\n\nvoid main(){\n\n        if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n       \n        vec3 L= normalize(vLightDir);\n        vec3 N= normalize(vNormal);\n        float lambertTerm=dot(N, -L);\n        \n        vec4 Ia= uLightAmbient;\n        \n        vec4 Id=vec4(0.0,0.0,0.0,1.0);\n        \n        vec4 Is=vec4(0.0,0.0,0.0,1.0);\n        \n        if(lambertTerm>0.0)\n        {\n            Id=uMaterialDiffuse*lambertTerm;\n            \n            vec3 E= normalize(vEyeVec);\n            vec3 R= reflect(L, N);\n            float specular=pow(max(dot(R,E),0.0), uShininess);\n            Is=uLightDiffuse*specular;\n        }\n        \n        vec4 finalColor=Ia+Id+Is;\n        finalColor.a=1.0;\n    \n        gl_FragColor =finalColor;\n        \n        \n}\n\n\n",e.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform float uShininess;\nuniform vec3 uLightDirection;\n\nuniform mat4 uMVMatrix;\n\nuniform vec4 uLightAmbient;\nuniform vec4 uLightDiffuse;\nuniform vec4 uMaterialDiffuse;\n\nuniform bool uWireframe;\n\nuniform bool uOffscreen;\nuniform vec4 uSelectColor;\n\nvarying vec4 vColor;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\n\nvoid main(){\n\n       if(uWireframe){\n            gl_FragColor = vColor;\n            return;\n        }\n      \n\n        if(uOffscreen){\n            gl_FragColor=uSelectColor;\n            return;\n        }\n\n        vec4 color0=vec4(uMaterialDiffuse.rgb,1.0);\n        vec4 color1=vec4(0.0,0.0,0.0, 1.0);\n        vec4 color2=vec4(uMaterialDiffuse.rgb, 1.0);\n        \n        vec3 N= vNormal;\n        vec3 L = normalize(uLightDirection);\n        \n        vec4 eyePos= uMVMatrix*vec4(0.0,0.0,0.0,1.0);\n        \n        vec3 EyeVert = normalize(-eyePos.xyz);\n        \n        vec3 EyeLight=normalize(L+EyeVert);\n        \n        float sil= max(dot(N, EyeVert), 0.0);\n        \n        if( sil<0.4){\n            gl_FragColor=color1;\n        }else{\n             gl_FragColor=color0;\n             \n             float spec=pow(max(dot(N, EyeLight), 0.0), uShininess);\n             \n             if(spec<0.2) gl_FragColor*=0.8;\n             else gl_FragColor=color2;\n             \n             float diffuse=max(dot(N, L), 0.0);\n             if(diffuse<0.5)gl_FragColor*=0.8;\n        }\n\n\n\n\n\n}\n\n\n\n",e.Wavy_effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n\nuniform sampler2D uSampler;\nuniform float uTime;\n\nvarying vec2 vTextureCoord;\n\nconst float speed = 15.0;\nconst float magnitude = 0.015;\n\nvoid main(){\n    \n    vec2 wavyCoord;\n    wavyCoord.s=vTextureCoord.s+(sin(uTime+vTextureCoord.t*speed)*magnitude);\n    wavyCoord.t=vTextureCoord.t+(sin(uTime+vTextureCoord.s*speed)*magnitude);\n    \n    vec4 frameColor=texture2D(uSampler, wavyCoord);\n    gl_FragColor=frameColor;\n\n\n}",e}();e.Fragment=t;var i=function(){function e(){}return e.Effect="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 a_position;\nattribute vec2 a_texture_coords;\n\nvarying vec2 vTextureCoord;\n\nvoid main(){\n    vTextureCoord=a_texture_coords;\n\n    gl_Position=vec4(a_position, 0.0,1.0);\n    \n}",e.Particle="#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec3 a_position;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform float uPointSize;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\n\nvarying vec4 vColor;\n\nvoid main(void) {\n\n if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }\n    \n    gl_Position = uPMatrix * uMVMatrix * vec4(a_position.xyz, 1.0);\n    gl_PointSize = uPointSize;\n}",e.Phong="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Phong_lights="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Phong_positional="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform vec3 uLightPosition;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vEyeVec;\nvarying vec3 vLightDir;\n\nvarying vec4 vColor;\n\nvoid main(){\n\n    vec4 vertex = uMVMatrix * vec4(a_position, 1.0);\n	\n	\n	 if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n	\n	vNormal = vec3(uNMatrix * vec4(a_normal, 1.0));\n    vLightDir=vertex.xyz-uLightPosition;  \n	vEyeVec=-vec3(vertex.xyz);  \n	\n	}\n	 \n	gl_Position =uPMatrix * vertex;\n\n}\n\n\n",e.Toon="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec4 a_color;\n\nuniform mat4 uMVMatrix;\nuniform mat4 uPMatrix;\nuniform mat4 uNMatrix;\n\nuniform bool uWireframe;\nuniform bool uPerVertexColor;\nuniform vec4 uMaterialDiffuse;\n\nvarying vec3 vNormal;\nvarying vec3 vVertex;\nvarying vec4 vColor;\n\nvoid main(){\n    \n    vec4 normal= uNMatrix * vec4(a_normal,1.0);\n    \n     if(uWireframe){\n	 \n	 	if(uPerVertexColor){\n	 		 vColor=a_color;\n	 	}else{\n	 		vColor=uMaterialDiffuse;\n	 	}\n	 \n	\n	 }else{\n    \n    vNormal=normal.xyz;\n    vVertex=a_position;\n    }\n    \n    gl_Position=uPMatrix*uMVMatrix*vec4(a_position, 1.0);\n    \n    \n    \n    \n\n}",e}();e.Vertex=i}(f=e.Shaders||(e.Shaders={}));var c=function(e){function t(t,i,n,r){e.call(this,t),this._frequency=i,this._interval_id=null,this._callback=r}return __extends(t,e),t.prototype.onFrame=function(){if(t.ElapseTime=i.nowInMilliseconds(),!(t.ElapseTime<5)){for(var e=Math.floor(t.ElapseTime/this._frequency);e>0&&t.Count!=this._times;)this._callback(),e--,t.Count++;t.Count===this._times&&this.stop()}},t.prototype.start=function(){this._intime=i.nowInMilliseconds(),this._interval_id=setInterval(this.onFrame,this._frequency/1e3)},t.prototype.stop=function(){this._interval_id&&clearInterval(this._interval_id)},t.prototype.beginDraw=function(){},t.prototype.endDraw=function(){},t.Count=0,t}(a);e.AnimationEntity=c;var l=function(e){function t(t,i,n,r){e.call(this,t),this._material=null,this._texture=null,this._buffers=null,this._meshfile=i||null,this._materialfile=n||null,this._texturefile=r||null}return __extends(t,e),t.prototype.loadBuffers=function(e,t){this._buffers=new s.MeshBuffers(this.graphID),this._buffers.onload=t,this._buffers.src=e},t.prototype.loadTexture=function(e,t){this._texture=new s.MeshTexture(this.graphID),this._texture.onload=t,this._texture.src=e},Object.defineProperty(t.prototype,"material",{set:function(e){this._material=e},enumerable:!0,configurable:!0}),t.prototype.loadMaterial=function(e,t){this._material=new s.MeshMaterial(this.graphID),this._material.onload=t,this._material.src=e},t.prototype.loadMesh=function(e){var t=this,i=this;async.waterfall([function(e){return i._meshfile?(console.log("Loading Buffers"),void i.loadBuffers(i._meshfile,function(){console.log("Loaded Buffers"),e()})):e()},function(e){return t._texturefile?(console.log("Loading Texture"),void i.loadTexture(i._texturefile,function(){console.log("Loaded Texture"),e()})):e()},function(e){return i._materialfile?(console.log("Loading Material"),void i.loadMaterial(i._materialfile,function(){console.log("Loaded Material"),e()})):e()}],function(t){return t?console.log(t):void(e&&e())})},t.prototype.loadMeshByObject=function(e){this._buffers=new s.MeshBuffers(this.graphID),this._buffers.createBuffers(e)},t.prototype.loadMaterialByObject=function(e){this._material=new s.MeshMaterial(this.graphID),e.ambient&&(this._material.ambient=e.ambient),e.specular&&(this._material.specular=e.specular),e.diffuse&&(this._material.diffuse=e.diffuse),e.shininess&&(this._material.shininess=e.shininess)},t.prototype.setMaterialUniforms=function(){if(this._material){var e=this.gl;if(this._material.ambient){var t=this.getUniform("uMaterialAmbient");t&&e.uniform4fv(t,this._material.ambient)}if(this._material.diffuse){var i=this.getUniform("uMaterialDiffuse");i&&e.uniform4fv(i,this._material.diffuse)}if(this._material.specular){var n=this.getUniform("uMaterialSpecular");n&&e.uniform4fv(n,this._material.specular)}if(this._material.shininess){var r=this.getUniform("uShininess");r&&e.uniform1f(r,this._material.shininess)}}},t.prototype.beginDraw=function(){var e=this.gl;this.setMaterialUniforms(),e.bindBuffer(e.ARRAY_BUFFER,this._buffers.vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,this._buffers.nbo),r.enableAttrib(this.graphID,"a_normal");var t=this._buffers.ivbo;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),e.drawElements(e.TRIANGLES,t.numItems,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl;r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_normal"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.MeshEntity=l;var h=function(e){function t(t,i,n,r){e.call(this,t),this._matrix=mat4.create(),this._position=i||vec3.create(),this._size=n||vec3.create([1,1,1]),this._rotation=r||{angle:0,axis:vec3.create()}}return __extends(t,e),t.prototype.identity=function(){mat4.identity(this._matrix)},t.prototype.setMatrix=function(e){this._matrix=e},t.prototype.transpose=function(){
mat4.transpose(this._matrix,this._matrix)},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),t.prototype.setAbsolutePosition=function(e,t,i){this._position=[e,t,i]},t.prototype.translate=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._position,r=vec3.create([e,t,i]);vec3.add(n,r,this._position)},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),t.prototype.setSize=function(e,t,i){this._size=[e,t,i]},t.prototype.scale=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._size,r=vec3.create([e,t,i]);vec3.add(n,r,this._size)},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e},enumerable:!0,configurable:!0}),t.prototype.setRotation=function(e,t){e&&(this._rotation.angle=e),t&&(this._rotation.axis=t)},t.prototype.setAngle=function(e){this._rotation.angle=e},t.prototype.setAxis=function(e){this._rotation.axis=e},t.prototype.rotateAngle=function(e){void 0===e&&(e=0),this._rotation.angle+=e},t.prototype.moveAxis=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0);var n=this._rotation.axis,r=vec3.create([e,t,i]);vec3.add(n,r,this._rotation.axis)},t.prototype.beginDraw=function(e){if(e.push(),e.ModelView(),this._matrix=e.mvMatrix,void 0!=this._position&&mat4.translate(this._matrix,this._position),void 0!=this._size&&mat4.scale(this._matrix,this._size),void 0!=this._rotation){var t=this._rotation.angle*Math.PI/180;mat4.rotate(this._matrix,t,this._rotation.axis)}e.setUp()},t.prototype.endDraw=function(e){e.pop()},t}(a);e.TransformEntity=h;var m=function(e){function t(t,i,n,r,o,a,u){e.call(this,t),this._ambient=i?vec4.create(i):null,this._diffuse=n?vec4.create(n):null,this._position=r?vec3.create(r):null,this._specular=o?vec4.create(o):null,this._direction=a?vec3.create(a):null,this._cutoff=u||0}return __extends(t,e),Object.defineProperty(t.prototype,"ambient",{get:function(){return this._ambient},set:function(e){this._ambient=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"diffuse",{get:function(){return this._diffuse},set:function(e){this._diffuse=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specular",{get:function(){return this._specular},set:function(e){this._specular=i.normalizeNaN(vec4.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._diffuse},set:function(e){this._position=i.normalizeNaN(vec3.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=i.normalizeNaN(vec3.create(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cutOff",{get:function(){return this._cutoff},set:function(e){this._cutoff=e},enumerable:!0,configurable:!0}),t.prototype.beginDraw=function(){var e=this.gl;if(this._ambient){var t=this.getUniform("uLightAmbient");t&&e.uniform4fv(t,this._ambient)}if(this._diffuse){var i=this.getUniform("uLightDiffuse");i&&e.uniform4fv(i,this._diffuse)}if(this._specular){var n=this.getUniform("uLightSpecular");n&&e.uniform4fv(n,this._specular)}if(this._position){var r=this.getUniform("uLightPosition");r&&e.uniform3fv(r,this._position)}if(this._direction){var o=this.getUniform("uLightDirection");o&&e.uniform3fv(o,this._direction)}if(this._cutoff){var a=this.getUniform("uCutOff");a&&e.uniform1f(a,this._cutoff)}},t.prototype.endDraw=function(){},t}(a);e.LightEntity=m;var p=function(e){function t(t,i){e.call(this,t),this._value=i}return __extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0}),t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uMaterialDiffuse");t&&e.uniform4fv(t,this._value)},t.prototype.endDraw=function(){},t}(a);e.DiffuseEntity=p;var d=function(e){function n(t,i){e.call(this,t),this._pointSize=i||1,this._buffer=null,this._texture_id=""}return __extends(n,e),n.prototype.configure=function(e,n){var o=this.gl;this._buffer=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,this._buffer),o.bufferData(o.ARRAY_BUFFER,new Float32Array(e),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),this._numItems=e.length,this._texture_id=i.uuid("Texture"),this._texture=t.createTexture(o,n),r.addTexture(this.graphID,this._texture_id)},n.prototype.update=function(e){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this._buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this._numItems=e.length},Object.defineProperty(n.prototype,"textureID",{get:function(){return this._texture_id},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointSize",{set:function(e){this._pointSize=e},enumerable:!0,configurable:!0}),n.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uPointSize");t&&e.uniform1f(t,this._pointSize),e.bindBuffer(e.ARRAY_BUFFER,this._buffer),r.enableAttrib(this.graphID,"a_position"),r.activeTexture(this.graphID,this._texture_id,this._texture),e.drawArrays(e.POINTS,0,this._numItems/3)},n.prototype.endDraw=function(){var e=this.gl;r.disableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,null)},n}(a);e.ParticleEntity=d;var v=function(e){function t(t){e.call(this,t),this._lights=[]}return __extends(t,e),t.prototype.addLight=function(e){this._lights.push(e)},t.prototype.getArraysObject=function(){return this._lights.reduce(function(e,t){return e.ambient=e.ambient.concat(t.ambient),e.diffuse=e.diffuse.concat(t.diffuse),e.specular=e.specular.concat(t.specular),e.direction=e.direction.concat(t.direction),e.cutoff=e.cutOff.concat(t.cutoff),e},{ambient:[],diffuse:[],specular:[],direction:[],cutoff:[]})},t.prototype.beginDraw=function(){var e=this.gl;if(this._lights.length>0){var t=this.getUniform("uNumLights");t&&e.uniform1(t,this._lights.length);var i=this.getArraysObject();if(i.ambient){var n=this.getUniform("uLightAmbient");n&&e.uniform4fv(n,i.ambient)}if(i.diffuse){var r=this.getUniform("uLightDiffuse");r&&e.uniform4fv(r,i.diffuse)}if(i.specular){var o=this.getUniform("uLightSpecular");o&&e.uniform4fv(o,i.specular)}if(i.direction){var a=this.getUniform("uLightDirection");a&&e.uniform3fv(a,i.direction)}if(i.cutoff){var u=this.getUniform("uCutOff");u&&e.uniform1f(u,i.cutoff)}}},t}(a);e.LightArrayEntity=v;var g=function(e){function t(t,i){e.call(this,t),this._type=i||n.ORBITING,this._cmatrix=mat4.create(),mat4.identity(this._cmatrix),this._up=vec3.create(),this._right=vec3.create(),this._normal=vec3.create(),this._position=vec3.create(),this._azimuth=0,this._elevation=0,this._steps=0}return __extends(t,e),Object.defineProperty(t.prototype,"type",{set:function(e){this._type=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"azimuth",{get:function(){return this._azimuth},set:function(e){var t=e-this._azimuth;this.changeAzimuth(t)},enumerable:!0,configurable:!0}),t.prototype.changeAzimuth=function(e){this._azimuth+=e,(this._azimuth>360||this._azimuth<-360)&&(this._azimuth=this._azimuth%360)},Object.defineProperty(t.prototype,"elevation",{get:function(){return this._elevation},set:function(e){var t=e-this._elevation;this.changeElevation(t)},enumerable:!0,configurable:!0}),t.prototype.changeElevation=function(e){this._elevation+=e,(this._elevation>360||this._elevation<-360)&&(this._elevation=this._elevation%360)},Object.defineProperty(t.prototype,"zoom",{get:function(){return this._steps},set:function(e){var t=vec3.create(),i=vec3.create();t=this.position;var r=e-this._steps;vec3.normalize(this._normal,i);var o=vec3.create();this._type===n.TRACKING?(o[0]=t[0]-r*i[0],o[1]=t[1]-r*i[1],o[2]=t[2]-r*i[2]):(o[0]=t[0],o[1]=t[1],o[2]=t[2]-r),this.position=o,this._steps=e},enumerable:!0,configurable:!0}),t.prototype.calculateOrientation=function(){var e=this._cmatrix;mat4.multiplyVec4(e,[1,0,0,0],this._right),mat4.multiplyVec4(e,[0,1,0,0],this._up),mat4.multiplyVec4(e,[0,0,1,0],this._normal)},t.prototype.beginDraw=function(){mat4.identity(this._cmatrix),this.calculateOrientation(),this._type===n.TRACKING?(mat4.translate(this._cmatrix,this._position),mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180)):(mat4.rotateY(this._cmatrix,this._azimuth*Math.PI/180),mat4.rotateX(this._cmatrix,this._elevation*Math.PI/180),mat4.translate(this._cmatrix,this._position)),this.calculateOrientation(),this._type===n.TRACKING&&mat4.multiplyVec4(this._cmatrix,[0,0,0,1],this._position)},Object.defineProperty(t.prototype,"modelView",{get:function(){var e=mat4.create();return mat4.inverse(this._cmatrix,e),e},enumerable:!0,configurable:!0}),t.prototype.endDraw=function(){},t}(a);e.CameraEntity=g;var b=function(e){function t(t,i){e.call(this,t),i=i||100,this._vertices=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],this._indices=[0,1,2,3,4,5],this._colors=[1,1,0,1,1,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1]}return __extends(t,e),t.prototype.init=function(){var e=this.gl;this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._vertices),e.STATIC_DRAW),this._ibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),e.STATIC_DRAW),this._cbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._cbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._colors),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!0);var i=this.getUniform("uPerVertexColor");i&&e.uniform1i(i,!0),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,this._cbo),r.enableAttrib(this.graphID,"a_color",{size:4}),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.drawElements(e.LINES,this._indices.length,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!1);var i=this.getUniform("uPerVertexColor");i&&e.uniform1i(i,!1),r.disableAttrib(this.graphID,"a_position"),r.disableAttrib(this.graphID,"a_color"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.AxisEntity=b;var y=function(e){function t(t,i,n){e.call(this,t),this._dimesions={dim:i||50,lines:n||50}}return __extends(t,e),t.prototype.init=function(){var e=this.gl;this.build(),this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(this._vertices),e.STATIC_DRAW),this._ibo=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(this._indices),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t.prototype.build=function(){for(var e=2*this._dimesions.dim/this._dimesions.lines,t=[],i=[],n=0;n<=this._dimesions.lines;n++)t[6*n]=-this._dimesions.dim,t[6*n+1]=-.5,t[6*n+2]=-this._dimesions.dim+n*e,t[6*n+3]=this._dimesions.dim,t[6*n+4]=-.5,t[6*n+5]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n+1]=-.5,t[6*(this._dimesions.lines+1)+6*n+2]=-this._dimesions.dim,t[6*(this._dimesions.lines+1)+6*n+3]=-this._dimesions.dim+n*e,t[6*(this._dimesions.lines+1)+6*n+4]=-.5,t[6*(this._dimesions.lines+1)+6*n+5]=this._dimesions.dim,i[2*n]=2*n,i[2*n+1]=2*n+1,i[2*(this._dimesions.lines+1)+2*n]=2*(this._dimesions.lines+1)+2*n,i[2*(this._dimesions.lines+1)+2*n+1]=2*(this._dimesions.lines+1)+2*n+1;this._vertices=t,this._indices=i},t.prototype.beginDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!0);var i=this.getUniform("uMaterialDiffuse");i&&e.uniform4fv(i,[.7,.7,.7,1]),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),r.enableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._ibo),e.drawElements(e.LINES,this._indices.length,e.UNSIGNED_SHORT,0)},t.prototype.endDraw=function(){var e=this.gl,t=this.getUniform("uWireframe");t&&e.uniform1i(t,!1),r.disableAttrib(this.graphID,"a_position"),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},t}(a);e.GridEntity=y;var E=function(e){function t(t,i){e.call(this,t),this._color=this.generateUniqueColor(),this._data=i}return __extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},enumerable:!0,configurable:!0}),t.prototype.generateUniqueColor=function(){for(var e,t=function(e){return void 0!=r.getSelectByColor(this.graphID,e)}.bind(this),i=!0;i;)e=[Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),Number(Math.random().toFixed(2)),1],i=t(e);return e},t.prototype.beginDraw=function(){if(r.isOffScreen(this.graphID)){var e=this.gl,t=this.getUniform("uSelectColor");t&&e.uniform4fv(t,this._color)}},t.prototype.endDraw=function(){},t}(a);e.SelectEntity=E;var x=function(e){function t(t,i){e.call(this,t),this._dimensions=i,this._framebuffer=null,this._renderbuffer=null,this._texture=null,this.configure()}return __extends(t,e),t.prototype.configure=function(){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this._dimensions.width,this._dimensions.height,0,e.RGBA,e.UNSIGNED_BYTE,null),this._renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this._dimensions.width,this._dimensions.height),this._framebuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this._renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},t.prototype.fill=function(e){r.fillSelectorBuffer(this.graphID,e)},t.prototype.clear=function(){r.clearSelectorBuffer(this.graphID)},t.prototype.find=function(e){var t=this.gl,i=new Uint8Array(4);t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),t.readPixels(e.x,e.y,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.bindFramebuffer(t.FRAMEBUFFER,null);var n=[].slice.call(i).map(function(e){return parseFloat((e/255).toFixed(2))}),o=r.getSelectByColor(this.graphID,n);return o?o.data:void 0},t.prototype.render=function(e){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);var i=this.getUniform("uOffscreen");t.uniform1i(i,!0),r.enableOffScreen(this.graphID),e(),t.uniform1i(i,!1),r.disableOffScreen(this.graphID),t.bindFramebuffer(t.FRAMEBUFFER,null)},t}(o);e.Selector=x;var R=function(e){function i(t,i,n){e.call(this,t),this._texture=null,this._framebuffer=null,this._renderbuffer=null,this._vbo=null,this._tbo=null,this._shader=null,this._uniforms=null,this._attribs=null,this._noisetexture=null,this._start=Date.now(),this._canvas=i,this._type=n||"no",this.configure(),this.Geometry(),this.setEffect()}return __extends(i,e),i.prototype.configure=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,null),this._renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t,i),this._framebuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this._renderbuffer),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null)},i.prototype.Geometry=function(){var e=this.gl,t=[-1,-1,1,-1,-1,1,-1,1,1,-1,1,1],i=[0,0,1,0,0,1,0,1,1,0,1,1];this._vbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),this._tbo=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this._tbo),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)},i.prototype.setEffect=function(e){this._type=e||this._type;var i=this.gl,n={};switch(n.vertex=f.Vertex.Effect,this._type){case"all":n.fragment=f.Fragment.All_effect;break;case"invert":n.fragment=f.Fragment.Invert_effect;break;case"grey":n.fragment=f.Fragment.Grey_effect;break;case"blur":n.fragment=f.Fragment.Blur_effect;break;case"film":n.fragment=f.Fragment.Film_effect;break;case"wavy":n.fragment=f.Fragment.Wavy_effect;break;case"no":default:n.fragment=f.Fragment.No_effect}this._shader&&i.deleteProgram(this._shader),this._shader=t.createProgram(i,n);var r;this._attribs={},r=i.getProgramParameter(this._shader,i.ACTIVE_ATTRIBUTES);for(var o=0;r>o;o++){var a=i.getActiveAttrib(this._shader,o);this._attribs[a.name]=i.getAttribLocation(this._shader,a.name)}this._uniforms={},r=i.getProgramParameter(this._shader,i.ACTIVE_UNIFORMS);for(var o=0;r>o;o++){var u=i.getActiveUniform(this._shader,o);this._uniforms[u.name]=i.getUniformLocation(this._shader,u.name)}},i.prototype.Size=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,i,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindRenderbuffer(e.RENDERBUFFER,this._renderbuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null)},i.prototype.setNoiseTexture=function(e){var i=this.gl;this._noisetexture=t.createTexture(i,e)},i.prototype.Bind=function(){var e=this.gl,t=this._canvas.width,i=this._canvas.height;e.useProgram(this._shader),e.enableVertexAttribArray(this._attribs.a_position),e.bindBuffer(e.ARRAY_BUFFER,this._vbo),e.vertexAttribPointer(this._attribs.a_position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this._attribs.a_texture_coords),e.bindBuffer(e.ARRAY_BUFFER,this._tbo),e.vertexAttribPointer(this._attribs.a_texture_coords,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this._texture),e.uniform1i(this._uniforms.uSampler,0),this._uniforms.uTime&&e.uniform1f(this._uniforms.uTime,(Date.now()-this._start)/1e3),this._uniforms.uInverseTextureSize&&e.uniform2f(this._uniforms.uInverseTextureSize,1/t,1/i),this._uniforms.uNoiseSampler&&this._noisetexture&&(e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,this._noisetexture),e.uniform1i(this._uniforms.uNoiseSampler,1))},i.prototype.bindFrameBuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer)},i.prototype.unbindFrameBuffer=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},i.prototype.draw=function(){var e=this.gl;e.drawArrays(e.TRIANGLES,0,6),e.bindBuffer(e.ARRAY_BUFFER,null),e.disableVertexAttribArray(this._attribs.a_position),e.disableVertexAttribArray(this._attribs.a_texture_coords)},i}(o);e.Effects=R;var A=function(){function e(e,t,n){this._parentNode=e,this._parentNode&&this._parentNode.addChildNode(this),this._childNodes=[],this._type=t,this._oid=i.uuid(this._type||this.constructor.name),this._entity=n}return Object.defineProperty(e.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entity",{get:function(){return this._entity},set:function(e){this._entity=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this._childNodes},enumerable:!0,configurable:!0}),e.prototype.addChildNode=function(e){this._childNodes.push(e)},e.prototype.removeChildNode=function(e){var t=this.indexOf(e);t>-1&&this._childNodes.splice(t,1)},e.prototype.getChildNodeByIndex=function(e){return this._childNodes[e]||void 0},e.prototype.existsChildNode=function(e){return void 0!==this._childNodes[e]},e.prototype["delete"]=function(){this._parentNode.removeChildNode(this)},e.prototype.createChildNode=function(t,i){return new e(this,t,i)},e.prototype.isRoot=function(){return void 0===this._parentNode},e.prototype.indexOf=function(e){var t=e.oid;return _.findIndex(this._childNodes,function(e){return e.oid===t})},e.prototype.indexInParent=function(){var e=-1;return this.isRoot()||(e=this._parentNode.indexOf(this)),e},e.prototype.hasSibling=function(e){var t=!1;if(!this.isRoot()){var i=this._parentNode.indexOf(this);i>-1&&(e?this._parentNode.getChildNodeByIndex(i-1)&&(t=!0):this._parentNode.getChildNodeByIndex(i+1)&&(t=!0))}return t},e.prototype.nextSibling=function(){var e=null;if(!this.isRoot()&&this.hasSibling()){var t=this._parentNode.indexOf(this);e=this._parentNode.getChildNodeByIndex(t+1)}return e},e.prototype.previousSibling=function(){var e=null;if(!this.isRoot()&&this.hasSibling(!0)){var t=this._parentNode.indexOf(this);e=this._parentNode.getChildNodeByIndex(t-1)}return e},e.prototype.firstChild=function(){return this.getChildNodeByIndex(0)},e.prototype.lastChild=function(){return this.getChildNodeByIndex(this._childNodes.length-1)},e.prototype.removeChildNodes=function(){this._childNodes=[]},e.prototype.draw=function(e){this._entity&&this._entity.beginDraw(e);for(var t=0;t<this._childNodes.length;t++){var i=this._childNodes[t];i.draw(e)}this._entity&&this._entity.endDraw(e)},e}();e.NodeElement=A;var T=function(e){function t(){var t=i.uuid();e.call(this,t),this._oid=t,this._scene=new A(void 0,"Scene"),this._matrixStack=new u(this._oid),this._loaderBuffer=[],r.createView(this._oid),this._selector=null,this._effects=null}return __extends(t,e),Object.defineProperty(t.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),t.prototype.Environment=function(e){var t=this.gl;e=e||[],t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.clearColor(e[0]||0,e[1]||0,e[2]||0,1),t.clearDepth(1)},t.prototype.render=function(){this._effects?this.drawWithEffects():this.drawScene()},t.prototype.drawScene=function(){var e=this.gl;this.useProgram();var t=function(){e.viewport(0,0,e.viewportWidth,e.viewportHeight),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this._scene.draw(this._matrixStack)}.bind(this);this._selector&&this._selector.render(t),t()},t.prototype.drawWithEffects=function(){this._effects.Size(),this._effects.bindFrameBuffer(),this.drawScene(),this._effects.unbindFrameBuffer(),this._effects.Bind(),this._effects.draw()},t.prototype.useProgram=function(){r.useProgram(this.oid)},t.prototype.createMainChildNode=function(e,t){return this._scene.createChildNode(e,t)},t.prototype.removeMainChildNode=function(e){this._scene.removeChildNode(e)},Object.defineProperty(t.prototype,"oid",{get:function(){return this._oid},enumerable:!0,configurable:!0}),t.prototype.setContext=function(e){r.setCanvasToContext(this.oid,e)},t.prototype.Program=function(e){e=e||"Phong",r.createProgram(this._oid,{fragment:f.Fragment[e]||f.Fragment.Phong,vertex:f.Vertex[e]||f.Vertex.Phong})},t.prototype.createMesh=function(e){var t=new l(this.oid);return e.mesh&&t.loadMeshByObject(e.mesh),e.material&&t.loadMaterialByObject(e.material),t},t.prototype.createDiffuse=function(e){return new p(this.oid,e)},t.prototype.createMeshByLoader=function(e){var t=new l(this.oid,e.mesh,e.material,e.texture);return this._loaderBuffer.push(t),t},t.prototype.createTransform=function(e,t,i){return new h(this.oid,e,t,i)},t.prototype.createLight=function(e){return new m(this.oid,e.ambient,e.diffuse,e.position,e.specular,e.direction,e.cutoff)},t.prototype.createCamera=function(e){return new g(this.oid,e)},t.prototype.createParticle=function(e){return new d(this.oid,e)},t.prototype.createAxis=function(e){return new b(this.oid,e)},t.prototype.createGrid=function(e,t){return new y(this.oid,e,t)},t.prototype.createSelect=function(e){return new E(this.oid,e)},t.prototype.createSelector=function(e){this._selector=new x(this.oid,e)},t.prototype.fillSelector=function(e){this._selector&&this._selector.fill(e)},t.prototype.clearSelector=function(e){this._selector&&this._selector.clear()},t.prototype.select=function(e){return this._selector?this._selector.find(e):void 0},t.prototype.createEffects=function(e,t){this._effects=new R(this.oid,e,t)},t.prototype.setNoiseEffect=function(e){this._effects&&this._effects.setNoiseTexture(e)},t.prototype.setEffect=function(e){this._effects&&this._effects.setEffect(e)},t.prototype.createLightArray=function(){return new v(this.oid)},Object.defineProperty(t.prototype,"MainCamera",{set:function(e){this._matrixStack.MainCamera=e},enumerable:!0,configurable:!0}),t.prototype.removeTexture=function(e){r.removeTexture(this.oid,e)},t.prototype.startLoader=function(e){async.eachSeries(this._loaderBuffer,function(e,t){e.loadMesh(function(){console.log(e),t()})},e)},t.prototype.configure=function(e){var i=this;e=e||{},i.Environment(e.background),i.Program(e.typeShader),r.setAttributeLocations(i._oid,t.ATTRIBUTES),r.setUniformLocations(i._oid,t.UNIFORMS),this._matrixStack.init()},t.prototype.configureWithLoader=function(e){var t=this;t.configure(),t.startLoader(e)},t.UNIFORMS=["uPMatrix","uMVMatrix","uNMatrix","uLightPosition","uLightDirection","uCutOff","uLightAmbient","uMaterialAmbient","uLightDiffuse","uMaterialDiffuse","uLightSpecular","uMaterialSpecular","uShininess","uPointSize","uSampler","uWireframe","uPerVertexColor","uSelectColor","uOffscreen","uInverseTextureSize","uNoiseSampler","uTime","uNumLights"],t.ATTRIBUTES=["a_position","a_normal","a_color","a_texture_coords"],t}(o);e.SceneGraph=T}(Blaze||(Blaze={}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJsYXplLmpzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJkIiwiYiIsIl9fIiwiY29uc3RydWN0b3IiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJCbGF6ZSIsIldlYkdMVXRpbHMiLCJnZXRHTENvbnRleHQiLCJjYW52YXMiLCJjdHgiLCJuYW1lcyIsImkiLCJsZW5ndGgiLCJnZXRDb250ZXh0IiwiZSIsImFsZXJ0Iiwidmlld3BvcnRXaWR0aCIsIndpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJoZWlnaHQiLCJjcmVhdGVCdWZmZXIiLCJnbCIsImRhdGEiLCJpczJEIiwidHlwZV9kcmF3IiwiYnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsIkJVRkZFUl9EUkFXIiwiU1RBVElDIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQyIsIkRZTkFNSUNfRFJBVyIsIlNUUkVBTSIsIlNUUkVBTV9EUkFXIiwiaXRlbVNpemUiLCJudW1JdGVtcyIsImNyZWF0ZUluZGV4QnVmZmVyIiwiaW5kZXhCdWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIlVpbnQxNkFycmF5IiwiY3JlYXRlVGV4dHVyZSIsInRleHR1cmUiLCJiaW5kVGV4dHVyZSIsIlRFWFRVUkVfMkQiLCJ0ZXhJbWFnZTJEIiwiUkdCQSIsIlVOU0lHTkVEX0JZVEUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTElORUFSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiY3JlYXRlU2hhZGVyIiwidHlwZSIsInNoYWRlclNvdXJjZSIsInNoYWRlciIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImNvbnNvbGUiLCJsb2ciLCJnZXRTaGFkZXJJbmZvTG9nIiwiY3JlYXRlRnJhZ21lbnRTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJjcmVhdGVWZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiY3JlYXRlUHJvZ3JhbSIsInNoYWRlcnMiLCJmcmFnbWVudFNoYWRlciIsImZyYWdtZW50IiwidmVydGV4U2hhZGVyIiwidmVydGV4IiwicHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJ1dGlscyIsInM0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJ1dWlkIiwibmFtZSIsImlkIiwibm9ybWFsaXplTmFOIiwidmVjIiwibWFwIiwiYSIsIk51bWJlciIsImlzTmFOIiwibG9hZCIsInVybCIsImNhbGxiYWNrIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNwb25zZVRleHQiLCJzZW5kIiwiZ2V0RXh0ZW5zaW9uIiwic3RyIiwiZWxlbXMiLCJzcGxpdCIsIm5vd0luTWlsbGlzZWNvbmRzIiwiRGF0ZSIsImdldFRpbWUiLCJkZWdUb1JhZCIsIlBJIiwiY2FsY3VsYXRlTm9ybWFscyIsInZzIiwiaW5kIiwieCIsInkiLCJ6IiwibnMiLCJ2MSIsInYyIiwibm9ybWFsIiwiaiIsIm5uIiwibGVuIiwic3FydCIsIkNBTUVSQV9UWVBFIiwiS2V0Y2giLCJzZXRDYW52YXNUb0NvbnRleHQiLCJrZXkiLCJjb250ZXh0Iiwic2V0Q29udGV4dCIsIl92aWV3cyIsInNldFByb2dyYW0iLCJnZXRQcm9ncmFtIiwidXNlUHJvZ3JhbSIsInZpZXciLCJwcmciLCJjcmVhdGVWaWV3Iiwic2V0QXR0cmlidXRlTG9jYXRpb25zIiwiYXR0cmlic19uYW1lcyIsImF0dHJpYnMiLCJyZWR1Y2UiLCJwcmV2IiwiYXR0ciIsImdldEF0dHJpYkxvY2F0aW9uIiwiZ2V0QXR0cmliIiwidmlld19rZXkiLCJhdHRyX2tleSIsImdldFVuaWZvcm0iLCJ1bmlmb3JtX2tleSIsInVuaWZvcm1zIiwic2V0VW5pZm9ybUxvY2F0aW9ucyIsInVuaWZvcm1fbmFtZXMiLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJlbmFibGVBdHRyaWIiLCJwb2ludGVyIiwiaW5kZXgiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInZlcnRleEF0dHJpYlBvaW50ZXIiLCJzaXplIiwiRkxPQVQiLCJub3JtYWxpemVkIiwic3RyaWRlIiwib2Zmc2V0IiwiZGlzYWJsZUF0dHJpYiIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsInJlbmRlckxvb3AiLCJjYiIsInNldEludGVydmFsIiwiYWRkVGV4dHVyZSIsInRleHR1cmVfaWQiLCJ0ZXh0dXJlcyIsInB1c2giLCJyZW1vdmVUZXh0dXJlIiwiaW5kZXhPZiIsInNwbGljZSIsImFjdGl2ZVRleHR1cmUiLCJURVhUVVJFMCIsInVTYW1wbGVyIiwidW5pZm9ybTFpIiwiaXNPZmZTY3JlZW4iLCJvZmZzY3JlZW4iLCJlbmFibGVPZmZTY3JlZW4iLCJkaXNhYmxlT2ZmU2NyZWVuIiwiZmlsbFNlbGVjdG9yQnVmZmVyIiwib2JqIiwic2VsZWN0T2JqZWN0cyIsImNsZWFyU2VsZWN0b3JCdWZmZXIiLCJnZXRTZWxlY3RCeUNvbG9yIiwiY29sb3IiLCJfIiwiZmluZCIsIm8iLCJpc0VxdWFsIiwiUmVuZGVyYWJsZSIsImdyYXBoX2lkIiwiX2dyYXBoX2lkIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ3JhcGhJRCIsIkVudGl0eSIsIl9zdXBlciIsImNhbGwiLCJiZWdpbkRyYXciLCJtYXRyaXhTdGFjayIsImVuZERyYXciLCJNYXRyaXhTdGFjayIsIl9zdGFjayIsIl9tdk1hdHJpeCIsIm1hdDQiLCJfcE1hdHJpeCIsIl9uTWF0cml4IiwiY29weSIsInNldCIsInBvcCIsIk1vZGVsVmlldyIsIl9jYW1lcmEiLCJtb2RlbFZpZXciLCJpZGVudGl0eSIsImNhbWVyYSIsIlBlcnNwZWN0aXZlIiwicGVyc3BlY3RpdmUiLCJOb3JtYWwiLCJpbnZlcnNlIiwidHJhbnNwb3NlIiwiaW5pdCIsInNldFVwIiwibXZNYXRyaXgiLCJ1bmlmb3JtTWF0cml4NGZ2IiwicE1hdHJpeCIsIm5NYXRyaXgiLCJSZXNvdXJjZXMiLCJNZXNoQnVmZmVycyIsIl9vbmxvYWQiLCJzcmMiLCJfdGhpcyIsInNlbGYiLCJleHQiLCJwYXJzZU9CSiIsInBhcnNlSlNPTiIsImNyZWF0ZUJ1ZmZlcnMiLCJKU09OIiwicGFyc2UiLCJ2Iiwidm4iLCJ2dCIsIml2IiwiaW4iLCJpdCIsImxpbmVzIiwiZmlsdGVyIiwiZm9yRWFjaCIsIml0ZW0iLCJyZXBsYWNlIiwiY29uY2F0Iiwic2xpY2UiLCJ0ZW1wSW5kZXgiLCJwYXJzZUludCIsImRlZmF1bHRzIiwiX3ZibyIsIl9uYm8iLCJfdGJvIiwiX2l2Ym8iLCJfaW5ibyIsIl9pdGJvIiwiTWVzaFRleHR1cmUiLCJfaW1hZ2UiLCJJbWFnZSIsIl9vaWQiLCJmaWxlbmFtZSIsIm9ubG9hZCIsImxvYWRUZXh0dXJlSW1hZ2UiLCJfdGV4dHVyZSIsIk1lc2hNYXRlcmlhbCIsImFtYmllbnQiLCJkaWZmdXNlIiwic3BlY3VsYXIiLCJzaGluaW5lc3MiLCJfYW1iaWVudCIsInZlYzQiLCJfZGlmZnVzZSIsIl9zcGVjdWxhciIsIl9zaGluaW5lc3MiLCJ0ZW1wIiwiS2EiLCJLZCIsIktzIiwiTnMiLCJrZXlzIiwibGluZSIsIlNoYWRlcnMiLCJGcmFnbWVudCIsIkFsbF9lZmZlY3QiLCJCbHVyX2VmZmVjdCIsIkZpbG1fZWZmZWN0IiwiR3JleV9lZmZlY3QiLCJJbnZlcnRfZWZmZWN0IiwiTm9fZWZmZWN0IiwiUGFydGljbGUiLCJQaG9uZyIsIlBob25nX2xpZ2h0cyIsIlBob25nX3Bvc2l0aW9uYWwiLCJUb29uIiwiV2F2eV9lZmZlY3QiLCJWZXJ0ZXgiLCJFZmZlY3QiLCJBbmltYXRpb25FbnRpdHkiLCJmcmVxdWVuY3kiLCJ0aW1lcyIsIl9mcmVxdWVuY3kiLCJfaW50ZXJ2YWxfaWQiLCJfY2FsbGJhY2siLCJvbkZyYW1lIiwiRWxhcHNlVGltZSIsInN0ZXBzIiwiQ291bnQiLCJfdGltZXMiLCJzdG9wIiwic3RhcnQiLCJfaW50aW1lIiwiY2xlYXJJbnRlcnZhbCIsIk1lc2hFbnRpdHkiLCJtZXNoZmlsZSIsIm1hdGVyaWFsZmlsZSIsInRleHR1cmVmaWxlIiwiX21hdGVyaWFsIiwiX2J1ZmZlcnMiLCJfbWVzaGZpbGUiLCJfbWF0ZXJpYWxmaWxlIiwiX3RleHR1cmVmaWxlIiwibG9hZEJ1ZmZlcnMiLCJsb2FkVGV4dHVyZSIsImxvYWRNYXRlcmlhbCIsImxvYWRNZXNoIiwiYXN5bmMiLCJ3YXRlcmZhbGwiLCJuZXh0IiwiZXJyIiwibG9hZE1lc2hCeU9iamVjdCIsImxvYWRNYXRlcmlhbEJ5T2JqZWN0Iiwic2V0TWF0ZXJpYWxVbmlmb3JtcyIsInVNYXRlcmlhbEFtYmllbnQiLCJ1bmlmb3JtNGZ2IiwidU1hdGVyaWFsRGlmZnVzZSIsInVNYXRlcmlhbFNwZWN1bGFyIiwidVNoaW5pbmVzcyIsInVuaWZvcm0xZiIsInZibyIsIm5ibyIsIml2Ym8iLCJkcmF3RWxlbWVudHMiLCJUUklBTkdMRVMiLCJVTlNJR05FRF9TSE9SVCIsIlRyYW5zZm9ybUVudGl0eSIsInBvc2l0aW9uIiwicm90YXRpb24iLCJfbWF0cml4IiwiX3Bvc2l0aW9uIiwidmVjMyIsIl9zaXplIiwiX3JvdGF0aW9uIiwiYW5nbGUiLCJheGlzIiwic2V0TWF0cml4IiwibmV3X21hdHJpeCIsInNldEFic29sdXRlUG9zaXRpb24iLCJ0cmFuc2xhdGUiLCJvcGVyYW5kMSIsIm9wZXJhbmQyIiwiYWRkIiwic2V0U2l6ZSIsInNjYWxlIiwic2V0Um90YXRpb24iLCJzZXRBbmdsZSIsInNldEF4aXMiLCJyb3RhdGVBbmdsZSIsIm1vdmVBeGlzIiwicmFkIiwicm90YXRlIiwiTGlnaHRFbnRpdHkiLCJkaXJlY3Rpb24iLCJjdXRvZmYiLCJfZGlyZWN0aW9uIiwiX2N1dG9mZiIsInVMaWdodEFtYmllbnQiLCJ1TGlnaHREaWZmdXNlIiwidUxpZ2h0U3BlY3VsYXIiLCJ1TGlnaHRQb3NpdGlvbiIsInVuaWZvcm0zZnYiLCJ1RGlyZWN0aW9uIiwidUN1dE9mZiIsIkRpZmZ1c2VFbnRpdHkiLCJfdmFsdWUiLCJQYXJ0aWNsZUVudGl0eSIsInBvaW50U2l6ZSIsIl9wb2ludFNpemUiLCJfYnVmZmVyIiwiX3RleHR1cmVfaWQiLCJjb25maWd1cmUiLCJkYXRhX21lc2giLCJkYXRhX3RleHR1cmUiLCJfbnVtSXRlbXMiLCJ1cGRhdGUiLCJ1UG9pbnRTaXplIiwiZHJhd0FycmF5cyIsIlBPSU5UUyIsIkxpZ2h0QXJyYXlFbnRpdHkiLCJfbGlnaHRzIiwiYWRkTGlnaHQiLCJsaWdodCIsImdldEFycmF5c09iamVjdCIsImN1dE9mZiIsInVOdW1MaWdodHMiLCJ1bmlmb3JtMSIsImxpZ2h0cyIsIkNhbWVyYUVudGl0eSIsIl90eXBlIiwiT1JCSVRJTkciLCJfY21hdHJpeCIsIl91cCIsIl9yaWdodCIsIl9ub3JtYWwiLCJfYXppbXV0aCIsIl9lbGV2YXRpb24iLCJfc3RlcHMiLCJwb3MiLCJheiIsInRlbXBfYXoiLCJjaGFuZ2VBemltdXRoIiwiZWwiLCJ0ZW1wX2VsIiwiY2hhbmdlRWxldmF0aW9uIiwibiIsInN0ZXAiLCJub3JtYWxpemUiLCJuZXdfcG9zaXRpb24iLCJUUkFDS0lORyIsImNhbGN1bGF0ZU9yaWVudGF0aW9uIiwibSIsIm11bHRpcGx5VmVjNCIsInJvdGF0ZVkiLCJyb3RhdGVYIiwiQXhpc0VudGl0eSIsIl92ZXJ0aWNlcyIsIl9pbmRpY2VzIiwiX2NvbG9ycyIsIl9pYm8iLCJfY2JvIiwidVdpcmVmcmFtZSIsInVQZXJWZXJ0ZXhDb2xvciIsIkxJTkVTIiwiR3JpZEVudGl0eSIsIl9kaW1lc2lvbnMiLCJkaW0iLCJidWlsZCIsImluYyIsImwiLCJTZWxlY3RFbnRpdHkiLCJfY29sb3IiLCJnZW5lcmF0ZVVuaXF1ZUNvbG9yIiwiX2RhdGEiLCJjb250YWlucyIsImJpbmQiLCJmb3VuZCIsInRvRml4ZWQiLCJ1U2VsZWN0Q29sb3IiLCJTZWxlY3RvciIsImRpbWVuc2lvbnMiLCJfZGltZW5zaW9ucyIsIl9mcmFtZWJ1ZmZlciIsIl9yZW5kZXJidWZmZXIiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX0FUVEFDSE1FTlQiLCJmaWxsIiwiY2xlYXIiLCJyZWFkb3V0IiwiVWludDhBcnJheSIsInJlYWRQaXhlbHMiLCJmaXhlZCIsInBhcnNlRmxvYXQiLCJyZW5kZXIiLCJkcmF3IiwidU9mZnNjcmVlbiIsIkVmZmVjdHMiLCJfc2hhZGVyIiwiX3VuaWZvcm1zIiwiX2F0dHJpYnMiLCJfbm9pc2V0ZXh0dXJlIiwiX3N0YXJ0Iiwibm93IiwiX2NhbnZhcyIsIkdlb21ldHJ5Iiwic2V0RWZmZWN0IiwiTkVBUkVTVCIsIlRFWFRVUkVfV1JBUF9TIiwiQ0xBTVBfVE9fRURHRSIsIlRFWFRVUkVfV1JBUF9UIiwidmVydGljZXMiLCJ0ZXh0dXJlQ29vcmRzIiwic291cmNlIiwiZGVsZXRlUHJvZ3JhbSIsImNvdW50IiwiQUNUSVZFX0FUVFJJQlVURVMiLCJhdHRyaWIiLCJnZXRBY3RpdmVBdHRyaWIiLCJBQ1RJVkVfVU5JRk9STVMiLCJ1bmlmb3JtIiwiZ2V0QWN0aXZlVW5pZm9ybSIsIlNpemUiLCJzZXROb2lzZVRleHR1cmUiLCJCaW5kIiwiYV9wb3NpdGlvbiIsImFfdGV4dHVyZV9jb29yZHMiLCJ1VGltZSIsInVJbnZlcnNlVGV4dHVyZVNpemUiLCJ1bmlmb3JtMmYiLCJ1Tm9pc2VTYW1wbGVyIiwiVEVYVFVSRTEiLCJiaW5kRnJhbWVCdWZmZXIiLCJ1bmJpbmRGcmFtZUJ1ZmZlciIsIk5vZGVFbGVtZW50IiwicGFyZW50IiwiZW50aXR5IiwiX3BhcmVudE5vZGUiLCJhZGRDaGlsZE5vZGUiLCJfY2hpbGROb2RlcyIsIl9lbnRpdHkiLCJjaGlsZCIsInJlbW92ZUNoaWxkTm9kZSIsImdldENoaWxkTm9kZUJ5SW5kZXgiLCJleGlzdHNDaGlsZE5vZGUiLCJjcmVhdGVDaGlsZE5vZGUiLCJpc1Jvb3QiLCJvaWQiLCJmaW5kSW5kZXgiLCJzIiwiaW5kZXhJblBhcmVudCIsImhhc1NpYmxpbmciLCJfaGF2ZSIsIm5leHRTaWJsaW5nIiwic2libGluZyIsInByZXZpb3VzU2libGluZyIsImZpcnN0Q2hpbGQiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZE5vZGVzIiwiU2NlbmVHcmFwaCIsIl9zY2VuZSIsIl9tYXRyaXhTdGFjayIsIl9sb2FkZXJCdWZmZXIiLCJfc2VsZWN0b3IiLCJfZWZmZWN0cyIsIkVudmlyb25tZW50IiwiZW5hYmxlIiwiREVQVEhfVEVTVCIsImRlcHRoRnVuYyIsIkxFUVVBTCIsIkJMRU5EIiwiYmxlbmRGdW5jIiwiU1JDX0FMUEhBIiwiT05FX01JTlVTX1NSQ19BTFBIQSIsInBpeGVsU3RvcmVpIiwiVU5QQUNLX0ZMSVBfWV9XRUJHTCIsImNsZWFyQ29sb3IiLCJjbGVhckRlcHRoIiwiZHJhd1dpdGhFZmZlY3RzIiwiZHJhd1NjZW5lIiwidmlld3BvcnQiLCJDT0xPUl9CVUZGRVJfQklUIiwiREVQVEhfQlVGRkVSX0JJVCIsImNyZWF0ZU1haW5DaGlsZE5vZGUiLCJyZW1vdmVNYWluQ2hpbGROb2RlIiwibm9kZSIsIlByb2dyYW0iLCJjcmVhdGVNZXNoIiwiY29uZmlnIiwibWVzaEVudGl0eSIsIm1lc2giLCJtYXRlcmlhbCIsImNyZWF0ZURpZmZ1c2UiLCJjcmVhdGVNZXNoQnlMb2FkZXIiLCJjcmVhdGVUcmFuc2Zvcm0iLCJjcmVhdGVMaWdodCIsImNyZWF0ZUNhbWVyYSIsImNyZWF0ZVBhcnRpY2xlIiwiY3JlYXRlQXhpcyIsImNyZWF0ZUdyaWQiLCJjcmVhdGVTZWxlY3QiLCJjcmVhdGVTZWxlY3RvciIsImZpbGxTZWxlY3RvciIsImNsZWFyU2VsZWN0b3IiLCJzZWxlY3QiLCJjcmVhdGVFZmZlY3RzIiwic2V0Tm9pc2VFZmZlY3QiLCJjcmVhdGVMaWdodEFycmF5IiwiTWFpbkNhbWVyYSIsInN0YXJ0TG9hZGVyIiwiZWFjaFNlcmllcyIsImJhY2tncm91bmQiLCJ0eXBlU2hhZGVyIiwiQVRUUklCVVRFUyIsIlVOSUZPUk1TIiwiY29uZmlndXJlV2l0aExvYWRlciJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsV0FBYUMsTUFBUUEsS0FBS0QsV0FBYyxTQUFVRSxFQUFHQyxHQUVyRCxRQUFTQyxLQUFPSCxLQUFLSSxZQUFjSCxFQURuQyxJQUFLLEdBQUlJLEtBQUtILEdBQU9BLEVBQUVJLGVBQWVELEtBQUlKLEVBQUVJLEdBQUtILEVBQUVHLEdBRW5ESixHQUFFTSxVQUFrQixPQUFOTCxFQUFhTSxPQUFPQyxPQUFPUCxJQUFNQyxFQUFHSSxVQUFZTCxFQUFFSyxVQUFXLEdBQUlKLEtBRS9FTyxPQUNKLFNBQVdBLEdBQ1AsR0FBSUMsSUFDSixTQUFXQSxHQUNQLFFBQVNDLEdBQWFDLEdBR2xCLElBQUssR0FGREMsR0FBTSxLQUNOQyxHQUFTLFFBQVMscUJBQXNCLFlBQWEsYUFDaERDLEVBQUksRUFBR0EsRUFBSUQsRUFBTUUsU0FBVUQsRUFBRyxDQUNuQyxJQUNJRixFQUFNRCxFQUFPSyxXQUFXSCxFQUFNQyxJQUVsQyxNQUFPRyxJQUNQLEdBQUlMLEVBQ0EsTUFHUixNQUFZLFFBQVJBLEdBQ0FNLE1BQU0sOEJBQ0MsT0FHUE4sRUFBSU8sY0FBZ0JSLEVBQU9TLE1BQzNCUixFQUFJUyxlQUFpQlYsRUFBT1csT0FDckJWLEdBVWYsUUFBU1csR0FBYUMsRUFBSUMsRUFBTUMsRUFBTUMsR0FDbEMsR0FBSUMsR0FBU0osRUFBR0QsY0FFaEIsUUFEQUMsRUFBR0ssV0FBV0wsRUFBR00sYUFBY0YsR0FDdkJELEdBQ0osSUFBS2xCLEdBQVdz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dUQsVUFDaEQ1bUIsS0FBS3VqQixhQUFhNVUsUUFFdEIwVSxFQUFXOWlCLFVBQVVzbUIsb0JBQXNCLFNBQVU5YixHQUNqRCxHQUFJdUUsR0FBT3RQLElBQ1hzUCxHQUFLa0ssWUFDTGxLLEVBQUtpWCxZQUFZeGIsSUFFckJzWSxFQUFXdUQsVUFDUCxXQUNBLFlBQ0EsV0FDQSxpQkFDQSxrQkFDQSxVQUNBLGdCQUNBLG1CQUNBLGdCQUNBLG1CQUNBLGlCQUNBLG9CQUNBLGFBQ0EsYUFDQSxXQUNBLGFBQ0Esa0JBQ0EsZUFDQSxhQUNBLHNCQUNBLGdCQUNBLFFBQ0EsY0FFSnZELEVBQVdzRCxZQUFjLGFBQWMsV0FBWSxVQUFXLG9CQUN2RHRELEdBQ1QzVyxFQUNGaE0sR0FBTTJpQixXQUFhQSxHQUNwQjNpQixRQUFVQSIsImZpbGUiOiJibGF6ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbnZhciBCbGF6ZTtcclxuKGZ1bmN0aW9uIChCbGF6ZSkge1xyXG4gICAgdmFyIFdlYkdMVXRpbHM7XHJcbiAgICAoZnVuY3Rpb24gKFdlYkdMVXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBnZXRHTENvbnRleHQoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjdHggPSBudWxsO1xyXG4gICAgICAgICAgICB2YXIgbmFtZXMgPSBbXCJ3ZWJnbFwiLCBcImV4cGVyaW1lbnRhbC13ZWJnbFwiLCBcIndlYmtpdC0zZFwiLCBcIm1vei13ZWJnbFwiXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChuYW1lc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN0eCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDb3VsZCBub3QgaW5pdGlhbGlzZSBXZWJHTFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LnZpZXdwb3J0V2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjdHgudmlld3BvcnRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmdldEdMQ29udGV4dCA9IGdldEdMQ29udGV4dDtcclxuICAgICAgICAoZnVuY3Rpb24gKEJVRkZFUl9EUkFXKSB7XHJcbiAgICAgICAgICAgIEJVRkZFUl9EUkFXW0JVRkZFUl9EUkFXW1wiU1RBVElDXCJdID0gMF0gPSBcIlNUQVRJQ1wiO1xyXG4gICAgICAgICAgICBCVUZGRVJfRFJBV1tCVUZGRVJfRFJBV1tcIlNUUkVBTVwiXSA9IDFdID0gXCJTVFJFQU1cIjtcclxuICAgICAgICAgICAgQlVGRkVSX0RSQVdbQlVGRkVSX0RSQVdbXCJEWU5BTUlDXCJdID0gMl0gPSBcIkRZTkFNSUNcIjtcclxuICAgICAgICB9KShXZWJHTFV0aWxzLkJVRkZFUl9EUkFXIHx8IChXZWJHTFV0aWxzLkJVRkZFUl9EUkFXID0ge30pKTtcclxuICAgICAgICB2YXIgQlVGRkVSX0RSQVcgPSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcihnbCwgZGF0YSwgaXMyRCwgdHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuRFlOQU1JQzpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhKSwgZ2wuRFlOQU1JQ19EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgV2ViR0xVdGlscy5CVUZGRVJfRFJBVy5TVFJFQU06XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpZiAoaXMyRCkge1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLml0ZW1TaXplID0gMjtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5udW1JdGVtcyA9IGRhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlci5pdGVtU2l6ZSA9IDM7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubnVtSXRlbXMgPSBkYXRhLmxlbmd0aCAvIDM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIgPSBjcmVhdGVCdWZmZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEsIHR5cGVfZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleEJ1ZmZlcik7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZV9kcmF3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFdlYkdMVXRpbHMuQlVGRkVSX0RSQVcuU1RBVElDOlxyXG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLkRZTkFNSUM6XHJcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KGRhdGEpLCBnbC5EWU5BTUlDX0RSQVcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBXZWJHTFV0aWxzLkJVRkZFUl9EUkFXLlNUUkVBTTpcclxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBuZXcgVWludDE2QXJyYXkoZGF0YSksIGdsLlNUUkVBTV9EUkFXKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheShkYXRhKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5pdGVtU2l6ZSA9IDE7XHJcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLm51bUl0ZW1zID0gZGF0YS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleEJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVJbmRleEJ1ZmZlciA9IGNyZWF0ZUluZGV4QnVmZmVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIGRhdGEpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLkxJTkVBUik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dHVyZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlID0gY3JlYXRlVGV4dHVyZTtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTaGFkZXIoZ2wsIHR5cGUsIHNoYWRlclNvdXJjZSkge1xyXG4gICAgICAgICAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gICAgICAgICAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xyXG4gICAgICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XHJcbiAgICAgICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVTaGFkZXIgPSBjcmVhdGVTaGFkZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnRTaGFkZXIoZ2wsIHNoYWRlclNvdXJjZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIHNoYWRlclNvdXJjZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFdlYkdMVXRpbHMuY3JlYXRlRnJhZ21lbnRTaGFkZXIgPSBjcmVhdGVGcmFnbWVudFNoYWRlcjtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVWZXJ0ZXhTaGFkZXIoZ2wsIHNoYWRlclNvdXJjZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCBzaGFkZXJTb3VyY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBXZWJHTFV0aWxzLmNyZWF0ZVZlcnRleFNoYWRlciA9IGNyZWF0ZVZlcnRleFNoYWRlcjtcclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsLCBzaGFkZXJzKSB7XHJcbiAgICAgICAgICAgIHZhciBmcmFnbWVudFNoYWRlciA9IGNyZWF0ZUZyYWdtZW50U2hhZGVyKGdsLCBzaGFkZXJzLmZyYWdtZW50KTtcclxuICAgICAgICAgICAgdmFyIHZlcnRleFNoYWRlciA9IGNyZWF0ZVZlcnRleFNoYWRlcihnbCwgc2hhZGVycy52ZXJ0ZXgpO1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcclxuICAgICAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgICAgICAgICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICAgICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICAgICAgICBpZiAoIWdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpKVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gcHJvZ3JhbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgV2ViR0xVdGlscy5jcmVhdGVQcm9ncmFtID0gY3JlYXRlUHJvZ3JhbTtcclxuICAgIH0pKFdlYkdMVXRpbHMgPSBCbGF6ZS5XZWJHTFV0aWxzIHx8IChCbGF6ZS5XZWJHTFV0aWxzID0ge30pKTtcclxuICAgIHZhciB1dGlscztcclxuICAgIChmdW5jdGlvbiAodXRpbHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBzNCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApXHJcbiAgICAgICAgICAgICAgICAudG9TdHJpbmcoMTYpXHJcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5zNCA9IHM0O1xyXG4gICAgICAgIGZ1bmN0aW9uIHV1aWQobmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBzNCgpICsgczQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWUgPyBuYW1lICsgaWQgOiBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMudXVpZCA9IHV1aWQ7XHJcbiAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplTmFOKHZlYykge1xyXG4gICAgICAgICAgICByZXR1cm4gdmVjLm1hcChmdW5jdGlvbiAoYSkgeyBpZiAoTnVtYmVyLmlzTmFOKGEpKVxyXG4gICAgICAgICAgICAgICAgYSA9IDA7IHJldHVybiBhOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubm9ybWFsaXplTmFOID0gbm9ybWFsaXplTmFOO1xyXG4gICAgICAgIGZ1bmN0aW9uIGxvYWQodXJsLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5sb2FkID0gbG9hZDtcclxuICAgICAgICBmdW5jdGlvbiBnZXRFeHRlbnNpb24oc3RyKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtcyA9IHN0ci5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtc1tlbGVtcy5sZW5ndGggLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuZ2V0RXh0ZW5zaW9uID0gZ2V0RXh0ZW5zaW9uO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5vd0luTWlsbGlzZWNvbmRzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMubm93SW5NaWxsaXNlY29uZHMgPSBub3dJbk1pbGxpc2Vjb25kcztcclxuICAgICAgICBmdW5jdGlvbiBkZWdUb1JhZChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdXRpbHMuZGVnVG9SYWQgPSBkZWdUb1JhZDtcclxuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVOb3JtYWxzKHZzLCBpbmQpIHtcclxuICAgICAgICAgICAgdmFyIHggPSAwO1xyXG4gICAgICAgICAgICB2YXIgeSA9IDE7XHJcbiAgICAgICAgICAgIHZhciB6ID0gMjtcclxuICAgICAgICAgICAgdmFyIG5zID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG5zW2ldID0gMC4wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kLmxlbmd0aDsgaSA9IGkgKyAzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdjEgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciB2MiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy9wMSAtIHAwXHJcbiAgICAgICAgICAgICAgICB2MVt4XSA9IHZzWzMgKiBpbmRbaSArIDFdICsgeF0gLSB2c1szICogaW5kW2ldICsgeF07XHJcbiAgICAgICAgICAgICAgICB2MVt5XSA9IHZzWzMgKiBpbmRbaSArIDFdICsgeV0gLSB2c1szICogaW5kW2ldICsgeV07XHJcbiAgICAgICAgICAgICAgICB2MVt6XSA9IHZzWzMgKiBpbmRbaSArIDFdICsgel0gLSB2c1szICogaW5kW2ldICsgel07XHJcbiAgICAgICAgICAgICAgICAvLyBwMCAtIHAxXHJcbiAgICAgICAgICAgICAgICB2Mlt4XSA9IHZzWzMgKiBpbmRbaSArIDJdICsgeF0gLSB2c1szICogaW5kW2kgKyAxXSArIHhdO1xyXG4gICAgICAgICAgICAgICAgdjJbeV0gPSB2c1szICogaW5kW2kgKyAyXSArIHldIC0gdnNbMyAqIGluZFtpICsgMV0gKyB5XTtcclxuICAgICAgICAgICAgICAgIHYyW3pdID0gdnNbMyAqIGluZFtpICsgMl0gKyB6XSAtIHZzWzMgKiBpbmRbaSArIDFdICsgel07XHJcbiAgICAgICAgICAgICAgICAvL3AyIC0gcDFcclxuICAgICAgICAgICAgICAgIC8vIHYxW3hdID0gdnNbMyppbmRbaSsyXSt4XSAtIHZzWzMqaW5kW2krMV0reF07XHJcbiAgICAgICAgICAgICAgICAvLyB2MVt5XSA9IHZzWzMqaW5kW2krMl0reV0gLSB2c1szKmluZFtpKzFdK3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gdjFbel0gPSB2c1szKmluZFtpKzJdK3pdIC0gdnNbMyppbmRbaSsxXSt6XTtcclxuICAgICAgICAgICAgICAgIC8vIHAwIC0gcDFcclxuICAgICAgICAgICAgICAgIC8vIHYyW3hdID0gdnNbMyppbmRbaV0reF0gLSB2c1szKmluZFtpKzFdK3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gdjJbeV0gPSB2c1szKmluZFtpXSt5XSAtIHZzWzMqaW5kW2krMV0reV07XHJcbiAgICAgICAgICAgICAgICAvLyB2Mlt6XSA9IHZzWzMqaW5kW2ldK3pdIC0gdnNbMyppbmRbaSsxXSt6XTtcclxuICAgICAgICAgICAgICAgIC8vY3Jvc3MgcHJvZHVjdCBieSBTYXJydXMgUnVsZVxyXG4gICAgICAgICAgICAgICAgbm9ybWFsW3hdID0gdjFbeV0gKiB2Mlt6XSAtIHYxW3pdICogdjJbeV07XHJcbiAgICAgICAgICAgICAgICBub3JtYWxbeV0gPSB2MVt6XSAqIHYyW3hdIC0gdjFbeF0gKiB2Mlt6XTtcclxuICAgICAgICAgICAgICAgIG5vcm1hbFt6XSA9IHYxW3hdICogdjJbeV0gLSB2MVt5XSAqIHYyW3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gbnNbMyppbmRbaV0reF0gKz0gbm9ybWFsW3hdO1xyXG4gICAgICAgICAgICAgICAgLy8gbnNbMyppbmRbaV0reV0gKz0gbm9ybWFsW3ldO1xyXG4gICAgICAgICAgICAgICAgLy8gbnNbMyppbmRbaV0rel0gKz0gbm9ybWFsW3pdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBuc1szICogaW5kW2kgKyBqXSArIHhdID0gbnNbMyAqIGluZFtpICsgal0gKyB4XSArIG5vcm1hbFt4XTtcclxuICAgICAgICAgICAgICAgICAgICBuc1szICogaW5kW2kgKyBqXSArIHldID0gbnNbMyAqIGluZFtpICsgal0gKyB5XSArIG5vcm1hbFt5XTtcclxuICAgICAgICAgICAgICAgICAgICBuc1szICogaW5kW2kgKyBqXSArIHpdID0gbnNbMyAqIGluZFtpICsgal0gKyB6XSArIG5vcm1hbFt6XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL25vcm1hbGl6ZSB0aGUgcmVzdWx0XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdnMubGVuZ3RoOyBpID0gaSArIDMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBubiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgbm5beF0gPSBuc1tpICsgeF07XHJcbiAgICAgICAgICAgICAgICBublt5XSA9IG5zW2kgKyB5XTtcclxuICAgICAgICAgICAgICAgIG5uW3pdID0gbnNbaSArIHpdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IE1hdGguc3FydCgobm5beF0gKiBublt4XSkgKyAobm5beV0gKiBublt5XSkgKyAobm5bel0gKiBublt6XSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGxlbiA9IDAuMDAwMDE7XHJcbiAgICAgICAgICAgICAgICBublt4XSA9IG5uW3hdIC8gbGVuO1xyXG4gICAgICAgICAgICAgICAgbm5beV0gPSBublt5XSAvIGxlbjtcclxuICAgICAgICAgICAgICAgIG5uW3pdID0gbm5bel0gLyBsZW47XHJcbiAgICAgICAgICAgICAgICBuc1tpICsgeF0gPSBublt4XTtcclxuICAgICAgICAgICAgICAgIG5zW2kgKyB5XSA9IG5uW3ldO1xyXG4gICAgICAgICAgICAgICAgbnNbaSArIHpdID0gbm5bel07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5zO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1dGlscy5jYWxjdWxhdGVOb3JtYWxzID0gY2FsY3VsYXRlTm9ybWFscztcclxuICAgIH0pKHV0aWxzID0gQmxhemUudXRpbHMgfHwgKEJsYXplLnV0aWxzID0ge30pKTtcclxuICAgIChmdW5jdGlvbiAoQ0FNRVJBX1RZUEUpIHtcclxuICAgICAgICBDQU1FUkFfVFlQRVtDQU1FUkFfVFlQRVtcIk9SQklUSU5HXCJdID0gMF0gPSBcIk9SQklUSU5HXCI7XHJcbiAgICAgICAgQ0FNRVJBX1RZUEVbQ0FNRVJBX1RZUEVbXCJUUkFDS0lOR1wiXSA9IDFdID0gXCJUUkFDS0lOR1wiO1xyXG4gICAgfSkoQmxhemUuQ0FNRVJBX1RZUEUgfHwgKEJsYXplLkNBTUVSQV9UWVBFID0ge30pKTtcclxuICAgIHZhciBDQU1FUkFfVFlQRSA9IEJsYXplLkNBTUVSQV9UWVBFO1xyXG4gICAgdmFyIEtldGNoID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBLZXRjaCgpIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgS2V0Y2guc2V0Q2FudmFzVG9Db250ZXh0ID0gZnVuY3Rpb24gKGtleSwgY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gV2ViR0xVdGlscy5nZXRHTENvbnRleHQoY2FudmFzKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0Q29udGV4dChrZXksIGNvbnRleHQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChrZXksIGNvbnRleHQpIHtcclxuICAgICAgICAgICAgS2V0Y2guX3ZpZXdzW2tleV0uY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRDb250ZXh0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guX3ZpZXdzW2tleV0uY29udGV4dDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmNyZWF0ZVByb2dyYW0gPSBmdW5jdGlvbiAoa2V5LCBzaGFkZXJzKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQoa2V5KTtcclxuICAgICAgICAgICAgdmFyIHByb2dyYW0gPSBXZWJHTFV0aWxzLmNyZWF0ZVByb2dyYW0oZ2wsIHNoYWRlcnMpO1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRQcm9ncmFtKGtleSwgcHJvZ3JhbSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5zZXRQcm9ncmFtID0gZnVuY3Rpb24gKGtleSwgcHJvZ3JhbSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XS5wcm9ncmFtID0gcHJvZ3JhbTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmdldFByb2dyYW0gPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nba2V5XS5wcm9ncmFtO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2gudXNlUHJvZ3JhbSA9IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICBnbC51c2VQcm9ncmFtKHByZyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5jcmVhdGVWaWV3ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nba2V5XSA9IHt9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zID0gZnVuY3Rpb24gKGtleSwgYXR0cmlic19uYW1lcykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1trZXldO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB2aWV3LmNvbnRleHQ7XHJcbiAgICAgICAgICAgIHZhciBwcmcgPSB2aWV3LnByb2dyYW07XHJcbiAgICAgICAgICAgIHZpZXcuYXR0cmlicyA9IGF0dHJpYnNfbmFtZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBhdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2W2F0dHJdID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJnLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5nZXRBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLmF0dHJpYnNbYXR0cl9rZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0VW5pZm9ybSA9IGZ1bmN0aW9uICh2aWV3X2tleSwgdW5pZm9ybV9rZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEtldGNoLl92aWV3c1t2aWV3X2tleV0udW5pZm9ybXNbdW5pZm9ybV9rZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyA9IGZ1bmN0aW9uIChrZXksIHVuaWZvcm1fbmFtZXMpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmFyIGdsID0gdmlldy5jb250ZXh0O1xyXG4gICAgICAgICAgICB2YXIgcHJnID0gdmlldy5wcm9ncmFtO1xyXG4gICAgICAgICAgICB2aWV3LnVuaWZvcm1zID0gdW5pZm9ybV9uYW1lcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHByZXZbYXR0cl0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJnLCBhdHRyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIgPSBmdW5jdGlvbiAodmlld19rZXksIGF0dHJfa2V5LCBwb2ludGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IEtldGNoLmdldEF0dHJpYih2aWV3X2tleSwgYXR0cl9rZXkpO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSBLZXRjaC5nZXRDb250ZXh0KHZpZXdfa2V5KTtcclxuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgcG9pbnRlci5zaXplIHx8IDMsIGdsLkZMT0FULCBwb2ludGVyLm5vcm1hbGl6ZWQgfHwgZmFsc2UsIHBvaW50ZXIuc3RyaWRlIHx8IDAsIHBvaW50ZXIub2Zmc2V0IHx8IDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihpbmRleCwgMywgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYiA9IGZ1bmN0aW9uICh2aWV3X2tleSwgYXR0cl9rZXkpIHtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gS2V0Y2guZ2V0QXR0cmliKHZpZXdfa2V5LCBhdHRyX2tleSk7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IEtldGNoLmdldENvbnRleHQodmlld19rZXkpO1xyXG4gICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaW5kZXgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2gucmVuZGVyTG9vcCA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChjYiwgMzApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guYWRkVGV4dHVyZSA9IGZ1bmN0aW9uIChrZXksIHRleHR1cmVfaWQpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nba2V5XTtcclxuICAgICAgICAgICAgdmlldy50ZXh0dXJlcyA9IHZpZXcudGV4dHVyZXMgfHwgW107XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMucHVzaCh0ZXh0dXJlX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLnJlbW92ZVRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMgPSB2aWV3LnRleHR1cmVzIHx8IFtdO1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB2aWV3LnRleHR1cmVzLmluZGV4T2YodGV4dHVyZV9pZCk7XHJcbiAgICAgICAgICAgIHZpZXcudGV4dHVyZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmFjdGl2ZVRleHR1cmUgPSBmdW5jdGlvbiAoa2V5LCB0ZXh0dXJlX2lkLCB0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW2tleV07XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHZpZXcuY29udGV4dDtcclxuICAgICAgICAgICAgdmFyIHByZyA9IHZpZXcucHJvZ3JhbTtcclxuICAgICAgICAgICAgdmFyIGluZGV4ID0gdmlldy50ZXh0dXJlcy5pbmRleE9mKHRleHR1cmVfaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShpbmRleCA9PT0gMCA/IGdsLlRFWFRVUkUwIDogZ2wuVEVYVFVSRTAgKyBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcclxuICAgICAgICAgICAgICAgIHZhciB1U2FtcGxlciA9IEtldGNoLmdldFVuaWZvcm0oa2V5LCBcInVTYW1wbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVTYW1wbGVyLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmlzT2ZmU2NyZWVuID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBLZXRjaC5fdmlld3Nbdmlld19rZXldLm9mZnNjcmVlbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmVuYWJsZU9mZlNjcmVlbiA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICBLZXRjaC5fdmlld3Nbdmlld19rZXldLm9mZnNjcmVlbiA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBLZXRjaC5kaXNhYmxlT2ZmU2NyZWVuID0gZnVuY3Rpb24gKHZpZXdfa2V5KSB7XHJcbiAgICAgICAgICAgIEtldGNoLl92aWV3c1t2aWV3X2tleV0ub2Zmc2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEtldGNoLmZpbGxTZWxlY3RvckJ1ZmZlciA9IGZ1bmN0aW9uICh2aWV3X2tleSwgb2JqKSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gS2V0Y2guX3ZpZXdzW3ZpZXdfa2V5XTtcclxuICAgICAgICAgICAgdmlldy5zZWxlY3RPYmplY3RzID0gdmlldy5zZWxlY3RPYmplY3RzIHx8IFtdO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMucHVzaChvYmopO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guY2xlYXJTZWxlY3RvckJ1ZmZlciA9IGZ1bmN0aW9uICh2aWV3X2tleSkge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IEtldGNoLl92aWV3c1t2aWV3X2tleV07XHJcbiAgICAgICAgICAgIHZpZXcuc2VsZWN0T2JqZWN0cyA9IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guZ2V0U2VsZWN0QnlDb2xvciA9IGZ1bmN0aW9uICh2aWV3X2tleSwgY29sb3IpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBLZXRjaC5fdmlld3Nbdmlld19rZXldO1xyXG4gICAgICAgICAgICB2aWV3LnNlbGVjdE9iamVjdHMgPSB2aWV3LnNlbGVjdE9iamVjdHMgfHwgW107XHJcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmQodmlldy5zZWxlY3RPYmplY3RzLCBmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uaXNFcXVhbChvLmNvbG9yLCBjb2xvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgS2V0Y2guX3ZpZXdzID0ge307XHJcbiAgICAgICAgcmV0dXJuIEtldGNoO1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLktldGNoID0gS2V0Y2g7XHJcbiAgICB2YXIgUmVuZGVyYWJsZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gUmVuZGVyYWJsZShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ncmFwaF9pZCA9IGdyYXBoX2lkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwiZ3JhcGhJRFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dyYXBoX2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVuZGVyYWJsZS5wcm90b3R5cGUsIFwiZ2xcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBLZXRjaC5nZXRDb250ZXh0KHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZW5kZXJhYmxlLnByb3RvdHlwZSwgXCJwcm9ncmFtXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0UHJvZ3JhbSh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBSZW5kZXJhYmxlLnByb3RvdHlwZS5nZXRVbmlmb3JtID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gS2V0Y2guZ2V0VW5pZm9ybSh0aGlzLmdyYXBoSUQsIGtleSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUmVuZGVyYWJsZTtcclxuICAgIH0oKSk7XHJcbiAgICBCbGF6ZS5SZW5kZXJhYmxlID0gUmVuZGVyYWJsZTtcclxuICAgIHZhciBFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gRW50aXR5KGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uIChtYXRyaXhTdGFjaykge1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEVudGl0eTtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuRW50aXR5ID0gRW50aXR5O1xyXG4gICAgdmFyIE1hdHJpeFN0YWNrID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTWF0cml4U3RhY2ssIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTWF0cml4U3RhY2soZ3JhcGhfaWQpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFjayA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLl9tdk1hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3BNYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9uTWF0cml4ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3B5ID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgbWF0NC5zZXQodGhpcy5fbXZNYXRyaXgsIGNvcHkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFjay5wdXNoKGNvcHkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YWNrLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJpbnZhbGlkIHBvcE1hdHJpeFwiO1xyXG4gICAgICAgICAgICB0aGlzLl9tdk1hdHJpeCA9IHRoaXMuX3N0YWNrLnBvcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLk1vZGVsVmlldyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbXZNYXRyaXggPSB0aGlzLl9jYW1lcmEubW9kZWxWaWV3O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9tdk1hdHJpeCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXRyaXhTdGFjay5wcm90b3R5cGUsIFwibXZNYXRyaXhcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tdk1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJwTWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcE1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJuTWF0cml4XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbk1hdHJpeDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdHJpeFN0YWNrLnByb3RvdHlwZSwgXCJNYWluQ2FtZXJhXCIsIHtcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE1hdHJpeFN0YWNrLnByb3RvdHlwZS5QZXJzcGVjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgbWF0NC5pZGVudGl0eSh0aGlzLl9wTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC5wZXJzcGVjdGl2ZSg0NSwgZ2wudmlld3BvcnRXaWR0aCAvIGdsLnZpZXdwb3J0SGVpZ2h0LCAwLjEsIDEwMDAuMCwgdGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuTm9ybWFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX25NYXRyaXgpO1xyXG4gICAgICAgICAgICBtYXQ0LnNldCh0aGlzLl9tdk1hdHJpeCwgdGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgICAgIG1hdDQuaW52ZXJzZSh0aGlzLl9uTWF0cml4KTtcclxuICAgICAgICAgICAgbWF0NC50cmFuc3Bvc2UodGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNYXRyaXhTdGFjay5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5Nb2RlbFZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5QZXJzcGVjdGl2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLk5vcm1hbCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWF0cml4U3RhY2sucHJvdG90eXBlLnNldFVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLk5vcm1hbCgpO1xyXG4gICAgICAgICAgICB2YXIgbXZNYXRyaXggPSB0aGlzLmdldFVuaWZvcm0oXCJ1TVZNYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChtdk1hdHJpeClcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYobXZNYXRyaXgsIGZhbHNlLCB0aGlzLl9tdk1hdHJpeCk7XHJcbiAgICAgICAgICAgIHZhciBwTWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidVBNYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChwTWF0cml4KVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihwTWF0cml4LCBmYWxzZSwgdGhpcy5fcE1hdHJpeCk7XHJcbiAgICAgICAgICAgIHZhciBuTWF0cml4ID0gdGhpcy5nZXRVbmlmb3JtKFwidU5NYXRyaXhcIik7XHJcbiAgICAgICAgICAgIGlmIChuTWF0cml4KVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDRmdihuTWF0cml4LCBmYWxzZSwgdGhpcy5fbk1hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTWF0cml4U3RhY2s7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLk1hdHJpeFN0YWNrID0gTWF0cml4U3RhY2s7XHJcbiAgICB2YXIgUmVzb3VyY2VzO1xyXG4gICAgKGZ1bmN0aW9uIChSZXNvdXJjZXMpIHtcclxuICAgICAgICB2YXIgTWVzaEJ1ZmZlcnMgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICBfX2V4dGVuZHMoTWVzaEJ1ZmZlcnMsIF9zdXBlcik7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1lc2hCdWZmZXJzKGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJvbmxvYWRcIiwge1xyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0ID0gdXRpbHMuZ2V0RXh0ZW5zaW9uKHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXRpbHMubG9hZChzcmMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwib2JqXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gc2VsZi5wYXJzZU9CSihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJqc29uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gc2VsZi5wYXJzZUpTT04oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jcmVhdGVCdWZmZXJzKG9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb25sb2FkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29ubG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE1lc2hCdWZmZXJzLnByb3RvdHlwZS5wYXJzZUpTT04gPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE1lc2hCdWZmZXJzLnByb3RvdHlwZS5wYXJzZU9CSiA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZuOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2dDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGluOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdDogW11cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgbGluZXMgPSBkYXRhLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleCA9IGxpbmVzLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhWzBdID09PSAndic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGxpbmVzLmZpbHRlcihmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhWzBdID09PSAnZic7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZlcnRleC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1zID0gaXRlbS5yZXBsYWNlKFwiXFxyXCIsIFwiXCIpLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZWxlbXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSBvYmpba2V5XS5jb25jYXQoZWxlbXMuc2xpY2UoMSkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhICE9PSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBJbmRleCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaW5kZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0ucmVwbGFjZShcIlxcclwiLCBcIlwiKS5yZXBsYWNlKFwiZlwiLCBcIlwiKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcEluZGV4ID0gdGVtcEluZGV4LmNvbmNhdChlbGVtcy5zbGljZSgxKS5maWx0ZXIoZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgIT09IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0ZW1wSW5kZXguZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtcyA9IGl0ZW0uc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pdi5wdXNoKHBhcnNlSW50KGVsZW1zWzBdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pbi5wdXNoKHBhcnNlSW50KGVsZW1zWzFdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iai5pdC5wdXNoKHBhcnNlSW50KGVsZW1zWzJdKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBNZXNoQnVmZmVycy5wcm90b3R5cGUuY3JlYXRlQnVmZmVycyA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgICAgICBfLmRlZmF1bHRzKG9iaiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIHZuOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICB2dDogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgaXY6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGluOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpdDogW11cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnVmZmVyKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIoZ2wsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai52Lmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmJvID0gY3JlYXRlQnVmZmVyKG9iai52KTtcclxuICAgICAgICAgICAgICAgIGlmIChvYmoudi5sZW5ndGggPiAwICYmIG9iai5pdi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmJvID0gY3JlYXRlQnVmZmVyKHV0aWxzLmNhbGN1bGF0ZU5vcm1hbHMob2JqLnYsIG9iai5pdikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai52dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGJvID0gV2ViR0xVdGlscy5jcmVhdGVCdWZmZXIoZ2wsIG9iai52dCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbmRleEJ1ZmZlcihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFdlYkdMVXRpbHMuY3JlYXRlSW5kZXhCdWZmZXIoZ2wsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pdi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l2Ym8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaXYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pbi5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luYm8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaW4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5pdC5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0Ym8gPSBjcmVhdGVJbmRleEJ1ZmZlcihvYmouaXQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcInZib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwibmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYm87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJ0Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaEJ1ZmZlcnMucHJvdG90eXBlLCBcIml2Ym9cIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l2Ym87XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hCdWZmZXJzLnByb3RvdHlwZSwgXCJpbmJvXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbmJvO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoQnVmZmVycy5wcm90b3R5cGUsIFwiaXRib1wiLCB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXRibztcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gTWVzaEJ1ZmZlcnM7XHJcbiAgICAgICAgfShSZW5kZXJhYmxlKSk7XHJcbiAgICAgICAgUmVzb3VyY2VzLk1lc2hCdWZmZXJzID0gTWVzaEJ1ZmZlcnM7XHJcbiAgICAgICAgdmFyIE1lc2hUZXh0dXJlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICAgICAgX19leHRlbmRzKE1lc2hUZXh0dXJlLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoVGV4dHVyZShncmFwaF9pZCkge1xyXG4gICAgICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5faW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX29pZCA9IHV0aWxzLnV1aWQodGhpcy5jb25zdHJ1Y3Rvci5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcIm9ubG9hZFwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoVGV4dHVyZS5wcm90b3R5cGUsIFwic3JjXCIsIHtcclxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGZpbGVuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1hZ2Uub25sb2FkID0gdGhpcy5sb2FkVGV4dHVyZUltYWdlKHRoaXMuX29ubG9hZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1hZ2Uuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTWVzaFRleHR1cmUucHJvdG90eXBlLmxvYWRUZXh0dXJlSW1hZ2UgPSBmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90ZXh0dXJlID0gV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlKHNlbGYuZ2wsIHNlbGYuX2ltYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICBLZXRjaC5hZGRUZXh0dXJlKHNlbGYuZ3JhcGhJRCwgc2VsZi5fb2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVzaFRleHR1cmUucHJvdG90eXBlLCBcImNvbnRlbnRcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hUZXh0dXJlO1xyXG4gICAgICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgICAgIFJlc291cmNlcy5NZXNoVGV4dHVyZSA9IE1lc2hUZXh0dXJlO1xyXG4gICAgICAgIHZhciBNZXNoTWF0ZXJpYWwgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgICAgICBfX2V4dGVuZHMoTWVzaE1hdGVyaWFsLCBfc3VwZXIpO1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNZXNoTWF0ZXJpYWwoZ3JhcGhfaWQsIGFtYmllbnQsIGRpZmZ1c2UsIHNwZWN1bGFyLCBzaGluaW5lc3MpIHtcclxuICAgICAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSBhbWJpZW50ID8gdmVjNC5jcmVhdGUoYW1iaWVudCkgOiB2ZWM0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlmZnVzZSA9IGRpZmZ1c2UgPyB2ZWM0LmNyZWF0ZShkaWZmdXNlKSA6IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gc3BlY3VsYXIgPyB2ZWM0LmNyZWF0ZShzcGVjdWxhcikgOiB2ZWM0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2hpbmluZXNzID0gc2hpbmluZXNzIHx8IDIwMC4wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcIm9ubG9hZFwiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNyY1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB1dGlscy5sb2FkKHNyYywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBzZWxmLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fYW1iaWVudCA9IHRlbXAuS2E7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9kaWZmdXNlID0gdGVtcC5LZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3NwZWN1bGFyID0gdGVtcC5LcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2hpbmluZXNzID0gdGVtcC5OcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vbmxvYWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb25sb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgTWVzaE1hdGVyaWFsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtcIkthXCIsIFwiS2RcIiwgXCJLc1wiLCBcIk5zXCJdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVzID0gZGF0YS5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbXMgPSBsaW5lLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZWxlbXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleXMuaW5kZXhPZihrZXkpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJOc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtcIk5zXCJdID0gTnVtYmVyKGVsZW1zWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGVsZW1zLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAoYSkgeyByZXR1cm4gTnVtYmVyKGEpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goMS4wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcImFtYmllbnRcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FtYmllbnQ7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoYW1iaWVudCkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcImRpZmZ1c2VcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoZGlmZnVzZSkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoTWF0ZXJpYWwucHJvdG90eXBlLCBcInNwZWN1bGFyXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zcGVjdWxhcjtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzQuY3JlYXRlKHNwZWN1bGFyKSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1lc2hNYXRlcmlhbC5wcm90b3R5cGUsIFwic2hpbmluZXNzXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaGluaW5lc3M7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NoaW5pbmVzcyA9IHY7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIE1lc2hNYXRlcmlhbDtcclxuICAgICAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgICAgICBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsID0gTWVzaE1hdGVyaWFsO1xyXG4gICAgfSkoUmVzb3VyY2VzID0gQmxhemUuUmVzb3VyY2VzIHx8IChCbGF6ZS5SZXNvdXJjZXMgPSB7fSkpO1xyXG4gICAgdmFyIFNoYWRlcnM7XHJcbiAgICAoZnVuY3Rpb24gKFNoYWRlcnMpIHtcclxuICAgICAgICB2YXIgRnJhZ21lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBGcmFnbWVudCgpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBGcmFnbWVudC5BbGxfZWZmZWN0ID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGZsb2F0IHVUaW1lO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVOb2lzZVNhbXBsZXI7XFxudW5pZm9ybSB2ZWMyIHVJbnZlcnNlVGV4dHVyZVNpemU7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxuY29uc3QgZmxvYXQgc3BlZWQgPSAxNS4wO1xcbmNvbnN0IGZsb2F0IG1hZ25pdHVkZSA9IDAuMDE1O1xcblxcbmNvbnN0IGZsb2F0IGdyYWluSW50ZW5zaXR5ID0gMC4xO1xcbmNvbnN0IGZsb2F0IHNjcm9sbFNwZWVkID0gNDAwMC4wO1xcblxcbnZlYzQgb2Zmc2V0TG9va3VwKGZsb2F0IHhPZmYsIGZsb2F0IHlPZmYpIHtcXG4gICAgcmV0dXJuIHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLnggKyB4T2ZmKnVJbnZlcnNlVGV4dHVyZVNpemUueCwgdlRleHR1cmVDb29yZC55ICsgeU9mZip1SW52ZXJzZVRleHR1cmVTaXplLnkpKTtcXG59XFxuXFxudm9pZCBtYWluKCl7XFxuXFxuICAgICB2ZWM0IGZyYW1lQ29sb3IgPSBvZmZzZXRMb29rdXAoLTQuMCwgMC4wKSAqIDAuMDU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKC0zLjAsIDAuMCkgKiAwLjA5O1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgtMi4wLCAwLjApICogMC4xMjtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoLTEuMCwgMC4wKSAqIDAuMTU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDAuMCwgMC4wKSAqIDAuMTY7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDEuMCwgMC4wKSAqIDAuMTU7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDIuMCwgMC4wKSAqIDAuMTI7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDMuMCwgMC4wKSAqIDAuMDk7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKDQuMCwgMC4wKSAqIDAuMDU7XFxuICAgIFxcbiAgICB2ZWM0IGdyYWluPXRleHR1cmUyRCh1Tm9pc2VTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKjIuMCt1VGltZSpzY3JvbGxTcGVlZCp1SW52ZXJzZVRleHR1cmVTaXplKTtcXG4gICAgIFxcbiAgICAgIGZyYW1lQ29sb3IgKz10ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpLShncmFpbipncmFpbkludGVuc2l0eSk7XFxuICAgICAgICAgIHZlYzIgd2F2eUNvb3JkO1xcbiAgICB3YXZ5Q29vcmQucz12VGV4dHVyZUNvb3JkLnMrKHNpbih1VGltZSt2VGV4dHVyZUNvb3JkLnQqc3BlZWQpKm1hZ25pdHVkZSk7XFxuICAgIHdhdnlDb29yZC50PXZUZXh0dXJlQ29vcmQudCsoc2luKHVUaW1lK3ZUZXh0dXJlQ29vcmQucypzcGVlZCkqbWFnbml0dWRlKTtcXG4gICAgXFxuICAgIGZyYW1lQ29sb3IrPXRleHR1cmUyRCh1U2FtcGxlciwgd2F2eUNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yPWZyYW1lQ29sb3I7XFxufVwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5CbHVyX2VmZmVjdCA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSB2ZWMyIHVJbnZlcnNlVGV4dHVyZVNpemU7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudmVjNCBvZmZzZXRMb29rdXAoZmxvYXQgeE9mZiwgZmxvYXQgeU9mZikge1xcbiAgICByZXR1cm4gdGV4dHVyZTJEKHVTYW1wbGVyLCB2ZWMyKHZUZXh0dXJlQ29vcmQueCArIHhPZmYqdUludmVyc2VUZXh0dXJlU2l6ZS54LCB2VGV4dHVyZUNvb3JkLnkgKyB5T2ZmKnVJbnZlcnNlVGV4dHVyZVNpemUueSkpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgZnJhbWVDb2xvciA9IG9mZnNldExvb2t1cCgtNC4wLCAwLjApICogMC4wNTtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoLTMuMCwgMC4wKSAqIDAuMDk7XFxuICAgIGZyYW1lQ29sb3IgKz0gb2Zmc2V0TG9va3VwKC0yLjAsIDAuMCkgKiAwLjEyO1xcbiAgICBmcmFtZUNvbG9yICs9IG9mZnNldExvb2t1cCgtMS4wLCAwLjApICogMC4xNTtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoMC4wLCAwLjApICogMC4xNjtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoMS4wLCAwLjApICogMC4xNTtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoMi4wLCAwLjApICogMC4xMjtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoMy4wLCAwLjApICogMC4wOTtcXG4gICAgZnJhbWVDb2xvciArPSBvZmZzZXRMb29rdXAoNC4wLCAwLjApICogMC4wNTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gZnJhbWVDb2xvcjtcXG59XCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LkZpbG1fZWZmZWN0ID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHNhbXBsZXIyRCB1Tm9pc2VTYW1wbGVyO1xcbnVuaWZvcm0gdmVjMiB1SW52ZXJzZVRleHR1cmVTaXplO1xcbnVuaWZvcm0gZmxvYXQgdVRpbWU7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxuY29uc3QgZmxvYXQgZ3JhaW5JbnRlbnNpdHkgPSAwLjE7XFxuY29uc3QgZmxvYXQgc2Nyb2xsU3BlZWQgPSA0MDAwLjA7XFxuXFxuXFxudm9pZCBtYWluKClcXG57XFxuICAgIHZlYzQgZnJhbWVDb2xvcj10ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IGdyYWluPXRleHR1cmUyRCh1Tm9pc2VTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKjIuMCt1VGltZSpzY3JvbGxTcGVlZCp1SW52ZXJzZVRleHR1cmVTaXplKTtcXG4gICAgZ2xfRnJhZ0NvbG9yPWZyYW1lQ29sb3ItKGdyYWluKmdyYWluSW50ZW5zaXR5KTtcXG5cXG59XCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LkdyZXlfZWZmZWN0ID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgZnJhbWVDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGZsb2F0IGx1bWluYW5jZSA9IGZyYW1lQ29sb3IuciAqIDAuMyArIGZyYW1lQ29sb3IuZyAqIDAuNTkgKyBmcmFtZUNvbG9yLmIgKiAwLjExO1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KGx1bWluYW5jZSwgbHVtaW5hbmNlLCBsdW1pbmFuY2UsIGZyYW1lQ29sb3IuYSk7XFxufVwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5JbnZlcnRfZWZmZWN0ID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgZnJhbWVDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoMS4wLWZyYW1lQ29sb3IuciwgMS4wLWZyYW1lQ29sb3IuZywgMS4wLWZyYW1lQ29sb3IuYiwgZnJhbWVDb2xvci5hKTtcXG59XCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50Lk5vX2VmZmVjdCA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKCl7XFxuICAgIHZlYzQgZnJhbWVDb2xvcj10ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBcXG4gICAgZ2xfRnJhZ0NvbG9yPWZyYW1lQ29sb3I7XFxuXFxufVxcblwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5QYXJ0aWNsZSA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG5cXG5ib29sIGlzQmxhY2sodmVjNCBjb2xvcil7XFxucmV0dXJuIGNvbG9yLnI9PTAuMCAmJmNvbG9yLmc9PTAuMCYmY29sb3IuYj09MC4wO1xcbn1cXG52b2lkIG1haW4odm9pZCkgeyBcXG4gICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgIH1lbHNle1xcbiAgICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGdsX1BvaW50Q29vcmQpO1xcbiAgICBpZihnbF9GcmFnQ29sb3IuYSA8IDAuNSB8fCBpc0JsYWNrKGdsX0ZyYWdDb2xvcikpIGRpc2NhcmQ7XFxuICAgIH1cXG59XCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlBob25nID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG51bmlmb3JtIGZsb2F0IHVTaGluaW5lc3M7XFxudW5pZm9ybSB2ZWMzIHVMaWdodERpcmVjdGlvbjtcXG5cXG51bmlmb3JtIHZlYzQgdUxpZ2h0QW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0RGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0U3BlY3VsYXI7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBib29sIHVPZmZzY3JlZW47XFxudW5pZm9ybSB2ZWM0IHVTZWxlY3RDb2xvcjtcXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsU3BlY3VsYXI7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuICAgICAgXFxuXFxuICAgICAgICBpZih1T2Zmc2NyZWVuKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3I9dVNlbGVjdENvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgXFxuICAgICAgICB2ZWMzIEw9IG5vcm1hbGl6ZSh1TGlnaHREaXJlY3Rpb24pO1xcbiAgICAgICAgdmVjMyBOPSBub3JtYWxpemUodk5vcm1hbCk7XFxuICAgICAgICBmbG9hdCBsYW1iZXJ0VGVybT1kb3QoTiwgLUwpO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElhPSB1TGlnaHRBbWJpZW50KnVNYXRlcmlhbEFtYmllbnQ7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWQ9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElzPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgaWYobGFtYmVydFRlcm0+MC4wKVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIElkPXVMaWdodERpZmZ1c2UqdU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHRTcGVjdWxhcip1TWF0ZXJpYWxTcGVjdWxhcipzcGVjdWxhcjtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBmaW5hbENvbG9yPUlhK0lkK0lzO1xcbiAgICAgICAgZmluYWxDb2xvci5hPTEuMDtcXG4gICAgXFxuICAgICAgICBnbF9GcmFnQ29sb3IgPWZpbmFsQ29sb3I7XFxuICAgICAgICBcXG4gICAgICAgIFxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgRnJhZ21lbnQuUGhvbmdfbGlnaHRzID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG51bmlmb3JtIGludCB1TnVtTGlnaHRzO1xcblxcbnVuaWZvcm0gZmxvYXQgdVNoaW5pbmVzcztcXG51bmlmb3JtIHZlYzMgdUxpZ2h0RGlyZWN0aW9uW3VOdW1MaWdodHNdO1xcbnVuaWZvcm0gZmxvYXQgdUN1dE9mZlt1TnVtTGlnaHRzXTtcXG5cXG51bmlmb3JtIHZlYzQgdUxpZ2h0QW1iaWVudFt1TnVtTGlnaHRzXTtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0RGlmZnVzZVt1TnVtTGlnaHRzXTtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0U3BlY3VsYXJbdU51bUxpZ2h0c107XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBib29sIHVPZmZzY3JlZW47XFxudW5pZm9ybSB2ZWM0IHVTZWxlY3RDb2xvcjtcXG5cXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsQW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsU3BlY3VsYXI7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuICAgICAgXFxuXFxuICAgICAgICBpZih1T2Zmc2NyZWVuKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3I9dVNlbGVjdENvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHZlYzQgZmluYWxDb2xvcj12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBmb3IoaW50IGk9MDsgaTx1TnVtTGlnaHRzO2krKyl7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzMgTD0gbm9ybWFsaXplKHVMaWdodERpcmVjdGlvbltpXSk7XFxuICAgICAgICB2ZWMzIE49IG5vcm1hbGl6ZSh2Tm9ybWFsKTtcXG4gICAgICAgIGZsb2F0IGxhbWJlcnRUZXJtPWRvdChOLCAtTCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSWE9IHVMaWdodEFtYmllbnRbaV0qdU1hdGVyaWFsQW1iaWVudDtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJZD12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgSXM9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICBpZihsYW1iZXJ0VGVybT51Q3V0T2ZmW2ldKVxcbiAgICAgICAge1xcbiAgICAgICAgICAgIElkPXVMaWdodERpZmZ1c2VbaV0qdU1hdGVyaWFsRGlmZnVzZSpsYW1iZXJ0VGVybTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICB2ZWMzIEU9IG5vcm1hbGl6ZSh2RXllVmVjKTtcXG4gICAgICAgICAgICB2ZWMzIFI9IHJlZmxlY3QoTCwgTik7XFxuICAgICAgICAgICAgZmxvYXQgc3BlY3VsYXI9cG93KG1heChkb3QoUixFKSwwLjApLCB1U2hpbmluZXNzKTtcXG4gICAgICAgICAgICBJcz11TGlnaHRTcGVjdWxhcltpXSp1TWF0ZXJpYWxTcGVjdWxhcipzcGVjdWxhcjtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgZmluYWxDb2xvcis9SWErSWQrSXM7XFxuICAgICAgICBcXG4gICAgICAgIH1cXG4gICAgICAgIGZpbmFsQ29sb3IuYT0xLjA7XFxuICAgIFxcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID1maW5hbENvbG9yO1xcbiAgICAgICAgXFxuICAgICAgICBcXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlBob25nX3Bvc2l0aW9uYWwgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gZmxvYXQgdVNoaW5pbmVzcztcXG5cXG51bmlmb3JtIHZlYzQgdUxpZ2h0QW1iaWVudDtcXG51bmlmb3JtIHZlYzQgdUxpZ2h0RGlmZnVzZTtcXG5cXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG5cXG51bmlmb3JtIGJvb2wgdU9mZnNjcmVlbjtcXG51bmlmb3JtIHZlYzQgdVNlbGVjdENvbG9yO1xcblxcblxcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2RXllVmVjO1xcbnZhcnlpbmcgdmVjMyB2TGlnaHREaXI7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgICAgIGlmKHVXaXJlZnJhbWUpe1xcbiAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHZDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuICAgICAgXFxuXFxuICAgICAgICBpZih1T2Zmc2NyZWVuKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3I9dVNlbGVjdENvbG9yO1xcbiAgICAgICAgICAgIHJldHVybjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgXFxuICAgICAgICB2ZWMzIEw9IG5vcm1hbGl6ZSh2TGlnaHREaXIpO1xcbiAgICAgICAgdmVjMyBOPSBub3JtYWxpemUodk5vcm1hbCk7XFxuICAgICAgICBmbG9hdCBsYW1iZXJ0VGVybT1kb3QoTiwgLUwpO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElhPSB1TGlnaHRBbWJpZW50O1xcbiAgICAgICAgXFxuICAgICAgICB2ZWM0IElkPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjNCBJcz12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuICAgICAgICBcXG4gICAgICAgIGlmKGxhbWJlcnRUZXJtPjAuMClcXG4gICAgICAgIHtcXG4gICAgICAgICAgICBJZD11TWF0ZXJpYWxEaWZmdXNlKmxhbWJlcnRUZXJtO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIHZlYzMgRT0gbm9ybWFsaXplKHZFeWVWZWMpO1xcbiAgICAgICAgICAgIHZlYzMgUj0gcmVmbGVjdChMLCBOKTtcXG4gICAgICAgICAgICBmbG9hdCBzcGVjdWxhcj1wb3cobWF4KGRvdChSLEUpLDAuMCksIHVTaGluaW5lc3MpO1xcbiAgICAgICAgICAgIElzPXVMaWdodERpZmZ1c2Uqc3BlY3VsYXI7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgZmluYWxDb2xvcj1JYStJZCtJcztcXG4gICAgICAgIGZpbmFsQ29sb3IuYT0xLjA7XFxuICAgIFxcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID1maW5hbENvbG9yO1xcbiAgICAgICAgXFxuICAgICAgICBcXG59XFxuXFxuXFxuXCI7XHJcbiAgICAgICAgICAgIEZyYWdtZW50LlRvb24gPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gZmxvYXQgdVNoaW5pbmVzcztcXG51bmlmb3JtIHZlYzMgdUxpZ2h0RGlyZWN0aW9uO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxuXFxudW5pZm9ybSB2ZWM0IHVMaWdodEFtYmllbnQ7XFxudW5pZm9ybSB2ZWM0IHVMaWdodERpZmZ1c2U7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxuXFxudW5pZm9ybSBib29sIHVPZmZzY3JlZW47XFxudW5pZm9ybSB2ZWM0IHVTZWxlY3RDb2xvcjtcXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2VmVydGV4O1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICAgICBpZih1V2lyZWZyYW1lKXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3IgPSB2Q29sb3I7XFxuICAgICAgICAgICAgcmV0dXJuO1xcbiAgICAgICAgfVxcbiAgICAgIFxcblxcbiAgICAgICAgaWYodU9mZnNjcmVlbil7XFxuICAgICAgICAgICAgZ2xfRnJhZ0NvbG9yPXVTZWxlY3RDb2xvcjtcXG4gICAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICB2ZWM0IGNvbG9yMD12ZWM0KHVNYXRlcmlhbERpZmZ1c2UucmdiLDEuMCk7XFxuICAgICAgICB2ZWM0IGNvbG9yMT12ZWM0KDAuMCwwLjAsMC4wLCAxLjApO1xcbiAgICAgICAgdmVjNCBjb2xvcjI9dmVjNCh1TWF0ZXJpYWxEaWZmdXNlLnJnYiwgMS4wKTtcXG4gICAgICAgIFxcbiAgICAgICAgdmVjMyBOPSB2Tm9ybWFsO1xcbiAgICAgICAgdmVjMyBMID0gbm9ybWFsaXplKHVMaWdodERpcmVjdGlvbik7XFxuICAgICAgICBcXG4gICAgICAgIHZlYzQgZXllUG9zPSB1TVZNYXRyaXgqdmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWMzIEV5ZVZlcnQgPSBub3JtYWxpemUoLWV5ZVBvcy54eXopO1xcbiAgICAgICAgXFxuICAgICAgICB2ZWMzIEV5ZUxpZ2h0PW5vcm1hbGl6ZShMK0V5ZVZlcnQpO1xcbiAgICAgICAgXFxuICAgICAgICBmbG9hdCBzaWw9IG1heChkb3QoTiwgRXllVmVydCksIDAuMCk7XFxuICAgICAgICBcXG4gICAgICAgIGlmKCBzaWw8MC40KXtcXG4gICAgICAgICAgICBnbF9GcmFnQ29sb3I9Y29sb3IxO1xcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgIGdsX0ZyYWdDb2xvcj1jb2xvcjA7XFxuICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICBmbG9hdCBzcGVjPXBvdyhtYXgoZG90KE4sIEV5ZUxpZ2h0KSwgMC4wKSwgdVNoaW5pbmVzcyk7XFxuICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICBpZihzcGVjPDAuMikgZ2xfRnJhZ0NvbG9yKj0wLjg7XFxuICAgICAgICAgICAgIGVsc2UgZ2xfRnJhZ0NvbG9yPWNvbG9yMjtcXG4gICAgICAgICAgICAgXFxuICAgICAgICAgICAgIGZsb2F0IGRpZmZ1c2U9bWF4KGRvdChOLCBMKSwgMC4wKTtcXG4gICAgICAgICAgICAgaWYoZGlmZnVzZTwwLjUpZ2xfRnJhZ0NvbG9yKj0wLjg7XFxuICAgICAgICB9XFxuXFxuXFxuXFxuXFxuXFxufVxcblxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBGcmFnbWVudC5XYXZ5X2VmZmVjdCA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1VGltZTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG5jb25zdCBmbG9hdCBzcGVlZCA9IDE1LjA7XFxuY29uc3QgZmxvYXQgbWFnbml0dWRlID0gMC4wMTU7XFxuXFxudm9pZCBtYWluKCl7XFxuICAgIFxcbiAgICB2ZWMyIHdhdnlDb29yZDtcXG4gICAgd2F2eUNvb3JkLnM9dlRleHR1cmVDb29yZC5zKyhzaW4odVRpbWUrdlRleHR1cmVDb29yZC50KnNwZWVkKSptYWduaXR1ZGUpO1xcbiAgICB3YXZ5Q29vcmQudD12VGV4dHVyZUNvb3JkLnQrKHNpbih1VGltZSt2VGV4dHVyZUNvb3JkLnMqc3BlZWQpKm1hZ25pdHVkZSk7XFxuICAgIFxcbiAgICB2ZWM0IGZyYW1lQ29sb3I9dGV4dHVyZTJEKHVTYW1wbGVyLCB3YXZ5Q29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3I9ZnJhbWVDb2xvcjtcXG5cXG5cXG59XCI7XHJcbiAgICAgICAgICAgIHJldHVybiBGcmFnbWVudDtcclxuICAgICAgICB9KCkpO1xyXG4gICAgICAgIFNoYWRlcnMuRnJhZ21lbnQgPSBGcmFnbWVudDtcclxuICAgICAgICB2YXIgVmVydGV4ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gVmVydGV4KCkge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFZlcnRleC5FZmZlY3QgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX2Nvb3JkcztcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4oKXtcXG4gICAgdlRleHR1cmVDb29yZD1hX3RleHR1cmVfY29vcmRzO1xcblxcbiAgICBnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zaXRpb24sIDAuMCwxLjApO1xcbiAgICBcXG59XCI7XHJcbiAgICAgICAgICAgIFZlcnRleC5QYXJ0aWNsZSA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgdVBvaW50U2l6ZTtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcblxcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpIHtcXG5cXG4gaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfVxcbiAgICBcXG4gICAgZ2xfUG9zaXRpb24gPSB1UE1hdHJpeCAqIHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbi54eXosIDEuMCk7XFxuICAgIGdsX1BvaW50U2l6ZSA9IHVQb2ludFNpemU7XFxufVwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguUGhvbmcgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU5NYXRyaXg7XFxuXFxudW5pZm9ybSBib29sIHVXaXJlZnJhbWU7XFxudW5pZm9ybSBib29sIHVQZXJWZXJ0ZXhDb2xvcjtcXG51bmlmb3JtIHZlYzQgdU1hdGVyaWFsRGlmZnVzZTtcXG5cXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG52YXJ5aW5nIHZlYzMgdkV5ZVZlYztcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICB2ZWM0IHZlcnRleCA9IHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cXHRcXG5cXHRcXG5cXHQgaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfWVsc2V7XFxuXFx0XFxuXFx0dk5vcm1hbCA9IHZlYzModU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKTtcXG5cXHR2RXllVmVjPS12ZWMzKHZlcnRleC54eXopOyAgXFxuXFx0XFxuXFx0fVxcblxcdCBcXG5cXHRnbF9Qb3NpdGlvbiA9dVBNYXRyaXggKiB2ZXJ0ZXg7XFxuXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguUGhvbmdfbGlnaHRzID0gXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZW5kaWZcXG5cXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIGFfbm9ybWFsO1xcbmF0dHJpYnV0ZSB2ZWM0IGFfY29sb3I7XFxuXFxudW5pZm9ybSBtYXQ0IHVNVk1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdVBNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVOTWF0cml4O1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcbnVuaWZvcm0gYm9vbCB1UGVyVmVydGV4Q29sb3I7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4oKXtcXG5cXG4gICAgdmVjNCB2ZXJ0ZXggPSB1TVZNYXRyaXggKiB2ZWM0KGFfcG9zaXRpb24sIDEuMCk7XFxuXFx0XFxuXFx0XFxuXFx0IGlmKHVXaXJlZnJhbWUpe1xcblxcdCBcXG5cXHQgXFx0aWYodVBlclZlcnRleENvbG9yKXtcXG5cXHQgXFx0XFx0IHZDb2xvcj1hX2NvbG9yO1xcblxcdCBcXHR9ZWxzZXtcXG5cXHQgXFx0XFx0dkNvbG9yPXVNYXRlcmlhbERpZmZ1c2U7XFxuXFx0IFxcdH1cXG5cXHQgXFxuXFx0XFxuXFx0IH1lbHNle1xcblxcdFxcblxcdHZOb3JtYWwgPSB2ZWMzKHVOTWF0cml4ICogdmVjNChhX25vcm1hbCwgMS4wKSk7XFxuXFx0dkV5ZVZlYz0tdmVjMyh2ZXJ0ZXgueHl6KTsgIFxcblxcdFxcblxcdH1cXG5cXHQgXFxuXFx0Z2xfUG9zaXRpb24gPXVQTWF0cml4ICogdmVydGV4O1xcblxcbn1cXG5cXG5cXG5cIjtcclxuICAgICAgICAgICAgVmVydGV4LlBob25nX3Bvc2l0aW9uYWwgPSBcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbiNlbmRpZlxcblxcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzMgYV9ub3JtYWw7XFxuYXR0cmlidXRlIHZlYzQgYV9jb2xvcjtcXG5cXG51bmlmb3JtIG1hdDQgdU1WTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1UE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgdU5NYXRyaXg7XFxuXFxudW5pZm9ybSB2ZWMzIHVMaWdodFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gYm9vbCB1V2lyZWZyYW1lO1xcbnVuaWZvcm0gYm9vbCB1UGVyVmVydGV4Q29sb3I7XFxudW5pZm9ybSB2ZWM0IHVNYXRlcmlhbERpZmZ1c2U7XFxuXFxudmFyeWluZyB2ZWMzIHZOb3JtYWw7XFxudmFyeWluZyB2ZWMzIHZFeWVWZWM7XFxudmFyeWluZyB2ZWMzIHZMaWdodERpcjtcXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbigpe1xcblxcbiAgICB2ZWM0IHZlcnRleCA9IHVNVk1hdHJpeCAqIHZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG5cXHRcXG5cXHRcXG5cXHQgaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfWVsc2V7XFxuXFx0XFxuXFx0dk5vcm1hbCA9IHZlYzModU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLCAxLjApKTtcXG4gICAgdkxpZ2h0RGlyPXZlcnRleC54eXotdUxpZ2h0UG9zaXRpb247ICBcXG5cXHR2RXllVmVjPS12ZWMzKHZlcnRleC54eXopOyAgXFxuXFx0XFxuXFx0fVxcblxcdCBcXG5cXHRnbF9Qb3NpdGlvbiA9dVBNYXRyaXggKiB2ZXJ0ZXg7XFxuXFxufVxcblxcblxcblwiO1xyXG4gICAgICAgICAgICBWZXJ0ZXguVG9vbiA9IFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMyBhX25vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjNCBhX2NvbG9yO1xcblxcbnVuaWZvcm0gbWF0NCB1TVZNYXRyaXg7XFxudW5pZm9ybSBtYXQ0IHVQTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB1Tk1hdHJpeDtcXG5cXG51bmlmb3JtIGJvb2wgdVdpcmVmcmFtZTtcXG51bmlmb3JtIGJvb2wgdVBlclZlcnRleENvbG9yO1xcbnVuaWZvcm0gdmVjNCB1TWF0ZXJpYWxEaWZmdXNlO1xcblxcbnZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbnZhcnlpbmcgdmVjMyB2VmVydGV4O1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudm9pZCBtYWluKCl7XFxuICAgIFxcbiAgICB2ZWM0IG5vcm1hbD0gdU5NYXRyaXggKiB2ZWM0KGFfbm9ybWFsLDEuMCk7XFxuICAgIFxcbiAgICAgaWYodVdpcmVmcmFtZSl7XFxuXFx0IFxcblxcdCBcXHRpZih1UGVyVmVydGV4Q29sb3Ipe1xcblxcdCBcXHRcXHQgdkNvbG9yPWFfY29sb3I7XFxuXFx0IFxcdH1lbHNle1xcblxcdCBcXHRcXHR2Q29sb3I9dU1hdGVyaWFsRGlmZnVzZTtcXG5cXHQgXFx0fVxcblxcdCBcXG5cXHRcXG5cXHQgfWVsc2V7XFxuICAgIFxcbiAgICB2Tm9ybWFsPW5vcm1hbC54eXo7XFxuICAgIHZWZXJ0ZXg9YV9wb3NpdGlvbjtcXG4gICAgfVxcbiAgICBcXG4gICAgZ2xfUG9zaXRpb249dVBNYXRyaXgqdU1WTWF0cml4KnZlYzQoYV9wb3NpdGlvbiwgMS4wKTtcXG4gICAgXFxuICAgIFxcbiAgICBcXG4gICAgXFxuXFxufVwiO1xyXG4gICAgICAgICAgICByZXR1cm4gVmVydGV4O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgICAgU2hhZGVycy5WZXJ0ZXggPSBWZXJ0ZXg7XHJcbiAgICB9KShTaGFkZXJzID0gQmxhemUuU2hhZGVycyB8fCAoQmxhemUuU2hhZGVycyA9IHt9KSk7XHJcbiAgICB2YXIgQW5pbWF0aW9uRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQW5pbWF0aW9uRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkVudGl0eShncmFwaF9pZCwgZnJlcXVlbmN5LCB0aW1lcywgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9mcmVxdWVuY3kgPSBmcmVxdWVuY3k7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludGVydmFsX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgICAgICB9XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5vbkZyYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA9IHV0aWxzLm5vd0luTWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgICAgIGlmIChBbmltYXRpb25FbnRpdHkuRWxhcHNlVGltZSA8IDUpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciBzdGVwcyA9IE1hdGguZmxvb3IoQW5pbWF0aW9uRW50aXR5LkVsYXBzZVRpbWUgLyB0aGlzLl9mcmVxdWVuY3kpO1xyXG4gICAgICAgICAgICB3aGlsZSAoKHN0ZXBzID4gMCkgJiYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCAhPSB0aGlzLl90aW1lcykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICBzdGVwcy0tO1xyXG4gICAgICAgICAgICAgICAgQW5pbWF0aW9uRW50aXR5LkNvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKEFuaW1hdGlvbkVudGl0eS5Db3VudCA9PT0gdGhpcy5fdGltZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRpbWUgPSB1dGlscy5ub3dJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbF9pZCA9IHNldEludGVydmFsKHRoaXMub25GcmFtZSwgdGhpcy5fZnJlcXVlbmN5IC8gMTAwMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbnRlcnZhbF9pZClcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxfaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQW5pbWF0aW9uRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBbmltYXRpb25FbnRpdHkuQ291bnQgPSAwO1xyXG4gICAgICAgIHJldHVybiBBbmltYXRpb25FbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuQW5pbWF0aW9uRW50aXR5ID0gQW5pbWF0aW9uRW50aXR5O1xyXG4gICAgdmFyIE1lc2hFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhNZXNoRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIE1lc2hFbnRpdHkoZ3JhcGhfaWQsIG1lc2hmaWxlLCBtYXRlcmlhbGZpbGUsIHRleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX21lc2hmaWxlID0gbWVzaGZpbGUgfHwgbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWxmaWxlID0gbWF0ZXJpYWxmaWxlIHx8IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVmaWxlID0gdGV4dHVyZWZpbGUgfHwgbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZEJ1ZmZlcnMgPSBmdW5jdGlvbiAoZmlsZW5hbWUsIGNiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBuZXcgUmVzb3VyY2VzLk1lc2hCdWZmZXJzKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMub25sb2FkID0gY2I7XHJcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMuc3JjID0gZmlsZW5hbWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkVGV4dHVyZSA9IGZ1bmN0aW9uIChmaWxlbmFtZSwgY2IpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG5ldyBSZXNvdXJjZXMuTWVzaFRleHR1cmUodGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5vbmxvYWQgPSBjYjtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZS5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZXNoRW50aXR5LnByb3RvdHlwZSwgXCJtYXRlcmlhbFwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsID0gdjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1hdGVyaWFsID0gZnVuY3Rpb24gKGZpbGVuYW1lLCBjYikge1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbCA9IG5ldyBSZXNvdXJjZXMuTWVzaE1hdGVyaWFsKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLm9ubG9hZCA9IGNiO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcmMgPSBmaWxlbmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmxvYWRNZXNoID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgYXN5bmMud2F0ZXJmYWxsKFtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tZXNoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgQnVmZmVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRCdWZmZXJzKHNlbGYuX21lc2hmaWxlLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGVkIEJ1ZmZlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX3RleHR1cmVmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBUZXh0dXJlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZFRleHR1cmUoc2VsZi5fdGV4dHVyZWZpbGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgVGV4dHVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxmLl9tYXRlcmlhbGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkaW5nIE1hdGVyaWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1hdGVyaWFsKHNlbGYuX21hdGVyaWFsZmlsZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvYWRlZCBNYXRlcmlhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNiKVxyXG4gICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUubG9hZE1lc2hCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycyA9IG5ldyBSZXNvdXJjZXMuTWVzaEJ1ZmZlcnModGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVycy5jcmVhdGVCdWZmZXJzKG9iaik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5sb2FkTWF0ZXJpYWxCeU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwgPSBuZXcgUmVzb3VyY2VzLk1lc2hNYXRlcmlhbCh0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBpZiAob2JqLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmFtYmllbnQgPSBvYmouYW1iaWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRlcmlhbC5zcGVjdWxhciA9IG9iai5zcGVjdWxhcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX21hdGVyaWFsLmRpZmZ1c2UgPSBvYmouZGlmZnVzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob2JqLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0ZXJpYWwuc2hpbmluZXNzID0gb2JqLnNoaW5pbmVzcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTWVzaEVudGl0eS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxVbmlmb3JtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLmFtYmllbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdU1hdGVyaWFsQW1iaWVudCA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbEFtYmllbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVNYXRlcmlhbEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsQW1iaWVudCwgdGhpcy5fbWF0ZXJpYWwuYW1iaWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbWF0ZXJpYWwuZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxEaWZmdXNlLCB0aGlzLl9tYXRlcmlhbC5kaWZmdXNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tYXRlcmlhbC5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVNYXRlcmlhbFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TWF0ZXJpYWxTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TWF0ZXJpYWxTcGVjdWxhciwgdGhpcy5fbWF0ZXJpYWwuc3BlY3VsYXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1U2hpbmluZXNzID0gdGhpcy5nZXRVbmlmb3JtKFwidVNoaW5pbmVzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodVNoaW5pbmVzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVTaGluaW5lc3MsIHRoaXMuX21hdGVyaWFsLnNoaW5pbmVzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE1lc2hFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5zZXRNYXRlcmlhbFVuaWZvcm1zKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXJzLnZibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcnMubmJvKTtcclxuICAgICAgICAgICAgS2V0Y2guZW5hYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgdmFyIGl2Ym8gPSB0aGlzLl9idWZmZXJzLml2Ym87XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGl2Ym8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBpdmJvLm51bUl0ZW1zLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBNZXNoRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX25vcm1hbFwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBNZXNoRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLk1lc2hFbnRpdHkgPSBNZXNoRW50aXR5O1xyXG4gICAgdmFyIFRyYW5zZm9ybUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFRyYW5zZm9ybUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBUcmFuc2Zvcm1FbnRpdHkoZ3JhcGhfaWQsIHBvc2l0aW9uLCBzaXplLCByb3RhdGlvbikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdDQuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb24gfHwgdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemUgfHwgdmVjMy5jcmVhdGUoWzEsIDEsIDFdKTtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24gPSByb3RhdGlvbiB8fCB7IGFuZ2xlOiAwLCBheGlzOiB2ZWMzLmNyZWF0ZSgpIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1hdDQuaWRlbnRpdHkodGhpcy5fbWF0cml4KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0TWF0cml4ID0gZnVuY3Rpb24gKG5ld19tYXRyaXgpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWF0cml4ID0gbmV3X21hdHJpeDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUudHJhbnNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LnRyYW5zcG9zZSh0aGlzLl9tYXRyaXgsIHRoaXMuX21hdHJpeCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRBYnNvbHV0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBbeCwgeSwgel07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uICh4LCB5LCB6KSB7XHJcbiAgICAgICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeiA9PT0gdm9pZCAwKSB7IHogPSAwOyB9XHJcbiAgICAgICAgICAgIHZhciBvcGVyYW5kMSA9IHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLCBcInNpemVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5zZXRTaXplID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IFt4LCB5LCB6XTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiAoeCwgeSwgeikge1xyXG4gICAgICAgICAgICBpZiAoeCA9PT0gdm9pZCAwKSB7IHggPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh5ID09PSB2b2lkIDApIHsgeSA9IDA7IH1cclxuICAgICAgICAgICAgaWYgKHogPT09IHZvaWQgMCkgeyB6ID0gMDsgfVxyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDEgPSB0aGlzLl9zaXplO1xyXG4gICAgICAgICAgICB2YXIgb3BlcmFuZDIgPSB2ZWMzLmNyZWF0ZShbeCwgeSwgel0pO1xyXG4gICAgICAgICAgICB2ZWMzLmFkZChvcGVyYW5kMSwgb3BlcmFuZDIsIHRoaXMuX3NpemUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUsIFwicm90YXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocm90YXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0Um90YXRpb24gPSBmdW5jdGlvbiAoYW5nbGUsIGF4aXMpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ2xlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICAgICAgaWYgKGF4aXMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3RhdGlvbi5heGlzID0gYXhpcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QW5nbGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgPSBhbmdsZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuc2V0QXhpcyA9IGZ1bmN0aW9uIChheGlzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uLmF4aXMgPSBheGlzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5yb3RhdGVBbmdsZSA9IGZ1bmN0aW9uIChhbmdsZSkge1xyXG4gICAgICAgICAgICBpZiAoYW5nbGUgPT09IHZvaWQgMCkgeyBhbmdsZSA9IDA7IH1cclxuICAgICAgICAgICAgdGhpcy5fcm90YXRpb24uYW5nbGUgKz0gYW5nbGU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUcmFuc2Zvcm1FbnRpdHkucHJvdG90eXBlLm1vdmVBeGlzID0gZnVuY3Rpb24gKHgsIHksIHopIHtcclxuICAgICAgICAgICAgaWYgKHggPT09IHZvaWQgMCkgeyB4ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAoeSA9PT0gdm9pZCAwKSB7IHkgPSAwOyB9XHJcbiAgICAgICAgICAgIGlmICh6ID09PSB2b2lkIDApIHsgeiA9IDA7IH1cclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQxID0gdGhpcy5fcm90YXRpb24uYXhpcztcclxuICAgICAgICAgICAgdmFyIG9wZXJhbmQyID0gdmVjMy5jcmVhdGUoW3gsIHksIHpdKTtcclxuICAgICAgICAgICAgdmVjMy5hZGQob3BlcmFuZDEsIG9wZXJhbmQyLCB0aGlzLl9yb3RhdGlvbi5heGlzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRyYW5zZm9ybUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnB1c2goKTtcclxuICAgICAgICAgICAgbWF0cml4U3RhY2suTW9kZWxWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeFN0YWNrLm12TWF0cml4O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24gIT0gdm9pZCAwKVxyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaXplICE9IHZvaWQgMClcclxuICAgICAgICAgICAgICAgIG1hdDQuc2NhbGUodGhpcy5fbWF0cml4LCB0aGlzLl9zaXplKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdGF0aW9uICE9IHZvaWQgMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJhZCA9IHRoaXMuX3JvdGF0aW9uLmFuZ2xlICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlKHRoaXMuX21hdHJpeCwgcmFkLCB0aGlzLl9yb3RhdGlvbi5heGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRyaXhTdGFjay5zZXRVcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVHJhbnNmb3JtRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKG1hdHJpeFN0YWNrKSB7XHJcbiAgICAgICAgICAgIG1hdHJpeFN0YWNrLnBvcCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5UcmFuc2Zvcm1FbnRpdHkgPSBUcmFuc2Zvcm1FbnRpdHk7XHJcbiAgICB2YXIgTGlnaHRFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhMaWdodEVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBMaWdodEVudGl0eShncmFwaF9pZCwgYW1iaWVudCwgZGlmZnVzZSwgcG9zaXRpb24sIHNwZWN1bGFyLCBkaXJlY3Rpb24sIGN1dG9mZikge1xyXG4gICAgICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBncmFwaF9pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2FtYmllbnQgPSBhbWJpZW50ID8gdmVjNC5jcmVhdGUoYW1iaWVudCkgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaWZmdXNlID0gZGlmZnVzZSA/IHZlYzQuY3JlYXRlKGRpZmZ1c2UpIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSBwb3NpdGlvbiA/IHZlYzMuY3JlYXRlKHBvc2l0aW9uKSA6IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX3NwZWN1bGFyID0gc3BlY3VsYXIgPyB2ZWM0LmNyZWF0ZShzcGVjdWxhcikgOiBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBkaXJlY3Rpb24gPyB2ZWMzLmNyZWF0ZShkaXJlY3Rpb24pIDogbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fY3V0b2ZmID0gY3V0b2ZmIHx8IDAuMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJhbWJpZW50XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYW1iaWVudDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYW1iaWVudCA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShhbWJpZW50KSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiZGlmZnVzZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RpZmZ1c2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpZmZ1c2UgPSB1dGlscy5ub3JtYWxpemVOYU4odmVjNC5jcmVhdGUoZGlmZnVzZSkpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcInNwZWN1bGFyXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3VsYXI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHNwZWN1bGFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGVjdWxhciA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWM0LmNyZWF0ZShzcGVjdWxhcikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGlnaHRFbnRpdHkucHJvdG90eXBlLCBcInBvc2l0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlmZnVzZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdXRpbHMubm9ybWFsaXplTmFOKHZlYzMuY3JlYXRlKHBvc2l0aW9uKSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMaWdodEVudGl0eS5wcm90b3R5cGUsIFwiZGlyZWN0aW9uXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGlyZWN0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IHV0aWxzLm5vcm1hbGl6ZU5hTih2ZWMzLmNyZWF0ZShkaXJlY3Rpb24pKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExpZ2h0RW50aXR5LnByb3RvdHlwZSwgXCJjdXRPZmZcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdXRvZmY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGN1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3V0b2ZmID0gY3V0b2ZmO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBMaWdodEVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodEFtYmllbnQgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHRBbWJpZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodEFtYmllbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRBbWJpZW50LCB0aGlzLl9hbWJpZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlmZnVzZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVMaWdodERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHREaWZmdXNlLCB0aGlzLl9kaWZmdXNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3BlY3VsYXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodFNwZWN1bGFyKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0U3BlY3VsYXIsIHRoaXMuX3NwZWN1bGFyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB1TGlnaHRQb3NpdGlvbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVMaWdodFBvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodUxpZ2h0UG9zaXRpb24sIHRoaXMuX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdURpcmVjdGlvbiA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodERpcmVjdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh1RGlyZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodURpcmVjdGlvbiwgdGhpcy5fZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fY3V0b2ZmKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdUN1dE9mZiA9IHRoaXMuZ2V0VW5pZm9ybShcInVDdXRPZmZcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodUN1dE9mZilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodUN1dE9mZiwgdGhpcy5fY3V0b2ZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTGlnaHRFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTGlnaHRFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuTGlnaHRFbnRpdHkgPSBMaWdodEVudGl0eTtcclxuICAgIHZhciBEaWZmdXNlRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRGlmZnVzZUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBEaWZmdXNlRW50aXR5KGdyYXBoX2lkLCB2KSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlmZnVzZUVudGl0eS5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBEaWZmdXNlRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1TWF0ZXJpYWxEaWZmdXNlID0gdGhpcy5nZXRVbmlmb3JtKFwidU1hdGVyaWFsRGlmZnVzZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVNYXRlcmlhbERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVNYXRlcmlhbERpZmZ1c2UsIHRoaXMuX3ZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERpZmZ1c2VFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRGlmZnVzZUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5EaWZmdXNlRW50aXR5ID0gRGlmZnVzZUVudGl0eTtcclxuICAgIHZhciBQYXJ0aWNsZUVudGl0eSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFBhcnRpY2xlRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFBhcnRpY2xlRW50aXR5KGdyYXBoX2lkLCBwb2ludFNpemUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9wb2ludFNpemUgPSBwb2ludFNpemUgfHwgMTtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZV9pZCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoZGF0YV9tZXNoLCBkYXRhX3RleHR1cmUpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9idWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShkYXRhX21lc2gpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fbnVtSXRlbXMgPSBkYXRhX21lc2gubGVuZ3RoO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlX2lkID0gdXRpbHMudXVpZChcIlRleHR1cmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBXZWJHTFV0aWxzLmNyZWF0ZVRleHR1cmUoZ2wsIGRhdGFfdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmFkZFRleHR1cmUodGhpcy5ncmFwaElELCB0aGlzLl90ZXh0dXJlX2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoZGF0YSksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLl9udW1JdGVtcyA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZSwgXCJ0ZXh0dXJlSURcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlX2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGFydGljbGVFbnRpdHkucHJvdG90eXBlLCBcInBvaW50U2l6ZVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3BvaW50U2l6ZSA9IHY7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB1UG9pbnRTaXplID0gdGhpcy5nZXRVbmlmb3JtKFwidVBvaW50U2l6ZVwiKTtcclxuICAgICAgICAgICAgaWYgKHVQb2ludFNpemUpXHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodVBvaW50U2l6ZSwgdGhpcy5fcG9pbnRTaXplKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX2J1ZmZlcik7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgS2V0Y2guYWN0aXZlVGV4dHVyZSh0aGlzLmdyYXBoSUQsIHRoaXMuX3RleHR1cmVfaWQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlBPSU5UUywgMCwgdGhpcy5fbnVtSXRlbXMgLyAzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnRpY2xlRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBLZXRjaC5kaXNhYmxlQXR0cmliKHRoaXMuZ3JhcGhJRCwgXCJhX3Bvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gUGFydGljbGVFbnRpdHk7XHJcbiAgICB9KEVudGl0eSkpO1xyXG4gICAgQmxhemUuUGFydGljbGVFbnRpdHkgPSBQYXJ0aWNsZUVudGl0eTtcclxuICAgIHZhciBMaWdodEFycmF5RW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoTGlnaHRBcnJheUVudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBMaWdodEFycmF5RW50aXR5KGdyYXBoX2lkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fbGlnaHRzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIExpZ2h0QXJyYXlFbnRpdHkucHJvdG90eXBlLmFkZExpZ2h0ID0gZnVuY3Rpb24gKGxpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0cy5wdXNoKGxpZ2h0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIExpZ2h0QXJyYXlFbnRpdHkucHJvdG90eXBlLmdldEFycmF5c09iamVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0cy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHByZXYuYW1iaWVudCA9IHByZXYuYW1iaWVudC5jb25jYXQoaXRlbS5hbWJpZW50KTtcclxuICAgICAgICAgICAgICAgIHByZXYuZGlmZnVzZSA9IHByZXYuZGlmZnVzZS5jb25jYXQoaXRlbS5kaWZmdXNlKTtcclxuICAgICAgICAgICAgICAgIHByZXYuc3BlY3VsYXIgPSBwcmV2LnNwZWN1bGFyLmNvbmNhdChpdGVtLnNwZWN1bGFyKTtcclxuICAgICAgICAgICAgICAgIHByZXYuZGlyZWN0aW9uID0gcHJldi5kaXJlY3Rpb24uY29uY2F0KGl0ZW0uZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIHByZXYuY3V0b2ZmID0gcHJldi5jdXRPZmYuY29uY2F0KGl0ZW0uY3V0b2ZmKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBhbWJpZW50OiBbXSxcclxuICAgICAgICAgICAgICAgIGRpZmZ1c2U6IFtdLFxyXG4gICAgICAgICAgICAgICAgc3BlY3VsYXI6IFtdLFxyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBbXSxcclxuICAgICAgICAgICAgICAgIGN1dG9mZjogW11cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMaWdodEFycmF5RW50aXR5LnByb3RvdHlwZS5iZWdpbkRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9saWdodHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVOdW1MaWdodHMgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TnVtTGlnaHRzXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVOdW1MaWdodHMpXHJcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTEodU51bUxpZ2h0cywgdGhpcy5fbGlnaHRzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlnaHRzID0gdGhpcy5nZXRBcnJheXNPYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIGlmIChsaWdodHMuYW1iaWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TGlnaHRBbWJpZW50ID0gdGhpcy5nZXRVbmlmb3JtKFwidUxpZ2h0QW1iaWVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodUxpZ2h0QW1iaWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRBbWJpZW50LCBsaWdodHMuYW1iaWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRzLmRpZmZ1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdUxpZ2h0RGlmZnVzZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodERpZmZ1c2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVMaWdodERpZmZ1c2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodUxpZ2h0RGlmZnVzZSwgbGlnaHRzLmRpZmZ1c2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0cy5zcGVjdWxhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1TGlnaHRTcGVjdWxhciA9IHRoaXMuZ2V0VW5pZm9ybShcInVMaWdodFNwZWN1bGFyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1TGlnaHRTcGVjdWxhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmdih1TGlnaHRTcGVjdWxhciwgbGlnaHRzLnNwZWN1bGFyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChsaWdodHMuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVEaXJlY3Rpb24gPSB0aGlzLmdldFVuaWZvcm0oXCJ1TGlnaHREaXJlY3Rpb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVEaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYodURpcmVjdGlvbiwgbGlnaHRzLmRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobGlnaHRzLmN1dG9mZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1Q3V0T2ZmID0gdGhpcy5nZXRVbmlmb3JtKFwidUN1dE9mZlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodUN1dE9mZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVDdXRPZmYsIGxpZ2h0cy5jdXRvZmYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gTGlnaHRBcnJheUVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5MaWdodEFycmF5RW50aXR5ID0gTGlnaHRBcnJheUVudGl0eTtcclxuICAgIHZhciBDYW1lcmFFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhDYW1lcmFFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FtZXJhRW50aXR5KGdyYXBoX2lkLCB0eXBlKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGUgfHwgQ0FNRVJBX1RZUEUuT1JCSVRJTkc7XHJcbiAgICAgICAgICAgIHRoaXMuX2NtYXRyaXggPSBtYXQ0LmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX2NtYXRyaXgpO1xyXG4gICAgICAgICAgICB0aGlzLl91cCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0ID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fbm9ybWFsID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9hemltdXRoID0gMC4wO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gPSAwLjA7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0ZXBzID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbWVyYUVudGl0eS5wcm90b3R5cGUsIFwidHlwZVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJhemltdXRoXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYXppbXV0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoYXopIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wX2F6ID0gYXogLSB0aGlzLl9hemltdXRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VBemltdXRoKHRlbXBfYXopO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmNoYW5nZUF6aW11dGggPSBmdW5jdGlvbiAoYXopIHtcclxuICAgICAgICAgICAgdGhpcy5fYXppbXV0aCArPSBhejtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2F6aW11dGggPiAzNjAgfHwgdGhpcy5fYXppbXV0aCA8IC0zNjApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2F6aW11dGggPSB0aGlzLl9hemltdXRoICUgMzYwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJlbGV2YXRpb25cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbGV2YXRpb247XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcF9lbCA9IGVsIC0gdGhpcy5fZWxldmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VFbGV2YXRpb24odGVtcF9lbCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuY2hhbmdlRWxldmF0aW9uID0gZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VsZXZhdGlvbiArPSBlbDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VsZXZhdGlvbiA+IDM2MCB8fCB0aGlzLl9lbGV2YXRpb24gPCAtMzYwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGV2YXRpb24gPSB0aGlzLl9lbGV2YXRpb24gJSAzNjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYW1lcmFFbnRpdHkucHJvdG90eXBlLCBcInpvb21cIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGVwcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBwID0gdGhpcy5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIHZhciBzdGVwID0gb2Zmc2V0IC0gdGhpcy5fc3RlcHM7XHJcbiAgICAgICAgICAgICAgICB2ZWMzLm5vcm1hbGl6ZSh0aGlzLl9ub3JtYWwsIG4pO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld19wb3NpdGlvbiA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMF0gPSBwWzBdIC0gc3RlcCAqIG5bMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzFdID0gcFsxXSAtIHN0ZXAgKiBuWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblsyXSA9IHBbMl0gLSBzdGVwICogblsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld19wb3NpdGlvblswXSA9IHBbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3X3Bvc2l0aW9uWzFdID0gcFsxXTtcclxuICAgICAgICAgICAgICAgICAgICBuZXdfcG9zaXRpb25bMl0gPSBwWzJdIC0gc3RlcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXdfcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGVwcyA9IG9mZnNldDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgQ2FtZXJhRW50aXR5LnByb3RvdHlwZS5jYWxjdWxhdGVPcmllbnRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG0gPSB0aGlzLl9jbWF0cml4O1xyXG4gICAgICAgICAgICBtYXQ0Lm11bHRpcGx5VmVjNChtLCBbMSwgMCwgMCwgMF0sIHRoaXMuX3JpZ2h0KTtcclxuICAgICAgICAgICAgbWF0NC5tdWx0aXBseVZlYzQobSwgWzAsIDEsIDAsIDBdLCB0aGlzLl91cCk7XHJcbiAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KG0sIFswLCAwLCAxLCAwXSwgdGhpcy5fbm9ybWFsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbWVyYUVudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBtYXQ0LmlkZW50aXR5KHRoaXMuX2NtYXRyaXgpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU9yaWVudGF0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90eXBlID09PSBDQU1FUkFfVFlQRS5UUkFDS0lORykge1xyXG4gICAgICAgICAgICAgICAgbWF0NC50cmFuc2xhdGUodGhpcy5fY21hdHJpeCwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgbWF0NC5yb3RhdGVZKHRoaXMuX2NtYXRyaXgsIHRoaXMuX2F6aW11dGggKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWCh0aGlzLl9jbWF0cml4LCB0aGlzLl9lbGV2YXRpb24gKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1hdDQucm90YXRlWSh0aGlzLl9jbWF0cml4LCB0aGlzLl9hemltdXRoICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnJvdGF0ZVgodGhpcy5fY21hdHJpeCwgdGhpcy5fZWxldmF0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBtYXQ0LnRyYW5zbGF0ZSh0aGlzLl9jbWF0cml4LCB0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVPcmllbnRhdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdHlwZSA9PT0gQ0FNRVJBX1RZUEUuVFJBQ0tJTkcpIHtcclxuICAgICAgICAgICAgICAgIG1hdDQubXVsdGlwbHlWZWM0KHRoaXMuX2NtYXRyaXgsIFswLCAwLCAwLCAxXSwgdGhpcy5fcG9zaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2FtZXJhRW50aXR5LnByb3RvdHlwZSwgXCJtb2RlbFZpZXdcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gbWF0NC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIG1hdDQuaW52ZXJzZSh0aGlzLl9jbWF0cml4LCBtKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBDYW1lcmFFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQ2FtZXJhRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkNhbWVyYUVudGl0eSA9IENhbWVyYUVudGl0eTtcclxuICAgIHZhciBBeGlzRW50aXR5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoQXhpc0VudGl0eSwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBBeGlzRW50aXR5KGdyYXBoX2lkLCBkKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgZCA9IGQgfHwgMTAwO1xyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNlcyA9IFswLjAsIDAuMCwgMC4wLCBkLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBkLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBkXTtcclxuICAgICAgICAgICAgdGhpcy5faW5kaWNlcyA9IFswLCAxLCAyLCAzLCA0LCA1XTtcclxuICAgICAgICAgICAgdGhpcy5fY29sb3JzID0gWzEsIDEsIDAsIDEsIDEsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDEsIDAsIDAsIDEsIDEsIDAsIDAsIDEsIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB0aGlzLl92Ym8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZlcnRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICB0aGlzLl9pYm8gPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbmV3IFVpbnQxNkFycmF5KHRoaXMuX2luZGljZXMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NibyA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fY2JvKTtcclxuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fY29sb3JzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXhpc0VudGl0eS5wcm90b3R5cGUuYmVnaW5EcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgdVBlclZlcnRleENvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVBlclZlcnRleENvbG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAodVBlclZlcnRleENvbG9yKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVQZXJWZXJ0ZXhDb2xvciwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl9jYm8pO1xyXG4gICAgICAgICAgICBLZXRjaC5lbmFibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfY29sb3JcIiwgeyBzaXplOiA0IH0pO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCB0aGlzLl9pYm8pO1xyXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuTElORVMsIHRoaXMuX2luZGljZXMubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBeGlzRW50aXR5LnByb3RvdHlwZS5lbmREcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdVdpcmVmcmFtZSA9IHRoaXMuZ2V0VW5pZm9ybShcInVXaXJlZnJhbWVcIik7XHJcbiAgICAgICAgICAgIGlmICh1V2lyZWZyYW1lKVxyXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVXaXJlZnJhbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgdmFyIHVQZXJWZXJ0ZXhDb2xvciA9IHRoaXMuZ2V0VW5pZm9ybShcInVQZXJWZXJ0ZXhDb2xvclwiKTtcclxuICAgICAgICAgICAgaWYgKHVQZXJWZXJ0ZXhDb2xvcilcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1UGVyVmVydGV4Q29sb3IsIGZhbHNlKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgS2V0Y2guZGlzYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9jb2xvclwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBBeGlzRW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLkF4aXNFbnRpdHkgPSBBeGlzRW50aXR5O1xyXG4gICAgdmFyIEdyaWRFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhHcmlkRW50aXR5LCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIEdyaWRFbnRpdHkoZ3JhcGhfaWQsIGQsIGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl9kaW1lc2lvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBkaW06IGQgfHwgNTAsIGxpbmVzOiBlIHx8IDUwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGQoKTtcclxuICAgICAgICAgICAgdGhpcy5fdmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0aGlzLl92ZXJ0aWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5faWJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIHRoaXMuX2libyk7XHJcbiAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG5ldyBVaW50MTZBcnJheSh0aGlzLl9pbmRpY2VzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmMgPSAyICogdGhpcy5fZGltZXNpb25zLmRpbSAvIHRoaXMuX2RpbWVzaW9ucy5saW5lcztcclxuICAgICAgICAgICAgdmFyIHYgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPD0gdGhpcy5fZGltZXNpb25zLmxpbmVzOyBsKyspIHtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGxdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgMV0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDJdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiBsICsgM10gPSB0aGlzLl9kaW1lc2lvbnMuZGltO1xyXG4gICAgICAgICAgICAgICAgdls2ICogbCArIDRdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqIGwgKyA1XSA9IC10aGlzLl9kaW1lc2lvbnMuZGltICsgKGwgKiBpbmMpO1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGxdID0gLXRoaXMuX2RpbWVzaW9ucy5kaW0gKyAobCAqIGluYyk7XHJcbiAgICAgICAgICAgICAgICB2WzYgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyA2ICogbCArIDFdID0gLTAuNTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgMl0gPSAtdGhpcy5fZGltZXNpb25zLmRpbTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgM10gPSAtdGhpcy5fZGltZXNpb25zLmRpbSArIChsICogaW5jKTtcclxuICAgICAgICAgICAgICAgIHZbNiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDYgKiBsICsgNF0gPSAtMC41O1xyXG4gICAgICAgICAgICAgICAgdls2ICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgNiAqIGwgKyA1XSA9IHRoaXMuX2RpbWVzaW9ucy5kaW07XHJcbiAgICAgICAgICAgICAgICBpWzIgKiBsXSA9IDIgKiBsO1xyXG4gICAgICAgICAgICAgICAgaVsyICogbCArIDFdID0gMiAqIGwgKyAxO1xyXG4gICAgICAgICAgICAgICAgaVsyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGxdID0gMiAqICh0aGlzLl9kaW1lc2lvbnMubGluZXMgKyAxKSArIDIgKiBsO1xyXG4gICAgICAgICAgICAgICAgaVsyICogKHRoaXMuX2RpbWVzaW9ucy5saW5lcyArIDEpICsgMiAqIGwgKyAxXSA9IDIgKiAodGhpcy5fZGltZXNpb25zLmxpbmVzICsgMSkgKyAyICogbCArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fdmVydGljZXMgPSB2O1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRpY2VzID0gaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEdyaWRFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIHVNYXRlcmlhbERpZmZ1c2UgPSB0aGlzLmdldFVuaWZvcm0oXCJ1TWF0ZXJpYWxEaWZmdXNlXCIpO1xyXG4gICAgICAgICAgICBpZiAodU1hdGVyaWFsRGlmZnVzZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00ZnYodU1hdGVyaWFsRGlmZnVzZSwgWzAuNywgMC43LCAwLjcsIDFdKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRoaXMuX3Zibyk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZUF0dHJpYih0aGlzLmdyYXBoSUQsIFwiYV9wb3NpdGlvblwiKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdGhpcy5faWJvKTtcclxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLkxJTkVTLCB0aGlzLl9pbmRpY2VzLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgR3JpZEVudGl0eS5wcm90b3R5cGUuZW5kRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHVXaXJlZnJhbWUgPSB0aGlzLmdldFVuaWZvcm0oXCJ1V2lyZWZyYW1lXCIpO1xyXG4gICAgICAgICAgICBpZiAodVdpcmVmcmFtZSlcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1V2lyZWZyYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVBdHRyaWIodGhpcy5ncmFwaElELCBcImFfcG9zaXRpb25cIik7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gR3JpZEVudGl0eTtcclxuICAgIH0oRW50aXR5KSk7XHJcbiAgICBCbGF6ZS5HcmlkRW50aXR5ID0gR3JpZEVudGl0eTtcclxuICAgIHZhciBTZWxlY3RFbnRpdHkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTZWxlY3RFbnRpdHksIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2VsZWN0RW50aXR5KGdyYXBoX2lkLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fY29sb3IgPSB0aGlzLmdlbmVyYXRlVW5pcXVlQ29sb3IoKTtcclxuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZWxlY3RFbnRpdHkucHJvdG90eXBlLCBcImRhdGFcIiwge1xyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kYXRhO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2VsZWN0RW50aXR5LnByb3RvdHlwZSwgXCJjb2xvclwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTZWxlY3RFbnRpdHkucHJvdG90eXBlLmdlbmVyYXRlVW5pcXVlQ29sb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2xvcjtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5zID0gKGZ1bmN0aW9uIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEtldGNoLmdldFNlbGVjdEJ5Q29sb3IodGhpcy5ncmFwaElELCBjb2xvcikgIT0gdm9pZCAwO1xyXG4gICAgICAgICAgICB9KS5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICB2YXIgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICB3aGlsZSAoZm91bmQpIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0gW051bWJlcihNYXRoLnJhbmRvbSgpLnRvRml4ZWQoMikpLCBOdW1iZXIoTWF0aC5yYW5kb20oKS50b0ZpeGVkKDIpKSwgTnVtYmVyKE1hdGgucmFuZG9tKCkudG9GaXhlZCgyKSksIDEuMF07XHJcbiAgICAgICAgICAgICAgICBmb3VuZCA9IGNvbnRhaW5zKGNvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3RFbnRpdHkucHJvdG90eXBlLmJlZ2luRHJhdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKEtldGNoLmlzT2ZmU2NyZWVuKHRoaXMuZ3JhcGhJRCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgICAgICB2YXIgdVNlbGVjdENvbG9yID0gdGhpcy5nZXRVbmlmb3JtKFwidVNlbGVjdENvbG9yXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVTZWxlY3RDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGZ2KHVTZWxlY3RDb2xvciwgdGhpcy5fY29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3RFbnRpdHkucHJvdG90eXBlLmVuZERyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gU2VsZWN0RW50aXR5O1xyXG4gICAgfShFbnRpdHkpKTtcclxuICAgIEJsYXplLlNlbGVjdEVudGl0eSA9IFNlbGVjdEVudGl0eTtcclxuICAgIHZhciBTZWxlY3RvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNlbGVjdG9yLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNlbGVjdG9yKGdyYXBoX2lkLCBkaW1lbnNpb25zKSB7XHJcbiAgICAgICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGdyYXBoX2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyYnVmZmVyID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHRoaXMuX2RpbWVuc2lvbnMud2lkdGgsIHRoaXMuX2RpbWVuc2lvbnMuaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyYnVmZmVyID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCB0aGlzLl9yZW5kZXJidWZmZXIpO1xyXG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfQ09NUE9ORU5UMTYsIHRoaXMuX2RpbWVuc2lvbnMud2lkdGgsIHRoaXMuX2RpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5fZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLl90ZXh0dXJlLCAwKTtcclxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5fcmVuZGVyYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5maWxsID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICBLZXRjaC5maWxsU2VsZWN0b3JCdWZmZXIodGhpcy5ncmFwaElELCBvYmopO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2VsZWN0b3IucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBLZXRjaC5jbGVhclNlbGVjdG9yQnVmZmVyKHRoaXMuZ3JhcGhJRCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTZWxlY3Rvci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChwb3MpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHJlYWRvdXQgPSBuZXcgVWludDhBcnJheSgxICogMSAqIDQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wucmVhZFBpeGVscyhwb3MueCwgcG9zLnksIDEsIDEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHJlYWRvdXQpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICB2YXIgZml4ZWQgPSBbXS5zbGljZS5jYWxsKHJlYWRvdXQpLm1hcChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoKGl0ZW0gLyAyNTUpLnRvRml4ZWQoMikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IEtldGNoLmdldFNlbGVjdEJ5Q29sb3IodGhpcy5ncmFwaElELCBmaXhlZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmogPyBvYmouZGF0YSA6IHZvaWQgMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNlbGVjdG9yLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoZHJhdykge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyKTtcclxuICAgICAgICAgICAgdmFyIHVPZmZzY3JlZW4gPSB0aGlzLmdldFVuaWZvcm0oXCJ1T2Zmc2NyZWVuXCIpO1xyXG4gICAgICAgICAgICBnbC51bmlmb3JtMWkodU9mZnNjcmVlbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmVuYWJsZU9mZlNjcmVlbih0aGlzLmdyYXBoSUQpO1xyXG4gICAgICAgICAgICBkcmF3KCk7XHJcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xaSh1T2Zmc2NyZWVuLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIEtldGNoLmRpc2FibGVPZmZTY3JlZW4odGhpcy5ncmFwaElEKTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBTZWxlY3RvcjtcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuU2VsZWN0b3IgPSBTZWxlY3RvcjtcclxuICAgIDtcclxuICAgIHZhciBFZmZlY3RzID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgICAgICBfX2V4dGVuZHMoRWZmZWN0cywgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBFZmZlY3RzKGdyYXBoX2lkLCBjYW52YXMsIHR5cGUpIHtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgZ3JhcGhfaWQpO1xyXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZnJhbWVidWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJidWZmZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl92Ym8gPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl90Ym8gPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl91bmlmb3JtcyA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuX2F0dHJpYnMgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9ub2lzZXRleHR1cmUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGUgfHwgXCJub1wiO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgICAgICB0aGlzLkdlb21ldHJ5KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5fdGV4dHVyZSk7XHJcbiAgICAgICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xyXG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcclxuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XHJcbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgd2lkdGgsIGhlaWdodCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmJ1ZmZlciA9IGdsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5fcmVuZGVyYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy5fZnJhbWVidWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xyXG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIHRoaXMuX2ZyYW1lYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsIGdsLkNPTE9SX0FUVEFDSE1FTlQwLCBnbC5URVhUVVJFXzJELCB0aGlzLl90ZXh0dXJlLCAwKTtcclxuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX0FUVEFDSE1FTlQsIGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5fcmVuZGVyYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBudWxsKTtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLkdlb21ldHJ5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSBbXHJcbiAgICAgICAgICAgICAgICAtMS4wLCAtMS4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLCAtMS4wLFxyXG4gICAgICAgICAgICAgICAgLTEuMCwgMS4wLFxyXG4gICAgICAgICAgICAgICAgLTEuMCwgMS4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLCAtMS4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLCAxLjBcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgdmFyIHRleHR1cmVDb29yZHMgPSBbXHJcbiAgICAgICAgICAgICAgICAwLjAsIDAuMCxcclxuICAgICAgICAgICAgICAgIDEuMCwgMC4wLFxyXG4gICAgICAgICAgICAgICAgMC4wLCAxLjAsXHJcbiAgICAgICAgICAgICAgICAwLjAsIDEuMCxcclxuICAgICAgICAgICAgICAgIDEuMCwgMC4wLFxyXG4gICAgICAgICAgICAgICAgMS4wLCAxLjBcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgdGhpcy5fdmJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl92Ym8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcyksIGdsLlNUQVRJQ19EUkFXKTtcclxuICAgICAgICAgICAgdGhpcy5fdGJvID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl90Ym8pO1xyXG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheSh0ZXh0dXJlQ29vcmRzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFZmZlY3RzLnByb3RvdHlwZS5zZXRFZmZlY3QgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICB0aGlzLl90eXBlID0gdHlwZSB8fCB0aGlzLl90eXBlO1xyXG4gICAgICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xyXG4gICAgICAgICAgICB2YXIgc291cmNlID0ge307XHJcbiAgICAgICAgICAgIHNvdXJjZS52ZXJ0ZXggPSBTaGFkZXJzLlZlcnRleFtcIkVmZmVjdFwiXTtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLl90eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWxsXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmZyYWdtZW50ID0gU2hhZGVycy5GcmFnbWVudFtcIkFsbF9lZmZlY3RcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW52ZXJ0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmZyYWdtZW50ID0gU2hhZGVycy5GcmFnbWVudFtcIkludmVydF9lZmZlY3RcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ3JleVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5mcmFnbWVudCA9IFNoYWRlcnMuRnJhZ21lbnRbXCJHcmV5X2VmZmVjdFwiXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJibHVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlLmZyYWdtZW50ID0gU2hhZGVycy5GcmFnbWVudFtcIkJsdXJfZWZmZWN0XCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImZpbG1cIjpcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZnJhZ21lbnQgPSBTaGFkZXJzLkZyYWdtZW50W1wiRmlsbV9lZmZlY3RcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwid2F2eVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZS5mcmFnbWVudCA9IFNoYWRlcnMuRnJhZ21lbnRbXCJXYXZ5X2VmZmVjdFwiXTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJub1wiOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZnJhZ21lbnQgPSBTaGFkZXJzLkZyYWdtZW50W1wiTm9fZWZmZWN0XCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaGFkZXIpIHtcclxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVByb2dyYW0odGhpcy5fc2hhZGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9zaGFkZXIgPSBXZWJHTFV0aWxzLmNyZWF0ZVByb2dyYW0oZ2wsIHNvdXJjZSk7XHJcbiAgICAgICAgICAgIHZhciBjb3VudDtcclxuICAgICAgICAgICAgdGhpcy5fYXR0cmlicyA9IHt9O1xyXG4gICAgICAgICAgICBjb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fc2hhZGVyLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF0dHJpYiA9IGdsLmdldEFjdGl2ZUF0dHJpYih0aGlzLl9zaGFkZXIsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXR0cmlic1thdHRyaWIubmFtZV0gPSBnbC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLl9zaGFkZXIsIGF0dHJpYi5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl91bmlmb3JtcyA9IHt9O1xyXG4gICAgICAgICAgICBjb3VudCA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIodGhpcy5fc2hhZGVyLCBnbC5BQ1RJVkVfVU5JRk9STVMpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciB1bmlmb3JtID0gZ2wuZ2V0QWN0aXZlVW5pZm9ybSh0aGlzLl9zaGFkZXIsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdW5pZm9ybXNbdW5pZm9ybS5uYW1lXSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLl9zaGFkZXIsIHVuaWZvcm0ubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLlNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuX2NhbnZhcy53aWR0aDtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuX2NhbnZhcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIHdpZHRoLCBoZWlnaHQsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5fcmVuZGVyYnVmZmVyKTtcclxuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX0NPTVBPTkVOVDE2LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLnNldE5vaXNlVGV4dHVyZSA9IGZ1bmN0aW9uIChkYXRhX3RleHR1cmUpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdGhpcy5fbm9pc2V0ZXh0dXJlID0gV2ViR0xVdGlscy5jcmVhdGVUZXh0dXJlKGdsLCBkYXRhX3RleHR1cmUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRWZmZWN0cy5wcm90b3R5cGUuQmluZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fY2FudmFzLndpZHRoO1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbSh0aGlzLl9zaGFkZXIpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0aGlzLl9hdHRyaWJzLmFfcG9zaXRpb24pO1xyXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGhpcy5fdmJvKTtcclxuICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLl9hdHRyaWJzLmFfcG9zaXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuX2F0dHJpYnMuYV90ZXh0dXJlX2Nvb3Jkcyk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0aGlzLl90Ym8pO1xyXG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRoaXMuX2F0dHJpYnMuYV90ZXh0dXJlX2Nvb3JkcywgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XHJcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX3RleHR1cmUpO1xyXG4gICAgICAgICAgICBnbC51bmlmb3JtMWkodGhpcy5fdW5pZm9ybXMudVNhbXBsZXIsIDApO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fdW5pZm9ybXMudVRpbWUpIHtcclxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZih0aGlzLl91bmlmb3Jtcy51VGltZSwgKERhdGUubm93KCkgLSB0aGlzLl9zdGFydCkgLyAxMDAwLjApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl91bmlmb3Jtcy51SW52ZXJzZVRleHR1cmVTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodGhpcy5fdW5pZm9ybXMudUludmVyc2VUZXh0dXJlU2l6ZSwgMS4wIC8gd2lkdGgsIDEuMCAvIGhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuX3VuaWZvcm1zLnVOb2lzZVNhbXBsZXIgJiYgdGhpcy5fbm9pc2V0ZXh0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUxKTtcclxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuX25vaXNldGV4dHVyZSk7XHJcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWkodGhpcy5fdW5pZm9ybXMudU5vaXNlU2FtcGxlciwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLmJpbmRGcmFtZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCB0aGlzLl9mcmFtZWJ1ZmZlcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBFZmZlY3RzLnByb3RvdHlwZS51bmJpbmRGcmFtZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGdsID0gdGhpcy5nbDtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEVmZmVjdHMucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCA2KTtcclxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgICAgICAgICBnbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5fYXR0cmlicy5hX3Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuX2F0dHJpYnMuYV90ZXh0dXJlX2Nvb3Jkcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRWZmZWN0cztcclxuICAgIH0oUmVuZGVyYWJsZSkpO1xyXG4gICAgQmxhemUuRWZmZWN0cyA9IEVmZmVjdHM7XHJcbiAgICB2YXIgTm9kZUVsZW1lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIE5vZGVFbGVtZW50KHBhcmVudCwgdHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudE5vZGUgPSBwYXJlbnQ7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnROb2RlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZS5hZGRDaGlsZE5vZGUodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIHRoaXMuX29pZCA9IHV0aWxzLnV1aWQodGhpcy5fdHlwZSB8fCB0aGlzLmNvbnN0cnVjdG9yLm5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm9kZUVsZW1lbnQucHJvdG90eXBlLCBcInBhcmVudFwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb2RlRWxlbWVudC5wcm90b3R5cGUsIFwiZW50aXR5XCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZW50aXR5O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eSA9IGVudGl0eTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vZGVFbGVtZW50LnByb3RvdHlwZSwgXCJjaGlsZE5vZGVzXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2hpbGROb2RlcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmFkZENoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGlsZE5vZGVzLnB1c2goY2hpbGQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoY2hpbGQpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NoaWxkTm9kZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5nZXRDaGlsZE5vZGVCeUluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzW2luZGV4XSB8fCB2b2lkIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuZXhpc3RzQ2hpbGROb2RlID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaGlsZE5vZGVzW2luZGV4XSAhPT0gdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFyZW50Tm9kZS5yZW1vdmVDaGlsZE5vZGUodGhpcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ2hpbGROb2RlID0gZnVuY3Rpb24gKHR5cGUsIGVudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVFbGVtZW50KHRoaXMsIHR5cGUsIGVudGl0eSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUuaXNSb290ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyZW50Tm9kZSA9PT0gdm9pZCAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiAoY2hpbGQpIHtcclxuICAgICAgICAgICAgdmFyIG9pZCA9IGNoaWxkLm9pZDtcclxuICAgICAgICAgICAgcmV0dXJuIF8uZmluZEluZGV4KHRoaXMuX2NoaWxkTm9kZXMsIGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLm9pZCA9PT0gb2lkOyB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5pbmRleEluUGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpKVxyXG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLl9wYXJlbnROb2RlLmluZGV4T2YodGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5oYXNTaWJsaW5nID0gZnVuY3Rpb24gKHByZXYpIHtcclxuICAgICAgICAgICAgdmFyIF9oYXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Jvb3QoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4IC0gMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGF2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFyZW50Tm9kZS5nZXRDaGlsZE5vZGVCeUluZGV4KGluZGV4ICsgMSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGF2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfaGF2ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5uZXh0U2libGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNSb290KCkgJiYgdGhpcy5oYXNTaWJsaW5nKCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX3BhcmVudE5vZGUuaW5kZXhPZih0aGlzKTtcclxuICAgICAgICAgICAgICAgIHNpYmxpbmcgPSB0aGlzLl9wYXJlbnROb2RlLmdldENoaWxkTm9kZUJ5SW5kZXgoaW5kZXggKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc2libGluZztcclxuICAgICAgICB9O1xyXG4gICAgICAgIE5vZGVFbGVtZW50LnByb3RvdHlwZS5wcmV2aW91c1NpYmxpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCgpICYmIHRoaXMuaGFzU2libGluZyh0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fcGFyZW50Tm9kZS5pbmRleE9mKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2libGluZyA9IHRoaXMuX3BhcmVudE5vZGUuZ2V0Q2hpbGROb2RlQnlJbmRleChpbmRleCAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmZpcnN0Q2hpbGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkTm9kZUJ5SW5kZXgoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUubGFzdENoaWxkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZE5vZGVCeUluZGV4KHRoaXMuX2NoaWxkTm9kZXMubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBOb2RlRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGROb2RlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fY2hpbGROb2RlcyA9IFtdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgTm9kZUVsZW1lbnQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAobWF0cml4U3RhY2spIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VudGl0eSlcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VudGl0eS5iZWdpbkRyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2NoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuX2NoaWxkTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICBjaGlsZC5kcmF3KG1hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5fZW50aXR5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW50aXR5LmVuZERyYXcobWF0cml4U3RhY2spO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE5vZGVFbGVtZW50O1xyXG4gICAgfSgpKTtcclxuICAgIEJsYXplLk5vZGVFbGVtZW50ID0gTm9kZUVsZW1lbnQ7XHJcbiAgICB2YXIgU2NlbmVHcmFwaCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNjZW5lR3JhcGgsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2NlbmVHcmFwaCgpIHtcclxuICAgICAgICAgICAgdmFyIG9pZCA9IHV0aWxzLnV1aWQoKTtcclxuICAgICAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgb2lkKTtcclxuICAgICAgICAgICAgdGhpcy5fb2lkID0gb2lkO1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZSA9IG5ldyBOb2RlRWxlbWVudCh2b2lkIDAsIFwiU2NlbmVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuX21hdHJpeFN0YWNrID0gbmV3IE1hdHJpeFN0YWNrKHRoaXMuX29pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckJ1ZmZlciA9IFtdO1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVWaWV3KHRoaXMuX29pZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTY2VuZUdyYXBoLnByb3RvdHlwZSwgXCJzY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5FbnZpcm9ubWVudCA9IGZ1bmN0aW9uIChiKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIGIgPSBiIHx8IFtdO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuREVQVEhfVEVTVCk7XHJcbiAgICAgICAgICAgIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xyXG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xyXG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcclxuICAgICAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyQ29sb3IoYlswXSB8fCAwLCBiWzFdIHx8IDAsIGJbMl0gfHwgMCwgMSk7XHJcbiAgICAgICAgICAgIGdsLmNsZWFyRGVwdGgoMS4wKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VmZmVjdHMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1dpdGhFZmZlY3RzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTY2VuZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5kcmF3U2NlbmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XHJcbiAgICAgICAgICAgIHRoaXMudXNlUHJvZ3JhbSgpO1xyXG4gICAgICAgICAgICB2YXIgZHJhdyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBnbC52aWV3cG9ydFdpZHRoLCBnbC52aWV3cG9ydEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUIHwgZ2wuREVQVEhfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zY2VuZS5kcmF3KHRoaXMuX21hdHJpeFN0YWNrKTtcclxuICAgICAgICAgICAgfSkuYmluZCh0aGlzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rvci5yZW5kZXIoZHJhdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZHJhdygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuZHJhd1dpdGhFZmZlY3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzLlNpemUoKTtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cy5iaW5kRnJhbWVCdWZmZXIoKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3U2NlbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cy51bmJpbmRGcmFtZUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RzLkJpbmQoKTtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cy5kcmF3KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS51c2VQcm9ncmFtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBLZXRjaC51c2VQcm9ncmFtKHRoaXMub2lkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAodHlwZSwgZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zY2VuZS5jcmVhdGVDaGlsZE5vZGUodHlwZSwgZW50aXR5KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLnJlbW92ZU1haW5DaGlsZE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zY2VuZS5yZW1vdmVDaGlsZE5vZGUobm9kZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwib2lkXCIsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2lkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgICAgICBLZXRjaC5zZXRDYW52YXNUb0NvbnRleHQodGhpcy5vaWQsIGNhbnZhcyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5Qcm9ncmFtID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGUgfHwgXCJQaG9uZ1wiO1xyXG4gICAgICAgICAgICBLZXRjaC5jcmVhdGVQcm9ncmFtKHRoaXMuX29pZCwge1xyXG4gICAgICAgICAgICAgICAgZnJhZ21lbnQ6IFNoYWRlcnMuRnJhZ21lbnRbdHlwZV0gfHwgU2hhZGVycy5GcmFnbWVudFtcIlBob25nXCJdLFxyXG4gICAgICAgICAgICAgICAgdmVydGV4OiBTaGFkZXJzLlZlcnRleFt0eXBlXSB8fCBTaGFkZXJzLlZlcnRleFtcIlBob25nXCJdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTWVzaCA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2hFbnRpdHkgPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCk7XHJcbiAgICAgICAgICAgIGlmIChjb25maWcubWVzaCkge1xyXG4gICAgICAgICAgICAgICAgbWVzaEVudGl0eS5sb2FkTWVzaEJ5T2JqZWN0KGNvbmZpZy5tZXNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29uZmlnLm1hdGVyaWFsKSB7XHJcbiAgICAgICAgICAgICAgICBtZXNoRW50aXR5LmxvYWRNYXRlcmlhbEJ5T2JqZWN0KGNvbmZpZy5tYXRlcmlhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG1lc2hFbnRpdHk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVEaWZmdXNlID0gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEaWZmdXNlRW50aXR5KHRoaXMub2lkLCB2KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZU1lc2hCeUxvYWRlciA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICAgICAgdmFyIG1lc2ggPSBuZXcgTWVzaEVudGl0eSh0aGlzLm9pZCwgY29uZmlnLm1lc2gsIGNvbmZpZy5tYXRlcmlhbCwgY29uZmlnLnRleHR1cmUpO1xyXG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJCdWZmZXIucHVzaChtZXNoKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1lc2g7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAocG9zaXRpb24sIHNpemUsIHJvdGF0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVHJhbnNmb3JtRW50aXR5KHRoaXMub2lkLCBwb3NpdGlvbiwgc2l6ZSwgcm90YXRpb24pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlTGlnaHQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaHRFbnRpdHkodGhpcy5vaWQsIGNvbmZpZy5hbWJpZW50LCBjb25maWcuZGlmZnVzZSwgY29uZmlnLnBvc2l0aW9uLCBjb25maWcuc3BlY3VsYXIsIGNvbmZpZy5kaXJlY3Rpb24sIGNvbmZpZy5jdXRvZmYpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYW1lcmFFbnRpdHkodGhpcy5vaWQsIHR5cGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlUGFydGljbGUgPSBmdW5jdGlvbiAocG9pbnRTaXplKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFydGljbGVFbnRpdHkodGhpcy5vaWQsIHBvaW50U2l6ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVBeGlzID0gZnVuY3Rpb24gKGxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEF4aXNFbnRpdHkodGhpcy5vaWQsIGxlbmd0aCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcmlkID0gZnVuY3Rpb24gKGRpbSwgbGluZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBHcmlkRW50aXR5KHRoaXMub2lkLCBkaW0sIGxpbmVzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVNlbGVjdCA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VsZWN0RW50aXR5KHRoaXMub2lkLCBkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZVNlbGVjdG9yID0gZnVuY3Rpb24gKGRpbWVuc2lvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBuZXcgU2VsZWN0b3IodGhpcy5vaWQsIGRpbWVuc2lvbnMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuZmlsbFNlbGVjdG9yID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlbGVjdG9yLmZpbGwob2JqKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY2xlYXJTZWxlY3RvciA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3NlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3Rvci5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbiAocG9zKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdG9yLmZpbmQocG9zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuY3JlYXRlRWZmZWN0cyA9IGZ1bmN0aW9uIChjYW52YXMsIHR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0cyA9IG5ldyBFZmZlY3RzKHRoaXMub2lkLCBjYW52YXMsIHR5cGUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2V0Tm9pc2VFZmZlY3QgPSBmdW5jdGlvbiAodGV4dHVyZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZWZmZWN0cylcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VmZmVjdHMuc2V0Tm9pc2VUZXh0dXJlKHRleHR1cmUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUuc2V0RWZmZWN0ID0gZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2VmZmVjdHMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lZmZlY3RzLnNldEVmZmVjdCh0eXBlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFNjZW5lR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxpZ2h0QXJyYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGlnaHRBcnJheUVudGl0eSh0aGlzLm9pZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2NlbmVHcmFwaC5wcm90b3R5cGUsIFwiTWFpbkNhbWVyYVwiLCB7XHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGNhbWVyYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0cml4U3RhY2suTWFpbkNhbWVyYSA9IGNhbWVyYTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgU2NlbmVHcmFwaC5wcm90b3R5cGUucmVtb3ZlVGV4dHVyZSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBLZXRjaC5yZW1vdmVUZXh0dXJlKHRoaXMub2lkLCBpZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5zdGFydExvYWRlciA9IGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICBhc3luYy5lYWNoU2VyaWVzKHRoaXMuX2xvYWRlckJ1ZmZlciwgZnVuY3Rpb24gKGl0ZW0sIG5leHQpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0ubG9hZE1lc2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCBjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmUgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xyXG4gICAgICAgICAgICBzZWxmLkVudmlyb25tZW50KGNvbmZpZy5iYWNrZ3JvdW5kKTtcclxuICAgICAgICAgICAgc2VsZi5Qcm9ncmFtKGNvbmZpZy50eXBlU2hhZGVyKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0QXR0cmlidXRlTG9jYXRpb25zKHNlbGYuX29pZCwgU2NlbmVHcmFwaC5BVFRSSUJVVEVTKTtcclxuICAgICAgICAgICAgS2V0Y2guc2V0VW5pZm9ybUxvY2F0aW9ucyhzZWxmLl9vaWQsIFNjZW5lR3JhcGguVU5JRk9STVMpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYXRyaXhTdGFjay5pbml0KCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLnByb3RvdHlwZS5jb25maWd1cmVXaXRoTG9hZGVyID0gZnVuY3Rpb24gKGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgICAgc2VsZi5jb25maWd1cmUoKTtcclxuICAgICAgICAgICAgc2VsZi5zdGFydExvYWRlcihjYik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBTY2VuZUdyYXBoLlVOSUZPUk1TID0gW1xyXG4gICAgICAgICAgICAndVBNYXRyaXgnLFxyXG4gICAgICAgICAgICAndU1WTWF0cml4JyxcclxuICAgICAgICAgICAgJ3VOTWF0cml4JyxcclxuICAgICAgICAgICAgXCJ1TGlnaHRQb3NpdGlvblwiLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlyZWN0aW9uJyxcclxuICAgICAgICAgICAgXCJ1Q3V0T2ZmXCIsXHJcbiAgICAgICAgICAgICd1TGlnaHRBbWJpZW50JyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbEFtYmllbnQnLFxyXG4gICAgICAgICAgICAndUxpZ2h0RGlmZnVzZScsXHJcbiAgICAgICAgICAgICd1TWF0ZXJpYWxEaWZmdXNlJyxcclxuICAgICAgICAgICAgJ3VMaWdodFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VNYXRlcmlhbFNwZWN1bGFyJyxcclxuICAgICAgICAgICAgJ3VTaGluaW5lc3MnLFxyXG4gICAgICAgICAgICAndVBvaW50U2l6ZScsXHJcbiAgICAgICAgICAgIFwidVNhbXBsZXJcIixcclxuICAgICAgICAgICAgXCJ1V2lyZWZyYW1lXCIsXHJcbiAgICAgICAgICAgIFwidVBlclZlcnRleENvbG9yXCIsXHJcbiAgICAgICAgICAgIFwidVNlbGVjdENvbG9yXCIsXHJcbiAgICAgICAgICAgIFwidU9mZnNjcmVlblwiLFxyXG4gICAgICAgICAgICBcInVJbnZlcnNlVGV4dHVyZVNpemVcIixcclxuICAgICAgICAgICAgXCJ1Tm9pc2VTYW1wbGVyXCIsXHJcbiAgICAgICAgICAgIFwidVRpbWVcIixcclxuICAgICAgICAgICAgXCJ1TnVtTGlnaHRzXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIFNjZW5lR3JhcGguQVRUUklCVVRFUyA9IFsnYV9wb3NpdGlvbicsICdhX25vcm1hbCcsIFwiYV9jb2xvclwiLCBcImFfdGV4dHVyZV9jb29yZHNcIl07XHJcbiAgICAgICAgcmV0dXJuIFNjZW5lR3JhcGg7XHJcbiAgICB9KFJlbmRlcmFibGUpKTtcclxuICAgIEJsYXplLlNjZW5lR3JhcGggPSBTY2VuZUdyYXBoO1xyXG59KShCbGF6ZSB8fCAoQmxhemUgPSB7fSkpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
