function saveLocal(n,e){localStorage[n]=JSON.stringify(e)}function getJSONLocal(n){var e=null;try{var t=localStorage[n];void 0!==t&&(e=JSON.parse(t))}catch(o){}return e}function deleteLocal(n){localStorage.removeItem(n)}function ClosureMessage(n){return function(e){return function(){e(n)}}}function emptyOrUndefined(n){return void 0==n||""===n}function RandPosition(n){var e=n||{min:0,max:100},t=chance.floating(e),o=chance.floating(e),a=chance.floating(e);return[t,o,a]}function RandColor(n){var e=n||{min:0,max:1,fixed:2},t=chance.floating(e),o=chance.floating(e),a=chance.floating(e);return[t,o,a,1]}function RandSize(n){var e=n||{min:.1,max:2,fixed:1},t=chance.floating(e);return[t,t,t]}function RandRotation(n){var e=Number(chance.bool()),t=Number(chance.bool()),o=Number(chance.bool());return{angle:chance.integer({min:0,max:360}),axis:[e,t,o]}}function generate(n){return function(){var e=chance.integer({min:0,max:100});return Array.apply(0,Array(e)).map(n)}}var app=angular.module("Application",["ui.router","ngResource","ngAnimate","ngMaterial","alexandra"]);!function(n){try{n=angular.module("Application")}catch(e){n=angular.module("Application",[])}n.run(["$templateCache",function(n){n.put("/views/main.html",'\n<md-toolbar class="md-accent md-whiteframe-1dp">\n    <div class="md-toolbar-tools">\n        <md-menu flex="5">\n            <md-button aria-label="Type Stats" class="md-icon-button button-stats" ng-click="openMenu($mdOpenMenu, $event)">\n                <md-icon md-menu-origin md-font-icon="mdi-chart-areaspline" class="mdi"></md-icon>\n            </md-button>\n            <md-menu-content width="4">\n                <md-menu-item>\n                    <md-button ui-sref="app.normal">\n                        <md-icon md-font-icon="mdi-chart-bubble" class="mdi"></md-icon>\n                        Normal\n                    </md-button>\n                </md-menu-item>\n                <md-menu-item>\n                    <md-button  ui-sref="app.slider">\n                        <md-icon md-font-icon="mdi-clock-start" class="mdi"></md-icon>\n                        Slider\n                    </md-button>\n                </md-menu-item>\n                <md-menu-divider></md-menu-divider>\n                <md-menu-item>\n                    <md-button  ui-sref="app.player">\n                        <md-icon md-font-icon="mdi-play-box-outline" class="mdi"></md-icon>\n                        Player\n                    </md-button>\n                </md-menu-item>\n                <md-menu-item>\n                    <md-button  ui-sref="app.heightmap">\n                        <md-icon md-font-icon="mdi-airplane-landing" class="mdi"></md-icon>\n                        Height Map\n                    </md-button>\n                </md-menu-item>\n                 <md-menu-item>\n                    <md-button  ui-sref="app.special">\n                        <md-icon md-font-icon="mdi-castle" class="mdi"></md-icon>\n                        Special\n                    </md-button>\n                </md-menu-item>\n            </md-menu-content>\n        </md-menu>\n        \n        <h2>\n            <span>Pickyourday 3D</span>\n        </h2>\n        <span flex></span>\n        <md-button aria-label="logout" class="md-icon-button button-power" style="margin-right: 0px;" ng-click="logout()">\n            <md-icon md-font-icon="mdi-power" class="mdi"></md-icon>\n        </md-button>\n    </div>\n</md-toolbar>\n\n\n<div ui-view="content"></div>')}])}(),function(n){try{n=angular.module("Application")}catch(e){n=angular.module("Application",[])}n.run(["$templateCache",function(n){n.put("/views/height-map/main.html",'<md-progress-linear md-mode="indeterminate" ng-if="loading"></md-progress-linear>\n<div class="player-content" layout="row">\n    <canvas alexandra-view data-id="view_1" alexandra-config="config" alexandra-source="data" width="800" height="600"></canvas>\n    <div flex="35" layout="column" layout-align="center strech">\n        <div>\n            <md-slider-container>\n               \n                <md-slider class="md-primary" md-discrete step="1" min="1" max="30" aria-label="rating" ng-show="!loading" ng-model="index" ng-change="select()">\n                </md-slider>\n            </md-slider-container>\n        </div>\n    </div>\n</div>')}])}(),function(n){try{n=angular.module("Application")}catch(e){n=angular.module("Application",[])}n.run(["$templateCache",function(n){n.put("/views/login/main.html",'<div layout="column" layout-align="center center">\n\n\n\n    <md-card>\n        <md-card-title>\n            <md-card-title-text>\n                <span class="md-headline">Pickyourday 3D</span>\n\n            </md-card-title-text>\n\n        </md-card-title>\n        <md-card-content layout="column">\n\n\n            <md-input-container class="md-primary md-raised md-hue-2">\n                <label>Email</label>\n                <input ng-model="user.email" type="email">\n            </md-input-container>\n\n            <md-input-container class="md-primary md-raised md-hue-2">\n                <label>Password</label>\n                <input ng-model="user.password" type="password">\n            </md-input-container>\n        </md-card-content>\n        <md-card-actions layout="row" layout-align="center center">\n            <md-button class="md-primary  md-raised md-hue-2" ng-click="login()">Login</md-button>\n\n        </md-card-actions>\n    </md-card>\n\n\n</div>')}])}(),function(n){try{n=angular.module("Application")}catch(e){n=angular.module("Application",[])}n.run(["$templateCache",function(n){n.put("/views/normal/main.html",'<md-progress-linear md-mode="indeterminate" ng-if="loading"></md-progress-linear>\n\n<canvas alexandra-view data-id="view_1" alexandra-config="config" alexandra-source="data" width="800" height="500"></canvas>\n<div layout="row">\n\n    <md-select flex="20" ng-model="selected.statType"  flex-offset="5" placeholder="Selecciona x/y/z" ng-change="changeStatType()">\n\n        <md-option value="pick">Estado de Pick/Cantidad/Servicio</md-option>\n\n        <md-option value="score">Valoraci√≥n/Cantidad/Servicio</md-option>\n        <md-option value="money">Empleado/Dinero/Servicio</md-option>\n        <md-option value="work">Empleado/Tiempo Trabajado/Servicio</md-option>\n    </md-select>\n\n    <div ng-show="statsTime" flex layout="row" flex-offset="5">\n        <p flex="20">X: {{selectedInfo[0]||\'N/A\'}}</p>\n        <p flex="10">Y: {{selectedInfo[1] || \'0\'}}</p>\n        <p flex="20">Z: {{selectedInfo[2]||\'N/A\'}}</p>\n    </div>\n\n\n</div>')}])}(),function(n){try{n=angular.module("Application")}catch(e){n=angular.module("Application",[])}n.run(["$templateCache",function(n){n.put("/views/player/main.html",'<md-progress-linear md-mode="indeterminate" ng-if="loading"></md-progress-linear>\n<div class="player-content" layout="row">\n    <canvas alexandra-view data-id="view_1" alexandra-config="config" alexandra-source="data" width="800" height="600"></canvas>\n    <div flex="35" layout="column" layout-align="center strech">\n        <div flex layout="row" layout-align="center center">\n            <md-button ng-click="play()" ng-if="!loading&&!playing">\n                <md-icon md-font-icon="mdi-play" class="mdi"></md-icon>\n                Play\n            </md-button>\n            \n            <md-button ng-click="stop()" ng-if="playing">\n                <md-icon md-font-icon="mdi-stop" class="mdi"></md-icon>\n                Stop\n            </md-button>\n        </div>\n\n        <div>\n            <md-slider-container>\n               <span class="md-body-1">{{values.index}}</span>\n                <md-slider class="md-primary" md-discrete step="1" min="1" max="30" aria-label="rating" ng-show="!loading" ng-model="values.index" ng-disabled="true">\n                </md-slider>\n            </md-slider-container>\n        </div>\n    </div>\n\n</div>\n\n\n')}])}(),function(n){try{n=angular.module("Application")}catch(e){n=angular.module("Application",[])}n.run(["$templateCache",function(n){n.put("/views/slider/main.html",'<md-progress-linear md-mode="indeterminate" ng-if="loading"></md-progress-linear>\n<div class="player-content" layout="row">\n    <canvas alexandra-view data-id="view_1" alexandra-config="config" alexandra-source="data" width="800" height="600"></canvas>\n</div>')}])}(),function(n){try{n=angular.module("Application")}catch(e){n=angular.module("Application",[])}n.run(["$templateCache",function(n){n.put("/views/special/main.html","")}])}(),angular.module("Application").run(["$rootScope","$mdToast","$state",function(n,e,t){n.showToast=function(n){e.show(e.simple().textContent(n).theme("pick-theme").hideDelay(3e3))},n.go=function(n,e){t.go(n,e)}}]),angular.module("Application").config(["$stateProvider","$urlRouterProvider","$httpProvider","$mdThemingProvider",function(n,e,t,o){n.state("login",{url:"/login",onEnter:["$rootScope",function(n){getJSONLocal("user")&&n.go("app.player")}],templateUrl:"/views/login/main.html",controller:"LoginCtrl"}).state("app",{url:"/",onEnter:["$rootScope",function(n){getJSONLocal("user")||n.go("login")}],templateUrl:"/views/main.html",controller:"AppCtrl","abstract":!0}).state("app.normal",{url:"normal",onEnter:["$rootScope",function(n){getJSONLocal("user")||n.go("login")}],views:{content:{templateUrl:"/views/normal/main.html",controller:"NormalCtrl"}}}).state("app.slider",{url:"slider",onEnter:["$rootScope",function(n){getJSONLocal("user")||n.go("login")}],views:{content:{templateUrl:"/views/slider/main.html",controller:"SliderCtrl"}}}).state("app.player",{url:"player",onEnter:["$rootScope",function(n){getJSONLocal("user")||n.go("login")}],views:{content:{templateUrl:"/views/player/main.html",controller:"PlayerCtrl"}}}).state("app.heightmap",{url:"height-map",onEnter:["$rootScope",function(n){getJSONLocal("user")||n.go("login")}],views:{content:{templateUrl:"/views/height-map/main.html",controller:"HeightMapCtrl"}}}).state("app.special",{url:"special",onEnter:["$rootScope",function(n){getJSONLocal("user")||n.go("login")}],views:{content:{templateUrl:"/views/special/main.html",controller:"SpecialCtrl"}}}),e.otherwise("/login"),t.interceptors.push("AuthInterceptor"),o.theme("default").backgroundPalette("teal",{"default":"500","hue-1":"100","hue-2":"600","hue-3":"A100"}).primaryPalette("lime",{"default":"400","hue-1":"100","hue-2":"600","hue-3":"A100"}).accentPalette("teal",{"default":"500"})}]),angular.module("Application").controller("AppCtrl",["$rootScope","$scope","OauthService",function(n,e,t){e.openMenu=function(n,e){originatorEv=e,n(e)},e.logout=function(){t.logout().Session(function(){deleteLocal("user"),n.go("login")},function(){})}}]),angular.module("Application").controller("HeightMapCtrl",["$scope","CompanyService","$alexandraModel",function(n,e,t){n.loading=!0,n.config={type:"custom",engine:"phong_positional",axis:!0,axisLength:500,streaming:!0,background:[.3,.3,.3],grid:!0,gridConfig:{lines:60,dim:500},light:{direction:[-1,-1,-1]},colortype:"variable"};var o={};n.index=1,e.Pick().stats(function(e){n.loading=!1,o=e.data.plane,i()}),n.select=function(){i()};var a=RandColor(),i=function(){var e=o.vertices,i=n.index-1,r=e[i];n.data={mesh:t.Plane({height:o.height,width:o.width,w_s:o.vWidth,h_s:o.vHeight},function(n,e,t){var o=e.x,a=e.z,i=e.y,l=_.find(r,function(n){return n.key==t});return l&&(a=l.y),n.push(o),n.push(a),n.push(i),n}),position:[50,0,50],color:a}}}]),angular.module("Application").controller("LoginCtrl",["$rootScope","$scope","OauthService","RequestService",function(n,e,t,o){e.user={email:"",password:""},e.login=function(){async.waterfall([function(n){var t=emptyOrUndefined(e.user.email),o=emptyOrUndefined(e.user.password);t||o?t?n("Email Empty"):o&&n("Password Empty"):n()},function(n){t.login().Session(e.user,function(e){return e.error?n(e.error):void n(null,e.data)},o.ServerNotFound(n))},function(n,e){t.role().check({role:n.role},function(t){return t.error?e(t.error):void(2==t.data?e(null,n):o.NoRoleAuthorized(e)())},o.ServerNotFound(e))}],function(e,t){return e?n.showToast(e):(saveLocal("user",t),void n.go("app.normal"))})}}]),angular.module("Application").controller("NormalCtrl",["$scope","CompanyService","StatsService","$alexandraModel",function(n,e,t,o){n.loading=!0,n.data=[],n.selectedInfo={},n.selected={statType:"no"},n.statsTime=!1;var a=[];n.config={colortype:"variable",type:"custom",axis:!0,axisLength:500,streaming:!0,fullWidth:!0,background:[.3,.3,.3],grid:!0,gridConfig:{lines:60,dim:500},selector:!0,onSelected:function(e){e&&(n.selectedInfo=e)}};var i=function(e){var t=o.Text(e,{size:10,height:.1});n.data={mesh:t,position:[50,50,150],rotation:{angle:45,axis:[0,1,0]},color:RandColor()}},r=function(){e.Profile().get(function(e){return e.error?console.log(e.error):(profile=e.data,n.loading=!1,void i(profile.name))})};r();var l=function(e){a=Immutable.List(e.stats),n.data=_.clone(a.get(0)),n.loading=!1};n.changeStatType=function(){switch(n.config.type="sphere",n.loading=!0,n.statsTime=!0,n.selected.statType){case"pick":t.Picks(l);break;case"score":t.ScoreServices(l);break;case"money":t.MoneyResources(l);break;case"work":t.WorkResources(l);break;case"origin":t.OriginPicks(l)}}}]),angular.module("Application").controller("PlayerCtrl",["$scope","CompanyService","$timeout",function(n,e,t){function o(e,o,a,l){var d=o.reduce(function(n,e,t){var o=e.position,i=a[t].position;return _.isEqual(o,i)||(n.length++,n.current["x_"+t]=o[0],n.current["y_"+t]=o[1],n.current["z_"+t]=o[2],n.next["x_"+t]=i[0],n.next["y_"+t]=i[1],n.next["z_"+t]=i[2]),n},{current:{},next:{},length:0});n.values.index=e+1,d.length>0?c=new TWEEN.Tween(d.current).to(d.next,i).onUpdate(function(){var e=this;n.$$phase||n.$apply(function(){if(0==n.playing)return void c.stop();var t=Object.keys(e).reduce(function(n,t){var o=e[t],a=t.split("_"),i=a[0],r=a[1];return n[r]=n[r]||{},n[r][i]=o,n},{}),o=_.cloneDeep(n.data);Object.keys(t).forEach(function(n){var e=t[n];o[n].position=[e.x,e.y,e.z]}),n.data=o})}).onComplete(function(){l()}).onStop(function(){console.log("hello"),l()}).interpolation(TWEEN.Interpolation.Bezier).easing(TWEEN.Easing.Linear.None).delay(250).start():t(l,r)}function a(n){requestAnimationFrame(a),TWEEN.update(n)}var i=2e3,r=500;n.loading=!0,n.playing=!1,n.data=[];var l=[],c=null;n.values={index:1},n.config={colortype:"variable",engine:"phong_positional",axis:!0,axisLength:500,streaming:!0,background:[.3,.3,.3],grid:!0,gridConfig:{lines:60,dim:500}},e.Pick().stats(function(e){return n.loading=!1,e.error?console.log(e.error):(l=Immutable.List(e.data.stats),void(n.data=_.cloneDeep(l.get(0))))}),n.play=function(){function e(t){if(t<l.count()-1&&n.playing){var a=_.cloneDeep(l.get(t)),i=_.cloneDeep(l.get(t+1));o(t,a,i,function(){e(t+1)})}else n.playing=!1,n.values.index=1,n.data=[],n.data=_.cloneDeep(l.get(0))}n.playing=!0,e(0)},n.stop=function(){n.playing=!1},requestAnimationFrame(a)}]),angular.module("Application").controller("SliderCtrl",["$scope","CompanyService","$alexandraModel",function(n,e,t){var o;n.loading=!0,n.config={type:"custom",engine:"phong_positional",colortype:"variable",axis:!0,axisLength:500,streaming:!0,background:[.3,.3,.3],grid:!0,gridConfig:{lines:60,dim:500}};var a=RandColor(),i=function(e){var o=t.Text(e,{size:10,height:.5,curveSegments:30,bevelEnabled:!0,bevelThickness:1.5,bevelSize:.5});n.data={mesh:o,position:[50,50,150],rotation:{angle:45,axis:[0,1,0]},color:a}},r=function(){e.Profile().get(function(e){return e.error?console.log(e.error):(o=e.data,n.loading=!1,void i(o.name))})};r()}]),angular.module("Application").controller("SpecialCtrl",["$scope","$alexandraModel",function(n,e){}]),angular.module("Application").factory("ApiService",["$resource","$location",function(n,e){return{env:"prod",prod:{protocol:"https",host:"pickyourday.herokuapp.com",port:"",root:"api"},dev:{protocol:"http",host:"localhost",port:"5000",root:"api"},getApiPath:function(n){var e=this[this.env];return e.protocol+"://"+e.host+(""!==e.port?":"+e.port:"")+"/"+e.root+"/"+n},rest:function(e,t,o){var a=n(this.getApiPath(e),o||{},t||{});return a}}}]),angular.module("Application").factory("CompanyService",["ApiService",function(n){return{base:"company",Pick:function(){return n.rest(this.base+"/statsPicks",{stats:{method:"GET",params:{}}})},OriginPick:function(){return n.rest(this.base+"/originPicks",{stats:{method:"GET",params:{}}})},ScoreService:function(){return n.rest(this.base+"/scoreService",{stats:{method:"GET",params:{}}})},MoneyResource:function(){return n.rest(this.base+"/moneyResources",{stats:{method:"GET",params:{}}})},WorkResource:function(){return n.rest(this.base+"/workResources",{stats:{method:"GET",params:{}}})},Profile:function(){return n.rest(this.base+"/profile",{get:{method:"GET",params:{}}})}}}]),angular.module("Application").factory("AuthInterceptor",["$q","$location",function(n,e){return{request:function(n){n.headers=n.headers||{};var e=getJSONLocal("user"),e=getJSONLocal("user");return!n.headers.Authorization&&e&&(n.headers.Authorization=e.token),n},requestError:function(e){return n.reject(e)},response:function(e){return"ERROR"===e.data.status?n.reject(e):e||n.when(e)},responseError:function(t){return 403===t.status?(console.error("Error de acceso"),localStorage.user="",void e.path("/")):n.reject(t)}}}]),angular.module("Application").factory("OauthService",["ApiService",function(n){return{base:"oauth",login:function(){return n.rest(this.base,{Session:{method:"POST",params:{}}})},logout:function(){return n.rest(this.base+"/logout",{Session:{method:"GET",params:{}}})},role:function(){return n.rest(this.base+"/role/:role",{check:{method:"GET",params:{role:"@role"}}})}}}]),angular.module("Application").factory("RequestService",function(){return{ServerNotFound:ClosureMessage("Server Not Found"),NoRoleAuthorized:ClosureMessage("No Role Authorized")}}),angular.module("Application").factory("StatsService",["CompanyService",function(n){function e(n,e){return function(t){return t.error?e(t.error):t.data?void n(t.data):e("No Data")}}function t(n){return function(){return n?n("Server Not Found"):void console.log("Server Not Found")}}return{Picks:function(o,a){n.Pick().stats(e(o,a),t(a))},OriginPicks:function(o,a){n.OriginPick().stats(e(o,a),t(a))},ScoreServices:function(o,a){n.ScoreService().stats(e(o,a),t(a))},MoneyResources:function(o,a){n.MoneyResource().stats(e(o,a),t(a))},WorkResources:function(o,a){n.WorkResource().stats(e(o,a),t(a))}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvdXRpbHMuanMiLCJhcHBsaWNhdGlvbi5qcyIsInRlbXBsYXRlLWNhY2hlLmpzIiwiY29uZmlnL2Jvb3QuanMiLCJjb25maWcvZW52aXJvbm1lbnQuanMiLCJjb250cm9sbGVycy9hcHBsaWNhdGlvbl9jb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvaGVpZ2h0X21hcF9jb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvbG9naW5fY29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL25vcm1hbF9jb250cm9sbGVyLmpzIiwiY29udHJvbGxlcnMvcGxheWVyX2NvbnRyb2xsZXIuanMiLCJjb250cm9sbGVycy9zbGlkZXJfY29udHJvbGxlci5qcyIsImNvbnRyb2xsZXJzL3NwZWNpYWxfY29udHJvbGxlci5qcyIsImNvbXBvbmVudHMvc2VydmljZXMvYXBpLnNlcnZpY2UuanMiLCJjb21wb25lbnRzL3NlcnZpY2VzL2NvbXBhbnlfc2VydmljZS5qcyIsImNvbXBvbmVudHMvc2VydmljZXMvaW50ZXJjZXB0b3Jfc2VydmljZS5qcyIsImNvbXBvbmVudHMvc2VydmljZXMvb2F1dGguc2VydmljZS5qcyIsImNvbXBvbmVudHMvc2VydmljZXMvcmVxdWVzdF9zZXJ2aWNlLmpzIiwiY29tcG9uZW50cy9zZXJ2aWNlcy9zdGF0c19zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbInNhdmVMb2NhbCIsImtleSIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0SlNPTkxvY2FsIiwicmVzdWx0Iiwic3RyX2pzb24iLCJ1bmRlZmluZWQiLCJwYXJzZSIsImUiLCJkZWxldGVMb2NhbCIsInJlbW92ZUl0ZW0iLCJDbG9zdXJlTWVzc2FnZSIsIm1lc3NhZ2UiLCJmbiIsImVtcHR5T3JVbmRlZmluZWQiLCJ2YWx1ZSIsIlJhbmRQb3NpdGlvbiIsInYiLCJyYW5nZSIsIm1pbiIsIm1heCIsIngiLCJjaGFuY2UiLCJmbG9hdGluZyIsInkiLCJ6IiwiUmFuZENvbG9yIiwicmFuZ2VDb2xvciIsImZpeGVkIiwiciIsImciLCJiIiwiUmFuZFNpemUiLCJzaXplIiwiUmFuZFJvdGF0aW9uIiwiTnVtYmVyIiwiYm9vbCIsImFuZ2xlIiwiaW50ZWdlciIsImF4aXMiLCJnZW5lcmF0ZSIsImNvdW50IiwiQXJyYXkiLCJhcHBseSIsIm1hcCIsImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJydW4iLCIkdGVtcGxhdGVDYWNoZSIsInB1dCIsIiRyb290U2NvcGUiLCIkbWRUb2FzdCIsIiRzdGF0ZSIsInNob3dUb2FzdCIsIm1zZyIsInNob3ciLCJzaW1wbGUiLCJ0ZXh0Q29udGVudCIsInRoZW1lIiwiaGlkZURlbGF5IiwiZ28iLCJzdGF0ZSIsInBhcmFtcyIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGh0dHBQcm92aWRlciIsIiRtZFRoZW1pbmdQcm92aWRlciIsInVybCIsIm9uRW50ZXIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJhYnN0cmFjdCIsInZpZXdzIiwiY29udGVudCIsIm90aGVyd2lzZSIsImludGVyY2VwdG9ycyIsInB1c2giLCJiYWNrZ3JvdW5kUGFsZXR0ZSIsImRlZmF1bHQiLCJodWUtMSIsImh1ZS0yIiwiaHVlLTMiLCJwcmltYXJ5UGFsZXR0ZSIsImFjY2VudFBhbGV0dGUiLCIkc2NvcGUiLCJPYXV0aFNlcnZpY2UiLCJvcGVuTWVudSIsIiRtZE9wZW5NZW51IiwiZXYiLCJvcmlnaW5hdG9yRXYiLCJsb2dvdXQiLCJTZXNzaW9uIiwiQ29tcGFueVNlcnZpY2UiLCIkYWxleGFuZHJhTW9kZWwiLCJsb2FkaW5nIiwidHlwZSIsImVuZ2luZSIsImF4aXNMZW5ndGgiLCJzdHJlYW1pbmciLCJiYWNrZ3JvdW5kIiwiZ3JpZCIsImdyaWRDb25maWciLCJsaW5lcyIsImRpbSIsImxpZ2h0IiwiZGlyZWN0aW9uIiwiY29sb3J0eXBlIiwicGxhbmUiLCJpbmRleCIsIlBpY2siLCJzdGF0cyIsInJlcyIsImFwcGx5UGxhbmUiLCJzZWxlY3QiLCJjb2xvciIsImNhbGVuZGFyIiwidmVydGljZXMiLCJjdXJyZW50X2RheSIsIm1lc2giLCJQbGFuZSIsImhlaWdodCIsIndpZHRoIiwid19zIiwidldpZHRoIiwiaF9zIiwidkhlaWdodCIsInByZXYiLCJpdGVtIiwiY19wIiwiXyIsImZpbmQiLCJpIiwicG9zaXRpb24iLCJSZXF1ZXN0U2VydmljZSIsInVzZXIiLCJlbWFpbCIsInBhc3N3b3JkIiwibG9naW4iLCJhc3luYyIsIndhdGVyZmFsbCIsIm5leHQiLCJpc0VtYWlsIiwiaXNQYXNzd29yZCIsImVycm9yIiwiU2VydmVyTm90Rm91bmQiLCJyb2xlIiwiY2hlY2siLCJOb1JvbGVBdXRob3JpemVkIiwiZXJyIiwiU3RhdHNTZXJ2aWNlIiwic2VsZWN0ZWRJbmZvIiwic2VsZWN0ZWQiLCJzdGF0VHlwZSIsInN0YXRzVGltZSIsImZ1bGxXaWR0aCIsInNlbGVjdG9yIiwib25TZWxlY3RlZCIsIkFwcGx5VGV4dCIsInRleHQiLCJtb2RlbCIsIlRleHQiLCJyb3RhdGlvbiIsIlRpdGxlIiwiUHJvZmlsZSIsImdldCIsImNvbnNvbGUiLCJsb2ciLCJwcm9maWxlIiwibmFtZSIsImZldGNoIiwiSW1tdXRhYmxlIiwiTGlzdCIsImNsb25lIiwiY2hhbmdlU3RhdFR5cGUiLCJQaWNrcyIsIlNjb3JlU2VydmljZXMiLCJNb25leVJlc291cmNlcyIsIldvcmtSZXNvdXJjZXMiLCJPcmlnaW5QaWNrcyIsIiR0aW1lb3V0IiwiYW5pbWF0ZUNhbGVuZGFyIiwic3RlcCIsImMiLCJuIiwiY2IiLCJpbnRlcl9kYXRhIiwicmVkdWNlIiwiY19wb3MiLCJuX3BvcyIsImlzRXF1YWwiLCJsZW5ndGgiLCJjdXJyZW50IiwidmFsdWVzIiwidHdlZW4iLCJUV0VFTiIsIlR3ZWVuIiwidG8iLCJQTEFZRVJfVElNRSIsIm9uVXBkYXRlIiwic2VsZiIsInRoaXMiLCIkJHBoYXNlIiwiJGFwcGx5IiwicGxheWluZyIsInN0b3AiLCJpbnRlcl9hcnJheSIsIk9iamVjdCIsImtleXMiLCJzcGxpdCIsInBhcmFtIiwiY2xvbmVfZGF0YSIsImNsb25lRGVlcCIsImZvckVhY2giLCJvbkNvbXBsZXRlIiwib25TdG9wIiwiaW50ZXJwb2xhdGlvbiIsIkludGVycG9sYXRpb24iLCJCZXppZXIiLCJlYXNpbmciLCJFYXNpbmciLCJMaW5lYXIiLCJOb25lIiwiZGVsYXkiLCJzdGFydCIsIkVNUFRZX1RJTUUiLCJJbnRlcnBvbGF0aW9uVGltZSIsInRpbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGUiLCJwbGF5IiwiaXRlciIsImN1cnZlU2VnbWVudHMiLCJiZXZlbEVuYWJsZWQiLCJiZXZlbFRoaWNrbmVzcyIsImJldmVsU2l6ZSIsIkdldFByb2ZpbGUiLCJmYWN0b3J5IiwiJHJlc291cmNlIiwiJGxvY2F0aW9uIiwiZW52IiwicHJvZCIsInByb3RvY29sIiwiaG9zdCIsInBvcnQiLCJyb290IiwiZGV2IiwiZ2V0QXBpUGF0aCIsInBhdGgiLCJhcGkiLCJyZXN0IiwibWV0aG9kcyIsImRlZmF1bHRQYXJhbXMiLCJyZXNvdXJjZSIsIkFwaVNlcnZpY2UiLCJiYXNlIiwibWV0aG9kIiwiT3JpZ2luUGljayIsIlNjb3JlU2VydmljZSIsIk1vbmV5UmVzb3VyY2UiLCJXb3JrUmVzb3VyY2UiLCIkcSIsInJlcXVlc3QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsInRva2VuIiwicmVxdWVzdEVycm9yIiwicmVqZWN0aW9uIiwicmVqZWN0IiwicmVzcG9uc2UiLCJzdGF0dXMiLCJ3aGVuIiwicmVzcG9uc2VFcnJvciIsIkRhdGEiLCJFcnJvciJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsV0FBQUMsRUFBQUMsR0FDQUMsYUFBQUYsR0FBQUcsS0FBQUMsVUFBQUgsR0FHQSxRQUFBSSxjQUFBTCxHQUVBLEdBQUFNLEdBQUEsSUFDQSxLQUNBLEdBQUFDLEdBQUFMLGFBQUFGLEVBRUFRLFVBQUFELElBRUFELEVBQUFILEtBQUFN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QUFsSCxNQUZBa0osRUFBQSxZQU9BLFFBQUFrSSxHQUFBbEksR0FDQSxNQUFBLFlBQ0EsTUFBQUEsR0FBQUEsRUFBQSx3QkFDQXNCLFNBQUFDLElBQUEscUJBSUEsT0FDQVEsTUFBQSxTQUFBVSxFQUFBekMsR0FDQW5ELEVBQUFpQixPQUFBQyxNQUFBa0ssRUFBQXhGLEVBQUF6QyxHQUFBa0ksRUFBQWxJLEtBRUFtQyxZQUFBLFNBQUFNLEVBQUF6QyxHQUNBbkQsRUFBQW9LLGFBQUFsSixNQUFBa0ssRUFBQXhGLEVBQUF6QyxHQUFBa0ksRUFBQWxJLEtBRUFnQyxjQUFBLFNBQUFTLEVBQUF6QyxHQUNBbkQsRUFBQXFLLGVBQUFuSixNQUFBa0ssRUFBQXhGLEVBQUF6QyxHQUFBa0ksRUFBQWxJLEtBRUFpQyxlQUFBLFNBQUFRLEVBQUF6QyxHQUNBbkQsRUFBQXNLLGdCQUFBcEosTUFBQWtLLEVBQUF4RixFQUFBekMsR0FBQWtJLEVBQUFsSSxLQUVBa0MsY0FBQSxTQUFBTyxFQUFBekMsR0FDQW5ELEVBQUF1SyxlQUFBckosTUFBQWtLLEVBQUF4RixFQUFBekMsR0FBQWtJLEVBQUFsSSIsImZpbGUiOiJidW5kbGUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc2F2ZUxvY2FsKGtleSwgZGF0YSkge1xyXG4gICAgbG9jYWxTdG9yYWdlW2tleV0gPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SlNPTkxvY2FsKGtleSkge1xyXG5cclxuICAgIHZhciByZXN1bHQgPSBudWxsO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgc3RyX2pzb24gPSBsb2NhbFN0b3JhZ2Vba2V5XTtcclxuXHJcbiAgICAgICAgaWYgKHN0cl9qc29uIT09dW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHN0cl9qc29uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVMb2NhbChrZXkpIHtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIENsb3N1cmVNZXNzYWdlKG1lc3NhZ2Upe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGZuKXtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgZm4obWVzc2FnZSk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtcHR5T3JVbmRlZmluZWQodmFsdWUpe1xyXG4gICAgcmV0dXJuIHZhbHVlPT12b2lkIDAgfHwgdmFsdWU9PT1cIlwiO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gUmFuZFBvc2l0aW9uKHYpIHtcclxuICAgIHZhciByYW5nZSA9IHYgfHwgeyBtaW46IDAsIG1heDogMTAwIH07XHJcbiAgICB2YXIgeCA9IGNoYW5jZS5mbG9hdGluZyhyYW5nZSk7XHJcbiAgICB2YXIgeSA9IGNoYW5jZS5mbG9hdGluZyhyYW5nZSk7XHJcbiAgICB2YXIgeiA9IGNoYW5jZS5mbG9hdGluZyhyYW5nZSk7XHJcbiAgICByZXR1cm4gW3gsIHksIHpdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSYW5kQ29sb3Iodikge1xyXG4gICAgdmFyIHJhbmdlQ29sb3IgPSB2IHx8IHsgbWluOiAwLCBtYXg6IDEsIGZpeGVkOiAyIH07XHJcbiAgICB2YXIgciA9IGNoYW5jZS5mbG9hdGluZyhyYW5nZUNvbG9yKTtcclxuICAgIHZhciBnID0gY2hhbmNlLmZsb2F0aW5nKHJhbmdlQ29sb3IpO1xyXG4gICAgdmFyIGIgPSBjaGFuY2UuZmxvYXRpbmcocmFuZ2VDb2xvcik7XHJcbiAgICByZXR1cm4gW3IsIGcsIGIsIDFdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSYW5kU2l6ZSh2KSB7XHJcbiAgICB2YXIgcmFuZ2UgPSB2IHx8IHsgbWluOiAwLjEsIG1heDogMiwgZml4ZWQ6IDEgfTtcclxuICAgIHZhciBzaXplID0gY2hhbmNlLmZsb2F0aW5nKHJhbmdlKTtcclxuICAgIHJldHVybiBbc2l6ZSwgc2l6ZSwgc2l6ZV07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBSYW5kUm90YXRpb24odil7XHJcbiAgICB2YXIgcmFuZ2UgPSB2IHx8IHsgbWluOiAwLCBtYXg6IDM2MH07XHJcbiAgICB2YXIgeD1OdW1iZXIoY2hhbmNlLmJvb2woKSk7XHJcbiAgICB2YXIgeT1OdW1iZXIoY2hhbmNlLmJvb2woKSk7XHJcbiAgICB2YXIgej1OdW1iZXIoY2hhbmNlLmJvb2woKSk7XHJcbiAgICByZXR1cm4gIHtcclxuICAgICAgICBhbmdsZTpjaGFuY2UuaW50ZWdlcih7IG1pbjogMCwgbWF4OiAzNjB9KSxcclxuICAgICAgICBheGlzOlt4LHksel1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlKGZuKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gY2hhbmNlLmludGVnZXIoeyBtaW46IDAsIG1heDogMTAwIH0pO1xyXG4gICAgICAgIHJldHVybiBBcnJheS5hcHBseSgwLCBBcnJheShjb3VudCkpLm1hcChmbik7XHJcbiAgICB9O1xyXG59IiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdBcHBsaWNhdGlvbicsIFsndWkucm91dGVyJywgXCJuZ1Jlc291cmNlXCIsJ25nQW5pbWF0ZScsICduZ01hdGVyaWFsJywgJ2FsZXhhbmRyYSddKTsiLCIoZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ0FwcGxpY2F0aW9uJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCcvdmlld3MvbWFpbi5odG1sJyxcbiAgICAnXFxuJyArXG4gICAgJzxtZC10b29sYmFyIGNsYXNzPVwibWQtYWNjZW50IG1kLXdoaXRlZnJhbWUtMWRwXCI+XFxuJyArXG4gICAgJyAgICA8ZGl2IGNsYXNzPVwibWQtdG9vbGJhci10b29sc1wiPlxcbicgK1xuICAgICcgICAgICAgIDxtZC1tZW51IGZsZXg9XCI1XCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1idXR0b24gYXJpYS1sYWJlbD1cIlR5cGUgU3RhdHNcIiBjbGFzcz1cIm1kLWljb24tYnV0dG9uIGJ1dHRvbi1zdGF0c1wiIG5nLWNsaWNrPVwib3Blbk1lbnUoJG1kT3Blbk1lbnUsICRldmVudClcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxtZC1pY29uIG1kLW1lbnUtb3JpZ2luIG1kLWZvbnQtaWNvbj1cIm1kaS1jaGFydC1hcmVhc3BsaW5lXCIgY2xhc3M9XCJtZGlcIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtbWVudS1jb250ZW50IHdpZHRoPVwiNFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPG1kLW1lbnUtaXRlbT5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8bWQtYnV0dG9uIHVpLXNyZWY9XCJhcHAubm9ybWFsXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIDxtZC1pY29uIG1kLWZvbnQtaWNvbj1cIm1kaS1jaGFydC1idWJibGVcIiBjbGFzcz1cIm1kaVwiPjwvbWQtaWNvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgTm9ybWFsXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC9tZC1idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L21kLW1lbnUtaXRlbT5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxtZC1tZW51LWl0ZW0+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPG1kLWJ1dHRvbiAgdWktc3JlZj1cImFwcC5zbGlkZXJcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICAgICAgPG1kLWljb24gbWQtZm9udC1pY29uPVwibWRpLWNsb2NrLXN0YXJ0XCIgY2xhc3M9XCJtZGlcIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIFNsaWRlclxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9tZC1tZW51LWl0ZW0+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bWQtbWVudS1kaXZpZGVyPjwvbWQtbWVudS1kaXZpZGVyPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPG1kLW1lbnUtaXRlbT5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8bWQtYnV0dG9uICB1aS1zcmVmPVwiYXBwLnBsYXllclwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8bWQtaWNvbiBtZC1mb250LWljb249XCJtZGktcGxheS1ib3gtb3V0bGluZVwiIGNsYXNzPVwibWRpXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXJcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8L21kLWJ1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvbWQtbWVudS1pdGVtPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPG1kLW1lbnUtaXRlbT5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8bWQtYnV0dG9uICB1aS1zcmVmPVwiYXBwLmhlaWdodG1hcFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8bWQtaWNvbiBtZC1mb250LWljb249XCJtZGktYWlycGxhbmUtbGFuZGluZ1wiIGNsYXNzPVwibWRpXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICBIZWlnaHQgTWFwXFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgPC9tZC1idXR0b24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L21kLW1lbnUtaXRlbT5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICA8bWQtbWVudS1pdGVtPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgIDxtZC1idXR0b24gIHVpLXNyZWY9XCJhcHAuc3BlY2lhbFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgICAgICAgICA8bWQtaWNvbiBtZC1mb250LWljb249XCJtZGktY2FzdGxlXCIgY2xhc3M9XCJtZGlcIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICAgICAgICAgIFNwZWNpYWxcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgICAgICA8L21kLWJ1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDwvbWQtbWVudS1pdGVtPlxcbicgK1xuICAgICcgICAgICAgICAgICA8L21kLW1lbnUtY29udGVudD5cXG4nICtcbiAgICAnICAgICAgICA8L21kLW1lbnU+XFxuJyArXG4gICAgJyAgICAgICAgXFxuJyArXG4gICAgJyAgICAgICAgPGgyPlxcbicgK1xuICAgICcgICAgICAgICAgICA8c3Bhbj5QaWNreW91cmRheSAzRDwvc3Bhbj5cXG4nICtcbiAgICAnICAgICAgICA8L2gyPlxcbicgK1xuICAgICcgICAgICAgIDxzcGFuIGZsZXg+PC9zcGFuPlxcbicgK1xuICAgICcgICAgICAgIDxtZC1idXR0b24gYXJpYS1sYWJlbD1cImxvZ291dFwiIGNsYXNzPVwibWQtaWNvbi1idXR0b24gYnV0dG9uLXBvd2VyXCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6IDBweDtcIiBuZy1jbGljaz1cImxvZ291dCgpXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1pY29uIG1kLWZvbnQtaWNvbj1cIm1kaS1wb3dlclwiIGNsYXNzPVwibWRpXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgIDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJzwvbWQtdG9vbGJhcj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1xcbicgK1xuICAgICc8ZGl2IHVpLXZpZXc9XCJjb250ZW50XCI+PC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ0FwcGxpY2F0aW9uJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCcvdmlld3MvaGVpZ2h0LW1hcC9tYWluLmh0bWwnLFxuICAgICc8bWQtcHJvZ3Jlc3MtbGluZWFyIG1kLW1vZGU9XCJpbmRldGVybWluYXRlXCIgbmctaWY9XCJsb2FkaW5nXCI+PC9tZC1wcm9ncmVzcy1saW5lYXI+XFxuJyArXG4gICAgJzxkaXYgY2xhc3M9XCJwbGF5ZXItY29udGVudFwiIGxheW91dD1cInJvd1wiPlxcbicgK1xuICAgICcgICAgPGNhbnZhcyBhbGV4YW5kcmEtdmlldyBkYXRhLWlkPVwidmlld18xXCIgYWxleGFuZHJhLWNvbmZpZz1cImNvbmZpZ1wiIGFsZXhhbmRyYS1zb3VyY2U9XCJkYXRhXCIgd2lkdGg9XCI4MDBcIiBoZWlnaHQ9XCI2MDBcIj48L2NhbnZhcz5cXG4nICtcbiAgICAnICAgIDxkaXYgZmxleD1cIjM1XCIgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIHN0cmVjaFwiPlxcbicgK1xuICAgICcgICAgICAgIDxkaXY+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1zbGlkZXItY29udGFpbmVyPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICBcXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxtZC1zbGlkZXIgY2xhc3M9XCJtZC1wcmltYXJ5XCIgbWQtZGlzY3JldGUgc3RlcD1cIjFcIiBtaW49XCIxXCIgbWF4PVwiMzBcIiBhcmlhLWxhYmVsPVwicmF0aW5nXCIgbmctc2hvdz1cIiFsb2FkaW5nXCIgbmctbW9kZWw9XCJpbmRleFwiIG5nLWNoYW5nZT1cInNlbGVjdCgpXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8L21kLXNsaWRlcj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9tZC1zbGlkZXItY29udGFpbmVyPlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJzwvZGl2PicpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ0FwcGxpY2F0aW9uJyk7XG59IGNhdGNoIChlKSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdBcHBsaWNhdGlvbicsIFtdKTtcbn1cbm1vZHVsZS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnL3ZpZXdzL2xvZ2luL21haW4uaHRtbCcsXG4gICAgJzxkaXYgbGF5b3V0PVwiY29sdW1uXCIgbGF5b3V0LWFsaWduPVwiY2VudGVyIGNlbnRlclwiPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgPG1kLWNhcmQ+XFxuJyArXG4gICAgJyAgICAgICAgPG1kLWNhcmQtdGl0bGU+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1jYXJkLXRpdGxlLXRleHQ+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1kLWhlYWRsaW5lXCI+UGlja3lvdXJkYXkgM0Q8L3NwYW4+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgICAgICA8L21kLWNhcmQtdGl0bGUtdGV4dD5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgPC9tZC1jYXJkLXRpdGxlPlxcbicgK1xuICAgICcgICAgICAgIDxtZC1jYXJkLWNvbnRlbnQgbGF5b3V0PVwiY29sdW1uXCI+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cIm1kLXByaW1hcnkgbWQtcmFpc2VkIG1kLWh1ZS0yXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bGFiZWw+RW1haWw8L2xhYmVsPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidXNlci5lbWFpbFwiIHR5cGU9XCJlbWFpbFwiPlxcbicgK1xuICAgICcgICAgICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XCJtZC1wcmltYXJ5IG1kLXJhaXNlZCBtZC1odWUtMlwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPGxhYmVsPlBhc3N3b3JkPC9sYWJlbD5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInVzZXIucGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XFxuJyArXG4gICAgJyAgICAgICAgPC9tZC1jYXJkLWNvbnRlbnQ+XFxuJyArXG4gICAgJyAgICAgICAgPG1kLWNhcmQtYWN0aW9ucyBsYXlvdXQ9XCJyb3dcIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgY2VudGVyXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1idXR0b24gY2xhc3M9XCJtZC1wcmltYXJ5ICBtZC1yYWlzZWQgbWQtaHVlLTJcIiBuZy1jbGljaz1cImxvZ2luKClcIj5Mb2dpbjwvbWQtYnV0dG9uPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICA8L21kLWNhcmQtYWN0aW9ucz5cXG4nICtcbiAgICAnICAgIDwvbWQtY2FyZD5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJ1xcbicgK1xuICAgICc8L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdBcHBsaWNhdGlvbicpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJy92aWV3cy9ub3JtYWwvbWFpbi5odG1sJyxcbiAgICAnPG1kLXByb2dyZXNzLWxpbmVhciBtZC1tb2RlPVwiaW5kZXRlcm1pbmF0ZVwiIG5nLWlmPVwibG9hZGluZ1wiPjwvbWQtcHJvZ3Jlc3MtbGluZWFyPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnPGNhbnZhcyBhbGV4YW5kcmEtdmlldyBkYXRhLWlkPVwidmlld18xXCIgYWxleGFuZHJhLWNvbmZpZz1cImNvbmZpZ1wiIGFsZXhhbmRyYS1zb3VyY2U9XCJkYXRhXCIgd2lkdGg9XCI4MDBcIiBoZWlnaHQ9XCI1MDBcIj48L2NhbnZhcz5cXG4nICtcbiAgICAnPGRpdiBsYXlvdXQ9XCJyb3dcIj5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8bWQtc2VsZWN0IGZsZXg9XCIyMFwiIG5nLW1vZGVsPVwic2VsZWN0ZWQuc3RhdFR5cGVcIiAgZmxleC1vZmZzZXQ9XCI1XCIgcGxhY2Vob2xkZXI9XCJTZWxlY2Npb25hIHgveS96XCIgbmctY2hhbmdlPVwiY2hhbmdlU3RhdFR5cGUoKVwiPlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICA8bWQtb3B0aW9uIHZhbHVlPVwicGlja1wiPkVzdGFkbyBkZSBQaWNrL0NhbnRpZGFkL1NlcnZpY2lvPC9tZC1vcHRpb24+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICcgICAgICAgIDxtZC1vcHRpb24gdmFsdWU9XCJzY29yZVwiPlZhbG9yYWNpw7NuL0NhbnRpZGFkL1NlcnZpY2lvPC9tZC1vcHRpb24+XFxuJyArXG4gICAgJyAgICAgICAgPG1kLW9wdGlvbiB2YWx1ZT1cIm1vbmV5XCI+RW1wbGVhZG8vRGluZXJvL1NlcnZpY2lvPC9tZC1vcHRpb24+XFxuJyArXG4gICAgJyAgICAgICAgPG1kLW9wdGlvbiB2YWx1ZT1cIndvcmtcIj5FbXBsZWFkby9UaWVtcG8gVHJhYmFqYWRvL1NlcnZpY2lvPC9tZC1vcHRpb24+XFxuJyArXG4gICAgJyAgICA8L21kLXNlbGVjdD5cXG4nICtcbiAgICAnXFxuJyArXG4gICAgJyAgICA8ZGl2IG5nLXNob3c9XCJzdGF0c1RpbWVcIiBmbGV4IGxheW91dD1cInJvd1wiIGZsZXgtb2Zmc2V0PVwiNVwiPlxcbicgK1xuICAgICcgICAgICAgIDxwIGZsZXg9XCIyMFwiPlg6IHt7c2VsZWN0ZWRJbmZvWzBdfHxcXCdOL0FcXCd9fTwvcD5cXG4nICtcbiAgICAnICAgICAgICA8cCBmbGV4PVwiMTBcIj5ZOiB7e3NlbGVjdGVkSW5mb1sxXSB8fCBcXCcwXFwnfX08L3A+XFxuJyArXG4gICAgJyAgICAgICAgPHAgZmxleD1cIjIwXCI+Wjoge3tzZWxlY3RlZEluZm9bMl18fFxcJ04vQVxcJ319PC9wPlxcbicgK1xuICAgICcgICAgPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcXG4nICtcbiAgICAnPC9kaXY+Jyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ0FwcGxpY2F0aW9uJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCcvdmlld3MvcGxheWVyL21haW4uaHRtbCcsXG4gICAgJzxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImluZGV0ZXJtaW5hdGVcIiBuZy1pZj1cImxvYWRpbmdcIj48L21kLXByb2dyZXNzLWxpbmVhcj5cXG4nICtcbiAgICAnPGRpdiBjbGFzcz1cInBsYXllci1jb250ZW50XCIgbGF5b3V0PVwicm93XCI+XFxuJyArXG4gICAgJyAgICA8Y2FudmFzIGFsZXhhbmRyYS12aWV3IGRhdGEtaWQ9XCJ2aWV3XzFcIiBhbGV4YW5kcmEtY29uZmlnPVwiY29uZmlnXCIgYWxleGFuZHJhLXNvdXJjZT1cImRhdGFcIiB3aWR0aD1cIjgwMFwiIGhlaWdodD1cIjYwMFwiPjwvY2FudmFzPlxcbicgK1xuICAgICcgICAgPGRpdiBmbGV4PVwiMzVcIiBsYXlvdXQ9XCJjb2x1bW5cIiBsYXlvdXQtYWxpZ249XCJjZW50ZXIgc3RyZWNoXCI+XFxuJyArXG4gICAgJyAgICAgICAgPGRpdiBmbGV4IGxheW91dD1cInJvd1wiIGxheW91dC1hbGlnbj1cImNlbnRlciBjZW50ZXJcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cInBsYXkoKVwiIG5nLWlmPVwiIWxvYWRpbmcmJiFwbGF5aW5nXCI+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICA8bWQtaWNvbiBtZC1mb250LWljb249XCJtZGktcGxheVwiIGNsYXNzPVwibWRpXCI+PC9tZC1pY29uPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgUGxheVxcbicgK1xuICAgICcgICAgICAgICAgICA8L21kLWJ1dHRvbj5cXG4nICtcbiAgICAnICAgICAgICAgICAgXFxuJyArXG4gICAgJyAgICAgICAgICAgIDxtZC1idXR0b24gbmctY2xpY2s9XCJzdG9wKClcIiBuZy1pZj1cInBsYXlpbmdcIj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgIDxtZC1pY29uIG1kLWZvbnQtaWNvbj1cIm1kaS1zdG9wXCIgY2xhc3M9XCJtZGlcIj48L21kLWljb24+XFxuJyArXG4gICAgJyAgICAgICAgICAgICAgICBTdG9wXFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvbWQtYnV0dG9uPlxcbicgK1xuICAgICcgICAgICAgIDwvZGl2PlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnICAgICAgICA8ZGl2PlxcbicgK1xuICAgICcgICAgICAgICAgICA8bWQtc2xpZGVyLWNvbnRhaW5lcj5cXG4nICtcbiAgICAnICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtZC1ib2R5LTFcIj57e3ZhbHVlcy5pbmRleH19PC9zcGFuPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPG1kLXNsaWRlciBjbGFzcz1cIm1kLXByaW1hcnlcIiBtZC1kaXNjcmV0ZSBzdGVwPVwiMVwiIG1pbj1cIjFcIiBtYXg9XCIzMFwiIGFyaWEtbGFiZWw9XCJyYXRpbmdcIiBuZy1zaG93PVwiIWxvYWRpbmdcIiBuZy1tb2RlbD1cInZhbHVlcy5pbmRleFwiIG5nLWRpc2FibGVkPVwidHJ1ZVwiPlxcbicgK1xuICAgICcgICAgICAgICAgICAgICAgPC9tZC1zbGlkZXI+XFxuJyArXG4gICAgJyAgICAgICAgICAgIDwvbWQtc2xpZGVyLWNvbnRhaW5lcj5cXG4nICtcbiAgICAnICAgICAgICA8L2Rpdj5cXG4nICtcbiAgICAnICAgIDwvZGl2PlxcbicgK1xuICAgICdcXG4nICtcbiAgICAnPC9kaXY+XFxuJyArXG4gICAgJ1xcbicgK1xuICAgICdcXG4nICtcbiAgICAnJyk7XG59XSk7XG59KSgpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKTtcbn0gY2F0Y2ggKGUpIHtcbiAgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ0FwcGxpY2F0aW9uJywgW10pO1xufVxubW9kdWxlLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCcvdmlld3Mvc2xpZGVyL21haW4uaHRtbCcsXG4gICAgJzxtZC1wcm9ncmVzcy1saW5lYXIgbWQtbW9kZT1cImluZGV0ZXJtaW5hdGVcIiBuZy1pZj1cImxvYWRpbmdcIj48L21kLXByb2dyZXNzLWxpbmVhcj5cXG4nICtcbiAgICAnPGRpdiBjbGFzcz1cInBsYXllci1jb250ZW50XCIgbGF5b3V0PVwicm93XCI+XFxuJyArXG4gICAgJyAgICA8Y2FudmFzIGFsZXhhbmRyYS12aWV3IGRhdGEtaWQ9XCJ2aWV3XzFcIiBhbGV4YW5kcmEtY29uZmlnPVwiY29uZmlnXCIgYWxleGFuZHJhLXNvdXJjZT1cImRhdGFcIiB3aWR0aD1cIjgwMFwiIGhlaWdodD1cIjYwMFwiPjwvY2FudmFzPlxcbicgK1xuICAgICc8L2Rpdj4nKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7XG4gIG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdBcHBsaWNhdGlvbicpO1xufSBjYXRjaCAoZSkge1xuICBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nLCBbXSk7XG59XG5tb2R1bGUucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJy92aWV3cy9zcGVjaWFsL21haW4uaHRtbCcsXG4gICAgJycpO1xufV0pO1xufSkoKTtcbiIsImFuZ3VsYXIubW9kdWxlKCdBcHBsaWNhdGlvbicpXHJcbiAgICAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsICAkbWRUb2FzdCwgJHN0YXRlKXtcclxuXHJcbiAgICAkcm9vdFNjb3BlLnNob3dUb2FzdCA9IGZ1bmN0aW9uKG1zZykge1xyXG4gICAgICBcclxuICAgICAgICAkbWRUb2FzdC5zaG93KFxyXG4gICAgICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxyXG4gICAgICAgICAgICAudGV4dENvbnRlbnQobXNnKVxyXG4gICAgICAgICAgICAudGhlbWUoXCJwaWNrLXRoZW1lXCIpXHJcbiAgICAgICAgICAgIC5oaWRlRGVsYXkoMzAwMClcclxuICAgICAgICApO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgICRyb290U2NvcGUuZ28gPSBmdW5jdGlvbiAoc3RhdGUsIHBhcmFtcykge1xyXG4gICAgICAgICRzdGF0ZS5nbyhzdGF0ZSwgcGFyYW1zKTtcclxuICAgIH07XHJcblxyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKVxyXG4gICAgLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyLCAgJG1kVGhlbWluZ1Byb3ZpZGVyKXtcclxuXHJcblxyXG4gICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAuc3RhdGUoXCJsb2dpblwiLCB7XHJcbiAgICAgICAgdXJsOiBcIi9sb2dpblwiLFxyXG4gICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgICAgIGlmIChnZXRKU09OTG9jYWwoXCJ1c2VyXCIpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5nbyhcImFwcC5wbGF5ZXJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2xvZ2luL21haW4uaHRtbCcsXHJcbiAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ3RybCcgICAgICBcclxuXHJcbiAgICB9KVxyXG4gICAgICAgIC5zdGF0ZShcImFwcFwiLCB7XHJcbiAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgb25FbnRlcjogZnVuY3Rpb24gKCRyb290U2NvcGUpIHtcclxuICAgICAgICAgICAgaWYgKCFnZXRKU09OTG9jYWwoXCJ1c2VyXCIpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5nbyhcImxvZ2luXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9tYWluLmh0bWwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBcHBDdHJsJyxcclxuICAgICAgICBhYnN0cmFjdDp0cnVlXHJcblxyXG4gICAgfSlcclxuICAgICAgICAuc3RhdGUoXCJhcHAubm9ybWFsXCIsIHtcclxuICAgICAgICB1cmw6ICdub3JtYWwnLFxyXG4gICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgICAgIGlmICghZ2V0SlNPTkxvY2FsKFwidXNlclwiKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuZ28oXCJsb2dpblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvbm9ybWFsL21haW4uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTm9ybWFsQ3RybCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gIFxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgLnN0YXRlKFwiYXBwLnNsaWRlclwiLCB7XHJcbiAgICAgICAgdXJsOiAnc2xpZGVyJyxcclxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xyXG4gICAgICAgICAgICBpZiAoIWdldEpTT05Mb2NhbChcInVzZXJcIikpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmdvKFwibG9naW5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3NsaWRlci9tYWluLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1NsaWRlckN0cmwnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICBcclxuICAgIH0pXHJcbiAgICAgLnN0YXRlKFwiYXBwLnBsYXllclwiLCB7XHJcbiAgICAgICAgdXJsOiAncGxheWVyJyxcclxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xyXG4gICAgICAgICAgICBpZiAoIWdldEpTT05Mb2NhbChcInVzZXJcIikpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmdvKFwibG9naW5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3BsYXllci9tYWluLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1BsYXllckN0cmwnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICBcclxuICAgIH0pXHJcbiAgICAuc3RhdGUoXCJhcHAuaGVpZ2h0bWFwXCIsIHtcclxuICAgICAgICB1cmw6ICdoZWlnaHQtbWFwJyxcclxuICAgICAgICBvbkVudGVyOiBmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xyXG4gICAgICAgICAgICBpZiAoIWdldEpTT05Mb2NhbChcInVzZXJcIikpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmdvKFwibG9naW5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2hlaWdodC1tYXAvbWFpbi5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIZWlnaHRNYXBDdHJsJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSAgXHJcbiAgICB9KVxyXG4gICAgLnN0YXRlKFwiYXBwLnNwZWNpYWxcIiwge1xyXG4gICAgICAgIHVybDogJ3NwZWNpYWwnLFxyXG4gICAgICAgIG9uRW50ZXI6IGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgICAgIGlmICghZ2V0SlNPTkxvY2FsKFwidXNlclwiKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuZ28oXCJsb2dpblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgY29udGVudDoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdmlld3Mvc3BlY2lhbC9tYWluLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1NwZWNpYWxDdHJsJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSAgXHJcbiAgICB9KVxyXG5cclxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvbG9naW5cIik7XHJcblxyXG4gICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aEludGVyY2VwdG9yJyk7XHJcblxyXG4gICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gICAuYmFja2dyb3VuZFBhbGV0dGUoJ3RlYWwnLCB7XHJcbiAgICAgICdkZWZhdWx0JzogJzUwMCcsIC8vIGJ5IGRlZmF1bHQgdXNlIHNoYWRlIDQwMCBmcm9tIHRoZSBwaW5rIHBhbGV0dGUgZm9yIHByaW1hcnkgaW50ZW50aW9uc1xyXG4gICAgICAnaHVlLTEnOiAnMTAwJywgLy8gdXNlIHNoYWRlIDEwMCBmb3IgdGhlIDxjb2RlPm1kLWh1ZS0xPC9jb2RlPiBjbGFzc1xyXG4gICAgICAnaHVlLTInOiAnNjAwJywgLy8gdXNlIHNoYWRlIDYwMCBmb3IgdGhlIDxjb2RlPm1kLWh1ZS0yPC9jb2RlPiBjbGFzc1xyXG4gICAgICAnaHVlLTMnOiAnQTEwMCcgLy8gdXNlIHNoYWRlIEExMDAgZm9yIHRoZSA8Y29kZT5tZC1odWUtMzwvY29kZT4gY2xhc3NcclxuICAgIH0pXHJcbiAgICAucHJpbWFyeVBhbGV0dGUoJ2xpbWUnLCB7XHJcbiAgICAgICdkZWZhdWx0JzogJzQwMCcsIC8vIGJ5IGRlZmF1bHQgdXNlIHNoYWRlIDQwMCBmcm9tIHRoZSBwaW5rIHBhbGV0dGUgZm9yIHByaW1hcnkgaW50ZW50aW9uc1xyXG4gICAgICAnaHVlLTEnOiAnMTAwJywgLy8gdXNlIHNoYWRlIDEwMCBmb3IgdGhlIDxjb2RlPm1kLWh1ZS0xPC9jb2RlPiBjbGFzc1xyXG4gICAgICAnaHVlLTInOiAnNjAwJywgLy8gdXNlIHNoYWRlIDYwMCBmb3IgdGhlIDxjb2RlPm1kLWh1ZS0yPC9jb2RlPiBjbGFzc1xyXG4gICAgICAnaHVlLTMnOiAnQTEwMCcgLy8gdXNlIHNoYWRlIEExMDAgZm9yIHRoZSA8Y29kZT5tZC1odWUtMzwvY29kZT4gY2xhc3NcclxuICAgIH0pXHJcbiAgICAvLyBJZiB5b3Ugc3BlY2lmeSBsZXNzIHRoYW4gYWxsIG9mIHRoZSBrZXlzLCBpdCB3aWxsIGluaGVyaXQgZnJvbSB0aGVcclxuICAgIC8vIGRlZmF1bHQgc2hhZGVzXHJcbiAgICAuYWNjZW50UGFsZXR0ZSgndGVhbCcsIHtcclxuICAgICAgJ2RlZmF1bHQnOiAnNTAwJyAvLyB1c2Ugc2hhZGUgMjAwIGZvciBkZWZhdWx0LCBhbmQga2VlcCBhbGwgb3RoZXIgc2hhZGVzIHRoZSBzYW1lXHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxufSk7XHJcblxyXG4iLCJhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0FwcEN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsIE9hdXRoU2VydmljZSl7XHJcbiAgICBcclxuICAgIFxyXG4gICAgJHNjb3BlLm9wZW5NZW51ID0gZnVuY3Rpb24oJG1kT3Blbk1lbnUsIGV2KSB7XHJcbiAgICAgIG9yaWdpbmF0b3JFdiA9IGV2O1xyXG4gICAgICAkbWRPcGVuTWVudShldik7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBcclxuICAgICRzY29wZS5sb2dvdXQ9ZnVuY3Rpb24oKXtcclxuICAgICAgICBPYXV0aFNlcnZpY2UuIGxvZ291dCgpLlNlc3Npb24oZnVuY3Rpb24oKXtcclxuXHRcdCBkZWxldGVMb2NhbChcInVzZXJcIik7XHJcbiAgICAgICAgJHJvb3RTY29wZS5nbyhcImxvZ2luXCIpOyAgIFxyXG5cdH0sIGZ1bmN0aW9uKCl7fSk7XHJcbiAgICB9XHJcbiAgICBcclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ0FwcGxpY2F0aW9uJylcclxuICAgIC5jb250cm9sbGVyKCdIZWlnaHRNYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBDb21wYW55U2VydmljZSwgJGFsZXhhbmRyYU1vZGVsKXtcclxuXHJcblxyXG4gICAgJHNjb3BlLmxvYWRpbmc9dHJ1ZTtcclxuXHJcbiAgICAkc2NvcGUuY29uZmlnID0ge1xyXG4gICAgICAgIHR5cGU6IFwiY3VzdG9tXCIsXHJcblx0XHRlbmdpbmU6XCJwaG9uZ19wb3NpdGlvbmFsXCIsXHJcbiAgICAgICAgYXhpczogdHJ1ZSxcclxuICAgICAgICBheGlzTGVuZ3RoOiA1MDAsXHJcbiAgICAgICAgc3RyZWFtaW5nOiB0cnVlLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IFswLjMsIDAuMywgMC4zXSxcclxuICAgICAgICBncmlkOiB0cnVlLFxyXG4gICAgICAgIGdyaWRDb25maWc6IHtcclxuICAgICAgICAgICAgbGluZXM6IDYwLFxyXG4gICAgICAgICAgICBkaW06IDUwMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGlnaHQ6e1xyXG4gICAgICAgICAgICBkaXJlY3Rpb246Wy0xLjAsIC0xLjAsIC0xXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29sb3J0eXBlOlwidmFyaWFibGVcIixcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHBsYW5lPXt9O1xyXG5cclxuICAgICRzY29wZS5pbmRleD0xO1xyXG5cclxuICAgIENvbXBhbnlTZXJ2aWNlLlBpY2soKS5zdGF0cyhmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICRzY29wZS5sb2FkaW5nPWZhbHNlO1xyXG4gICAgICAgIHBsYW5lPXJlcy5kYXRhLnBsYW5lO1xyXG5cclxuICAgICAgICBhcHBseVBsYW5lKCk7XHJcblxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgICRzY29wZS5zZWxlY3Q9ZnVuY3Rpb24oKXtcclxuICAgICAgICBhcHBseVBsYW5lKCk7XHJcbiAgICB9XHJcblx0dmFyIGNvbG9yPVJhbmRDb2xvcigpO1xyXG5cclxuICAgIHZhciBhcHBseVBsYW5lPWZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGNhbGVuZGFyPXBsYW5lLnZlcnRpY2VzO1xyXG4gICAgICAgIHZhciBpbmRleD0kc2NvcGUuaW5kZXgtMTtcclxuICAgICAgICB2YXIgY3VycmVudF9kYXk9Y2FsZW5kYXJbaW5kZXhdO1xyXG5cclxuICAgICAgICAkc2NvcGUuZGF0YT17XHJcbiAgICAgICAgICAgIG1lc2g6JGFsZXhhbmRyYU1vZGVsLlBsYW5lKHtcclxuICAgICAgICAgICAgICAgIGhlaWdodDpwbGFuZS5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDpwbGFuZS53aWR0aCxcclxuICAgICAgICAgICAgICAgIHdfczpwbGFuZS52V2lkdGgsXHJcbiAgICAgICAgICAgICAgICBoX3M6cGxhbmUudkhlaWdodFxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbihwcmV2LCBpdGVtLCBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgeD1pdGVtLngsIHk9aXRlbS56LCB6PWl0ZW0ueTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY19wPV8uZmluZChjdXJyZW50X2RheSwgZnVuY3Rpb24oaSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkua2V5PT1pbmRleDsgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoY19wKXtcclxuICAgICAgICAgICAgICAgICAgICB5PWNfcC55O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHByZXYucHVzaCh4KTtcclxuICAgICAgICAgICAgICAgIHByZXYucHVzaCh5KTtcclxuICAgICAgICAgICAgICAgIHByZXYucHVzaCh6KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgcG9zaXRpb246WzUwLDAsNTBdLFxyXG5cdFx0XHRjb2xvcjpjb2xvclxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgT2F1dGhTZXJ2aWNlLCBSZXF1ZXN0U2VydmljZSl7XHJcbiAgICBcclxuXHJcbiAgICBcclxuICAgICRzY29wZS51c2VyID0ge2VtYWlsOlwiXCIsIHBhc3N3b3JkOlwiXCJ9O1xyXG4gICAgJHNjb3BlLmxvZ2luID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGFzeW5jLndhdGVyZmFsbChbXHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZShuZXh0KXtcclxuICAgICAgICAgICAgICAgIHZhciBpc0VtYWlsPWVtcHR5T3JVbmRlZmluZWQoJHNjb3BlLnVzZXIuZW1haWwpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzUGFzc3dvcmQ9ZW1wdHlPclVuZGVmaW5lZCgkc2NvcGUudXNlci5wYXNzd29yZCk7XHJcbiAgICAgICAgICAgICAgICBpZihpc0VtYWlsIHx8IGlzUGFzc3dvcmQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzRW1haWwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KFwiRW1haWwgRW1wdHlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzUGFzc3dvcmQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KFwiUGFzc3dvcmQgRW1wdHlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGxvZ2luKG5leHQpe1xyXG5cclxuICAgICAgICAgICAgICAgIE9hdXRoU2VydmljZS5sb2dpbigpLlNlc3Npb24oJHNjb3BlLnVzZXIsIGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzLmVycm9yKXJldHVybiBuZXh0KHJlcy5lcnJvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5leHQobnVsbCwgcmVzLmRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sIFJlcXVlc3RTZXJ2aWNlLlNlcnZlck5vdEZvdW5kKG5leHQpKTtcclxuXHJcbiAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja1JvbGUodXNlciwgbmV4dCl7XHJcbiAgICAgICAgICAgICAgICBPYXV0aFNlcnZpY2Uucm9sZSgpLmNoZWNrKHtyb2xlOnVzZXIucm9sZX0sIGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzLmVycm9yKXJldHVybiBuZXh0KHJlcy5lcnJvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlcy5kYXRhPT0yKXtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQobnVsbCwgdXNlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlcXVlc3RTZXJ2aWNlLk5vUm9sZUF1dGhvcml6ZWQobmV4dCkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSwgUmVxdWVzdFNlcnZpY2UuU2VydmVyTm90Rm91bmQobmV4dCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgXSwgZnVuY3Rpb24oZXJyLCB1c2VyKXtcclxuICAgICAgICAgICAgaWYoZXJyKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkcm9vdFNjb3BlLnNob3dUb2FzdChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNhdmVMb2NhbChcInVzZXJcIiwgdXNlcik7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuZ28oXCJhcHAubm9ybWFsXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdBcHBsaWNhdGlvbicpXHJcbiAgICAuY29udHJvbGxlcignTm9ybWFsQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQ29tcGFueVNlcnZpY2UsIFN0YXRzU2VydmljZSwgJGFsZXhhbmRyYU1vZGVsKXtcclxuXHJcbiAgICAkc2NvcGUubG9hZGluZz10cnVlO1xyXG4gICAgJHNjb3BlLmRhdGE9W107XHJcbiAgICAkc2NvcGUuc2VsZWN0ZWRJbmZvPXt9O1xyXG4gICAgJHNjb3BlLnNlbGVjdGVkPXtcclxuICAgICAgICBzdGF0VHlwZTpcIm5vXCJcclxuICAgIH07XHJcbiAgICBcclxuICAgICRzY29wZS5zdGF0c1RpbWU9ZmFsc2U7XHJcbiAgICB2YXIgY2FsZW5kYXI9W107XHJcblxyXG4gICAgJHNjb3BlLmNvbmZpZz17XHJcbiAgICAgICAgY29sb3J0eXBlOlwidmFyaWFibGVcIixcclxuICAgICAgICB0eXBlOlwiY3VzdG9tXCIsXHJcbiAgICAgICAgYXhpczp0cnVlLFxyXG4gICAgICAgIGF4aXNMZW5ndGg6NTAwLFxyXG4gICAgICAgIHN0cmVhbWluZzp0cnVlLFxyXG4gICAgICAgIGZ1bGxXaWR0aDp0cnVlLFxyXG4gICAgICAgIGJhY2tncm91bmQ6WzAuMywwLjMsMC4zXSxcclxuICAgICAgICBncmlkOnRydWUsXHJcbiAgICAgICAgZ3JpZENvbmZpZzp7XHJcbiAgICAgICAgICAgIGxpbmVzOjYwLFxyXG4gICAgICAgICAgICBkaW06NTAwXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZWxlY3Rvcjp0cnVlLCBcclxuICAgICAgICBvblNlbGVjdGVkOmZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkSW5mbz1kYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBBcHBseVRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgIHZhciBtb2RlbCA9ICRhbGV4YW5kcmFNb2RlbC5UZXh0KHRleHQsIHtcclxuICAgICAgICAgICAgc2l6ZTogMTAsXHJcbiAgICAgICAgICAgIGhlaWdodDogMC4xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHNjb3BlLmRhdGEgPSB7XHJcbiAgICAgICAgICAgIG1lc2g6IG1vZGVsLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogWzUwLCA1MCwxNTBdLFxyXG4gICAgICAgICAgICByb3RhdGlvbjp7XHJcbiAgICAgICAgICAgICAgICBhbmdsZTo0NSxcclxuICAgICAgICAgICAgICAgIGF4aXM6WzAsMSwwXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb2xvcjpSYW5kQ29sb3IoKVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVGl0bGU9ZnVuY3Rpb24oKXtcclxuICAgICAgICBDb21wYW55U2VydmljZS5Qcm9maWxlKCkuZ2V0KGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgaWYgKHJlcy5lcnJvcikgcmV0dXJuIGNvbnNvbGUubG9nKHJlcy5lcnJvcik7XHJcbiAgICAgICAgICAgIHByb2ZpbGUgPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPWZhbHNlO1xyXG4gICAgICAgICAgICBBcHBseVRleHQocHJvZmlsZS5uYW1lKTtcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgVGl0bGUoKTtcclxuXHJcbiAgICB2YXIgZmV0Y2g9ZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgY2FsZW5kYXI9SW1tdXRhYmxlLkxpc3QoZGF0YS5zdGF0cyk7XHJcbiAgICAgICAgJHNjb3BlLmRhdGE9Xy5jbG9uZShjYWxlbmRhci5nZXQoMCkpO1xyXG4gICAgICAgICRzY29wZS5sb2FkaW5nPWZhbHNlOyBcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAkc2NvcGUuY2hhbmdlU3RhdFR5cGU9ZnVuY3Rpb24oKXtcclxuICAgICAgICAkc2NvcGUuY29uZmlnLnR5cGU9XCJzcGhlcmVcIjtcclxuICAgICAgICAkc2NvcGUubG9hZGluZz10cnVlOyBcclxuICAgICAgICAgJHNjb3BlLnN0YXRzVGltZT10cnVlO1xyXG4gICAgICAgIHN3aXRjaCgkc2NvcGUuc2VsZWN0ZWQuc3RhdFR5cGUpe1xyXG4gICAgICAgICAgICBjYXNlIFwicGlja1wiOlxyXG4gICAgICAgICAgICAgICAgU3RhdHNTZXJ2aWNlLlBpY2tzKGZldGNoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwic2NvcmVcIjpcclxuICAgICAgICAgICAgICAgIFN0YXRzU2VydmljZS5TY29yZVNlcnZpY2VzKGZldGNoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwibW9uZXlcIjpcclxuICAgICAgICAgICAgICAgIFN0YXRzU2VydmljZS5Nb25leVJlc291cmNlcyhmZXRjaCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIndvcmtcIjpcclxuICAgICAgICAgICAgICAgIFN0YXRzU2VydmljZS5Xb3JrUmVzb3VyY2VzKGZldGNoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcIm9yaWdpblwiOlxyXG4gICAgICAgICAgICAgICAgU3RhdHNTZXJ2aWNlLk9yaWdpblBpY2tzKGZldGNoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcblxyXG59KTsiLCJhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1BsYXllckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIENvbXBhbnlTZXJ2aWNlLCAkdGltZW91dCl7XHJcblxyXG4gICAgdmFyIFBMQVlFUl9USU1FPTIwMDA7XHJcbiAgICB2YXIgRU1QVFlfVElNRT01MDA7XHJcblxyXG4gICAgJHNjb3BlLmxvYWRpbmc9dHJ1ZTtcclxuICAgICRzY29wZS5wbGF5aW5nPWZhbHNlO1xyXG4gICAgJHNjb3BlLmRhdGE9W107XHJcbiAgICB2YXIgY2FsZW5kYXI9W107XHJcbiAgICB2YXIgdHdlZW49bnVsbDtcclxuXHJcbiAgICAkc2NvcGUudmFsdWVzPXtcclxuICAgICAgICBpbmRleDoxfTtcclxuXHJcbiAgICAkc2NvcGUuY29uZmlnPXtcclxuICAgICAgICBjb2xvcnR5cGU6XCJ2YXJpYWJsZVwiLFxyXG4gICAgICAgIGVuZ2luZTpcInBob25nX3Bvc2l0aW9uYWxcIixcclxuICAgICAgICBheGlzOnRydWUsXHJcbiAgICAgICAgYXhpc0xlbmd0aDo1MDAsXHJcbiAgICAgICAgc3RyZWFtaW5nOnRydWUsXHJcbiAgICAgICAgYmFja2dyb3VuZDpbMC4zLDAuMywwLjNdLFxyXG4gICAgICAgIGdyaWQ6dHJ1ZSxcclxuICAgICAgICBncmlkQ29uZmlnOntcclxuICAgICAgICAgICAgbGluZXM6NjAsXHJcbiAgICAgICAgICAgIGRpbTo1MDBcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcbiAgICBDb21wYW55U2VydmljZS5QaWNrKCkuc3RhdHMoZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgJHNjb3BlLmxvYWRpbmc9ZmFsc2U7IFxyXG4gICAgICAgIGlmKHJlcy5lcnJvcilyZXR1cm4gY29uc29sZS5sb2cocmVzLmVycm9yKTtcclxuICAgICAgICBjYWxlbmRhcj1JbW11dGFibGUuTGlzdChyZXMuZGF0YS5zdGF0cyk7XHJcbiAgICAgICAgJHNjb3BlLmRhdGE9Xy5jbG9uZURlZXAoY2FsZW5kYXIuZ2V0KDApKTtcclxuICAgICAgIFxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGFuaW1hdGVDYWxlbmRhcihzdGVwLGMsIG4sIGNiKXtcclxuXHJcbiAgICAgICAgdmFyIGludGVyX2RhdGE9Yy5yZWR1Y2UoZnVuY3Rpb24ocHJldixpdGVtLCBpbmRleCl7XHJcbiAgICAgICAgICAgIHZhciBjX3Bvcz1pdGVtLnBvc2l0aW9uO1xyXG4gICAgICAgICAgICB2YXIgbl9wb3M9bltpbmRleF0ucG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICBpZighXy5pc0VxdWFsKGNfcG9zLCBuX3Bvcykpe1xyXG4gICAgICAgICAgICAgICAgcHJldi5sZW5ndGgrKztcclxuICAgICAgICAgICAgICAgIHByZXYuY3VycmVudFtcInhfXCIraW5kZXhdPWNfcG9zWzBdO1xyXG4gICAgICAgICAgICAgICAgcHJldi5jdXJyZW50W1wieV9cIitpbmRleF09Y19wb3NbMV07XHJcbiAgICAgICAgICAgICAgICBwcmV2LmN1cnJlbnRbXCJ6X1wiK2luZGV4XT1jX3Bvc1syXTtcclxuXHJcbiAgICAgICAgICAgICAgICBwcmV2Lm5leHRbXCJ4X1wiK2luZGV4XT1uX3Bvc1swXTtcclxuICAgICAgICAgICAgICAgIHByZXYubmV4dFtcInlfXCIraW5kZXhdPW5fcG9zWzFdO1xyXG4gICAgICAgICAgICAgICAgcHJldi5uZXh0W1wiel9cIitpbmRleF09bl9wb3NbMl07XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xyXG5cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6e30sXHJcbiAgICAgICAgICAgIG5leHQ6e30sXHJcbiAgICAgICAgICAgIGxlbmd0aDowXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHNjb3BlLnZhbHVlcy5pbmRleD1zdGVwKzE7XHJcblxyXG4gICAgICAgIGlmKGludGVyX2RhdGEubGVuZ3RoPjApe1xyXG5cclxuICAgICAgICAgICAgdHdlZW4gPSBuZXcgVFdFRU4uVHdlZW4oaW50ZXJfZGF0YS5jdXJyZW50KVxyXG4gICAgICAgICAgICAgICAgLnRvKGludGVyX2RhdGEubmV4dCwgUExBWUVSX1RJTUUpXHJcbiAgICAgICAgICAgICAgICAub25VcGRhdGUoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGY9dGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZighJHNjb3BlLiQkcGhhc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXsgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigkc2NvcGUucGxheWluZz09ZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdlZW4uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcl9hcnJheT1PYmplY3Qua2V5cyhzZWxmKS5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgaXRlbSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWU9c2VsZltpdGVtXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlzPWl0ZW0uc3BsaXQoXCJfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtPWtleXNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXg9a2V5c1sxXTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldltpbmRleF09cHJldltpbmRleF18fHt9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldltpbmRleF1bcGFyYW1dPXZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXY7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LHt9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9uZV9kYXRhPV8uY2xvbmVEZWVwKCRzY29wZS5kYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGludGVyX2FycmF5KS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlPWludGVyX2FycmF5W2l0ZW1dO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lX2RhdGFbaXRlbV0ucG9zaXRpb249W3ZhbHVlLngsIHZhbHVlLnksIHZhbHVlLnpdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YT1jbG9uZV9kYXRhO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub25Db21wbGV0ZShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgY2IoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vblN0b3AoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaGVsbG9cIilcclxuICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuaW50ZXJwb2xhdGlvbiggVFdFRU4uSW50ZXJwb2xhdGlvbi5CZXppZXIgKS5lYXNpbmcoIFRXRUVOLkVhc2luZy5MaW5lYXIuTm9uZSApLmRlbGF5KCAyNTAgKVxyXG4gICAgICAgICAgICAgICAgLnN0YXJ0KClcclxuXHJcblxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAkdGltZW91dChjYiwgRU1QVFlfVElNRSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgJHNjb3BlLnBsYXk9ZnVuY3Rpb24oKXtcclxuICAgICAgICAkc2NvcGUucGxheWluZz10cnVlO1xyXG4gICAgICAgIGZ1bmN0aW9uIGl0ZXIoaSl7XHJcblxyXG4gICAgICAgICAgICBpZihpPGNhbGVuZGFyLmNvdW50KCktMSAmJiAkc2NvcGUucGxheWluZyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudD1fLmNsb25lRGVlcChjYWxlbmRhci5nZXQoaSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQ9Xy5jbG9uZURlZXAoY2FsZW5kYXIuZ2V0KGkrMSkpO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZUNhbGVuZGFyKGksIGN1cnJlbnQsIG5leHQsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlcihpKzEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGxheWluZz1mYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS52YWx1ZXMuaW5kZXg9MTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhPVtdO1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YT1fLmNsb25lRGVlcChjYWxlbmRhci5nZXQoMCkpOyAgICBcclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGl0ZXIoMCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgICRzY29wZS5zdG9wPWZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICRzY29wZS5wbGF5aW5nPWZhbHNlO1xyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShJbnRlcnBvbGF0aW9uVGltZSk7XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIEludGVycG9sYXRpb25UaW1lKHRpbWUpIHtcclxuXHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKEludGVycG9sYXRpb25UaW1lKTtcclxuICAgICAgICBUV0VFTi51cGRhdGUodGltZSk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG5cclxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ0FwcGxpY2F0aW9uJylcclxuICAgIC5jb250cm9sbGVyKCdTbGlkZXJDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgQ29tcGFueVNlcnZpY2UsICRhbGV4YW5kcmFNb2RlbCkge1xyXG5cclxuICAgICAgICB2YXIgcHJvZmlsZTtcclxuXHJcblxyXG4gICAgICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuXHJcblxyXG5cclxuICAgICAgICAkc2NvcGUuY29uZmlnID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBcImN1c3RvbVwiLFxyXG4gICAgICAgICAgICBlbmdpbmU6XCJwaG9uZ19wb3NpdGlvbmFsXCIsXHJcbiAgICAgICAgICAgIGNvbG9ydHlwZTpcInZhcmlhYmxlXCIsXHJcbiAgICAgICAgICAgIGF4aXM6IHRydWUsXHJcbiAgICAgICAgICAgIGF4aXNMZW5ndGg6IDUwMCxcclxuICAgICAgICAgICAgc3RyZWFtaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBbMC4zLCAwLjMsIDAuM10sXHJcbiAgICAgICAgICAgIGdyaWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGdyaWRDb25maWc6IHtcclxuICAgICAgICAgICAgICAgIGxpbmVzOiA2MCxcclxuICAgICAgICAgICAgICAgIGRpbTogNTAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgY29sb3I9UmFuZENvbG9yKCk7XHJcblxyXG4gICAgICAgIHZhciBBcHBseVRleHQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gICAgICAgICAgICB2YXIgbW9kZWwgPSAkYWxleGFuZHJhTW9kZWwuVGV4dCh0ZXh0LCB7XHJcbiAgICAgICAgICAgICAgICBzaXplOiAxMCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMC41LFxyXG4gICAgICAgICAgICAgICAgY3VydmVTZWdtZW50czogMzAsXHJcbiAgICAgICAgICAgICAgICBiZXZlbEVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBiZXZlbFRoaWNrbmVzczogMS41LFxyXG4gICAgICAgICAgICAgICAgYmV2ZWxTaXplOiAwLjVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgbWVzaDogbW9kZWwsXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWzUwLCA1MCwxNTBdLFxyXG4gICAgICAgICAgICAgICAgcm90YXRpb246e1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlOjQ1LFxyXG4gICAgICAgICAgICAgICAgICAgIGF4aXM6WzAsMSwwXVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNvbG9yOmNvbG9yXHJcblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciBHZXRQcm9maWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBDb21wYW55U2VydmljZS5Qcm9maWxlKCkuZ2V0KGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpIHJldHVybiBjb25zb2xlLmxvZyhyZXMuZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcHJvZmlsZSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvYWRpbmcgPWZhbHNlO1xyXG4gICAgICAgICAgICAgICAgQXBwbHlUZXh0KHByb2ZpbGUubmFtZSk7XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEdldFByb2ZpbGUoKTtcclxuXHJcblxyXG5cclxuXHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKVxyXG4gICAgLmNvbnRyb2xsZXIoJ1NwZWNpYWxDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGFsZXhhbmRyYU1vZGVsKSB7XHJcbn0pOyIsImFuZ3VsYXIubW9kdWxlKCdBcHBsaWNhdGlvbicpXHJcbiAgICAuZmFjdG9yeShcIkFwaVNlcnZpY2VcIiwgZnVuY3Rpb24oJHJlc291cmNlLCAkbG9jYXRpb24pe1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLy9lbnY6JGxvY2F0aW9uLmFic1VybCgpLmluZGV4T2YoXCJsb2NhbGhvc3RcIik9PS0xP1wicHJvZFwiOlwiZGV2XCIsXHJcbiAgICAgICAgZW52OlwicHJvZFwiLFxyXG4gICAgICAgIHByb2Q6e1xyXG4gICAgICAgICAgICBwcm90b2NvbDpcImh0dHBzXCIsXHJcbiAgICAgICAgICAgIGhvc3Q6XCJwaWNreW91cmRheS5oZXJva3VhcHAuY29tXCIsXHJcbiAgICAgICAgICAgIHBvcnQ6XCJcIixcclxuICAgICAgICAgICAgcm9vdDpcImFwaVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkZXY6e1xyXG4gICAgICAgICAgICBwcm90b2NvbDpcImh0dHBcIixcclxuICAgICAgICAgICAgaG9zdDpcImxvY2FsaG9zdFwiLFxyXG4gICAgICAgICAgICBwb3J0OlwiNTAwMFwiLFxyXG4gICAgICAgICAgICByb290OlwiYXBpXCJcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRBcGlQYXRoOmZ1bmN0aW9uKHBhdGgpe1xyXG4gICAgICAgICAgICB2YXIgYXBpPXRoaXNbdGhpcy5lbnZdO1xyXG4gICAgICAgICAgICByZXR1cm4gYXBpLnByb3RvY29sK1wiOi8vXCIrYXBpLmhvc3QrKGFwaS5wb3J0IT09XCJcIj8oXCI6XCIrYXBpLnBvcnQpOlwiXCIpK1wiL1wiK2FwaS5yb290K1wiL1wiK3BhdGg7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVzdDpmdW5jdGlvbihwYXRoLCBtZXRob2RzLCBkZWZhdWx0UGFyYW1zKXtcclxuICAgICAgICAgICAgdmFyIHJlc291cmNlPSRyZXNvdXJjZShcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXBpUGF0aChwYXRoKSxcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRQYXJhbXMgfHwge30sXHJcbiAgICAgICAgICAgICAgICBtZXRob2RzIHx8IHt9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdBcHBsaWNhdGlvbicpXHJcbiAgICAuZmFjdG9yeShcIkNvbXBhbnlTZXJ2aWNlXCIsIGZ1bmN0aW9uKEFwaVNlcnZpY2Upe1xyXG5cclxuICAgIHJldHVybiB7XHJcblxyXG4gICAgICAgIGJhc2U6XCJjb21wYW55XCIsXHJcblxyXG4gICAgICAgIFBpY2s6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UucmVzdCh0aGlzLmJhc2UrXCIvc3RhdHNQaWNrc1wiLCB7XHJcbiAgICAgICAgICAgICAgICBzdGF0czp7bWV0aG9kOlwiR0VUXCIsIHBhcmFtczp7fX1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICBPcmlnaW5QaWNrOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBBcGlTZXJ2aWNlLnJlc3QodGhpcy5iYXNlK1wiL29yaWdpblBpY2tzXCIsIHtcclxuICAgICAgICAgICAgICAgIHN0YXRzOnttZXRob2Q6XCJHRVRcIiwgcGFyYW1zOnt9fVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgICBTY29yZVNlcnZpY2U6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UucmVzdCh0aGlzLmJhc2UrXCIvc2NvcmVTZXJ2aWNlXCIsIHtcclxuICAgICAgICAgICAgICAgIHN0YXRzOnttZXRob2Q6XCJHRVRcIiwgcGFyYW1zOnt9fVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIE1vbmV5UmVzb3VyY2U6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UucmVzdCh0aGlzLmJhc2UrXCIvbW9uZXlSZXNvdXJjZXNcIiwge1xyXG4gICAgICAgICAgICAgICAgc3RhdHM6e21ldGhvZDpcIkdFVFwiLCBwYXJhbXM6e319XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgV29ya1Jlc291cmNlOmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBBcGlTZXJ2aWNlLnJlc3QodGhpcy5iYXNlK1wiL3dvcmtSZXNvdXJjZXNcIiwge1xyXG4gICAgICAgICAgICAgICAgc3RhdHM6e21ldGhvZDpcIkdFVFwiLCBwYXJhbXM6e319XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgUHJvZmlsZTpmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gQXBpU2VydmljZS5yZXN0KHRoaXMuYmFzZStcIi9wcm9maWxlXCIse1xyXG4gICAgICAgICAgICAgICAgZ2V0OnttZXRob2Q6XCJHRVRcIiwgcGFyYW1zOnt9fVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKVxyXG4gICAgLmZhY3RvcnkoXCJBdXRoSW50ZXJjZXB0b3JcIiwgZnVuY3Rpb24oJHEsICRsb2NhdGlvbil7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZyl7XHJcbiAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge307XHJcblxyXG4gICAgICAgICAgICB2YXIgdXNlcj1nZXRKU09OTG9jYWwoXCJ1c2VyXCIpO1xyXG4gICAgICAgICAgICB2YXIgdXNlcj1nZXRKU09OTG9jYWwoXCJ1c2VyXCIpO1xyXG4gICAgICAgICAgICBpZiAoIWNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gJiYgdXNlcikge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IHVzZXIudG9rZW47XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVxdWVzdEVycm9yOiBmdW5jdGlvbihyZWplY3Rpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT09ICdFUlJPUicpIHsgLy9Gb3JjZSBlcnJvclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlIHx8ICRxLndoZW4ocmVzcG9uc2UpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVzcG9uc2VFcnJvcjogZnVuY3Rpb24ocmVqZWN0aW9uKXtcclxuICAgICAgICAgICAgaWYocmVqZWN0aW9uLnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZSBhY2Nlc28nKTtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS51c2VyID0gJyc7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKVxyXG4gICAgLmZhY3RvcnkoXCJPYXV0aFNlcnZpY2VcIiwgZnVuY3Rpb24oQXBpU2VydmljZSl7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgYmFzZTpcIm9hdXRoXCIsXHJcbiAgICAgICAgbG9naW46ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UucmVzdCh0aGlzLmJhc2Use1xyXG4gICAgICAgICAgICAgICAgU2Vzc2lvbjp7bWV0aG9kOlwiUE9TVFwiLCBwYXJhbXM6e319XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9nb3V0OmZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBBcGlTZXJ2aWNlLnJlc3QodGhpcy5iYXNlK1wiL2xvZ291dFwiLCB7XHJcbiAgICAgICAgICAgICAgICBTZXNzaW9uOnttZXRob2Q6XCJHRVRcIiwgcGFyYW1zOnt9fVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJvbGU6ZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIEFwaVNlcnZpY2UucmVzdCh0aGlzLmJhc2UrXCIvcm9sZS86cm9sZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgIGNoZWNrOnttZXRob2Q6XCJHRVRcIiwgcGFyYW1zOntyb2xlOlwiQHJvbGVcIn19LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxufSk7XHJcblxyXG5cclxuIiwiYW5ndWxhci5tb2R1bGUoJ0FwcGxpY2F0aW9uJylcclxuICAgIC5mYWN0b3J5KFwiUmVxdWVzdFNlcnZpY2VcIiwgZnVuY3Rpb24oKXtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgXHJcbiAgICAgICAgU2VydmVyTm90Rm91bmQ6IENsb3N1cmVNZXNzYWdlKFwiU2VydmVyIE5vdCBGb3VuZFwiKSxcclxuXHJcbiAgICAgICAgTm9Sb2xlQXV0aG9yaXplZDogQ2xvc3VyZU1lc3NhZ2UoXCJObyBSb2xlIEF1dGhvcml6ZWRcIiksXHJcbiAgICAgICAgXHJcbiAgICBcclxuICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnQXBwbGljYXRpb24nKVxyXG4gICAgLmZhY3RvcnkoXCJTdGF0c1NlcnZpY2VcIiwgZnVuY3Rpb24oQ29tcGFueVNlcnZpY2Upe1xyXG5cclxuICAgIGZ1bmN0aW9uIERhdGEoY2IsIGVycm9yKXtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgaWYocmVzLmVycm9yKXJldHVybiBlcnJvcihyZXMuZXJyb3IpO1xyXG4gICAgICAgICAgICBpZighcmVzLmRhdGEpcmV0dXJuIGVycm9yKFwiTm8gRGF0YVwiKTtcclxuXHJcbiAgICAgICAgICAgIGNiKHJlcy5kYXRhKTtcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBFcnJvcihlcnJvcil7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKGVycm9yKXJldHVybiBlcnJvcihcIlNlcnZlciBOb3QgRm91bmRcIilcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZXJ2ZXIgTm90IEZvdW5kXCIpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIFBpY2tzOmZ1bmN0aW9uKGNiLCBlcnJvcil7XHJcbiAgICAgICAgICAgIENvbXBhbnlTZXJ2aWNlLlBpY2soKS5zdGF0cyhEYXRhKGNiLCBlcnJvciksRXJyb3IoZXJyb3IpKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIE9yaWdpblBpY2tzOmZ1bmN0aW9uKGNiLCBlcnJvcil7XHJcbiAgICAgICAgICAgIENvbXBhbnlTZXJ2aWNlLk9yaWdpblBpY2soKS5zdGF0cyhEYXRhKGNiLCBlcnJvciksRXJyb3IoZXJyb3IpKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFNjb3JlU2VydmljZXM6ZnVuY3Rpb24oY2IsIGVycm9yKXtcclxuICAgICAgICAgICAgQ29tcGFueVNlcnZpY2UuU2NvcmVTZXJ2aWNlKCkuc3RhdHMoRGF0YShjYiwgZXJyb3IpLEVycm9yKGVycm9yKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBNb25leVJlc291cmNlczpmdW5jdGlvbihjYiwgZXJyb3Ipe1xyXG4gICAgICAgICAgICBDb21wYW55U2VydmljZS5Nb25leVJlc291cmNlKCkuc3RhdHMoRGF0YShjYiwgZXJyb3IpLEVycm9yKGVycm9yKSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBXb3JrUmVzb3VyY2VzOmZ1bmN0aW9uKGNiLCBlcnJvcil7XHJcbiAgICAgICAgICAgIENvbXBhbnlTZXJ2aWNlLldvcmtSZXNvdXJjZSgpLnN0YXRzKERhdGEoY2IsIGVycm9yKSxFcnJvcihlcnJvcikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
